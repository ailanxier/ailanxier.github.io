<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>FHEå­¦ä¹ ç¬”è®° #5 æ ¼çš„åŸºæœ¬æ¦‚å¿µ</title>
    <link href="/FHE-5-lattice%20definition.html"/>
    <url>/FHE-5-lattice%20definition.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><a href="https://en.wikipedia.org/wiki/Lattice_(group)" title="Lattice (group) - Wikipedia">Lattice (group) - Wikipedia</a></p><p>CTF ä¸­æ–‡ç™¾ç§‘ï¼š<a href="https://ctf-wiki.org/crypto/asymmetric/lattice/introduction/" title="åŸºæœ¬ä»‹ç» - CTF Wiki (ctf-wiki.org)">åŸºæœ¬ä»‹ç» - CTF Wiki(ctf-wiki.org)</a></p><p>é˜®è¡Œæ­¢å¤§ä½¬çš„åšå®¢ï¼š<a href="https://www.ruanx.net/lattice-4/" title="æ ¼å¯†ç ç¬”è®°ï¼ˆå››ï¼‰ (ruanx.net)">æ ¼å¯†ç ç¬”è®°ï¼ˆå››ï¼‰(ruanx.net)</a></p><p>å…¶å‚è€ƒæ•™ç¨‹ä¸ºï¼š<a href="https://staff.emu.edu.tr/alexanderchefranov/Documents/CMSE491/Fall2019/Hoffstein2015%20Introduction%20to%20Mathematical%20Cryptography%20388-394.pdf" title="Hoffstein2015 Introduction to Mathematical Cryptography.pdf (emu.edu.tr)">Hoffstein2015Introduction to Mathematical Cryptography.pdf (emu.edu.tr)</a></p><p>çº½çº¦å¤§å­¦çš„è¯¾ç¨‹ï¼š<a href="https://cims.nyu.edu/~regev/teaching/lattices_fall_2009/" title="Lattices in Computer Science (Fall 2009) (nyu.edu)">Lattices inComputer Science (Fall 2009) (nyu.edu)</a></p><p>MIT çš„ LaTeXæ•™ç¨‹ï¼ˆå€Ÿé‰´çº½çº¦å¤§å­¦çš„æ•™ç¨‹ï¼Œä½†æ˜¯è²Œä¼¼å­˜åœ¨é”™è¯¯ï¼Œä¸‹æ–‡ä¼šè¿›è¡Œè®¨è®ºï¼Œä¸éœ€è¦å‚è€ƒï¼‰ï¼š<a href="https://ocw.mit.edu/courses/18-409-topics-in-theoretical-computer-science-an-algorithmists-toolkit-fall-2009/a5351bd811ac52366dec759f2c6b2fac_MIT18_409F09_scribe18.pdf" title="Lattices, fundamental parallelepiped and dual of a lattice, shortest vectors, Blichfield's theorem (mit.edu)">Lattices,fundamental parallelepiped and dual of a lattice, shortest vectors,Blichfield's theorem (mit.edu)</a></p><p>MIT æ–°æ•™ç¨‹ <a href="https://people.csail.mit.edu/vinodv/6876-Fall2018/index.html" title="6.876J Advanced Topics in Cryptography (Fall 2015) (mit.edu)">6.876JAdvanced Topics in Cryptography (Fall 2015) (mit.edu)</a></p><p>å…¨åŒæ€ç»¼è¿°æ–‡ç« ï¼š<a href="https://www.techrxiv.org/articles/preprint/Survey_on_Fully_Homomorphic_Encryption_Theory_and_Applications/19315202/2/files/34375853.pdf" title="Marcolla C, Sucasas V, Manzano M, et al. Survey on Fully Homomorphic Encryption, Theory and Applications[J]. 2022.">MarcollaC, Sucasas V, Manzano M, et al. Survey on Fully Homomorphic Encryption,Theory and Applications[J]. 2022.</a></p><p><strong>æ–‡ç« ä½¿ç”¨ wolai ç¼–å†™å¹¶å¯¼å‡ºï¼Œåœ¨ <a href="https://www.wolai.com/ailanxier/xnsDZ9XzoMYQ4G8vuEoai3">wolai</a>ä¸­è§‚çœ‹æ•ˆæœæ›´å¥½ï¼Œæœ‰é¢œè‰²é«˜äº®å’Œå®æ—¶æ›´æ–°</strong></p>          </div><h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h3><ul><li><p>æ ¼ <span class="math inline">\(\Lambda\)</span> æ˜¯ <span class="math inline">\(\mathbb R^n\)</span>å¯¹åŠ æ³•æ„æˆçš„ä¸€ä¸ªç¦»æ•£å­ç¾¤ï¼ˆdiscrete additive subgroup of <span class="math inline">\(\mathbb R^n\)</span>ï¼‰</p></li><li><p><span class="math inline">\(B=\left(\mathbf{b}_{1}, \ldots,\mathbf{b}_{n}\right)\)</span> æ˜¯ <span class="math inline">\(\mathbbR^m(n\le m)\)</span> ä¸Šçº¿æ€§æ— å…³çš„å‘é‡ç»„</p></li><li><p>æ ¼ <span class="math inline">\(\Lambda=\mathcal{L}(B)\)</span>å°±æ˜¯ç”± <span class="math inline">\(B\)</span>ä¸­å‘é‡çš„æ•´ç³»æ•°çº¿æ€§ç»„åˆç”Ÿæˆçš„ï¼Œå½¢å¼å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\Lambda=\mathcal{L}(B)=\left\{\sum_{i=1}^{n} \gamma_{i} \mathbf{b}_{i}:\quad \gamma_{i} \in \mathbb{Z}, \mathbf{b}_{i} \in B\right\}\]</span></p><p>å¯ä»¥çœ‹å‡ºæ ¼å’Œçº¿æ€§ç©ºé—´éå¸¸ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ ¼çš„çº¿æ€§ç»„åˆç³»æ•°ä¸ºæ•´æ•°ï¼Œçªå‡ºæ ¼å…·æœ‰è§„æ•´çš„ç‰¹ç‚¹ï¼Œè€Œçº¿æ€§ç©ºé—´çš„ç³»æ•°ä¸ºä»»æ„å®æ•°ã€‚</p><p><span class="math inline">\(\mathbb Z^n\)</span> å°±æ˜¯ <span class="math inline">\(\mathbb R^n\)</span> ä¸Šçš„æ ¼ã€‚</p><blockquote><p>è¿˜æœ‰ä¸Šé¢æåˆ°çš„ç¦»æ•£å­ç¾¤ï¼Œæœ‰ä¸ªä¸¥è°¨çš„å®šä¹‰ï¼š</p><p>ä¸€ä¸ªåŠ æ³•å­ç¾¤ <span class="math inline">\(L\)</span>æ˜¯ç¦»æ•£çš„ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ªå¸¸æ•° <span class="math inline">\(\epsilon&gt;0\)</span>ï¼Œä½¿å¾—ä¸‹å¼æˆç«‹ï¼š</p><p><span class="math display">\[\forall \boldsymbol v \in L, \quad L \cap\left\{\boldsymbol{w} \in\mathbb{R}^{m}:\|\boldsymbol{v}-\boldsymbol{w}\|_2&lt;\epsilon\right\}=\{\boldsymbol{v}\}\]</span></p><p>å‡ ä½•æ„ä¹‰ï¼šå¯¹äº <span class="math inline">\(L\)</span> ä¸­çš„ä»»æ„å‘é‡<span class="math inline">\(\boldsymbol v\)</span>ï¼Œå…¶é™„è¿‘ <span class="math inline">\(\epsilon\)</span> çš„ï¼ˆæ¬§å‡ é‡Œå¾—ï¼‰è·ç¦»èŒƒå›´å†…ï¼Œä¸å­˜åœ¨<span class="math inline">\(L\)</span> çš„å…¶ä»–å‘é‡ã€‚</p><p>äººè¯ç‰ˆæœ¬ï¼šä»»æ„ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„è·ç¦»éƒ½ä¸å°äºæŸä¸ªï¼ˆè¶³å¤Ÿå°çš„ï¼‰å¸¸æ•°ã€‚</p><p>æ­£å› ä¸ºæœ‰æ•´æ•°ç³»æ•°çš„é™åˆ¶ï¼Œæ‰èƒ½å®ç°ç¦»æ•£ã€‚</p></blockquote></li><li><p>ç±»ä¼¼çº¿æ€§ç©ºé—´ï¼Œ<span class="math inline">\(B\)</span> ç§°ä¸ºæ ¼ <span class="math inline">\(\mathcal{L}(B)\)</span> çš„åŸºï¼ŒåŒæ—¶ä»»æ„ä¸€ä¸ªå¯ä»¥ç”Ÿæˆ<span class="math inline">\(\mathcal{L}(B)\)</span>çš„å‘é‡ç»„éƒ½æ˜¯å®ƒçš„åŸºï¼ŒåŒä¸€ä¸ªæ ¼çš„åŸºæ‰€å«å‘é‡ä¸ªæ•°ç›¸åŒã€‚</p><blockquote><p>éé›¶å­ç©ºé—´ <span class="math inline">\(H\)</span> çš„ç»´æ•°ï¼ˆç”¨ <span class="math inline">\(\operatorname{dim} H\)</span> è¡¨ç¤ºï¼‰æ˜¯ <span class="math inline">\(H\)</span> çš„ä»»æ„ä¸€ç»„åŸºä¸­å‘é‡çš„ä¸ªæ•°ã€‚</p><p>æœ‰åˆ†æ­§çš„ä¸€ç‚¹æ˜¯æ ¼çš„ç»´æ•° dimensionï¼š</p><p>æœ‰çš„æ•™æè¯´ <span class="math inline">\(n\)</span>ä¸ªå‘é‡ç”Ÿæˆçš„æ ¼çš„ç»´æ•°åº”è¯¥æ˜¯ <span class="math inline">\(n\)</span>ï¼Œä½†æ˜¯ä¹Ÿæœ‰æ•™æè¯´æ˜¯ <span class="math inline">\(m\)</span>ã€‚</p></blockquote><p>åŒç†æ ¼ <span class="math inline">\(\mathcal{L}(B)\)</span> çš„ç§© rankä¸º <span class="math inline">\(n\)</span>ï¼Œè¿™ç‚¹æ²¡æœ‰äº‰è®®ã€‚</p><p>å½“ <span class="math inline">\(n=m\)</span> æ—¶ï¼Œç§°æ ¼ <span class="math inline">\(\mathcal{L}(B)\)</span> æ˜¯æ»¡ç§© full-rankçš„ã€‚</p></li><li><p>æ ¼çš„ç”Ÿæˆç©ºé—´ Span of Latticeï¼š</p><p>å…¶å®å°±æ˜¯æ ¼åŸºçš„çº¿æ€§ç”Ÿæˆç©ºé—´ï¼Œå½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\operatorname{span}(\mathcal{L}(B))=\operatorname{span}(B)=\left\{B y\mid y \in \mathbb{R}^{n}\right\}\]</span></p></li></ul><h3 id="æ ¼çš„åŸºæœ¬åŸŸ-fundamental-domain">æ ¼çš„åŸºæœ¬åŸŸ FundamentalDomain</h3><p>é€šå¸¸ä¹Ÿå«æ ¼çš„ Fundamental Parallelepipedï¼Œå®ƒçš„å½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\mathcal{P}(B)=\left\{B x \mid x \in[0,1)^n\right\}=\left\{\sum_{i=1}^{k} x_{i} \mathbf{b}_{i}: \quad x_{i}\in[0,1)\right\}\]</span></p><blockquote><p>ä¹Ÿæœ‰è¯´ <span class="math inline">\(x_i\in[-1 / 2,1 / 2)\)</span>çš„ï¼Œä½†æ˜¯ä¸‹æ–‡çš„å®šç†éƒ½ä½¿ç”¨ <span class="math inline">\(x_i\in[0,1)\)</span> è¿™ç§å½¢å¼)</p></blockquote><p>ä¸‹å›¾æ˜¯æ ¼ <span class="math inline">\(\mathbb Z^2\)</span>çš„åŸºæœ¬åŸŸçš„ä¾‹å­ï¼š</p><p><img src="../img/blog/lattice-note-images/basis.png" style="zoom: 35%;"></p><p>å€¼å¾—æ³¨æ„çš„ç‚¹ï¼š</p><ul><li><ol type="a"><li>å’Œ (b) éƒ½æ˜¯ <span class="math inline">\(\mathbb Z^2\)</span>çš„åŸºï¼Œç°è‰²åŒºåŸŸæ˜¯å®ƒä»¬ç”Ÿæˆçš„åŸºæœ¬åŸŸï¼Œæ³¨æ„ (a) çš„åŸºæœ¬åŸŸæ˜¯ä¸åŒ…å«ç‚¹ (0, 1),(1, 0), (1, 1) çš„ï¼ŒåªåŒ…å«äº†å”¯ä¸€ä¸€ä¸ªæ•´ç‚¹ (0, 0)ï¼ŒåŒæ ·çš„ (b)ä¹Ÿæ˜¯åªåŒ…å«ä¸€ä¸ªæ•´ç‚¹ (0, 0)</li></ol></li><li><ol start="3" type="a"><li>ä¹‹æ‰€ä»¥ä¸æ˜¯åŸºï¼Œæ˜¯å› ä¸ºå®ƒæ— æ³•é€šè¿‡æ•´ç³»æ•°çº¿æ€§ç»„åˆè¡¨ç¤º (1, 0)ç­‰ç‚¹ï¼Œè€Œå®ƒçš„åŸºæœ¬åŸŸå´åŒ…å«äº† (1,0)ï¼Œè¿™å…¶å®éšè—äº†ä¸€ä¸ªåˆ¤æ–­åŸºçš„æ ‡å‡†ï¼Œåç»­ä¼šè¯¦ç»†è¯æ˜</li></ol></li><li><ol start="4" type="a"><li>æ‰€å«å‘é‡ä¸ªæ•°ä¸º 1ï¼Œç§©ä¸º 1ï¼Œå¾ˆæ˜æ˜¾ä¸èƒ½ç”Ÿæˆæ ¼ <span class="math inline">\(\mathbb Z^2\)</span> </li></ol></li></ul><p>åŸºæœ¬åŸŸ <span class="math inline">\(\mathcal{P}(B)\)</span>å’Œæ ¼åŸºçš„çº¿æ€§ç”Ÿæˆç©ºé—´ <span class="math inline">\(\text{span}(B)\)</span>å­˜åœ¨ä¸€å®šçš„å…³ç³»ï¼š</p><ul><li><p>å½“æŠŠåŸºæœ¬åŸŸ <span class="math inline">\(\mathcal{P}(B)\)</span>å¤åˆ¶åˆ° <span class="math inline">\(\mathcal{L}(B)\)</span>çš„æ¯ä¸ªæ ¼ç‚¹ä¸Šæ—¶ï¼Œå°±ä¼šå½¢æˆ <span class="math inline">\(\text{span}(B)\)</span> çš„ä¸€ç§å¹³é“ºtilingï¼Œåƒé“ºç“·ç –ä¸€æ ·ã€‚</p></li><li><p>å°†ä¾‹å­ (b) ä¸­çš„åŸºæœ¬åŸŸè¿›è¡Œå¤åˆ¶ï¼Œå¾—åˆ°å¦‚å›¾æ‰€ç¤ºçš„å¹³é“ºï¼š</p></li></ul><p><img src="../img/blog/lattice-note-images/fundamental1.png" style="zoom:23%;"></p><ul><li><p>è¿™å…¶å®æš—å«äº†ä¸€ä¸ªå®šç†ï¼š</p><p><span class="math inline">\(\mathcal{L}(B)\)</span> æ˜¯ <span class="math inline">\(\mathbb R^n\)</span> ä¸Šçš„æ»¡ç§©æ ¼ï¼Œä»»æ„ <span class="math inline">\(\boldsymbol{w} \in \mathbb{R}^{n}\)</span>éƒ½èƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªåŸºæœ¬åŸŸ <span class="math inline">\(\mathcal{P}(B)\)</span>ä¸­å‘é‡å’Œä¸€ä¸ª <span class="math inline">\(\mathcal{L}(B)\)</span>ä¸­å‘é‡çš„å’Œçš„å½¢å¼ï¼Œä¸”æ˜¯å”¯ä¸€ç¡®å®šçš„ï¼Œå³ï¼š</p><p><span class="math display">\[\boldsymbol{w}=\boldsymbol{t}+\boldsymbol{v} \quad \text{for}\;\text{a}\; \text{unique} \;\boldsymbol{t} \in \mathcal{P}(B)\;\text{and}\; \text{a}\; \text{unique}\; \boldsymbol{v} \in\mathcal{L}(B)\]</span></p><p>ä¹Ÿå°±æ˜¯ <span class="math inline">\(\mathcal{P}(B)+\boldsymbol{v}=\{\boldsymbol{t}+\boldsymbol{v}:\boldsymbol{t} \in \mathcal{P}(B)\},\boldsymbol{v} \in\mathcal{L}(B)\)</span> å¯ä»¥è¦†ç›–æ•´ä¸ª <span class="math inline">\(\mathbbR^n\)</span> </p><p><img src="../img/blog/lattice-note-images/fundamental2.png" style="zoom:33%;"></p></li></ul><p>åœ¨ä»‹ç»å®ŒåŸºæœ¬åŸŸåï¼Œå°±å¯ä»¥åˆ¤å®š <span class="math inline">\(\mathbbR^n\)</span>ä¸Šçš„åŸºåˆ°åº•æ˜¯ä¸æ˜¯æ ¼åŸºäº†ã€‚ä»ä¹‹å‰çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œçº¿æ€§æ— å…³çš„å‘é‡ç»„å¹¶ä¸ä¸€å®šæ˜¯æ ¼çš„åŸºï¼Œè€ŒåŒºåˆ«å°±åœ¨äºåŸºæœ¬åŸŸçš„è¦†ç›–èŒƒå›´æ˜¯ä¸æ˜¯åªåŒ…å«æ ¼ä¸­çš„é›¶ç‚¹ã€‚</p><p><strong>å¼•ç†</strong>ï¼š<span class="math inline">\(\Lambda\)</span>æ˜¯ <span class="math inline">\(\mathbb R^n\)</span> ä¸Šçš„æ»¡ç§©æ ¼ï¼Œ<span class="math inline">\(B=\left(\boldsymbol{b}_{1}, \ldots,\boldsymbol{b}_{n}\right),\boldsymbol{b_1},\boldsymbol{b_2},\ldots,\boldsymbol{b_n}\in\mathcal\Lambda\)</span>ï¼Œä¸”ä¸º <span class="math inline">\(n\)</span>ä¸ªçº¿æ€§æ— å…³çš„å‘é‡ã€‚é‚£ä¹ˆ <span class="math inline">\(B\)</span> æ˜¯ <span class="math inline">\(\Lambda\)</span> çš„åŸº <span class="math inline">\(\iff\)</span> <span class="math inline">\(\mathcalP(B)\cap \Lambda=\{\boldsymbol 0\}\)</span></p><blockquote><p>è¯æ˜ï¼š</p><p>å…ˆè¯ <span class="math inline">\(\Rightarrow\)</span>ï¼š</p><ol type="1"><li><p><span class="math inline">\(B=\left(\boldsymbol{b}_{1}, \ldots,\boldsymbol{b}_{n}\right)\)</span> æ˜¯æ ¼ <span class="math inline">\(\Lambda\)</span> çš„åŸº</p></li><li><p>åŸºæœ¬åŸŸ <span class="math inline">\(\mathcal P(B)\)</span>çš„çº¿æ€§ç»„åˆç³»æ•°éƒ½æ˜¯ <span class="math inline">\([0,1)\)</span>ä¸­çš„å®æ•°ï¼Œè€Œåœ¨æ ¼ <span class="math inline">\(\Lambda\)</span> ä¸­ï¼Œ<span class="math inline">\(B\)</span> çš„çº¿æ€§ç»„åˆç³»æ•°æ˜¯æ‰€æœ‰æ•´æ•°</p></li><li><p>å› ä¸ºè¿™ä¸¤ä¸ªçº¿æ€§ç»„åˆæ‰€ä½¿ç”¨çš„å‘é‡ç»„éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸”å‘é‡ç»„æ˜¯çº¿æ€§æ— å…³çš„ï¼Œå³æ ¼ä¸Šçš„æ¯ä¸ªå‘é‡çš„çº¿æ€§è¡¨ç¤ºæ˜¯å”¯ä¸€çš„</p></li><li><p>è€Œè¿™ä¸¤ä¸ªçº¿æ€§ç»„åˆçš„ç³»æ•°å”¯ä¸€äº¤é›†å°±æ˜¯0ï¼Œåˆ™çº¿æ€§ç»„åˆçš„äº¤é›†åªæœ‰é›¶å‘é‡ï¼Œå³ <span class="math inline">\(\mathcalP(B)\cap \Lambda=\{\boldsymbol 0\}\)</span></p></li></ol><p>å†è¯ <span class="math inline">\(\Leftarrow\)</span>ï¼š</p><ol type="1"><li><p><span class="math inline">\(B=\left(\boldsymbol{b}_{1}, \ldots,\boldsymbol{b}_{n}\right)ï¼Œ\mathcal P(B)\cap \mathcal\Lambda=\{\boldsymbol 0\}\)</span>ï¼Œä¸”ä¸ºæ ¼ <span class="math inline">\(\Lambda\)</span> ä¸Š <span class="math inline">\(n\)</span> ä¸ªçº¿æ€§æ— å…³çš„å‘é‡ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸º <span class="math inline">\(\mathbb R^n\)</span> ä¸Šçš„ä¸€ç»„åŸº</p></li><li><p>å¯¹äºä»»æ„ <span class="math inline">\(\boldsymbol x\in\Lambda\)</span>ï¼Œéƒ½å¯ä»¥ç”± <span class="math inline">\(B\)</span>çº¿æ€§è¡¨ç¤ºä¸º <span class="math inline">\(\boldsymbol x=B\boldsymboly=\sum_{i=1}^n b_i y_i,y_i\in\mathbb R\)</span></p></li><li><p>è®° <span class="math inline">\(\lfloor \boldsymboly\rfloor=(\lfloor y_1\rfloor,\lfloor y_2\rfloor,\ldots,\lfloory_n\rfloor)^T\)</span>ï¼Œå¯ä»¥å‘ç° <span class="math inline">\(\boldsymboly'=\boldsymbol y-\lfloor\boldsymbol y\rfloor\)</span> æ»¡è¶³ <span class="math inline">\(y'_i\in[0,1)\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(B\boldsymbol y'\in \mathcal P(B)\)</span></p><blockquote><p>å¦‚æœæˆ‘ä»¬èƒ½è¯æ˜ <span class="math inline">\(B\boldsymboly'\)</span> ä¹Ÿæ˜¯æ ¼ <span class="math inline">\(\Lambda\)</span>ä¸Šçš„å‘é‡ï¼Œåˆ©ç”¨ <span class="math inline">\(\mathcal P(B)\cap\Lambda=\{\boldsymbol 0\}\)</span> å°±èƒ½è¯æ˜ <span class="math inline">\(\boldsymbol y'\)</span> ä¸ºé›¶å‘é‡ï¼Œå³ <span class="math inline">\(\boldsymbol y\)</span> ä¸­å…ƒç´ éƒ½æ˜¯æ•´æ•°ã€‚</p></blockquote></li><li><p>å› ä¸º <span class="math inline">\(B\)</span> ä¸­çš„å‘é‡éƒ½åœ¨æ ¼ <span class="math inline">\(\Lambda\)</span> ä¸Šï¼Œæ‰€ä»¥ <span class="math inline">\(B\lfloor\boldsymbol y\rfloor\)</span>ä¹Ÿåœ¨æ ¼ä¸Šï¼ˆå› ä¸ºæ˜¯å¯¹åŠ æ³•å°é—­çš„ç¾¤ï¼‰ï¼Œåˆå› ä¸º <span class="math inline">\(\boldsymbol x=B\boldsymbol y\)</span>æœ¬æ¥å°±åœ¨æ ¼ä¸Šï¼Œæ‰€ä»¥ <span class="math inline">\(B\boldsymboly-B\lfloor\boldsymbol y\rfloor=B\boldsymbol y'\)</span>ä¹Ÿåœ¨æ ¼ä¸Š</p></li><li><p>åˆ©ç”¨ <span class="math inline">\(\mathcal P(B)\cap\Lambda=\{\boldsymbol 0\}\)</span> å¾—çŸ¥ <span class="math inline">\(\boldsymbol y'=\boldsymbol 0\)</span>ï¼Œå³<span class="math inline">\(\boldsymbol y\)</span>ä¸­å…ƒç´ éƒ½æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥ä»»æ„ <span class="math inline">\(\boldsymbolx\in\Lambda\)</span>ï¼Œéƒ½å¯ä»¥ç”¨ <span class="math inline">\(B\)</span>æ•´æ•°ç³»æ•°çº¿æ€§è¡¨ç¤ºï¼Œæ•… <span class="math inline">\(B\)</span> å°±æ˜¯æ ¼ <span class="math inline">\(\Lambda\)</span> çš„åŸºã€‚</p></li></ol></blockquote><blockquote><p>è¿™é‡Œè´´å‡ºçº½çº¦å¤§å­¦å’Œ MIT çš„æ•™æä¸­å…³äºè¿™ä¸ªå¼•ç†çš„æè¿°ï¼š</p><p><img src="../img/blog/lattice-note-images/nyu.png" title="nyu-definition"></p><p><img src="../img/blog/lattice-note-images/mit.png" title="mit-definition"></p><p>å¯ä»¥çœ‹åˆ° MIT çš„ <span class="math inline">\(B\)</span>çš„å®šä¹‰å’Œæ ¼æ²¡æœ‰å…³ç³»ï¼Œè¿™å°±ä¼šå¯¼è‡´è¯æ˜ <span class="math inline">\(\Leftarrow\)</span> æ—¶æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•è¯æ˜ <span class="math inline">\(B\boldsymbol y'\)</span> ä¹Ÿæ˜¯æ ¼ä¸Šçš„å‘é‡</p><p>è¿™æ˜¯ MIT çš„è¯æ˜è¿‡ç¨‹ï¼š</p><p><img src="../img/blog/lattice-note-images/mit-proof.png" title="mit-proof"></p><p>ç¬”è€…æ€è€ƒäº†å¾ˆä¹…ï¼Œä¹Ÿæ²¡æœ‰æƒ³æ˜ç™½ä¸ºä»€ä¹ˆ <span class="math inline">\(B\boldsymbol y'\)</span>ä¹Ÿæ˜¯æ ¼ä¸Šçš„å‘é‡ï¼Œåé¢é€šè¿‡æŸ¥æ‰¾å…¶å‚è€ƒçš„æ–‡çŒ®ä½œè€…ï¼Œæœåˆ°äº†çº½çº¦å¤§å­¦çš„åŸæ–‡æ‰å‘ç°ç«¯å€ªã€‚</p><p>å¦‚æœæœ‰å…¶ä»–çœ‹æ³•ï¼Œæ¬¢è¿æ¥è®¨è®º</p></blockquote><h3 id="æ ¼çš„è¡Œåˆ—å¼-determinant">æ ¼çš„è¡Œåˆ—å¼ Determinant</h3><blockquote><p>å¯èƒ½ç¿»è¯‘æˆã€Œè¡Œåˆ—å¼ã€ä¸å¤ªæ­£ç¡®</p></blockquote><p><span class="math inline">\(\Lambda=\mathcal{L}(B)\)</span> æ˜¯ <span class="math inline">\(n\)</span> ç»´æ ¼ï¼Œè®°å®ƒçš„è¡Œåˆ—å¼ä¸º <span class="math inline">\(\operatorname{det}(\Lambda)\)</span>ï¼Œä¹Ÿç§°ä¸ºåŸºæœ¬åŸŸ<span class="math inline">\(\mathcal P(B)\)</span> çš„ <span class="math inline">\(n\)</span> ç»´ä½“ç§¯ volumeï¼Œè®°ä¸º <span class="math inline">\(\operatorname{Vol}(\Lambda)\)</span>ã€‚å½¢å¼åŒ–è¡¨ç¤ºä¸º<span class="math inline">\(\operatorname{det}(\Lambda):=\sqrt{\operatorname{det}\left(B^{T}B\right)}\)</span>ã€‚</p><p>å½“ <span class="math inline">\(\Lambda\)</span> æ˜¯æ»¡ç§©æ ¼æ—¶ï¼Œ<span class="math inline">\(B\)</span> æ˜¯ä¸ªæ–¹é˜µï¼Œ æœ‰ç‰¹æ®Šå½¢å¼ <span class="math inline">\(\operatorname{det}(\Lambda)=|\operatorname{det}(B)|\)</span>ã€‚</p><p>æ ¼è¡Œåˆ—å¼çš„å¤§å°å’Œå®ƒçš„å¯†åº¦æˆåæ¯”</p><p><strong>Hadamard ä¸ç­‰å¼</strong>ï¼š</p><p><span class="math inline">\(B=\left(\mathbf{b}_{1}, \ldots,\mathbf{b}_{n}\right)\)</span> æ˜¯æ ¼ <span class="math inline">\(\Lambda\)</span> çš„åŸºï¼Œå…¶åŸºæœ¬åŸŸä¸º <span class="math inline">\(\mathcal P(B)\)</span>ï¼Œåˆ™ä¸‹è¿°ä¸ç­‰å¼æˆç«‹ï¼š</p><p><span class="math display">\[\operatorname{det} (\Lambda)=\operatorname{Vol}(\mathcal{P}(B))\leq\left\|\boldsymbol{b}_{1}\right\|\left\|\boldsymbol{b}_{2}\right\|\cdots\left\|\boldsymbol{b}_{n}\right\|\]</span></p><h3 id="æ ¼å’Œå¹ºæ¨¡çŸ©é˜µ-unimodular-matrix">æ ¼å’Œå¹ºæ¨¡çŸ©é˜µ UnimodularMatrix</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Unimodular_matrix" title="Unimodular matrix - Wikipedia">Unimodular matrix -Wikipedia</a></p></blockquote><p>å¹ºæ¨¡çŸ©é˜µæ˜¯ <span class="math inline">\(\mathbb Z^{n\times n}\)</span>ä¸Šçš„æ–¹é˜µï¼Œå…¶è¡Œåˆ—å¼å€¼ä¸º <span class="math inline">\(+1\)</span> æˆ– <span class="math inline">\(-1\)</span>ã€‚</p><p>å¹ºæ¨¡çŸ©é˜µçš„ä¸€äº›æ€§è´¨ï¼š</p><ul><li><p><span class="math inline">\(\mathbb Z^{n\times n}\)</span>ä¸Šçš„å¹ºæ¨¡çŸ©é˜µå…³äºçŸ©é˜µä¹˜æ³•æ„æˆ <span class="math inline">\(\mathbbZ\)</span> ä¸Šçš„<a href="https://en.wikipedia.org/wiki/General_linear_group" title="ä¸€èˆ¬çº¿æ€§ç¾¤ General Linear Group">ä¸€èˆ¬çº¿æ€§ç¾¤ General LinearGroup</a>ï¼Œè¡¨ç¤ºä¸º <span class="math inline">\(\mathrm{GL}_{n}(\mathbb{Z})\)</span></p><blockquote><p><span class="math inline">\(n\)</span> é˜¶çš„ä¸€èˆ¬çº¿æ€§ç¾¤ç”± <span class="math inline">\(n\times n\)</span>çš„å¯é€†çŸ©é˜µæ„æˆï¼Œå®ƒä»¬å…³äºä¸€èˆ¬çš„çŸ©é˜µä¹˜æ³•æ„æˆä¸€ä¸ªç¾¤ã€‚è¿™æ˜¯å› ä¸ºä¸¤ä¸ªå¯é€†çŸ©é˜µçš„ä¹˜ç§¯ä»ä¸ºå¯é€†çŸ©é˜µã€‚</p><p>è€Œä¸¤ä¸ªå¹ºæ¨¡çŸ©é˜µçš„ä¹˜ç§¯ä»ä¸ºå¹ºæ¨¡çŸ©é˜µï¼Œä¸”å¹ºæ¨¡çŸ©é˜µçš„é€†ä¹Ÿæ˜¯å¹ºæ¨¡çŸ©é˜µï¼Œç¥å¥‡çš„æ˜¯å…ƒç´ å‡ä¸ºæ•´æ•°ã€‚</p></blockquote></li><li><p><strong>å¼•ç†</strong>ï¼š<span class="math inline">\(B_{1}, B_{2}\in \mathbb{R}^{m \times n}\)</span>ä¸”åˆ—å‘é‡çº¿æ€§æ— å…³ï¼Œç”±ä»–ä»¬ç”Ÿæˆçš„æ ¼ç›¸åŒ <span class="math inline">\(\iff\)</span>å­˜åœ¨å¹ºæ¨¡çŸ©é˜µ <span class="math inline">\(U\)</span> ä½¿å¾— <span class="math inline">\(B_2=B_1U\)</span> æˆç«‹ã€‚</p><blockquote><p>è¯æ˜ï¼š</p><p>å…ˆè¯ <span class="math inline">\(\Rightarrow\)</span>ï¼š</p><ol type="1"><li><p>è®¾ <span class="math inline">\(B_1,B_2\)</span> éƒ½æ˜¯æ ¼ <span class="math inline">\(\mathcal L\)</span> çš„åŸºï¼Œå³ <span class="math inline">\(\mathcal{L}\left(B_{1}\right)=\mathcal{L}\left(B_{2}\right)\)</span></p></li><li><p>å› ä¸ºåŸºä¸­çš„åˆ—å‘é‡ä¹Ÿæ˜¯æ ¼ä¸Šçš„å‘é‡ï¼Œæ‰€ä»¥ <span class="math inline">\(B_2\)</span> ä¸­çš„åˆ—å‘é‡ <span class="math inline">\(\boldsymbol b_i\)</span> éƒ½å¯ä»¥è¡¨ç¤ºä¸º <span class="math inline">\(\boldsymbol b_i=B_1\boldsymbol y_i, \boldsymboly_i\in \mathbb Z^n\)</span>çš„å½¢å¼ï¼Œå³ï¼š</p><p><span class="math display">\[\begin{aligned}B_2&amp;=[\boldsymbol b_1,\boldsymbol b_2,\ldots,\boldsymbolb_n]=B_1[\boldsymbol y_1,\boldsymbol y_2,\ldots,\boldsymboly_n],\quad\boldsymbol y_i\in \mathbb Z^n\\&amp;=B_1U,\quad U\in\mathbb Z^{n\times n}\end{aligned}\]</span></p></li><li><p>åŒç†ï¼Œæœ‰ <span class="math inline">\(B_1=B_2V, V\in\mathbbZ^{n\times n}\)</span></p></li><li><p>ç»¼ä¸Šï¼Œå¾—åˆ° <span class="math inline">\(B_{2}=B_{1} U=B_{2} VU\)</span>ï¼Œä¸ºäº†å‡‘å‡ºæ–¹é˜µè®¡ç®—è¡Œåˆ—å¼ï¼Œä½¿ç”¨ä¸‹å¼ï¼š</p><p><span class="math display">\[B_{2}^{T} B_{2}=(V U)^{T} B_{2}^{T} B_{2}(V U)\]</span></p></li><li><p>å–è¡Œåˆ—å¼ï¼Œå¾—åˆ° <span class="math inline">\(\operatorname{det}\left(B_{2}{ }^{T}B_{2}\right)=(\operatorname{det}(V U))^{2}\operatorname{det}\left(B_{2}{ }^{T} B_{2}\right)\)</span>ï¼Œæ•´ç†å¾—åˆ°ï¼š<span class="math inline">\(\operatorname{det}(V)\operatorname{det}(U)=\pm1\)</span></p></li><li><p>åˆå› ä¸º <span class="math inline">\(U,V\in\mathbb Z^{n\timesn}\)</span>ï¼Œå®ƒä»¬çš„è¡Œåˆ—å¼ä¹Ÿæ˜¯æ•´æ•°ï¼Œæ‰€ä»¥ <span class="math inline">\(\operatorname{det}(U)=\pm1\)</span>ï¼Œå³å­˜åœ¨å¹ºæ¨¡çŸ©é˜µ <span class="math inline">\(U\)</span> ä½¿å¾—<span class="math inline">\(B_2=B_1U\)</span> æˆç«‹</p></li></ol><p>å†è¯ <span class="math inline">\(\Leftarrow\)</span>ï¼š</p><ol type="1"><li><p><span class="math inline">\(B_2=B_1U\)</span> å¯¹äºæŸä¸ªå¹ºæ¨¡çŸ©é˜µ<span class="math inline">\(U\)</span> æˆç«‹</p></li><li><p>ä»»æ„ <span class="math inline">\(\mathcal L(B_2)\)</span>ä¸Šçš„å‘é‡ <span class="math inline">\(\boldsymbol x\)</span> éƒ½å¯ä»¥è¡¨ç¤ºä¸º<span class="math inline">\(\boldsymbol x=B_2\boldsymbol y,\boldsymboly\in \mathbb Z^n\)</span> çš„å½¢å¼ï¼Œä»£å…¥ 1 ä¸­å¯å¾— <span class="math inline">\(\boldsymbol x=B_1U\boldsymbol y,\boldsymbol y\in\mathbb Z^n\)</span></p></li><li><p>å› ä¸º <span class="math inline">\(U\boldsymbol y\in\mathbbZ^n\)</span>ï¼Œæ‰€ä»¥æœ‰ <span class="math inline">\(\mathcal{L}\left(B_{2}\right) \subseteq\mathcal{L}\left(B_{1}\right)\)</span>ï¼Œå› ä¸ºä»»æ„ <span class="math inline">\(\mathcal L(B_2)\)</span> ä¸Šçš„å‘é‡éƒ½å¯ä»¥è¢« <span class="math inline">\(B_1\)</span> çš„æ•´ç³»æ•°çº¿æ€§ç»„åˆè¡¨ç¤º</p></li><li><p>åŒç†ï¼Œ<span class="math inline">\(B_1=B_2U^{-1}\)</span>ï¼Œè€Œå¹ºæ¨¡çŸ©é˜µçš„é€†ä»ä¸ºå¹ºæ¨¡çŸ©é˜µï¼Œæ‰€ä»¥<span class="math inline">\(\mathcal{L}\left(B_{1}\right) \subseteq\mathcal{L}\left(B_{2}\right)\)</span></p></li><li><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæœ‰ <span class="math inline">\(\mathcal{L}\left(B_{1}\right)=\mathcal{L}\left(B_{2}\right)\)</span>ï¼Œå³<span class="math inline">\(B_1,B_2\)</span> ç”Ÿæˆçš„æ ¼ç›¸åŒ</p></li></ol></blockquote></li></ul><h3 id="å¯¹å¶æ ¼-dual-lattice">å¯¹å¶æ ¼ Dual Lattice</h3><blockquote><p>ä¹Ÿå« Reciprocal Lattice</p><p><a href="https://cims.nyu.edu/~regev/teaching/lattices_fall_2004/ln/DualLattice.pdf" title="DualLattice.pdf (nyu.edu)">DualLattice.pdf (nyu.edu)</a></p><p>å›¾æºï¼š<a href="https://zhuanlan.zhihu.com/p/161889613" title="Latticeå­¦ä¹ ç¬”è®°03ï¼šDual Latticeï¼ˆå¯¹å¶æ ¼ï¼‰ - çŸ¥ä¹ (zhihu.com)">Latticeå­¦ä¹ ç¬”è®°03ï¼šDualLatticeï¼ˆå¯¹å¶æ ¼ï¼‰ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>æ ¼ <span class="math inline">\(\Lambda\)</span> çš„å¯¹å¶æ ¼è®°ä¸º <span class="math inline">\(\Lambda^*\)</span>ï¼Œå½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\Lambda^{*}=\{\boldsymbol y \in \operatorname{span}(\Lambda) \mid\forall\boldsymbol x \in \Lambda,\langle\boldsymbol x,\boldsymboly\rangle \in \mathbb{Z}\}\]</span></p><p><span class="math inline">\(\Lambda^*\)</span>ä¹Ÿæ˜¯ä¸€ä¸ªæ ¼ï¼Œå…¶ä¸Šçš„å‘é‡å’Œæ ¼ <span class="math inline">\(\Lambda\)</span>çš„å‘é‡å†…ç§¯éƒ½ä¸ºæ•´æ•°</p><blockquote><p><span class="math inline">\((\mathbb Z^n)^*=\mathbbZ^n\)</span>ï¼Œä¹Ÿå«è‡ªå¯¹å¶ Self-dual æ ¼ã€‚</p><p>ç±»ä¼¼çš„ï¼Œ<span class="math inline">\(\left(2\mathbb{Z}^{n}\right)^{*}=\frac{1}{2}\mathbb{Z}^{n}\)</span>ï¼Œè¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå› ä¸º <span class="math inline">\(2\mathbb Z^n\)</span>ä¸­éƒ½æ˜¯å¶æ•°ï¼Œä¹˜ä¸Šä»»æ„ <span class="math inline">\(\frac{1}{2} \mathbb{Z}^{n}\)</span>ä¸­çš„æ•°éƒ½èƒ½å¾—åˆ°æ•´æ•°ã€‚</p><p>è¿™æ ·é€šè¿‡å€’æ•°å¾—åˆ°å¯¹å¶æ ¼çš„æ–¹å¼ï¼Œå…¶å®å°±æ˜¯å®ƒè¢«ç§°ä¸º Reciprocal Latticeçš„åŸå› ã€‚</p></blockquote><p>å¯¹å¶æ ¼ä¸­çš„å‘é‡å¯ä»¥ç»™åŸæ ¼ä¸­çš„å‘é‡è¿›è¡Œåˆ†å±‚ï¼Œå¾—åˆ°ä¸€ç³»åˆ—è¶…å¹³é¢Hyperplanes Perpendicularï¼š</p><ul><li><p>å–å¯¹å¶æ ¼ <span class="math inline">\(\Lambda^*\)</span> ä¸­çš„å‘é‡<span class="math inline">\(\boldsymbol x\)</span>ï¼Œå°† <span class="math inline">\(\Lambda\)</span>æ‰€æœ‰ä¸å®ƒå†…ç§¯ç»“æœç›¸åŒçš„å‘é‡åˆ’åˆ†åˆ°åŒä¸€å±‚ã€‚ä¸‹é¢æ˜¯é•¿çŸ­ä¸¤ä¸ªå‘é‡çš„åˆ†å±‚æƒ…å†µã€‚çº¢è‰²æ˜¯å¯¹å¶æ ¼ä¸­çš„å‘é‡ç‚¹ï¼Œé»‘è‰²æ˜¯åŸæ¥æ ¼ä¸­çš„ç‚¹ã€‚</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="../img/blog/lattice-note-images/long.png" style="zoom:63%;"></div><div class="group-image-wrap"><img src="../img/blog/lattice-note-images/short.png" style="zoom:73%;"></div></div></div></li><li><p>å±‚ä¹‹é—´çš„è·ç¦»ä¸º <span class="math inline">\(\frac{1}{\|\boldsymbolx\|}\)</span>ï¼Œä¹Ÿå°±æ˜¯é€‰çš„å‘é‡è¶Šé•¿ï¼Œå±‚ä¹‹é—´çš„è·ç¦»è¶Šå°</p></li><li><p>å¯ä»¥ç”¨æ¥é€¼è¿‘æ ¼çš„è¦†ç›–åŠå¾„</p><blockquote><p><a href="https://sysmath.com/jweb_xtkxysx/CN/10.12341/jssms11935#1" title="https://sysmath.com/jweb_xtkxysx/CN/10.12341/jssms11935#1">https://sysmath.com/jweb_xtkxysx/CN/10.12341/jssms11935#1</a></p><p>æ ¼ <span class="math inline">\(\Lambda\)</span>çš„è¦†ç›–åŠå¾„æ˜¯æŒ‡æ¯ä¸ªæ ¼ç‚¹ä¸ºåœ†å¿ƒä½œçƒæ—¶ï¼Œèƒ½è¦†ç›–ä½ <span class="math inline">\(\text{span}(\Lambda)\)</span> çš„æœ€å°åŠå¾„ï¼Œä¹Ÿå°±æ˜¯<span class="math inline">\(\text{span}(\Lambda)\)</span>ä¸­ç‚¹åˆ°æ ¼ç‚¹çš„æœ€è¿œè·ç¦»ã€‚</p><p>å› ä¸ºå±‚ä¸å±‚ä¹‹é—´æ²¡æœ‰ä»»ä½•æ ¼ç‚¹ï¼Œæ‰€ä»¥å½“é€‰å–è¾ƒçŸ­çš„å‘é‡æ—¶ï¼Œå°±å¯ä»¥ç”¨å±‚é—´è·æ¥è¿‘ä¼¼è¦†ç›–åŠå¾„</p></blockquote></li></ul><p>ä¸€äº›å¼•ç†ï¼š</p><ul><li><p>å¯¹å¶æ ¼çš„å¯¹å¶ç­‰äºåŸæ ¼ï¼Œå³ <span class="math inline">\(\left(\Lambda^{*}\right)^{*}=\Lambda\)</span></p></li><li><p><span class="math inline">\(\operatorname{det}\left(\Lambda^{*}\right)=1 /\operatorname{det}(\Lambda)\)</span></p></li></ul><h3 id="å¯¹å¶æ ¼åŸº-dual-basis">å¯¹å¶æ ¼åŸº Dual Basis</h3><p><strong>å®šä¹‰</strong>ï¼š</p><p>æ ¼ <span class="math inline">\(\Lambda\)</span> çš„åŸºä¸º <span class="math inline">\(B=\left(b_{1}, \ldots, b_{n}\right) \in\mathbb{R}^{m \times n}\)</span>ï¼Œåˆ™å…¶å¯¹å¶æ ¼åŸºè®°ä¸º <span class="math inline">\(D=\left(d_{1}, \ldots, d_{n}\right) \in\mathbb{R}^{m \times n}\)</span>ï¼ŒåŒæ—¶ <span class="math inline">\(D\)</span> æ˜¯å”¯ä¸€æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„åŸºï¼š</p><ul><li><p><span class="math inline">\(\operatorname{span}(D)=\operatorname{span}(B)\)</span></p></li><li><p><span class="math inline">\(B^{T} D=I\)</span></p><blockquote><p>æ›´ç›´è§‚çš„è¡¨ç¤ºä¸ºï¼š <span class="math inline">\(\left\langle b_{i},d_{j}\right\rangle=\delta_{i j}\)</span>ï¼Œåªæœ‰å½“ <span class="math inline">\(i=j\)</span> æ—¶ <span class="math inline">\(\delta_{i j}=1\)</span>ï¼Œå…¶ä½™æƒ…å†µå‡ä¸º 0ã€‚</p></blockquote></li></ul><p>å½“ <span class="math inline">\(\Lambda\)</span>ä¸ºæ»¡ç§©æ ¼æ—¶ï¼Œå¯¹å¶æ ¼åŸºä¸º <span class="math inline">\(D=\left(B^{T}\right)^{-1}\)</span>ï¼›ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹å¶æ ¼åŸºä¸º <span class="math inline">\(D=B\left(B^{T}B\right)^{-1}\)</span>ã€‚</p><p>å¯¹å¶åŸºå¯ä»¥è¯æ˜å¯¹å¶æ ¼ç¡®å®ä¸ºä¸€ä¸ªæ ¼ï¼š</p><p>å¦‚æœ <span class="math inline">\(D\)</span> æ˜¯ <span class="math inline">\(B\)</span> çš„å¯¹å¶åŸºï¼Œé‚£ä¹ˆ <span class="math inline">\((\mathcal{L}(B))^{*}=\mathcal{L}(D)\)</span>ï¼Œå³å¯¹å¶æ ¼å°±æ˜¯ç”±å¯¹å¶åŸºç”Ÿæˆçš„æ ¼ã€‚</p><blockquote><p>è¯æ˜ï¼š</p><p>å…ˆè¯ <span class="math inline">\(\mathcal{L}(D)\subseteq(\mathcal{L}(B))^{*}\)</span>ï¼š</p><ol type="1"><li><p>ä»»æ„ <span class="math inline">\(\mathcal L(B)\)</span> ä¸­çš„å‘é‡<span class="math inline">\(\boldsymbol x\)</span> éƒ½èƒ½å†™æˆ <span class="math inline">\(\boldsymbol x=\sum a_{i} \boldsymbolb_{i},a_i\in\mathbb Z\)</span> çš„å½¢å¼</p></li><li><p>ä»»æ„å¯¹å¶æ ¼åŸºä¸­çš„å‘é‡ <span class="math inline">\(\boldsymbold_j\)</span> å’Œ <span class="math inline">\(\boldsymbol x\)</span>çš„å†…ç§¯ä¸ºï¼š</p><p><span class="math display">\[\left\langle \boldsymbol x, \boldsymbol d_{j}\right\rangle=\suma_{i}\left\langle\boldsymbol b_{i},\boldsymbol d_{j}\right\rangle=a_{j}\in \mathbb{Z}\]</span></p><p>æ‰€ä»¥å¯¹å¶æ ¼åŸºä¸­çš„å‘é‡éƒ½åŒ…å«åœ¨å¯¹å¶æ ¼ $ ((B))^{*} $</p></li><li><p>åˆå› ä¸ºå¯¹å¶æ ¼ä¸­çš„å‘é‡åŠ æ³•æ»¡è¶³å°é—­æ€§ï¼Œæ‰€ä»¥ <span class="math inline">\(D\)</span> ç”Ÿæˆçš„æ ¼ä¹Ÿéƒ½åŒ…å«åœ¨å¯¹å¶æ ¼ $ ((B))^{*}$ä¸­ï¼Œå¾—è¯</p></li></ol><p>å†è¯ <span class="math inline">\((\mathcal{L}(B))^{*}\subseteq\mathcal{L}(D)\)</span>ï¼š</p><ol type="1"><li><p>ä»»æ„ <span class="math inline">\(\boldsymbol y\in(\mathcal{L}(B))^{*}\)</span>ï¼Œæ ¹æ®å¯¹å¶æ ¼å’Œå¯¹å¶æ ¼åŸºçš„å®šä¹‰ï¼Œæœ‰ <span class="math inline">\(\boldsymbol y \in\operatorname{span}(B)=\operatorname{span}(D)\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(\boldsymbol y\)</span> å¯ä»¥å†™æˆ <span class="math inline">\(\boldsymbol y=\sum a_{i} \boldsymbol d_{i},a_i\in\mathbb R\)</span> çš„å½¢å¼</p><blockquote><p>åªè¦è¯æ˜ <span class="math inline">\(a_i\)</span>å…¶å®éƒ½æ˜¯æ•´æ•°å°±èƒ½è¯æ˜ <span class="math inline">\(\boldsymbol y\in\mathcal L(D)\)</span></p></blockquote></li><li><p>ä½¿ç”¨æ ¼åŸº <span class="math inline">\(B\)</span> ä¸­çš„å‘é‡ <span class="math inline">\(\boldsymbol b_j\)</span> å’Œ <span class="math inline">\(\boldsymbol y\)</span> ä½œå†…ç§¯ï¼Œå› ä¸º <span class="math inline">\(\boldsymbol y\)</span>æ˜¯å¯¹å¶æ ¼ä¸­çš„å‘é‡ï¼Œå†…ç§¯ç»“æœæ˜¯æ•´æ•°ï¼š</p><p><span class="math display">\[\mathbb{Z} \ni\left\langle\boldsymbol y,\boldsymbolb_{j}\right\rangle=\sum a_{i}\left\langle\boldsymbol d_{i},\boldsymbolb_{j}\right\rangle=a_{j}\]</span></p></li><li><p>å› ä¸º <span class="math inline">\(\boldsymbol y=\sum a_{i}\boldsymbol d_{i}, a_i\in\mathbb Z\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(\boldsymbol y\in \mathcalL(D)\)</span>ï¼Œä¹Ÿå°±è¯æ˜äº† <span class="math inline">\((\mathcal{L}(B))^{*}\subseteq\mathcal{L}(D)\)</span>ã€‚</p></li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘æ¯•ä¸šè®¾è®¡</category>
      
      <category>å‰ç½®çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¨åŒæ€åŠ å¯†</tag>
      
      <tag>æ ¼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FHEå­¦ä¹ ç¬”è®° #4 æ¦‚ç‡è®ºä¸­çš„å‰ç½®çŸ¥è¯†</title>
    <link href="/FHE-4-probability%20theory.html"/>
    <url>/FHE-4-probability%20theory.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><strong>æ–‡ç« ä½¿ç”¨ wolai ç¼–å†™å¹¶å¯¼å‡ºï¼Œåœ¨ <a href="https://www.wolai.com/ailanxier/a2ESei3MavPL6jvxx8DtKV">wolai</a>ä¸­è§‚çœ‹æ•ˆæœæ›´å¥½ï¼Œæœ‰é¢œè‰²é«˜äº®å’Œå®æ—¶æ›´æ–°</strong></p>          </div><h3 id="å¯å¿½ç•¥å‡½æ•°-negligible-function">å¯å¿½ç•¥å‡½æ•° NegligibleFunction</h3><blockquote><p>ç”±æµ…å…¥æ·±çš„è‹±æ–‡è®²è§£ ğŸ§‘ğŸ»â€ğŸ³ï¼š<a href="https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming" title="https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming">https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming</a></p><p><a href="https://en.wikipedia.org/wiki/Negligible_function" title="Negligible function - Wikipedia">Negligible function -Wikipedia</a></p><p>LaTeX è‹±æ–‡æ•™ç¨‹ï¼š<a href="https://people.eecs.berkeley.edu/~sanjamg/classes/cs276-fall14/scribe/lec02.pdf" title="lec02.pdf (berkeley.edu)">lec02.pdf (berkeley.edu)</a></p></blockquote><p>ä¸€ä¸ªå‡½æ•° <span class="math inline">\(\mu: \mathbb{N} \rightarrow\mathbb{R}\)</span>ï¼Œä»¥ä¸‹å‡ ç§æè¿°ç­‰ä»·ï¼Œå½“ä¸”ï¼š</p><ul><li><p>å‡½æ•° <span class="math inline">\(\mu(x)\)</span>æ˜¯å¯å¿½ç•¥å‡½æ•°</p></li><li><p><span class="math inline">\(\forall c\in \mathbb N^+,\existsN_c\in \mathbb Z,\;\text{s.t.}\;\forallx&gt;N_c,|\mu(x)|&lt;x^{-c}\)</span></p></li><li><p>å¯¹äºæ‰€æœ‰æ­£å€¼å¤šé¡¹å¼ <span class="math inline">\(\text{poly}(\cdot)\)</span>ï¼Œå­˜åœ¨æ­£æ•´æ•° <span class="math inline">\(N_{\text{poly}}\)</span>ï¼Œä½¿å¾—ï¼š</p><p><span class="math display">\[\forallx&gt;N_\text{poly},\;|\mu(x)|&lt;\frac{1}{\operatorname{poly}(x)}\]</span></p></li><li><p>å¯¹äºæ‰€æœ‰æ­£å€¼å¤šé¡¹å¼ <span class="math inline">\(\text{poly}(\cdot)\)</span>ï¼Œ<span class="math inline">\(\mu(n) \in \mathcalO\left(\frac1{\operatorname{poly}(n)}\right)\)</span> æˆç«‹</p></li></ul><p>é€šå¸¸å°†å¯å¿½ç•¥å‡½æ•°è®°ä¸º <span class="math inline">\(\operatorname{negl}\)</span>ã€‚å¯å¿½ç•¥å‡½æ•°çš„è¡°å‡é€Ÿåº¦å¤§äºä»»æ„å¤šé¡¹å¼ï¼Œå…¶æ„ä¹‰åœ¨äºï¼š</p><ul><li><p>ä»¥å¯å¿½ç•¥çš„æ¦‚ç‡å‘ç”Ÿçš„äº‹ä»¶ï¼Œå› ä¸ºå‡ ä¹ä¸å¯èƒ½å‘ç”Ÿï¼Œæ‰€ä»¥å¯¹æ‰€æœ‰å®è·µç”¨é€”ï¼Œå®ƒä»¬å¯è¢«å¿½ç•¥</p></li><li><p>è‹¥ä¸€ä¸ªæ”»ç ´å¯†ç äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡æ˜¯å¯å¿½ç•¥çš„ï¼Œåˆ™æ˜¯ä¸é‡è¦çš„ï¼Œå³æ‹…å¿ƒå‘ç”Ÿæ¦‚ç‡è¶³å¤Ÿå°çš„äº‹ä»¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„</p></li><li><p>å½“åº”ç”¨äºæ¦‚ç‡å‡½æ•°æ—¶ï¼Œåˆ™ç§°ä¸º Negligible Probability</p></li></ul><blockquote><p>å¸¸è§çš„å¯å¿½ç•¥å‡½æ•°æœ‰æŒ‡æ•°å‡½æ•°ï¼Œå¦‚ <span class="math inline">\(2^{-n}\)</span>ã€‚</p></blockquote><p>ä¸€äº›å¼•ç†ï¼š</p><ul><li><p>å¦‚æœ <span class="math inline">\(f_1,f_2\)</span>æ˜¯å¯å¿½ç•¥çš„ï¼Œé‚£ä¹ˆ <span class="math inline">\(f_1+f_2\)</span>ä¹Ÿæ˜¯å¯å¿½ç•¥çš„</p></li><li><p>å¦‚æœ <span class="math inline">\(f\)</span>æ˜¯å¯å¿½ç•¥çš„ï¼Œå¯¹äºä»»æ„æ­£å¸¸æ•° <span class="math inline">\(c\)</span>ï¼Œ<span class="math inline">\(c\cdot f\)</span> ä¹Ÿæ˜¯å¯å¿½ç•¥çš„</p></li><li><p>å¦‚æœ <span class="math inline">\(f\)</span>æ˜¯å¯å¿½ç•¥çš„ï¼Œå¯¹äºä»»æ„å®å¤šé¡¹å¼ <span class="math inline">\(p\)</span>ï¼Œ<span class="math inline">\(p\cdotf\)</span> ä¹Ÿæ˜¯å¯å¿½ç•¥çš„</p></li><li><p>å¦‚æœ <span class="math inline">\(f\)</span>æ˜¯å¯å¿½ç•¥çš„ï¼Œå¯¹äºä»»æ„æ­£å¸¸æ•° <span class="math inline">\(c\)</span>ï¼Œ<span class="math inline">\(f^c\)</span> ä¹Ÿæ˜¯å¯å¿½ç•¥çš„</p></li></ul><blockquote><p>æ ¹æ®å¯å¿½ç•¥å‡½æ•°çš„å®šä¹‰ï¼Œå¯ä»¥ç»§ç»­å®šä¹‰æ‰€è°“çš„ Overwhelming Functionï¼š</p><p>ä¸€ä¸ªå‡½æ•° <span class="math inline">\(f\)</span> æ˜¯ OverwhelmingFunctionï¼Œå½“ä¸”ä»…å½“ <span class="math inline">\(1-f\)</span>æ˜¯å¯å¿½ç•¥å‡½æ•°ã€‚</p></blockquote><h3 id="noticeable-function">Noticeable Function</h3><blockquote><p>ç”±æµ…å…¥æ·±çš„è‹±æ–‡è®²è§£ ğŸ§‘ğŸ»â€ğŸ³ï¼š<a href="https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming" title="https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming">https://mathwiki.cs.ut.ee/asymptotics/06_the_negligible_the_noticeable_and_the_overwhelming</a></p><p>LaTeX è‹±æ–‡æ•™ç¨‹ï¼š<a href="https://people.eecs.berkeley.edu/~sanjamg/classes/cs276-fall14/scribe/lec02.pdf" title="lec02.pdf (berkeley.edu)">lec02.pdf (berkeley.edu)</a></p></blockquote><p>Noticeable Function å®šä¹‰æ–¹å¼å’Œå¯å¿½ç•¥å‡½æ•°ç±»ä¼¼</p><p>ä¸€ä¸ªå‡½æ•° <span class="math inline">\(\mu: \mathbb{N} \rightarrow\mathbb{R}\)</span>ï¼Œä»¥ä¸‹å‡ ç§æè¿°ç­‰ä»·ï¼Œå½“ä¸”ï¼š</p><ul><li><p>å‡½æ•° <span class="math inline">\(\mu(x)\)</span> æ˜¯ NoticeableFunction </p></li><li><p><span class="math inline">\(\exists c\in \mathbb N,\exists N_c\in\mathbb Z,\;\text{s.t.}\;\forall x&gt;N_c,|\mu(x)|\gex^{-c}\)</span></p></li><li><p>å­˜åœ¨æ­£å€¼å¤šé¡¹å¼ <span class="math inline">\(\text{poly}(\cdot)\)</span>ï¼Œå­˜åœ¨æ­£æ•´æ•° <span class="math inline">\(N_{\text{poly}}\)</span>ï¼Œä½¿å¾—ï¼š</p><p><span class="math display">\[\forall x&gt;N_\text{poly},\;|\mu(x)|\ge\frac{1}{\operatorname{poly}(x)}\]</span></p></li><li><p>å­˜åœ¨æ­£å€¼å¤šé¡¹å¼ <span class="math inline">\(\text{poly}(\cdot)\)</span>ï¼Œ<span class="math inline">\(\mu(n) \in\Omega\left(\frac1{\operatorname{poly}(n)}\right)\)</span> æˆç«‹</p></li></ul><blockquote><p>å¸¸è§çš„ Noticeable Function å…¶å®å¤§å¤šæ˜¯æ­£å€¼å¤šé¡¹å¼ï¼Œå¦‚ <span class="math inline">\(n^{-3}\)</span>ã€‚</p><p>ä¸æ˜¯å¯å¿½ç•¥å‡½æ•°è¢«ç§°ä¸º Non-negligibleï¼Œä½†æ˜¯å¹¶ä¸ç­‰ä»·äº NoticeableFunctionï¼Œä¸€ä¸ªç»å…¸çš„åä¾‹å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\mu(n)=\left\{\begin{array}{cc}2^{-n}&amp;, n \text { is even } \\n^{-3}&amp;, n \text { is odd }\end{array}\right.\]</span></p><p>è¿™ä¸ªå‡½æ•°æ—¢ä¸æ˜¯å¯å¿½ç•¥çš„ï¼Œä¹Ÿä¸æ˜¯ Noticeable çš„ã€‚</p></blockquote><h3 id="é«˜æ–¯åˆ†å¸ƒ-gaussian-distribution">é«˜æ–¯åˆ†å¸ƒ GaussianDistribution</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Normal_distribution" title="Normal distribution - Wikipedia">Normal distribution -Wikipedia</a></p><p>Marcolla C, Sucasas V, Manzano M, et al. Survey on Fully HomomorphicEncryption, Theory and Applications[J]. 2022.<a href="https://www.techrxiv.org/articles/preprint/Survey_on_Fully_Homomorphic_Encryption_Theory_and_Applications/19315202/2/files/34375853.pdf" title="https://www.techrxiv.org/articles/preprint/Survey_on_Fully_Homomorphic_Encryption_Theory_and_Applications/19315202/2/files/34375853.pdf">https://www.techrxiv.org/articles/preprint/Survey_on_Fully_Homomorphic_Encryption_Theory_and_Applications/19315202/2/files/34375853.pdf</a></p></blockquote><p>é«˜æ–¯åˆ†å¸ƒå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„æ­£æ€åˆ†å¸ƒ Normal distributionï¼Œè®°ä¸º <span class="math inline">\(\chi\)</span>ï¼Œä¸€èˆ¬çš„å½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\forall x\in\mathbb R,\;f(x)=\frac{1}{\sigma \sqrt{2 \pi}}e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}}\]</span></p><p><span class="math inline">\(\mu\)</span> æ˜¯åˆ†å¸ƒçš„å‡å€¼ï¼Œ$ $æ˜¯æ ‡å‡†å·®ã€‚</p><p>è€Œåœ¨å…¨åŒæ€åŠ å¯†ä¸­ï¼Œè¯¥åˆ†å¸ƒé€šå¸¸å®šä¹‰ä¸º <span class="math inline">\(\mathbb Z\)</span> ä¸Šçš„ç¦»æ•£é«˜æ–¯åˆ†å¸ƒ DiscreteGaussian Distributionï¼ŒåŒæ—¶å‡å€¼ä¸º 0ï¼Œå¹¶æœ‰ä¸ªå®½åº¦å‚æ•° (width parameter)<span class="math inline">\(\alpha q\)</span>ï¼Œè¯¥åˆ†å¸ƒè®°ä¸º <span class="math inline">\(\mathcal{D}_{\mathbb{Z}, \alpha q}\)</span>ã€‚</p><p><span class="math inline">\(\mathbb Z\)</span> ä¸Šçš„åˆ†å¸ƒ <span class="math inline">\(\mathcal{D}_{\mathbb{Z}, \alpha q}\)</span> ä¸ºæ¯ä¸ª<span class="math inline">\(x\in\mathbb Z\)</span> åˆ†é…ä¸€ä¸ªæ­£æ¯”äº <span class="math inline">\(\begin{aligned}\exp \left(\frac{-\pi x^{2}}{(\alpha q)^{2}}\right)\end{aligned}\)</span> çš„æƒé‡ï¼Œæœ€ç»ˆå½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\mathcal{D}_{\mathbb{Z}, \alpha q}(x)=\frac{f(x)}{f(\mathbb{Z})}\;\text{where}\; f(\mathbb{Z})=\sum_{z \in \mathbb{Z}} \frac{1}{\alphaq} \begin{aligned}\exp \left(\frac{-\pi z^{2} }{(\alphaq)^{2}}\right)\end{aligned}\]</span></p><blockquote><p><span class="math inline">\(\mathcal{D}_{\mathbb{Z}, \alphaq}\)</span> çš„æ ‡å‡†å·®ä¸º <span class="math inline">\(\sigma \approx \alphaq / \sqrt{2 \pi}\)</span>ï¼ˆæ˜¯æœ‰æ¡ä»¶çš„ï¼Œä½†æ˜¯æ²¡çœ‹æ‡‚ï¼ŒåŸæ–‡æ˜¯ã€Œå¦‚æœ <span class="math inline">\(\sigma\)</span> å¤§äº <span class="math inline">\(\mathbb Z\)</span> çš„å¹³æ»‘å‚æ•° <span class="math inline">\(\eta_{\epsilon}(\mathbb{Z})\)</span>ã€ï¼‰</p></blockquote><h3 id="b-bounded-distribution"><span class="math inline">\(B\)</span>-bounded Distribution</h3><blockquote><p>é‡‡æ · Sample çš„æ¦‚å¿µï¼š</p><ul><li><p>ç»™å®šæ¦‚ç‡åˆ†å¸ƒ <span class="math inline">\(\mathcal{D}\)</span>ï¼Œæˆ‘ä»¬ä½¿ç”¨ <span class="math inline">\(x \leftarrow \mathcal{D}\)</span> è¡¨ç¤ºæŒ‰ç…§æ¦‚ç‡åˆ†å¸ƒ<span class="math inline">\(\mathcal{D}\)</span> å–å‡º <span class="math inline">\(x\)</span></p></li><li><p>ç»™å®šä¸€ä¸ªé›†åˆ <span class="math inline">\(\mathcal{S}\)</span>ï¼Œæˆ‘ä»¬ä½¿ç”¨ <span class="math inline">\(x \leftarrow \mathcal{S}\)</span> è¡¨ç¤ºä»é›†åˆ <span class="math inline">\(\mathcal{S}\)</span> ä¸­å‡åŒ€å–å‡º <span class="math inline">\(x\)</span></p></li></ul></blockquote><p>å› ä¸ºèµ„æ–™æ¯”è¾ƒæ‚ï¼Œç¬”è€…è¿˜çœ‹ä¸æ‡‚ï¼Œåˆ—ä¸¾äº†å‡ ç¯‡è®ºæ–‡ä¸­çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><ul><li><p>ä¸€ä¸ªåˆ†å¸ƒ <span class="math inline">\(\chi\)</span> æ˜¯ <span class="math inline">\(B\)</span>-bounded çš„å¦‚æœå®ƒ is supported on <span class="math inline">\([âˆ’B, B]\)</span></p></li><li><p>ç»™å®šä¸€ä¸ªå¤šé¡¹å¼ç¯ <span class="math inline">\(R=\mathbb{Z}[x]/\langle f(x)\rangle\)</span>ï¼Œåœ¨ <span class="math inline">\(R\)</span>ä¸Šå®šä¹‰ <span class="math inline">\(B\)</span>-bounded Distribution <span class="math inline">\(\chi\)</span>ï¼Œä½¿å¾—ä» <span class="math inline">\(\chi\)</span> ä¸­å–æ ·çš„å¤šé¡¹å¼çš„ç³»æ•°èŒƒæ•°ä»¥overwhelming çš„æ¦‚ç‡å°äº <span class="math inline">\(B\)</span></p></li></ul><p>ä¸€èˆ¬è€Œè¨€ï¼Œ<span class="math inline">\(B\)</span>éœ€è¦è®¾ç½®å¾—å°½å¯èƒ½å°ä»¥ä¿è¯å®‰å…¨æ€§ï¼Œé€šå¸¸ç”¨ <em>small element</em>æ¥è¡¨ç¤ºã€‚</p><h3 id="å®‰å…¨å‚æ•°-security-parameter">å®‰å…¨å‚æ•° Security Parameter</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Security_parameter" title="Security parameter - Wikipedia">Security parameter -Wikipedia</a></p><p><a href="https://symlpigeon.github.io/2022/02/07/mpc-1/" title="å®‰å…¨å¤šæ–¹è®¡ç®— â€”â€” å®šä¹‰ã€åŸè¯­ - å®‰å…¨è®¡ç®— - å¯†ç å­¦ | symlpigeon's little gensokyo = ç¥éšé™Œè·¯çš„ä¸ªäººå°ç«™">å®‰å…¨å¤šæ–¹è®¡ç®—â€”â€” å®šä¹‰ã€åŸè¯­ - å®‰å…¨è®¡ç®— - å¯†ç å­¦ | symlpigeon's little gensokyo =ç¥éšé™Œè·¯çš„ä¸ªäººå°ç«™</a></p><p><a href="https://zhuanlan.zhihu.com/p/424954694" title="å¯†ç å­¦ä¸­å¸¸æåˆ°çš„å®‰å…¨å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com)">å¯†ç å­¦ä¸­å¸¸æåˆ°çš„å®‰å…¨å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ- çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>åœ¨å¯†ç å­¦ä¸­ï¼Œå®‰å…¨å‚æ•°å¯ä»¥è¡¡é‡æ”»å‡»è€…ç ´è§£ä¸€ä¸ªåŠ å¯†æ–¹æ¡ˆçš„éš¾åº¦ï¼Œåˆ†ä¸ºï¼š</p><ul><li><p>è®¡ç®— computational å®‰å…¨å‚æ•°ï¼Œç”¨ <span class="math inline">\(\kappa\)</span> æ¥è¡¨ç¤ºï¼š</p><ul><li><p>é€šå¸¸å†³å®šäº†è®¡ç®—å¤æ‚åº¦ï¼Œæ˜¯å¯¹åŠ å¯†æ–¹æ¡ˆæ‰€åŸºäºçš„è®¡ç®—é—®é¢˜çš„è¾“å…¥å¤§å°çš„åº¦é‡ï¼Œæ„å‘³ç€ç ´è§£ä¸€ä¸ªç®—æ³•éœ€è¦çš„è®¡ç®—ç©ºé—´çš„å¤§å°</p></li><li><p>é€‚ç”¨äºåº•å±‚çš„å¯†ç å­¦åè®®æ˜¯ä¾èµ–æ•°å­¦å›°éš¾é—®é¢˜ï¼ˆ<a href="https://www.wolai.com/ailanxier/pS5o8ZAxLJwNdSNQ2dWvLV" title="NP é—®é¢˜">NP é—®é¢˜</a>ï¼‰ï¼Œå³å®‰å…¨æ€§å»ºç«‹åœ¨æ”»å‡»è€…è®¡ç®—èƒ½åŠ›æœ‰é™ boundedcomputational power çš„æƒ…å†µä¸‹</p></li><li><p>ä¾‹å­ï¼šä½¿ç”¨ <span class="math inline">\(\kappa\;\text{bit}\)</span> å¤§å°çš„æ¨¡æ•°çš„ RSAåŠ å¯†æ–¹æ¡ˆï¼Œç ´è§£è¿™ä¸ªæ–¹æ¡ˆçš„è®¡ç®—ç©ºé—´å¤§å°ä¸º <span class="math inline">\(\mathcal{O}\left(2^{\kappa}\right)\)</span></p></li></ul></li><li><p>ç»Ÿè®¡ statistical å®‰å…¨å‚æ•°ï¼Œ ç”¨ <span class="math inline">\(\lambda\)</span> æ¥è¡¨ç¤ºï¼š</p><ul><li><p>è¡¡é‡æ”»å‡»è€…ç ´è§£åŠ å¯†æ–¹æ¡ˆçš„æ¦‚ç‡ï¼Œæ— è®ºæ”»å‡»è€…çš„ç®—åŠ›æœ‰å¤šå¼ºå¤§</p></li><li><p>é€šå¸¸ç”¨äºè¡¡é‡æ”»å‡»è€…å¯¹äº¤äº’å¼åè®®æ”»å‡»çš„å›°éš¾ç¨‹åº¦</p></li><li><p>ä¾èµ–äºä¸åŒå˜é‡åˆ†å¸ƒä¹‹é—´çš„**ç»Ÿè®¡è·ç¦» **statisticaldistanceï¼Œå¦‚æœè¿™ä¸ªè·ç¦»éå¸¸å°ï¼ˆ<span class="math inline">\(&lt;2^{-\sigma}\)</span>ï¼‰ï¼Œå³å¯ä»¥å¿½ç•¥ï¼Œé‚£ä¹ˆé€šè¿‡çŒœæµ‹æ¥åŒºåˆ†è¿™ä¸¤ä¸ªå˜é‡åŸºæœ¬ä¸Šæ˜¯æ— æ³•å®ç°çš„</p></li></ul><blockquote><p>ç»Ÿè®¡è·ç¦»çš„æ ‡å‡†å®šä¹‰ï¼š</p><p><span class="math display">\[\operatorname{SD}(X, Y) \stackrel{\text { def }}{=} \frac{1}{2}\sum_{x}|\operatorname{Pr}(X=x)-\operatorname{Pr}(Y=x)|\]</span></p><p><span class="math inline">\(X,Y\)</span>æ˜¯ä¸¤ä¸ªä¸åŒåˆ†å¸ƒçš„éšæœºå˜é‡ï¼Œå¦ä¸€ç§å¸¸è§çš„ç­‰ä»·å®šä¹‰æ˜¯ï¼š</p><p>å¯¹äºä»»æ„åˆ¤åˆ«ç®—æ³• Distinguisher Algorithmï¼š<span class="math inline">\(D: \mathcal{S} \rightarrow\{0,1\}\)</span>ï¼Œ$ $ä¸ºéšæœºå˜é‡çš„é›†åˆï¼Œå¯ä»¥å¾—åˆ°ï¼š</p><p><span class="math display">\[\operatorname{S D}(X, Y) \stackrel{\text { def }}{=} \max_{D}|\operatorname{Pr}(D(X)=1)-\operatorname{Pr}(D(Y)=1)|\]</span></p><p>ç­‰ä»·è¡¨ç¤ºä¸ºï¼š</p><p><span class="math display">\[|\operatorname{Pr}(D(X)=1)-\operatorname{Pr}(D(Y)=1)| \leq\operatorname{S D}(X, Y)\]</span></p><p>è¯æ˜æ¯”è¾ƒæœ‰è¶£ï¼š</p><ol type="1"><li><p>é¦–å…ˆè®° <span class="math inline">\(p_{s} \stackrel{\text { def}}{=} \operatorname{Pr}(X=s),\;q_{s} \stackrel{\text { def }}{=}\operatorname{Pr}(Y=s),\;s\in \mathcal{S}\)</span></p></li><li><p>ç”±ç»Ÿè®¡è·ç¦»çš„æ ‡å‡†å®šä¹‰ï¼Œå»æ‰ç»å¯¹å€¼ï¼š</p><p><span class="math display">\[\operatorname{S D}(X, Y)=\frac{1}{2}\left(\sum_{s \in \mathcal{S}, p_{s}\geq q_{s}}\left(p_{s}-q_{s}\right)+\sum_{s \in \mathcal{S},p_{s}&gt;q_{s}}\left(q_{s}-p_{s}\right)\right)= \sum_{s \in S, p_{s}\geq q_{s}}\left(p_{s}-q_{s}\right)\]</span></p><p>è¿™æ˜¯å› ä¸ºï¼š</p><p><span class="math display">\[\sum_{s \in \mathcal{S}, p_{s} \geqq_{s}}\left(p_{s}-q_{s}\right)-\sum_{s \in \mathcal{S},p_{s}&gt;q_{s}}\left(q_{s}-p_{s}\right)=\sum_{s \in \mathcal{S}}p_{s}-\sum_{s \in \mathcal{S}} q_{s}=1-1=0\]</span></p><p>é€šè¿‡å±•å¼€ <span class="math inline">\(\sum_{s \in \mathcal{S},p_{s}&gt;q_{s}}\left(q_{s}-p_{s}\right)\)</span> çš„æ‹¬å·ï¼Œå¯ä»¥æ¨å‡ºå®ƒå’Œ<span class="math inline">\(\sum_{s \in \mathcal{S}, p_{s} \geqq_{s}}\left(p_{s}-q_{s}\right)\)</span> æ˜¯ç›¸ç­‰çš„ã€‚</p></li><li><p>å‡è®¾ <span class="math inline">\(\operatorname{Pr}(D(X)=1) \geq\operatorname{Pr}(D(Y)=1)\)</span>ï¼Œå¯ä»¥çŸ¥é“ </p><p><span class="math display">\[\operatorname{Pr}(D(X)=1) - \operatorname{Pr}(D(Y)=1)\le \sum_{s \in\mathcal{S}, p_{s} \geq q_{s}}\left(p_{s}-q_{s}\right)\]</span></p><p>è¿™é‡Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œåªæœ‰å½“ <span class="math inline">\(D\)</span>æ­£å¥½å°†æ‰€æœ‰ <span class="math inline">\(s \in \mathcal{S}, p_{s} \geqq_{s}\)</span> çš„ <span class="math inline">\(s\)</span> æ˜ å°„ä¸º 1æ—¶ï¼Œ<span class="math inline">\(\operatorname{Pr}(D(X)=1) -\operatorname{Pr}(D(Y)=1)\)</span> çš„ç»“æœæœ€å¤§ï¼Œæ­¤æ—¶ä¹Ÿå°±æ˜¯ç­‰äº <span class="math inline">\(\sum_{s \in \mathcal{S}, p_{s} \geqq_{s}}\left(p_{s}-q_{s}\right)\)</span> ã€‚æ‰€ä»¥å¯¹äºä»»æ„ <span class="math inline">\(D\)</span>ï¼Œä¸Šå¼éƒ½æˆç«‹ã€‚</p><p>ç”±æ­¤å¾—åˆ°æœ€ç»ˆç»“è®ºï¼š</p><p><span class="math display">\[\begin{aligned}|\operatorname{Pr}(D(X)=1)-\operatorname{Pr}(D(Y)=1)|&amp;=\operatorname{Pr}(D(X)=1)-\operatorname{Pr}(D(Y)=1)\\&amp;\leq\sum_{s \in \mathcal{S}, p_{s} \geqq_{s}}\left(p_{s}-q_{s}\right)=\operatorname{S D}(X, Y)\end{aligned}\]</span></p></li></ol></blockquote></li></ul><p>å®‰å…¨å‚æ•°çš„æ¦‚å¿µæ˜¯ä¸ºäº†å¼•å‡ºä¸å¯åŒºåˆ†çš„æ¦‚å¿µã€‚</p><h3 id="ä¸å¯åŒºåˆ†æ€§-indistinguishability">ä¸å¯åŒºåˆ†æ€§Indistinguishability</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Computational_indistinguishability" title="Computational indistinguishability - Wikipedia">Computationalindistinguishability - Wikipedia</a></p><p><a href="https://symlpigeon.github.io/2022/02/07/mpc-1/" title="å®‰å…¨å¤šæ–¹è®¡ç®— â€”â€” å®šä¹‰ã€åŸè¯­ - å®‰å…¨è®¡ç®— - å¯†ç å­¦ | symlpigeon's little gensokyo = ç¥éšé™Œè·¯çš„ä¸ªäººå°ç«™">å®‰å…¨å¤šæ–¹è®¡ç®—â€”â€” å®šä¹‰ã€åŸè¯­ - å®‰å…¨è®¡ç®— - å¯†ç å­¦ | symlpigeon's little gensokyo =ç¥éšé™Œè·¯çš„ä¸ªäººå°ç«™</a></p><p><a href="https://en.wikipedia.org/wiki/Distribution_ensemble" title="Distribution ensemble - Wikipedia">Distribution ensemble -Wikipedia</a></p></blockquote><blockquote><p>åˆ†å¸ƒé›†åˆ Distribution Ensemble æ˜¯ä¸€ç³»åˆ—åˆ†å¸ƒæ„æˆçš„é›†åˆï¼Œå½¢å¼ä¸º <span class="math inline">\(X=\left\{X_{i}\right\}_{i \in I}\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(I\)</span> æ˜¯ä¸€ä¸ªå¯æ•°ç´¢å¼•é›†ï¼Œæ¯ä¸ª <span class="math inline">\(X_i\)</span> éƒ½æ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒã€‚</p><p>å¸¸è§å½¢å¼ä¸º <span class="math inline">\(\left\{D_{n}\right\}_{n \in\mathbb{N}}\)</span>ï¼Œå¯ä»¥è®¤ä¸ºæ¯ä¸ª <span class="math inline">\(D_n\)</span> åˆ†å¸ƒåœ¨é•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„å­—ç¬¦ä¸²</p></blockquote><p><span class="math inline">\(\left\{D_{n}\right\}_{n \in\mathbb{N}}\)</span> å’Œ <span class="math inline">\(\left\{E_{n}\right\}_{n \in \mathbb{N}}\)</span>æ˜¯ä¸¤ä¸ªåˆ†å¸ƒé›†åˆï¼Œç”±å®‰å…¨å‚æ•° <span class="math inline">\(n\)</span>ç´¢å¼•ï¼ˆé€šå¸¸æŒ‡è¾“å…¥çš„é•¿åº¦ï¼‰ï¼Œå¦‚æœå¯¹äºä»»æ„çš„éå‡åŒ€æ¦‚ç‡å¤šé¡¹å¼æ—¶é—´ç®—æ³• <span class="math inline">\(A\)</span>ï¼Œä»¥ä¸‹å€¼ <span class="math inline">\(\delta(n)\)</span> æ˜¯ä¸€ä¸ª <span class="math inline">\(n\)</span>ä¸Šçš„å¯å¿½ç•¥å‡½æ•°ï¼Œåˆ™ç§°å®ƒä»¬ä¸ºè®¡ç®—ä¸å¯åŒºåˆ†çš„ ComputationalIndistinguishablilityï¼š</p><p><span class="math display">\[\delta(n)=\left|\underset{x \leftarrowD_n}{\operatorname{Pr}}[A(x)=1]-\underset{x \leftarrowE_n}{\operatorname{Pr}}[A(x)=1]\right|\]</span></p><p>è®°ä¸º <span class="math inline">\(D_{n} \approx E_{n}\)</span>ã€‚å½“<span class="math inline">\(n\to \infty\)</span> æ—¶ï¼Œä»»æ„é«˜æ•ˆçš„ç®—æ³•<span class="math inline">\(A\)</span> çš„è¡Œä¸ºåœ¨ <span class="math inline">\(D_n\)</span> å’Œ <span class="math inline">\(E_n\)</span> ä¸Šä¸ä¼šæœ‰æ˜æ˜¾å˜åŒ–ã€‚</p><p>å¦‚æœå¯¹äºä»»æ„çš„ç®—æ³• <span class="math inline">\(A\)</span>éƒ½æ»¡è¶³ä¸Šè¿°æ€§è´¨ï¼Œåˆ™ç§°ä¸ºç»Ÿè®¡ä¸å¯åŒºåˆ† StatisticalIndistinguishablilityã€‚</p><blockquote><p>æ ¹æ®æ–‡çŒ®<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Fan J, Vercauteren F. Somewhat practical fully homomorphic encryption\[J]. Cryptology ePrint Archive, 2012.">[1]</span></a></sup>æè¿°ï¼š</p><p>å¯¹äºè¶³å¤Ÿå¤§çš„ <span class="math inline">\(B\)</span>ï¼Œ<span class="math inline">\(\mathcal{D}_{\mathbb{Z}, \alpha q}\)</span> å’Œ<span class="math inline">\(B\)</span>-bounded Distributionæ˜¯è®¡ç®—ä¸å¯åŒºåˆ†çš„ï¼Œåœ¨å®è·µä¸­å¸¸å– <span class="math inline">\(B=10 \cdot\sigma\)</span></p></blockquote><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>Fan J, Vercauteren F.Somewhat practical fully homomorphic encryption[J]. Cryptology ePrintArchive, 2012.<a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘æ¯•ä¸šè®¾è®¡</category>
      
      <category>å‰ç½®çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¨åŒæ€åŠ å¯†</tag>
      
      <tag>æ¦‚ç‡è®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FHEå­¦ä¹ ç¬”è®° #3 æ•°è®ºä¸­çš„å‰ç½®çŸ¥è¯†</title>
    <link href="/FHE-3-number%20theory.html"/>
    <url>/FHE-3-number%20theory.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><strong>æ–‡ç« ä½¿ç”¨ wolai ç¼–å†™å¹¶å¯¼å‡ºï¼Œåœ¨ <a href="https://www.wolai.com/ailanxier/HsPYRbMMzMNPJsuX97SNy">wolai</a>ä¸­è§‚çœ‹æ•ˆæœæ›´å¥½ï¼Œæœ‰é¢œè‰²é«˜äº®å’Œå®æ—¶æ›´æ–°</strong></p>          </div><h3 id="ä¸å¯çº¦å¤šé¡¹å¼-irreducible-polynomial">ä¸å¯çº¦å¤šé¡¹å¼ IrreduciblePolynomial</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Irreducible_polynomial" title="Irreducible polynomial - Wikipedia">Irreducible polynomial -Wikipedia</a></p></blockquote><p>å®šä¹‰æ¯”è¾ƒå¤šï¼Œé€šä¿—æ¥è¯´ï¼Œä¸å¯çº¦å¤šé¡¹å¼é¦–å…ˆæ˜¯ã€Œéå¸¸æ•°å¤šé¡¹å¼ Non-constantPolynomialã€ï¼Œä¸”ä¸èƒ½è¢«åˆ†è§£æˆä¸¤ä¸ªã€Œéå¸¸æ•°å¤šé¡¹å¼ã€ä¹˜ç§¯çš„å½¢å¼ã€‚</p><blockquote><p>å¦‚æœèƒ½åˆ†è§£ä¸ºä»…å«å¸¸æ•°é¡¹çš„å¤šé¡¹å¼ï¼Œé‚£ç”¨å•ä½å…ƒ <span class="math inline">\(\bf 1\)</span> å°±èƒ½æ— é™åˆ†è§£äº†ï¼Œæ˜¾ç„¶ä¸åˆç†ã€‚</p></blockquote><p>æ›´ä¸¥æ ¼çš„å®šä¹‰æ˜¯è¦è¯´æ˜åœ¨ä»€ä¹ˆåŸŸä¸Šæ˜¯ä¸å¯çº¦çš„ï¼Œä¾‹å¦‚ <span class="math inline">\(x^2-2\)</span>åœ¨æ•´æ•°åŸŸä¸Šæ˜¯ä¸å¯çº¦çš„ï¼Œå› ä¸ºå®ƒä¸èƒ½åˆ†è§£æˆç³»æ•°ä¸ºæ•´æ•°çš„éå¸¸æ•°å¤šé¡¹å¼ã€‚ä½†æ˜¯<span class="math inline">\(x^2-2\)</span>åœ¨å®æ•°åŸŸä¸Šå±äºå¯çº¦å¤šé¡¹å¼ï¼Œå¯ä»¥åˆ†è§£ä¸º <span class="math inline">\((x-\sqrt 2)(x-\sqrt 2)\)</span>ã€‚</p><h3 id="å•ä½æ ¹-root-of-unity">å•ä½æ ¹ <strong>Root of Unity</strong></h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Root_of_unity#General_definition" title="Root of unity - Wikipedia">Root of unity - Wikipedia</a></p><p><a href="https://blog.csdn.net/zhouchangyu1221/article/details/104729987/" title="n æ¬¡å•ä½æ ¹çš„æ±‚æ³•_cyzhou1221çš„åšå®¢-CSDNåšå®¢_næ¬¡å•ä½æ ¹">næ¬¡å•ä½æ ¹çš„æ±‚æ³•_cyzhou1221çš„åšå®¢-CSDNåšå®¢_næ¬¡å•ä½æ ¹</a></p><p>æå…¶æ¨èé˜…è¯» ğŸ”¥ï¼š <a href="https://yhx-12243.github.io/OI-transit/memos/17.html" title="åˆ†åœ†å¤šé¡¹å¼ (yhx-12243.github.io)">åˆ†åœ†å¤šé¡¹å¼(yhx-12243.github.io)</a>ï¼Œå‰ç½®çŸ¥è¯†æœ‰è¯¦ç»†è®²è¿°å•ä½æ ¹å’Œæœ¬åŸå•ä½æ ¹çš„å†…å®¹ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘</p></blockquote><p>åœ¨å¤æ•°åŸŸä¸Šï¼Œ<span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹æ˜¯æŒ‡æ–¹ç¨‹<span class="math inline">\(z^n=1\)</span> çš„è§£ï¼Œ<span class="math inline">\(n\)</span> ä¸ºæ­£æ•´æ•°ï¼Œä¸”åœ¨å¤æ•°åŸŸå†…æœ‰ä¸”åªæœ‰ <span class="math inline">\(n\)</span> ä¸ªè§£ã€‚è§£çš„å½¢å¼ä¸º</p><p><span class="math display">\[z_k=e^{\frac{2\pi i}{n}k}=\exp\left(\frac{2\pii}{n}k\right),k\in\mathbb{Z}\]</span></p><blockquote><p>è¯æ˜ï¼š</p><p>å¤æ•°çš„å½¢å¼ä¸º <span class="math inline">\(z=R\exp(i\theta)=R\cos\theta+iRsin\theta,R&gt;0\)</span></p><p>ä¸¤ä¸ªå¤æ•° <span class="math inline">\(z_1,z_2\)</span> ç›¸ç­‰ <span class="math inline">\(\iff~~R_1=R_2,\theta_1=\theta_2+2k\pi,k\in\mathbb{Z}\)</span></p><p>è€Œå¤æ•° <span class="math inline">\(1=1\exp(i0),\text{i.e.}\;R=1,\theta=0\)</span>ï¼Œä»£å…¥<span class="math inline">\(z^n=1\)</span> å¾—åˆ°ï¼š</p><p><span class="math display">\[R^n=1,n\theta=2k\pi+0,R\ge0,k\in \mathbb{Z}\]</span></p><p>è§£å¾— <span class="math inline">\(\begin{aligned}R=1,\theta=\frac{2k\pi}{n}\end{aligned},k\in\mathbb{Z}\)</span>ï¼Œåˆ™<span class="math inline">\(\begin{aligned}z_k=\exp\left(\frac{2\pii}{n}k\right),k\in\mathbb{Z} \end{aligned}\)</span></p></blockquote><p>å®é™…ä¸Šï¼Œåªæœ‰ <span class="math inline">\(k=0,1,\cdots,n-1\)</span> å…±<span class="math inline">\(n\)</span> ä¸ªä¸é‡æ ¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤æ•°åŸŸä¸Šå¯¹1 å¼€ <span class="math inline">\(n\)</span> æ¬¡æ–¹æ ¹çš„ç»“æœæœ‰ <span class="math inline">\(n\)</span> ä¸ªã€‚</p><p>è®¾ <span class="math inline">\(\begin{aligned}z=\exp\left(\frac{2\pii}{m}\right)\end{aligned}\)</span>ï¼Œåˆ™è¿™ <span class="math inline">\(n\)</span> ä¸ªæ ¹ä¸º <span class="math inline">\(z^0=1,z,z^2,\ldots,z^{n-1}\)</span>ã€‚</p><blockquote><p>è¯æ˜ï¼š</p><p>å– <span class="math inline">\(k=n+s,s\in\mathbb{Z}\)</span>ï¼Œåˆ™ </p><p><span class="math display">\[\begin{aligned}z_k=\exp\left(\frac{2\pi i}{n}k\right)&amp;=\exp\left(\frac{2\pii}{n}(n+s)\right)=\exp\left(2\pi i+\frac{2\pi i}{n}s\right)\\&amp;=\exp\left(2\pi i\right)\times\exp\left(\frac{2\pii}{n}s\right)=(e^{\pi i})^2\times\exp\left(\frac{2\pi i}{n}s\right)\\&amp;=1\times\exp\left(\frac{2\pi i}{n}s\right)=z_s\end{aligned}\]</span></p><p>è¿™é‡Œä½¿ç”¨äº†<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%85%AC%E5%BC%8F" title="æ¬§æ‹‰å…¬å¼">æ¬§æ‹‰å…¬å¼</a> <span class="math inline">\(e^{\pii}+1=0\)</span>ã€‚</p><p>å¯ä»¥çœ‹å‡ºå½“ <span class="math inline">\(k,s\)</span> å±äºåŒä¸€<a href="https://www.wolai.com/ailanxier/wBn2PmNvMx2BM8yeM7tgr9#7kfiGq9vzREqm6B9vzYVZT" title="åŒä½™ç±»">åŒä½™ç±»</a>ï¼ˆæ¨¡ <span class="math inline">\(n\)</span>ï¼‰æ—¶ï¼Œè¿™ä¸¤ä¸ªæ ¹æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ä¸é‡æ ¹çš„æ•°ç›®å’Œæ¨¡<span class="math inline">\(n\)</span> <a href="https://www.wolai.com/ailanxier/wBn2PmNvMx2BM8yeM7tgr9#kJqSgTBg4erbMh96xiJusu" title="æœ€å°å‰©ä½™ç³»">æœ€å°å‰©ä½™ç³»</a>å¤§å°ç›¸åŒï¼Œå³ <span class="math inline">\(n\)</span>ã€‚</p></blockquote><p>ä¸€äº›æ€§è´¨ï¼š</p><ul><li><p>å¯¹äºä»»æ„ <span class="math inline">\(n\)</span>ï¼Œå½“ <span class="math inline">\(k=0\)</span> æ—¶ï¼Œ<span class="math inline">\(z_k=1\)</span></p></li><li><p><span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹çš„æ¨¡ä¸º 1ï¼Œåœ¨å¤å¹³é¢Complex plane ä¸Šç­‰åˆ†å•ä½åœ†ï¼Œå¦‚ä¸‹å›¾æ˜¯ <span class="math inline">\(n=5\)</span> æ¬¡å•ä½æ ¹åœ¨å¤å¹³é¢ä¸Šçš„åˆ†å¸ƒ</p><p><img src="../img/blog/num-note-images/One5Root.svg"></p></li><li><p><span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹çš„ä»»æ„æ¬¡å¹‚ä»ä¸º<span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹</p><blockquote><p>è¯æ˜ï¼š</p><p>è®¾ <span class="math inline">\(z\)</span> æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ï¼Œåˆ™å¯¹äº <span class="math inline">\(k\in\mathbb{Z}\)</span>ï¼Œæœ‰</p><p><span class="math display">\[(z^k)^n=(z^n)^k=1^k=1\]</span></p></blockquote></li><li><p>åŒç†å¯ä»¥è¯å‡ºï¼Œä»»æ„ä¸¤ä¸ª <span class="math inline">\(n\)</span>æ¬¡å•ä½æ ¹çš„ä¹˜ç§¯ä»ç„¶æ˜¯ <span class="math inline">\(n\)</span>æ¬¡å•ä½æ ¹</p></li><li><p>ç”±ä¸Šè¿°æ€§è´¨ï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰ <span class="math inline">\(n\)</span>æ¬¡å•ä½æ ¹å¯ä»¥æ„æˆä¸€ä¸ªä¹˜æ³•äº¤æ¢å¾ªç¯ç¾¤</p></li><li><p>åˆ©ç”¨ <span class="math inline">\(n\)</span> ä¸ªæ ¹å¯¹ <span class="math inline">\(x^n-1\)</span> è¿›è¡Œå¤šé¡¹å¼åˆ†è§£</p><p>ç”± Vieta å®šç†å¯ä»¥å¾—åˆ°ï¼š</p><p><span class="math display">\[z=\exp\left(\frac{2\pi i}{m}\right)ï¼Œx^n-1=(x-1)(x-z)\cdots(x-z^{n-1})\]</span></p><p><a href="https://en.wikipedia.org/wiki/Vieta's_formulas#Proof" title="Vieta's formulas - Wikipedia">Vieta's formulas -Wikipedia</a></p></li></ul><h3 id="å•ä½åŸæ ¹-primitive-roots-of-unity">å•ä½åŸæ ¹ Primitive Roots ofUnity</h3><p><span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹æ˜¯æŒ‡ <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ä¸­çš„æŸäº›æ ¹ <span class="math inline">\(z\)</span>ï¼Œæ»¡è¶³ <span class="math inline">\(\forallm\in\{1,2,\ldots,n-1\},z^m\not=0,z^n=1\)</span>ã€‚</p><p> <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ <span class="math inline">\(z_k\)</span> æ»¡è¶³ <span class="math inline">\(\gcd(n,k)=1\)</span> <span class="math inline">\(\iff\)</span> <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹ã€‚</p><blockquote><p>è‡ªå·±çè¯æ˜çš„ ğŸ¥ºï¼š</p><ul><li><p><span class="math inline">\(\gcd(n,k)=1\)</span> è¯´æ˜ <span class="math inline">\(z_k\)</span> å°±æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹</p><p>è®¾ <span class="math inline">\(\forallk\in\{k|\gcd(n,k)=1\}\)</span>ï¼Œ<span class="math inline">\(\begin{aligned}z_k=\exp\left(\frac{2k\pii}{n}\right)\end{aligned}\)</span> ï¼Œåˆ™ <span class="math display">\[\begin{aligned}\exists d \in\mathbb{N^+}\text{~s.t.~} z_k^d=\exp\left(\frac{2kd\pii}{n}\right)=1\end{aligned}\]</span></p><p>ç”± <span class="math inline">\(\exp(i\theta)=\cos\theta+i\sin\theta\)</span>å±•å¼€å¾—åˆ°</p><p><span class="math display">\[\exp\left(i\frac{2kd\pi }{n}\right)=\cos\left(\frac{2kd\pi}{n}\right)+i\sin\left(\frac{2kd\pi }{n}\right)\]</span></p><p>åˆ™ <span class="math inline">\(\begin{aligned}\frac{2kd\pi}{n}=2k'\pi,k'\in\mathbb{Z}\end{aligned}\)</span>ï¼Œè¿™æ · <span class="math inline">\(\begin{aligned}\cos\frac{2kd\pi}{n}\end{aligned}\)</span> æ‰ä¼šç­‰äº 1ï¼Œ</p><p>åŒ–ç®€å¾—åˆ° <span class="math inline">\(kd=k'n,k'\in\mathbbZ\)</span>ï¼Œå³ <span class="math inline">\(n\mid kd\)</span>ï¼Œ</p><p>åˆå› ä¸º <span class="math inline">\(\gcd(n,k)=1\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(n\mid d\)</span>ï¼Œä¹Ÿå°±æ˜¯è¯´ <span class="math inline">\(n\le d\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(n\)</span> å°±æ˜¯ä½¿ <span class="math inline">\(z_k^d=1\)</span> æˆç«‹çš„æœ€å°æ­£æ•° <span class="math inline">\(d\)</span>ï¼Œæ»¡è¶³ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹çš„å®šä¹‰ã€‚</p></li><li><p><span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹éƒ½æ»¡è¶³ <span class="math inline">\(\gcd(n,k)=1\)</span> </p><p>é¦–å…ˆ <span class="math inline">\(k=0\)</span> æ—¶ä¸€å®šä¸æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹ï¼Œå› ä¸ºæœ¬èº«å°±æ˜¯1ï¼ŒåŒæ—¶ä¹Ÿä¸æ»¡è¶³ <span class="math inline">\(\gcd(n,k)=1\)</span>ã€‚</p><p>å‡è®¾ <span class="math inline">\(z_k,1\le k&lt;n\)</span> æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹ï¼Œè®° <span class="math inline">\(\gcd(n,k)=d,1\led&lt;n,n=n'd,k=k'd,n'\in \mathbb{Z},k' \in \mathbbZ\)</span>ï¼Œé‚£ä¹ˆæœ‰</p><p><span class="math display">\[z_k^{n'}=\exp\left(\frac{2kn'\pii}{n}\right)=\exp\left(\frac{2\pii}{n}\times\frac{kn}{d}\right)=\exp\left(2\pi i k'\right)=1\]</span></p><p>å¦‚æœ <span class="math inline">\(d\not=1\)</span>ï¼Œåˆ™æœ‰ <span class="math inline">\(n'&lt;n\)</span>ï¼Œè¿™å°±ä¸æ»¡è¶³ <span class="math inline">\(z_k\)</span> æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹çš„å‰æï¼Œå¾—åˆ°çŸ›ç›¾ï¼Œæ‰€ä»¥ <span class="math inline">\(d=1\)</span>ï¼Œå³ <span class="math inline">\(\gcd(n,k)=1\)</span>ã€‚</p></li></ul></blockquote><p>æ€§è´¨ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(n\)</span> æ˜¯è´¨æ•°ï¼Œå¯¹äº <span class="math inline">\(k=\{1,2,\ldots,n-1\}\)</span> çš„ <span class="math inline">\(z_k\)</span> éƒ½æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹</p></li><li><p>è‹¥ <span class="math inline">\(z\)</span> ä¸º <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹ï¼Œåˆ™ <span class="math inline">\(z^0,z^1,z^2,\ldots,z^{n-1}\)</span>æ˜¯äº’å¼‚çš„ <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ï¼Œå³ç”Ÿæˆäº†æ•´ä¸ª <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹å¾ªç¯ç¾¤ï¼Œ<span class="math inline">\(z\)</span> æ˜¯ç”Ÿæˆå…ƒ</p><blockquote><p>è¯æ˜ï¼š</p><p>é¦–å…ˆç”± <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹çš„æ€§è´¨å¯çŸ¥<span class="math inline">\(z\)</span> çš„ä»»æ„æ¬¡å¹‚éƒ½æ˜¯ <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ã€‚</p><p>å‡è®¾å­˜åœ¨ <span class="math inline">\(z^a=z^b,0\le a&lt;b\len-1\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(z^{b-a}=1,0&lt;b-a\len-1\)</span>ï¼Œè¿™å°±ä¸åŸæ ¹çš„å®šä¹‰çŸ›ç›¾ï¼Œæ‰€ä»¥è¿™äº›æ¬¡å¹‚éƒ½æ˜¯äº’å¼‚çš„ã€‚</p></blockquote></li></ul><h3 id="åˆ†åœ†å¤šé¡¹å¼-cyclotomic-polynomial">åˆ†åœ†å¤šé¡¹å¼ CyclotomicPolynomial</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Cyclotomic_polynomial" title="Cyclotomic polynomial - Wikipedia">Cyclotomic polynomial -Wikipedia</a></p><p><a href="https://www.bilibili.com/video/BV1kz4y1X7HN/?spm_id_from=333.880.my_history.page.click&amp;vd_source=ef1448cd7cb97cff903c2e66c975ba5d" title="æ•°è®ºè®²ä¹‰ä¸‹ å¤šé¡¹å¼ 2 åˆ†åœ†å¤šé¡¹å¼_å“”å“©å“”å“©_bilibili">æ•°è®ºè®²ä¹‰ä¸‹å¤šé¡¹å¼ 2 åˆ†åœ†å¤šé¡¹å¼_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://zhuanlan.zhihu.com/p/105400582" title="åˆ†åœ†å¤šé¡¹å¼çš„ç®€å•æ€§è´¨ä¸åº”ç”¨ - çŸ¥ä¹ (zhihu.com)">åˆ†åœ†å¤šé¡¹å¼çš„ç®€å•æ€§è´¨ä¸åº”ç”¨- çŸ¥ä¹ (zhihu.com)</a></p><p>æå…¶æ¨èé˜…è¯» ğŸ”¥ï¼š <a href="https://yhx-12243.github.io/OI-transit/memos/17.html" title="åˆ†åœ†å¤šé¡¹å¼ (yhx-12243.github.io)">åˆ†åœ†å¤šé¡¹å¼(yhx-12243.github.io)</a></p></blockquote><p><span class="math inline">\(n\)</span> æ¬¡åˆ†åœ†å¤šé¡¹å¼æ˜¯ <span class="math inline">\(x^n-1\)</span> çš„å› å¼ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><p>å…·æœ‰æ•´æ•°ç³»æ•°</p></li><li><p>æ˜¯å”¯ä¸€ä¸”ä¸å¯çº¦çš„</p></li><li><p>é¦–ä¸€å¤šé¡¹å¼</p></li><li><p>ä¸æ˜¯ä»»ä½• <span class="math inline">\(x^k-1,k&lt;n\)</span>çš„å› å¼</p></li><li><p>æ˜¯å®æ•°åŸŸä¸Š <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹çš„<a href="https://www.wolai.com/ailanxier/fEPneu1wsCBBd29R8mqhdi#pRyNcv7sZATcm4N8jpxFKm" title="æå°å¤šé¡¹å¼">æå°å¤šé¡¹å¼</a></p></li></ul><p>ä»æœ€åä¸€ç‚¹å¯ä»¥çœ‹å‡ºï¼Œ<span class="math inline">\(n\)</span>æ¬¡åˆ†åœ†å¤šé¡¹å¼ä¸ <span class="math inline">\(n\)</span>æ¬¡å•ä½åŸæ ¹æœ‰ç€ç´§å¯†çš„å…³ç³»ï¼Œå®é™…ä¸Šï¼Œ<span class="math inline">\(n\)</span>æ¬¡åˆ†åœ†å¤šé¡¹å¼çš„å½¢å¼å°±æ˜¯ <span class="math inline">\(n\)</span>æ¬¡å•ä½åŸæ ¹ä¸ºå•æ ¹çš„é¦–ä¸€å¤šé¡¹å¼çš„ä¹˜ç§¯ï¼š</p><p><span class="math display">\[\Phi_{n}(x)=\prod_{\substack{1 \leq k \leq n \\ \operatorname{gcd}(k,n)=1}}\left(x-e^{2 i \pi \frac{k}{n}}\right)\]</span></p><blockquote><p>ç”±äº <span class="math inline">\(n\)</span> æ¬¡å•ä½åŸæ ¹ä¸€å…±æœ‰ <span class="math inline">\(\varphi(n)\)</span> ä¸ªï¼Œæ‰€ä»¥ <span class="math inline">\(n\)</span> æ¬¡åˆ†åœ†å¤šé¡¹å¼çš„æ¬¡æ•°ä¸º <span class="math inline">\(\text{deg}\;\Phi_n(x)=\varphi(n)\)</span>ï¼Œå¤§æ¦‚ä¹Ÿå°±æ˜¯åˆ†åœ†å¤šé¡¹å¼ä½¿ç”¨<span class="math inline">\(\Phi\)</span> çš„åŸå› å§ã€‚</p><p>è¿™é‡Œä¸Šä¸‹ç•Œåˆ’åˆ°äº† <span class="math inline">\([1,n]\)</span>ï¼Œå…¶å®æ˜¯å’Œ<span class="math inline">\([0,n-1]\)</span> æ¨¡ <span class="math inline">\(n\)</span> ç­‰ä»·çš„ï¼Œä½†æ˜¯ä¸èƒ½å¯¹ <span class="math inline">\(0\)</span> è¿›è¡Œ <span class="math inline">\(\gcd\)</span> è¿ç®—ï¼Œæ‰€ä»¥åé¢éƒ½ç”¨ <span class="math inline">\([1,n]\)</span>ã€‚</p></blockquote><p><span class="math inline">\(n\)</span>æ¬¡åˆ†åœ†å¤šé¡¹å¼å…·æœ‰è®¸å¤šå¥‡å¦™çš„ç‰¹æ€§ï¼š</p><ul><li><p><span class="math inline">\(\begin{aligned}\prod_{d\midn}\Phi_d(x)=x^n-1\end{aligned}\)</span></p><blockquote><p>é¦–å…ˆè®²ä¸€ä¸ªå¼•ç† <span class="math inline">\(\begin{aligned}\sum_{d\midn}\varphi(d)=n\end{aligned}\)</span>åŠå…¶è¯æ˜ï¼Œç±»ä¼¼è¿™ä¸ªè¯æ˜å¯ä»¥è¯å‡ºä¸Šè¿°ç‰¹æ€§ã€‚</p><p>è¯æ˜ï¼š</p><p>å¦‚æœ <span class="math inline">\(\gcd(k,n)=d,k&lt;n\)</span>ï¼Œé‚£ä¹ˆå°±æœ‰ <span class="math inline">\(\begin{aligned}\gcd\left(\frac{k}{d},\frac{n}{d}\right)=1\end{aligned}\)</span>ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦ç»Ÿè®¡ <span class="math inline">\(1\sim n\)</span>çš„æ•´æ•°ä¸­ï¼Œæ»¡è¶³ <span class="math inline">\(\gcd(k,n)=d\)</span> çš„ <span class="math inline">\(k\)</span> çš„ä¸ªæ•°ï¼Œè®°ä¸º <span class="math inline">\(f(d)\)</span>ã€‚</p><p>è®©æˆ‘ä»¬è¯•ç€è€ƒè™‘ä¸€ä¸‹å°äº <span class="math inline">\(\begin{aligned}\frac{n}{d}\end{aligned}\)</span>çš„æ•´æ•°ä¸­ï¼Œä¸ <span class="math inline">\(\begin{aligned}\frac{n}{d}\end{aligned}\)</span>äº’è´¨çš„æ•° <span class="math inline">\(k'\)</span>ï¼Œä¼šå‘ç°ä»–ä»¬ä¹˜ä¸Š<span class="math inline">\(d\)</span> åï¼Œæ»¡è¶³ <span class="math inline">\(\gcd(k'd,n)=d\)</span>ã€‚</p><p>æ‰€ä»¥æœ‰ <span class="math inline">\(\begin{aligned}f(d)=\varphi\left(\frac{n}{d}\right)\end{aligned}\)</span>ã€‚</p><p>åˆå› ä¸º <span class="math inline">\(n\)</span> å’Œ <span class="math inline">\(1\sim n\)</span> ä¸­æ¯ä¸ªæ•´æ•°çš„ <span class="math inline">\(\gcd\)</span> éƒ½æ˜¯ <span class="math inline">\(n\)</span> çš„å› å­ï¼Œæ‰€ä»¥æœ‰ <span class="math inline">\(\begin{aligned}\sum_{d=1}^nf(d)=\sum_{d\midn}f(d)=n\end{aligned}\)</span>ï¼Œ</p><p>è¿›è€Œå¾—åˆ° <span class="math inline">\(\begin{aligned}\sum_{d\midn}\varphi\left(\frac{n}{d}\right)=n\end{aligned}\)</span>ï¼Œç”±äºå› å­<span class="math inline">\(d\)</span> å’Œ <span class="math inline">\(\begin{aligned}\frac{n}{d}\end{aligned}\)</span>å…·æœ‰å¯¹ç§°æ€§ï¼Œæ‰€ä»¥ <span class="math inline">\(\begin{aligned}\sum_{d\midn}\varphi(d)=n\end{aligned}\)</span>ã€‚</p></blockquote><p>ç±»ä¼¼ä¸Šé¢çš„è¯æ˜æ€è·¯ï¼Œå…ˆè®¾ <span class="math inline">\(\begin{aligned}\omega_n^k=\exp\left(\frac{2k\pii}{n}\right),k\in\{0,1,\ldots,n-1\}\end{aligned}\)</span> ä¸ºä¸€ä¸ª <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ï¼Œè®° <span class="math inline">\(\gcd(n,k)=d,n=n'd,k=k'd,\gcd(n',k')=1,n'&gt;k'\)</span>ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬ä¼šå‘ç°ï¼Œ<span class="math inline">\(w_{n'}^{k'}\)</span> ä¸å°±æ˜¯ <span class="math inline">\(n'\)</span> æ¬¡å•ä½åŸæ ¹å—ï¼Œå› ä¸ºå®ƒæ»¡è¶³äº† <span class="math inline">\(\gcd(n',k')=1\)</span>ï¼Œæ³¨æ„åˆ° <span class="math inline">\(n'\mid n\)</span>ï¼Œå³å®ƒä¹Ÿæ˜¯ <span class="math inline">\(n\)</span> çš„å› å­ã€‚</p><p>è¿›ä¸€æ­¥ä¼šå‘ç°ï¼Œ<span class="math inline">\(w_{n'}^{k'}\)</span> æ˜¯ä¸ª <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ï¼Œå› ä¸ºæœ‰</p><p><span class="math display">\[\begin{aligned}\omega_{n'}^{k'}=\exp\left(\frac{2k'\pii}{n'}\right)=\exp\left(\frac{2k'\pii\times\frac{n}{n'}}{n'\times\frac{n}{n'}}\right)=\exp\left(\frac{2k'd\pi i}{n}\right)=\exp\left(\frac{2k\pi i}{n}\right)=w_n^k\end{aligned}\]</span></p><p>åˆç»•å›æ¥äº†ï¼Œæ˜¾ç„¶å¯ä»¥çœ‹å‡ºæ¯ä¸ª <span class="math inline">\(n\)</span>çš„å› å­ <span class="math inline">\(n'\)</span> çš„å•ä½åŸæ ¹ï¼Œéƒ½å’Œ<span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹æœ‰ç€ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p><blockquote><p>å¯¹äºä¸€ä¸ª <span class="math inline">\(n\)</span> æ¬¡å•ä½æ ¹ <span class="math inline">\(w_n^k\)</span>ï¼Œæ¯ä¸ª <span class="math inline">\(k\)</span> ç¡®å®šäº†ä¸€ä¸ªå› å­ <span class="math inline">\(n'\)</span> å’Œå…¶å¯¹åº”çš„ <span class="math inline">\(w_{n'}^{k'}\)</span> å•ä½åŸæ ¹ã€‚</p></blockquote><p>åˆå› ä¸ºæˆ‘ä»¬ä¸Šé¢æœ‰ <span class="math inline">\(x^n-1\)</span>çš„å› å¼åˆ†è§£å½¢å¼ä¸º</p><p><span class="math display">\[x^n-1=(x-1)(x-w_n^1)\cdots(x-w_n^{n-1})\]</span></p><p>è¿˜æœ‰ <span class="math inline">\(n'\)</span> çš„åˆ†åœ†å¤šé¡¹å¼å½¢å¼</p><p><span class="math display">\[\Phi_{n'}(x)=\prod_{\substack{1 \leq k' \leq n' \\\operatorname{gcd}(k', n')=1}}\left(x-w_{n'}^{k'}\right)\]</span></p><p>æ ¹æ®ä¸€ä¸€å¯¹åº”å…³ç³»ï¼Œé€ä¸€ä»£æ›¿ä¸º $ n' $ æ¬¡å•ä½åŸæ ¹å°±èƒ½å¾—åˆ° <span class="math inline">\(\begin{aligned}\prod_{d\midn}\Phi_d(x)=x^n-1\end{aligned}\)</span>ã€‚</p></li><li><p>å½“ <span class="math inline">\(n\)</span> ä¸ºè´¨æ•°æ—¶ï¼Œæœ‰ï¼š</p><p><span class="math display">\[\Phi_{n}(x)=\frac{x^{n}-1}{x-1}=x^{n-1}+x^{n-2}+\cdots+1\]</span></p><blockquote><p>è¯æ˜ï¼š</p><p>é¦–å…ˆæœ‰ä¸ªå› å¼åˆ†è§£çš„å¥‡æŠ€æ·«å·§ï¼š</p><p><span class="math display">\[x^{n}-1=(x-1)\left(x^{n-1}+x^{n-2}+\cdots+x+1\right)\]</span></p><p>æŠŠå³è¾¹ä¹˜è¿›å»å°±ä¼šå‘ç°ä¸­é—´æ¬¡æ•°é¡¹éƒ½è¢«å·§å¦™åœ°æ¶ˆæ‰äº†ï¼Œåªå‰© <span class="math inline">\(n\)</span> æ¬¡æ–¹é¡¹å’Œ 1ã€‚</p><p>ç„¶åç”±ç¬¬ä¸€ä¸ªåˆ†åœ†å¤šé¡¹å¼çš„æ€§è´¨ï¼Œå¯ä»¥çŸ¥é“å½“ <span class="math inline">\(n\)</span> ä¸ºè´¨æ•°æ—¶ï¼Œå› å­åªæœ‰ 1 å’Œå®ƒæœ¬èº«ï¼Œæœ‰</p><p><span class="math display">\[\begin{aligned}\prod_{d\midn}\Phi_d(x)=\Phi_1(x)\Phi_n(x)=(x-w_1^1)\Phi_n(x)=(x-1)\Phi_n(x)=x^n-1\end{aligned}\]</span></p><p>ç§»é¡¹åå†ä»£å…¥ä¸Šè¿°å› å¼åˆ†è§£ä¸­å³å¯å¾—åˆ° <span class="math inline">\(\begin{aligned}\Phi_{n}(x)=\frac{x^{n}-1}{x-1}=x^{n-1}+x^{n-2}+\cdots+1\end{aligned}\)</span></p></blockquote></li><li><p>å¯¹äºä»»æ„æ­£æ•´æ•° <span class="math inline">\(n\)</span>ï¼Œ<span class="math inline">\(\Phi_{n}(x)\)</span> æ˜¯æ•´æ•°å¤šé¡¹å¼ç¯ <span class="math inline">\(\mathbb{Z}[x]\)</span> ä¸­çš„ä¸å¯çº¦å¤šé¡¹å¼</p></li><li><p><span class="math inline">\(\Phi_{2^{d}}(x)=x^{2^{d-1}}+1\)</span></p></li></ul><h3 id="èŒƒæ•°">èŒƒæ•°</h3><blockquote><p><a href="http://staff.ustc.edu.cn/~rui/ppt/num/num-norm.html" title="èŒƒæ•° (ustc.edu.cn)">èŒƒæ•° (ustc.edu.cn)</a></p><p><a href="https://en.wikipedia.org/wiki/Norm_(mathematics)" title="Norm (mathematics) - Wikipedia ~ è§„èŒƒï¼ˆæ•°å­¦ï¼‰ - ç»´åŸºç™¾ç§‘">Norm(mathematics) - Wikipedia ~ è§„èŒƒï¼ˆæ•°å­¦ï¼‰ - ç»´åŸºç™¾ç§‘</a></p><p><a href="https://mathworld.wolfram.com/PolynomialNorm.html" title="Polynomial Norm -- from Wolfram MathWorld">Polynomial Norm --from Wolfram MathWorld</a></p></blockquote><p>èŒƒæ•°æ˜¯ä¸€ä¸ªä»å®æ•°æˆ–å¤æ•°å‘é‡ç©ºé—´ï¼ˆReal or Complex Vector Spaceï¼‰<span class="math inline">\(X\)</span> åˆ°éè´Ÿå®æ•°ï¼ˆNon-negative RealBumbersï¼‰<span class="math inline">\(\mathbbR\)</span>çš„å®å€¼å‡½æ•°ï¼ˆReal-valued Functionï¼‰ <span class="math inline">\(f:X\to\mathbb R\)</span>ï¼Œå¹¶ä¸”æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li><p>æ­£å®šæ€§ Positive Definitenessï¼š</p><p><span class="math display">\[f(x)=0\iff x=0\]</span></p></li><li><p>ç»å¯¹é½æ¬¡æ€§ï¼ˆAbsolute Homogeneityï¼‰ï¼š</p><p><span class="math inline">\(\forall s\in\mathbb R,\forall x\inX,f(sx)=|s|f(x)\)</span>ï¼Œ<span class="math inline">\(s\)</span>ä¸ºæ ‡é‡ã€‚</p></li><li><p>ä¸‰è§’ä¸ç­‰å¼ï¼ˆTriangle Inequalityï¼Œæˆ–å«ã€Œæ¬¡åŠ æ€§ã€Subadditivityï¼‰ï¼š</p><p><span class="math display">\[\forall x, y \in X,f(x+y) \leq f(x)+f(y)\]</span></p></li></ul><p>ç§° <span class="math inline">\(f(x)\)</span> æ˜¯ <span class="math inline">\(X\)</span> ä¸Šçš„èŒƒæ•°ï¼Œè®°ä¸º <span class="math inline">\(\|x\|\)</span>ã€‚</p><blockquote><p>éè´Ÿæ€§å…¶å®ç”±ç»å¯¹é½æ¬¡æ€§å’Œæ¬¡åŠ æ€§æ¨å‡ºï¼Œæ‰€ä»¥ä¸æ˜¯å¿…é¡»æŒ‡å‡ºçš„æ€§è´¨ï¼š</p><p>é¦–å…ˆä»¤ <span class="math inline">\(s=0\)</span>ï¼Œå¯ä»¥å¾—åˆ° <span class="math inline">\(f(0\times x)=f(0)=0\)</span>ã€‚</p><p>ä»¤ <span class="math inline">\(s=-1\)</span>ï¼Œå¯ä»¥å¾—åˆ° <span class="math inline">\(\forall x\in X,f(-x)=f(x)\)</span>ï¼Œå‡è®¾å­˜åœ¨ <span class="math inline">\(f(a)&lt;0\)</span>ï¼Œåˆ™ <span class="math inline">\(f(-a)=f(a)&lt;0\)</span>ã€‚</p><p>æ ¹æ®æ¬¡åŠ æ€§æœ‰ <span class="math inline">\(f(a+(-a))=f(0)=0&lt;f(a)+f(-a)\)</span>ï¼Œç„¶è€Œ<span class="math inline">\(f(a)+f(-a)&lt;0\)</span>ï¼Œæ‰€ä»¥çŸ›ç›¾ã€‚</p></blockquote><p>å¯¹äº <span class="math inline">\(n\)</span> ç»´æ¬§å¼ç©ºé—´ï¼ˆEuclideanSpaceï¼‰ <span class="math inline">\(\mathbb{R}^n\)</span>ï¼Œå…¶ä¸Šçš„å‘é‡å½¢å¼ä¸º <span class="math inline">\(\boldsymbol{x}=\left(x_{1}, x_{2}, \ldots,x_{n}\right)\)</span>ï¼Œæœ‰å‡ ç§å¸¸ç”¨çš„èŒƒæ•°ï¼š</p><ul><li><p><span class="math inline">\(p\)</span>-èŒƒæ•°ï¼š</p><p><span class="math display">\[\|\boldsymbol{x}\|_{p}:=\left(\sum_{i=1}^{n}\left|x_{i}\right|^{p}\right)^{1/ p}\]</span></p><p>é‡Œé¢å¸¸ç”¨çš„æœ‰ã€Œ1-èŒƒæ•°ï¼ˆåˆå«<a href="https://en.wikipedia.org/wiki/Taxicab_geometry" title="æ›¼å“ˆé¡¿èŒƒæ•° Manhattan Norm">æ›¼å“ˆé¡¿èŒƒæ•° ManhattanNorm</a>ï¼‰ã€å’Œã€Œ2-èŒƒæ•°ï¼ˆåˆå«<a href="https://en.wikipedia.org/wiki/Euclidean_space#Euclidean_norm" title="æ¬§å‡ é‡Œå¾—èŒƒæ•° Euclidean Norm">æ¬§å‡ é‡Œå¾—èŒƒæ•° EuclideanNorm</a>ï¼‰ã€ï¼Œåˆ†åˆ«ä¸ºï¼š</p><p><span class="math display">\[\|\boldsymbolx\|_{1}=\sum_{i=1}^{n}\left|x_{i}\right|,\quad\|\boldsymbolx\|_{2}=\sqrt{\sum_{i=1}^{n} x_{i}^{2}}\]</span></p></li><li><p>æ— ç©·èŒƒæ•° Infinity Normï¼š</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Uniform_norm" title="Uniform norm - Wikipedia">Uniform norm - Wikipedia</a></p></blockquote><p><span class="math display">\[\|\boldsymbol{x}\|_{\infty}:=\max \left(\left|x_{1}\right|,\ldots,\left|x_{n}\right|\right)\]</span></p><p>å®é™…ä¸Šç§°ä¸ºæœ€å¤§èŒƒæ•°ï¼ˆMaximumNormï¼‰æ›´å¥½ï¼Œæ›´ä¸€èˆ¬çš„ç§°å‘¼æ˜¯ã€Œä¸€è‡´èŒƒæ•°ï¼ˆUniformNormï¼‰ã€ï¼Œè¿™æ˜¯å®šä¹‰åœ¨å–æŒ‡ä¸ºé›†åˆ <span class="math inline">\(S\)</span>ä¸Šæœ‰ç•Œå‡½æ•° <span class="math inline">\(f\)</span>ï¼Œå½¢å¼ä¸ºï¼š</p><p><span class="math display">\[\|f\|_{\infty}=\|f\|_{\infty, S}=\sup \{|f(s)|: s \in S\}\]</span></p><blockquote><p>sup æ˜¯ supremumï¼ˆä¸Šç¡®ç•Œï¼‰çš„ç®€å†™ï¼Œç±»ä¼¼è¿˜æœ‰ inf æ˜¯infimumï¼ˆä¸‹ç¡®ç•Œï¼‰çš„ç®€å†™ã€‚</p><p>ä¸€è‡´èŒƒæ•°æœ‰è®¸å¤šåç§°ï¼šä¸Šç¡®ç•ŒèŒƒæ•° Supremum Normã€åˆ‡æ¯”é›ªå¤«èŒƒæ•° ChebyshevNorm å’Œæ— ç©·èŒƒæ•°ã€‚</p><p>å½“ä¸Šç¡®ç•Œå°±æ˜¯å–æœ€å¤§å€¼æ—¶ï¼Œæ‰ç§°ä¸ºæœ€å¤§èŒƒæ•°ã€‚</p><p>ä¸€è‡´èŒƒæ•°çš„èµ·åå’Œå‡½æ•°åºåˆ—çš„ä¸€è‡´æ”¶æ•›æœ‰å…³ã€‚</p></blockquote></li></ul><h3 id="çŸ©é˜µèŒƒæ•°-matrix-norm">çŸ©é˜µèŒƒæ•° Matrix Norm</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Matrix_norm" title="Matrix norm - Wikipedia">Matrix norm - Wikipedia</a></p><p><a href="https://zh.wikipedia.org/zh-hans/çŸ©é™£ç¯„æ•¸" title="çŸ©é˜µèŒƒæ•° - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)">çŸ©é˜µèŒƒæ•° -ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><p><a href="http://staff.ustc.edu.cn/~rui/ppt/num/num-norm.html#num-norm-matrix" title="1.2. çŸ©é˜µèŒƒæ•°">1.2.â€‚çŸ©é˜µèŒƒæ•°</a></p></blockquote><p>å®šä¹‰å’ŒèŒƒæ•°ç±»ä¼¼ï¼Œè®¾ <span class="math inline">\(K\)</span>ä¸ºå®æ•°æˆ–å¤æ•°æ„æˆçš„åŸŸï¼Œ<span class="math inline">\(K^{m\times n}\)</span>æ˜¯ <span class="math inline">\(m\)</span> è¡Œ <span class="math inline">\(n\)</span> åˆ—çš„çŸ©é˜µï¼Œå‡½æ•° <span class="math inline">\(\|\cdot\|: K^{m \times n} \rightarrow\mathbb{R}\)</span> ç§°ä¸º <span class="math inline">\(K^{m\timesn}\)</span> ä¸Šçš„èŒƒæ•°ï¼Œä¸”è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼ˆ<span class="math inline">\(\alpha\in K\)</span>ï¼Œ<span class="math inline">\(A, B \in K^{m \times n}\)</span>ï¼‰ï¼š</p><ul><li><p>éè´Ÿï¼š<span class="math inline">\(\|A\| \geq 0\)</span></p></li><li><p>æ­£å®šï¼š<span class="math inline">\(\|A\|=0 \LongleftrightarrowA=0_{m, n}\)</span></p></li><li><p>ç»å¯¹é½æ¬¡æ€§ï¼š<span class="math inline">\(\|\alphaA\|=|\alpha|\|A\|\)</span></p></li><li><p>æ¬¡åŠ æ€§ï¼š<span class="math inline">\(\|A+B\|\leq\|A\|+\|B\|\)</span></p></li><li><p>ä¸æ˜¯å¿…é¡»çš„æ€§è´¨ï¼šæ¬¡ä¹˜æ€§ï¼š<span class="math inline">\(\|A B\|\leq\|A\|\|B\|\)</span>ï¼Œæ‹¥æœ‰æ¬¡ä¹˜æ€§çš„çŸ©é˜µèŒƒæ•°ç”¨å¤„å¾ˆå¤§ï¼ŒåŒæ—¶æ‰€æœ‰å®šä¹‰åœ¨<span class="math inline">\(K^{n\times n}\)</span>ä¸Šçš„çŸ©é˜µèŒƒæ•°éƒ½å…·æœ‰æ¬¡ä¹˜æ€§</p></li></ul><p>æ¯”è¾ƒå¸¸ä½¿ç”¨çš„çŸ©é˜µèŒƒæ•°ï¼š</p><ul><li><p>å‘é‡èŒƒæ•°è¯±å¯¼çš„çŸ©é˜µèŒƒæ•° Matrix Norms Induced by Vector Normsï¼š</p><p><span class="math inline">\(\|\cdot\|_{\alpha},\;\|\cdot\|_{\beta}\)</span>åˆ†åˆ«æ˜¯ <span class="math inline">\(K^n\)</span> å’Œ <span class="math inline">\(K^m\)</span> ä¸Šçš„å‘é‡èŒƒæ•°ï¼ŒçŸ©é˜µ <span class="math inline">\(A^{m\times n}\)</span> æ˜¯ä» <span class="math inline">\(K^n\)</span> åˆ° <span class="math inline">\(K^m\)</span>çš„çº¿æ€§å˜æ¢çŸ©é˜µï¼Œç›¸åº”çš„è¯±å¯¼èŒƒæ•°ä¸ºï¼š</p><p><span class="math display">\[\begin{aligned}\|A\|_{\alpha, \beta} &amp;=\sup \left\{\|A \boldsymbolx\|_{\beta}:\boldsymbol x \in K^{n} \text { with }\|\boldsymbolx\|_{\alpha}=1\right\} \\ &amp;=\sup \left\{\frac{\|A \boldsymbolx\|_{\beta}}{\|\boldsymbol x\|_{\alpha}}:\boldsymbol  x \in K^{n} \text{ with }\boldsymbol x \neq 0\right\} \end{aligned}\]</span></p><p>ç”¨æ¥è¡¡é‡çŸ©é˜µå¯¹å‘é‡çš„æ‹‰ä¼¸ç¨‹åº¦ã€‚</p><blockquote><p>å‘é‡èŒƒæ•°è¯±å¯¼çš„çŸ©é˜µèŒƒæ•° <span class="math inline">\(\|\cdot\|_{\alpha,\alpha}\)</span> éƒ½å…·æœ‰æ¬¡ä¹˜æ€§ï¼Œå³</p><p><span class="math display">\[\|A B\|_{\alpha, \alpha} \leq\|A\|_{\alpha, \alpha}\|B\|_{\alpha,\alpha}\]</span></p><p>åŒæ—¶è¿™æ ·çš„èŒƒæ•°æ»¡è¶³ï¼š</p><p><span class="math display">\[\forall r\in\mathbb N^+,\left(\left\|A^{r}\right\|_{\alpha,\alpha}\right)^{1 / r} \geq \rho(A)\]</span></p><p><span class="math inline">\(\rho(A)\)</span> æ˜¯çŸ©é˜µ <span class="math inline">\(A\)</span> çš„<a href="https://en.wikipedia.org/wiki/Spectral_radius" title="è°±åŠå¾„ Spectral Radius">è°±åŠå¾„ Spectral Radius</a>ï¼Œæ˜¯ <span class="math inline">\(A\)</span> ä¸­ç‰¹å¾å€¼ç»å¯¹å€¼çš„æœ€å¤§å€¼ã€‚</p><p>æ­¤å¤–è°±åŠå¾„è¿˜æ˜¯ä»»æ„çŸ©é˜µèŒƒæ•°çš„ä¸‹ç¡®ç•Œã€‚</p></blockquote><p>å½“ <span class="math inline">\(K^n\)</span> å’Œ <span class="math inline">\(K^m\)</span> çš„å‘é‡èŒƒæ•°éƒ½æ˜¯ <span class="math inline">\(p\)</span>-èŒƒæ•°æ—¶ï¼Œè¯±å¯¼çš„çŸ©é˜µèŒƒæ•°ç§°ä¸ºçŸ©é˜µçš„è¯±å¯¼<span class="math inline">\(p\)</span>-èŒƒæ•°ï¼Œå½¢å¼å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\|A\|_{p}=\max _{\boldsymbol x \neq 0}\frac{\|A\boldsymbol  x\|_{p}}{\|\boldsymbol x\|_{p}}=\max _{x \neq 0}\frac{\begin{aligned}\left(\sum_{i=1}^{m}\left|\sum_{j=1}^{n} a_{ij}\boldsymbol x_{j}\right|^{p}\right)^{1 / p}\end{aligned}}{\begin{aligned}\left(\sum_{j=1}^{n}\left|\boldsymbolx_{j}\right|^{p}\right)^{1 / p}\end{aligned} }\]</span></p><ul><li><p><span class="math inline">\(p=1\)</span>ï¼Œç›¸å½“äºçŸ©é˜µæ¯ä¸€åˆ—ç»å¯¹å€¼ç›¸åŠ ï¼Œå¾—åˆ°çš„å’Œå‘é‡çš„ä¸­çš„æœ€å¤§å€¼ï¼š</p><p><span class="math display">\[\|A\|_{1}=\max _{1 \leq j \leq n} \sum_{i=1}^{m}\left|a_{i j}\right|\]</span></p></li><li><p><span class="math inline">\(p=\infty\)</span>ï¼Œç›¸å½“äºçŸ©é˜µæ¯ä¸€è¡Œç»å¯¹å€¼ç›¸åŠ ï¼Œå¾—åˆ°çš„å’Œå‘é‡çš„ä¸­çš„æœ€å¤§å€¼ï¼š</p><p><span class="math display">\[\|A\|_{\infty}=\max _{1 \leq i \leq m} \sum_{j=1}^{n}\left|a_{ij}\right|\]</span></p></li><li><p><span class="math inline">\(p=2\)</span>ï¼Œè¯±å¯¼çš„çŸ©é˜µèŒƒæ•°å°±æ˜¯è°±èŒƒæ•°ã€‚çŸ©é˜µ <span class="math inline">\(A\)</span> çš„è°±èŒƒæ•°æ˜¯ <span class="math inline">\(A\)</span> æœ€å¤§çš„å¥‡å¼‚å€¼ <span class="math inline">\(\sigma_{\max }(A)\)</span> æˆ–åŠæ­£å®šçŸ©é˜µ <span class="math inline">\(A^* A\)</span> çš„æœ€å¤§ç‰¹å¾å€¼çš„å¹³æ–¹æ ¹ï¼š</p><p><span class="math display">\[\|A\|_{2}=\sqrt{\lambda_{\max }\left(A^{*}A\right)}=\sqrt{\rho\left(A^{*} A\right)}=\sigma_{\max }(A)\]</span></p><blockquote><p><span class="math inline">\(A^*\)</span> æ˜¯ <span class="math inline">\(A\)</span> çš„å…±è½­è½¬ç½® Conjugate Transpose </p></blockquote></li></ul></li><li><p>"Entry-wise" Matrix Norms é€å…ƒç´ çš„çŸ©é˜µèŒƒæ•°ï¼ˆä¸ä¼šç¿»è¯‘ï¼‰</p><p>è¿™ç§èŒƒæ•°å°† <span class="math inline">\(m\times n\)</span>çŸ©é˜µè§†ä½œå¤§å°ä¸º <span class="math inline">\(mn\)</span>çš„å‘é‡ï¼Œå†è¿ç”¨å‘é‡èŒƒæ•°è¿›è¡Œè®¡ç®—</p><blockquote><p>éƒ¨åˆ†è®°å·å’Œä¸Šè¿°çš„ <span class="math inline">\(p\)</span>-èŒƒæ•°ç›¸åŒï¼Œä½†æ˜¯æ„ä¹‰ä¸åŒ</p></blockquote><ul><li><p><span class="math inline">\(L_{p,q}\)</span> èŒƒæ•°ï¼š</p><p>è®° <span class="math inline">\((a_1,a_2,\ldots,a_n)\)</span>æ˜¯çŸ©é˜µ<span class="math inline">\(A\)</span> çš„åˆ—ï¼Œ<span class="math inline">\(L_{2,1}\)</span> èŒƒæ•°å¯ä»¥è§†ä½œå¯¹äºæ¯ä¸€åˆ—å‘é‡è®¡ç®—2-èŒƒæ•°ï¼Œå†åŠ å’Œï¼Œå³ï¼š</p><p><span class="math display">\[\|A\|_{2,1}=\sum_{j=1}^{n}\left\|a_{j}\right\|_{2}=\sum_{j=1}^{n}\left(\sum_{i=1}^{m}\left|a_{ij}\right|^{2}\right)^{\frac{1}{2}}\]</span></p><p>æ›´ä¸€èˆ¬çš„ï¼Œè®¾ <span class="math inline">\(p,q\ge 1\)</span>ï¼Œ<span class="math inline">\(L_{2,1}\)</span> èŒƒæ•°å¯ä»¥æ¨å¹¿åˆ°<span class="math inline">\(L_{p,q}\)</span> èŒƒæ•°ï¼š</p><p><span class="math display">\[\|A\|_{p, q}=\left(\sum_{j=1}^{n}\left(\sum_{i=1}^{m}\left|a_{ij}\right|^{p}\right)^{\frac{q}{p}}\right)^{\frac{1}{q}}\]</span></p></li><li><p>å¼—ç½—è´å°¼ä¹Œæ–¯èŒƒæ•° Frobenius Normï¼š</p><p>å…¶å®å°±æ˜¯ <span class="math inline">\(p=q=2\)</span> çš„ <span class="math inline">\(L_{p,q}\)</span> èŒƒæ•°ï¼Œä»–çš„å½¢å¼å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\|A\|_{\mathrm{F}}=\sqrt{\sum_{i}^{n} \sum_{j}^{n}\left|a_{ij}\right|^{2}}=\sqrt{\operatorname{trace}\left(A^{*}A\right)}=\sqrt{\sum_{i=1}^{\min \{m, n\}} \sigma_{i}^{2}(A)}\]</span></p><p>å…·æœ‰æ¬¡ä¹˜æ€§çš„ä¸”é€šå¸¸æ¯”è¯±å¯¼èŒƒæ•°å®¹æ˜“è®¡ç®—ã€‚</p></li><li><p>æœ€å¤§å€¼èŒƒæ•° Max Norm</p><p>å³çŸ©é˜µä¸­ç»å¯¹å€¼æœ€å¤§çš„å…ƒç´ ï¼Œå½¢å¼ä¸º <span class="math inline">\(\begin{aligned}\|A\|_{\max }=\max _{i j}\left|a_{ij}\right|\end{aligned}\)</span>ï¼Œä¸æ»¡è¶³æ¬¡ä¹˜æ€§ã€‚</p></li></ul></li></ul><h3 id="å¤šé¡¹å¼èŒƒæ•°">å¤šé¡¹å¼èŒƒæ•°</h3><blockquote><p><a href="https://mathworld.wolfram.com/PolynomialNorm.html" title="Polynomial Norm -- from Wolfram MathWorld">Polynomial Norm --from Wolfram MathWorld</a></p></blockquote><p>å¯ä»¥å¯¹å¤šé¡¹å¼ <span class="math inline">\(\begin{aligned}f(x)=\sum_{i=0}^{n} a_{i}x^{k}\end{aligned}\)</span> å®šä¹‰èŒƒæ•°ï¼š</p><p><span class="math display">\[\|f(x)\|_{p} =\left(\sum_{i=0}^{n}\left|a_{i}\right|^{p}\right)^{1 / p}\]</span></p><p>å…¶å®å°±æ˜¯å¯¹ç³»æ•°è®¡ç®—å‘é‡èŒƒæ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘æ¯•ä¸šè®¾è®¡</category>
      
      <category>å‰ç½®çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¨åŒæ€åŠ å¯†</tag>
      
      <tag>æŠ½è±¡ä»£æ•°</tag>
      
      <tag>æ•°è®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FHEå­¦ä¹ ç¬”è®° #2 å¤šé¡¹å¼ç¯</title>
    <link href="/FHE-2-polynomial%20ring.html"/>
    <url>/FHE-2-polynomial%20ring.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><a href="https://en.wikipedia.org/wiki/Polynomial_ring" title="https://en.wikipedia.org/wiki/Polynomial_ring">https://en.wikipedia.org/wiki/Polynomial_ring</a></p><p><a href="https://zhuanlan.zhihu.com/p/419266064">ç¯è®º(4/5/ä¸Š):ä¸€å…ƒå¤šé¡¹å¼çš„åŸºæœ¬ç†è®º - çŸ¥ä¹ (zhihu.com)</a></p><p>è¿™ç¯‡çŸ¥ä¹æ–‡ç« è®²çš„æ¯”è¾ƒé€å½»ï¼Œä½†æ˜¯ä¸æ˜“ç†è§£ï¼Œå¯ä»¥ç»“åˆä»¥ä¸‹è§†é¢‘å­¦ä¹ ã€‚</p><p>æ— å°½æ²™ç ¾å¤§ä½¬çš„è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Cz4y1Q7Mu?p=153" title="3-6-å¤šé¡¹å¼ç¯-4_å“”å“©å“”å“©_bilibili">3-6-å¤šé¡¹å¼ç¯-4_å“”å“©å“”å“©_bilibili</a>~ <a href="https://www.bilibili.com/video/BV1Cz4y1Q7Mu?p=157&amp;vd_source=ef1448cd7cb97cff903c2e66c975ba5d" title="3-6-å¤šé¡¹å¼ç¯-8_å“”å“©å“”å“©_bilibili">3-6-å¤šé¡¹å¼ç¯-8_å“”å“©å“”å“©_bilibili</a></p><p>é¡¾æ²›è€å¸ˆçš„è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1qG4y1B74U?p=30&amp;vd_source=ef1448cd7cb97cff903c2e66c975ba5d" title="30.å¤šé¡¹å¼ç¯1_å“”å“©å“”å“©_bilibili">30.å¤šé¡¹å¼ç¯1_å“”å“©å“”å“©_bilibili</a></p><p>æœ¬æ–‡ä¸»è¦æ˜¯ç®€åŒ–äº†çŸ¥ä¹æ–‡ç« çš„å™è¿°ï¼Œä¼˜åŒ–äº†å…¬å¼çš„æ˜¾ç¤ºæ•ˆæœï¼Œä¾¿äºè‡ªå·±ç†è§£</p><p><strong>æ–‡ç« ä½¿ç”¨ wolai ç¼–å†™å¹¶å¯¼å‡ºï¼Œåœ¨ <a href="https://www.wolai.com/ailanxier/fEPneu1wsCBBd29R8mqhdi">wolai</a>ä¸­è§‚çœ‹æ•ˆæœæ›´å¥½ï¼Œæœ‰é¢œè‰²é«˜äº®å’Œå®æ—¶æ›´æ–°</strong></p>          </div><h3 id="èƒŒæ™¯">èƒŒæ™¯</h3><p>ä»¥å¾€è®¤çŸ¥ä¸­çš„å¤šé¡¹å¼æ˜¯å‡½æ•°å½¢å¼çš„ï¼Œä¸”å®šä¹‰åœ¨æ•°åŸŸä¸Šã€‚å¦‚æœ <span class="math inline">\(\mathbb{P}\)</span> æ˜¯ ä¸€ä¸ªæ•°åŸŸï¼Œé‚£ä¹ˆ <span class="math inline">\(\mathbb{P}\)</span> ä¸Šçš„ä¸€å…ƒå¤šé¡¹å¼ç¯ <span class="math inline">\(\mathbb{P}[x]\)</span> æ˜¯ç”±å½¢å¦‚</p><p><span class="math display">\[a_n x^n+a_{n-1} x^{n-1}+\cdots+a_1 x+a_0, \quad n \geqslant 0, \quad a_i\in \mathbb{P}, \quad i=0,1, \ldots, n\]</span></p><p>çš„å…ƒç´ ç»„æˆçš„é›†åˆã€‚é›†åˆ <span class="math inline">\(\mathbb{P}[x]\)</span> ä¸Šä¸¤ä¸ªå…ƒç´  <span class="math inline">\(a_n x^n+a_{n-1} x^{n-1}+\cdots+a_1 x+a_0, b_mx^m+b_{m-1} x^{m-1}+\cdots+b_1 x+b_0\)</span>ï¼ˆä¸å¦¨è®¾ <span class="math inline">\(m \geqslant n\)</span>ï¼‰ç›¸ç­‰å½“ä¸”ä»…å½“å¯¹ä»»ä½• <span class="math inline">\(0 \leqslant i \leqslant m,a_i=b_i\)</span>ï¼ˆè¿™é‡Œè§„å®šï¼Œå¦‚æœ <span class="math inline">\(k&gt;n\)</span>ï¼Œåˆ™ <span class="math inline">\(a_k=0\)</span>ï¼‰ã€‚è€Œç¯ <span class="math inline">\(\mathbb{P}[x]\)</span>çš„åŠ æ³•å°±æ˜¯åˆå¹¶åŒç±»é¡¹ï¼Œä¹˜æ³•æ˜¯å±•å¼€ç›¸ä¹˜å†åˆå¹¶åŒç±»é¡¹ã€‚</p><p>ä½†æ˜¯å®é™…ä¸Šå¤šé¡¹å¼å¯ä»¥æ¨å¹¿åˆ°ä¸€èˆ¬ç¯ä¸Šï¼Œè¿™æ ·çš„å®šä¹‰ä¼šå‡ºé—®é¢˜ã€‚ä¾‹å¦‚ <span class="math inline">\(x\)</span>ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œå–å€¼æ˜¯ä»€ä¹ˆï¼Œå®ƒå¯èƒ½éƒ½ä¸éœ€è¦å–è‡ªæ•°åŸŸ <span class="math inline">\(\mathbb{P}\)</span>ã€‚æ‰€ä»¥å¿…é¡»æ›´ä¸¥æ ¼çš„ç»™å‡º <span class="math inline">\(x\)</span>çš„å®šä¹‰ï¼Œå…¶å®å°±æ˜¯åé¢æ‰€è°“çš„è¶…è¶Šå…ƒï¼ˆä¸å®šå…ƒï¼‰ã€‚</p><h3 id="r-ä¸Šæ·»åŠ -u-å½¢æˆçš„ç¯-ru">$ R $ ä¸Šæ·»åŠ  <span class="math inline">\(u\)</span> å½¢æˆçš„ç¯ <span class="math inline">\(R[u]\)</span></h3><blockquote><p>ä¸ºäº†å’ŒçŸ¥ä¹å¤§ä½¬ã€é¡¾æ²›è€å¸ˆçš„è®°å·ç»Ÿä¸€ï¼Œç”¨ <span class="math inline">\(u\)</span> æ¥è¡¨ç¤ºä¹‹å‰è®¤çŸ¥ä¸­çš„ <span class="math inline">\(x\)</span>ï¼Œä¹Ÿå°±æ˜¯è‡ªå˜é‡ã€‚</p></blockquote><p>å¤šé¡¹å¼çš„ç³»æ•°æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªç¯ <span class="math inline">\(R\)</span>ä¸Šçš„ï¼Œè‹¥ <span class="math inline">\(R\)</span> å’Œ <span class="math inline">\(u\)</span>è¦ç»„æˆå¤šé¡¹å¼è¿ç®—ï¼Œåˆ™è¦æ±‚ä»–ä»¬çš„è¿ç®—ç»“æœåœ¨ä¸€ä¸ªæ›´å¤§çš„ç¯ <span class="math inline">\(R[u]\)</span> ä¸Šï¼Œä¸”è¦æ±‚è¿™æ˜¯åŒ…å« $ R{u} $æœ€å°çš„ç¯ã€‚</p><blockquote><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ›´å¤§çš„ç¯ <span class="math inline">\(\widetildeR\)</span>ï¼Œå®ƒåŒ…å«äº† <span class="math inline">\(R,u,R[u]\)</span>ï¼Œè‡³äºä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªç¯ç¬”è€…ä¹Ÿä¸å¤ªæ¸…æ¥šğŸ¥²</p><p>ä»–ä»¬ä¹‹é—´çš„å…³ç³»æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="../img/blog/poly-note-images/R[u].png" style="zoom:37%"></p></blockquote><p>ä¸ºäº†æ„é€ å‡ºç¯ <span class="math inline">\(R[u]\)</span>ï¼Œè€ƒè™‘å®ƒé‡Œé¢çš„æ¯ä¸ªå…ƒç´  <span class="math inline">\(x\)</span>ï¼Œéƒ½æ˜¯ç”±ä»¥ä¸‹å‡ ç§å½¢å¼æ„æˆï¼š</p><ul><li><p><span class="math inline">\(R\)</span> ä¸­çš„å…ƒç´ ï¼Œå³ <span class="math inline">\(x \inR\)</span>ï¼Œä¸”å®ƒä»¬ä¹‹é—´çš„ä¹˜æ³•åŠ æ³•éƒ½æ˜¯å°é—­çš„ï¼Œéƒ½åœ¨ <span class="math inline">\(R\)</span> ä¸­</p></li><li><p><span class="math inline">\(u\)</span> çš„è‡ªä¹˜ï¼Œå³å­˜åœ¨æŸä¸ªæ­£æ•´æ•°<span class="math inline">\(n\)</span> ä½¿å¾— <span class="math inline">\(x=u^n\)</span></p></li><li><p><span class="math inline">\(u\)</span> çš„è‡ªåŠ ï¼Œå³å­˜åœ¨æŸä¸ªæ•´æ•°<span class="math inline">\(m\)</span> ä½¿å¾— <span class="math inline">\(x=m u\)</span></p></li><li><p><span class="math inline">\(u\)</span> çš„è‡ªä¹˜å’Œ <span class="math inline">\(R\)</span> ä¸­å…ƒç´ çš„äº’ä¹˜ï¼Œå³å­˜åœ¨ <span class="math inline">\(a, b \in R\)</span> å’Œæ­£æ•´æ•° <span class="math inline">\(n\)</span> ä½¿å¾— <span class="math inline">\(x=au^n\)</span> æˆ– <span class="math inline">\(x=u^n a\)</span> æˆ– <span class="math inline">\(x=a u^n b\)</span></p></li><li><p>ä¸Šè¿°æƒ…å†µçš„åŠ å’Œï¼Œ<span class="math inline">\(x=r+\sum_n m_nu^n+\sum_n a_n u^n+\sum_n u^n b_n+\sum_n c_n u^n d_n\)</span>ï¼Œ<span class="math inline">\(r \in R, a_n, b_n, c_n, d_n\)</span> æ˜¯ <span class="math inline">\(R\)</span> å½“ä¸­çš„å…ƒç´ åºåˆ—</p></li></ul><p>è¿™æ · <span class="math inline">\(R[u]\)</span>çš„å…ƒç´ å½¢å¼æ¯”è¾ƒå¤æ‚ï¼Œé€šå¸¸æˆ‘ä»¬è¦æ±‚ <span class="math inline">\(R\)</span>å’Œ <span class="math inline">\(\widetilde{R}\)</span>éƒ½æ˜¯å¯æ¢å¹ºç¯ï¼Œå¹¶ä¸”å®ƒä»¬çš„å¹ºå…ƒç›¸åŒï¼Œæ¥ç®€åŒ–å…ƒç´ å½¢å¼ï¼ŒåŒæ—¶æ›´è´´è¿‘å¤šé¡¹å¼çš„å½¢å¼ã€‚</p><p>åœ¨è¿™æ ·è¦æ±‚ä»¥åï¼Œæˆ‘ä»¬çœ‹åˆ° <span class="math inline">\(u^n\)</span>çš„è‡ªåŠ  <span class="math inline">\(m u^n\)</span> å¯ä»¥è¡¨è¿°ä¸º <span class="math display">\[\sum_{i=1}^m u^n=\sum_{i=1}^m\left(1 u^n\right)=\left(\sum_{i=1}^m1\right) u^n\]</span></p><p>å› ä¸º <span class="math inline">\(1 \in R\)</span> è€Œ <span class="math inline">\(R\)</span> æ˜¯ç¯ï¼Œå› æ­¤ 1 çš„è‡ªåŠ ä¹Ÿåœ¨ <span class="math inline">\(R\)</span> å½“ä¸­ï¼Œå³å­˜åœ¨ <span class="math inline">\(a \in R\)</span> ä½¿å¾— <span class="math inline">\(\begin{aligned}a=\sum_{i=1}^m1\end{aligned}\)</span>ï¼Œè¿›è€Œè‡ªåŠ  <span class="math inline">\(mu^n\)</span> å¯ä»¥è¡¨ç¤ºä¸º <span class="math inline">\(a u^n, a \inR\)</span> çš„å½¢å¼ï¼ŒåŒç†è‡ªä¹˜ä¹Ÿå¯ä»¥åŒ–æˆ <span class="math inline">\(a u^n,a \in R\)</span> çš„å½¢å¼ã€‚å…¶ä½™å¯ä»¥é€šè¿‡äº¤æ¢æ€§è·å¾—ç›¸åŒçš„å½¢å¼ã€‚æœ€å <span class="math inline">\(R[u]\)</span> ä¸­å…ƒç´ çš„å½¢å¼ç®€åŒ–ä¸ºï¼š</p><p><span class="math display">\[x=a_0+\sum_n a_n u^n, a_0, a_n \in R\]</span></p><p>å¯ä»¥äººä¸ºè§„å®š <span class="math inline">\(u^0=1\)</span>ï¼Œæœ€åå°†å…¶å†™æˆ<span class="math inline">\(x=\sum_n a_n u^n ï¼Œ n\)</span>å–å€¼ä»0å¼€å§‹ï¼Œåˆ°æŸä¸ªæ­£æ•´æ•°ã€‚</p><p>è¿™æ ·å¯ä»¥å¾—åˆ°ã€Œ<strong>äº¤æ¢å¹ºç¯ä¸Šæ·»åŠ å…ƒç´ å¾—åˆ°çš„ç¯</strong>ã€çš„å®šä¹‰ï¼š</p><p> è®¾ <span class="math inline">\(R\)</span> æ˜¯äº¤æ¢ç¯ï¼Œ<span class="math inline">\(\widetilde R\)</span> æ˜¯å®ƒçš„æ‰©ç¯ï¼Œ<span class="math inline">\(u \in \widetilde R \backslash R\)</span>ï¼Œåˆ™ç§°</p><p><span class="math display">\[R[u]:=\left\{\sum_{i=0}^n a_i u^i \mid n \in \mathbb{N}, a_i \inR\right\}\]</span></p><p>ä¸ºåœ¨ <span class="math inline">\(R\)</span> ä¸­æ·»åŠ å…ƒç´  <span class="math inline">\(u\)</span> æ‰€å¾—åˆ°çš„ç¯ï¼Œç§° <span class="math inline">\(a_i u^i\)</span> ä¸º <span class="math inline">\(R[u]\)</span> ä¸­æŸä¸ªå…ƒç´ çš„é¡¹ï¼Œ<span class="math inline">\(a_i\)</span> ä¸ºè¿™ä¸€é¡¹çš„ç³»æ•° coefficientã€‚</p><blockquote><p>åœ¨æ›´ä¸€èˆ¬çš„å®šä¹‰å½“ä¸­ï¼Œæˆ‘ä»¬å…¶å®ä¸å¼ºåˆ¶è¦æ±‚ <span class="math inline">\(u\in \widetilde{R} \backslash R\)</span>ï¼Œä¸è¿‡è¿™ç§æƒ…å†µä¸‹å’Œ <span class="math inline">\(R[u]=R\)</span>ï¼ŒåŒæ—¶ <span class="math inline">\(u\)</span>ä¸æ˜¯è¶…è¶Šå…ƒï¼Œæˆ‘ä»¬è¿™é‡Œçš„å®šä¹‰å¸Œæœ›æ’é™¤è¿™ç§æƒ…å†µã€‚</p><p>å¯ä»¥è¯æ˜ <span class="math inline">\(R[u]\)</span> å°±æ˜¯åŒ…å« $ R{u} $æœ€å°çš„ç¯ã€‚</p></blockquote><h3 id="ä»£æ•°å…ƒ-algebraic-element-å’Œè¶…è¶Šå…ƒ-transcendental-element">ä»£æ•°å…ƒAlgebraic Element å’Œè¶…è¶Šå…ƒ Transcendental Element</h3><p>æˆ‘ä»¬å¦‚æœå°† <span class="math inline">\(R[u]\)</span> å½“ä¸­çš„ <span class="math inline">\(u^0(=1), u, u^2, \ldots, u^n, \ldots\)</span>è§†ä½œæ˜¯ä¸€äº›å‘é‡ï¼Œé‚£ä¹ˆ <span class="math inline">\(R[u]\)</span>å½“ä¸­çš„å…ƒç´  <span class="math inline">\(\begin{aligned}\sum_{i=0}^n a_iu^i\end{aligned}\)</span>å°±å¯ä»¥è§†ä½œæ˜¯è¿™äº›å‘é‡çš„ã€Œçº¿æ€§ç»„åˆã€ã€‚ä»¿ç…§çº¿æ€§ä»£æ•°å½“ä¸­çš„è¯´æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä»£æ•°å…ƒå’Œè¶…è¶Šå…ƒçš„å®šä¹‰ï¼š</p><p>è®¾å¯æ¢å¹ºç¯ <span class="math inline">\(R\)</span> æ˜¯å¯æ¢å¹ºç¯ <span class="math inline">\(\widetilde{R}\)</span>çš„å­ç¯ï¼Œä¸”å®ƒä»¬æ‹¥æœ‰ç›¸åŒçš„ä¹ˆå…ƒï¼Œ<span class="math inline">\(u \in\widetilde{R}\)</span> è‹¥å­˜åœ¨ <span class="math inline">\(R\)</span>ä¸­çš„å…ƒç´  <span class="math inline">\(\left\{a_i\right\}_{i=0}^n\)</span>ï¼ˆå…¶ä¸­è‡³å°‘æŸä¸ª<span class="math inline">\(a_i \neq 0\)</span>ï¼‰ä½¿å¾— <span class="math inline">\(\begin{aligned}\sum_{i=0}^n a_iu^i=0\end{aligned}\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(u\)</span>æ˜¯ <span class="math inline">\(R\)</span> ä¸Šçš„ä»£æ•°å…ƒï¼Œå¦åˆ™ç§°å…¶ä¸º <span class="math inline">\(R\)</span> ä¸Šçš„è¶…è¶Šå…ƒã€‚</p><blockquote><p>ä»å®šä¹‰ä¸­å³å¯çœ‹åˆ°ï¼Œ<span class="math inline">\(u \in R\)</span>å¿…ç„¶æ˜¯ä»£æ•°å…ƒï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯å¯ä»¥å– <span class="math inline">\(a_0=-u,a_1=1\)</span> ä½¿å¾— <span class="math inline">\(a_0+a_1u=0\)</span>ã€‚</p><p>å› æ­¤åœ¨è®¨è®ºä»£æ•°å…ƒä¸è¶…è¶Šå…ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸åªæ˜¯åœ¨ <span class="math inline">\(\widetilde{R} \backslash R\)</span> å½“ä¸­è€ƒè™‘ã€‚</p></blockquote><p>åœ¨ <span class="math inline">\(R\)</span>ä¸Šå¯ä»¥é€šè¿‡æ·»åŠ ä»£æ•°å…ƒæˆ–è¶…è¶Šå…ƒå¯ä»¥ç”Ÿæˆç¯ <span class="math inline">\(R[u]\)</span>ã€‚</p><p>å¦‚æœå€Ÿç”¨å‰æ–‡æ‰€è¿°ã€Œçº¿æ€§ç›¸å…³ã€çš„è¯´æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p><ul><li><p><span class="math inline">\(u\)</span> æ˜¯è¶…è¶Šå…ƒï¼šå¯¹äºä»»æ„çš„ <span class="math inline">\(n\)</span>ï¼Œ<span class="math inline">\(u^0,\ldots, u^n\)</span> éƒ½æ˜¯ã€Œçº¿æ€§æ— å…³ã€çš„</p></li><li><p><span class="math inline">\(u\)</span> æ˜¯ä»£æ•°å…ƒï¼šå¯¹æŸä¸ª <span class="math inline">\(n\)</span>ï¼Œ<span class="math inline">\(u^0, u,\ldots, u^n\)</span> æ˜¯ã€Œçº¿æ€§ç›¸å…³ã€çš„</p></li></ul><p>å¯¹äºä»£æ•°å…ƒ <span class="math inline">\(u\)</span>ï¼Œå¯ä»¥é¢å¤–å¼•å…¥å…¶æ¬¡æ•°Degree çš„æ¦‚å¿µï¼Œç¬¦å·ä¸º <span class="math inline">\(\operatorname{deg}(u,R)\)</span>ï¼Œå®šä¹‰å¦‚ä¸‹:</p><p><span class="math display">\[\begin{gathered}\operatorname{deg}(u, R):=\min \left\{n \in \mathbb{N}\mid\exists\{a_i\}_{i=0}^n \subseteq R \text { s.t. } \sum_{i=0}^n a_i u^i=0\wedge \exists m\in \mathbb{N}(0 \leq m \leq n, a_m \neq 0)\right\}\end{gathered}\]</span></p><blockquote><p>äººè¯ç‰ˆæœ¬å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„è‡ªç„¶æ•° <span class="math inline">\(n\)</span>ï¼Œä½¿å¾—ä¸€ä¸ªç³»æ•°ä¸å…¨ä¸º 0 çš„å¤šé¡¹å¼ <span class="math inline">\(\begin{aligned}\sum_{i=0}^n a_iu^i=0\end{aligned}\)</span>ã€‚</p><p>å¦ä¸€ç§ç­‰ä»·è¡¨ç¤ºæ˜¯ï¼š</p><p><span class="math display">\[\begin{gathered}\operatorname{deg}(u, R):=\min \left\{n \in \mathbb{N}\mid\exists\{a_i\}_{i=0}^n \subseteq R \text { s.t. } \sum_{i=0}^n a_i u^i=0\wedge a^n\not=0\right\}\end{gathered}\]</span></p><p>å…¶å®åªè¦è¦æ±‚æœ€åä¸€ä¸ª <span class="math inline">\(a^n\not=0\)</span>å³å¯ï¼Œå› ä¸ºå¦‚æœ <span class="math inline">\(a^n=0\wedge\existsi\in[0,n-1],a^i\not=0\)</span> ä½¿å¾— <span class="math inline">\(\begin{aligned}\sum_{i=0}^n a_iu^i=0\end{aligned}\)</span>ï¼Œé‚£ä¹ˆç³»æ•°åº”è¯¥è‡³å¤šä¸º <span class="math inline">\(i\)</span> æ‰å¯¹ï¼Œè€Œä¸æ˜¯ <span class="math inline">\(n\)</span>ã€‚</p><p>ä¾‹å­ï¼š</p><ul><li><p><span class="math inline">\(\operatorname{deg}(\sqrt{-1}, \mathbbZ)=\operatorname{deg}(\sqrt{-1}, \mathbb Q)=2\)</span>ï¼Œå› ä¸ºæ²¡æœ‰å®æ•°<span class="math inline">\(a_0,a_1\)</span> å¯ä»¥ä½¿å¾— <span class="math inline">\(a_0+a_1\times\sqrt{-1}=0\)</span>ï¼Œè€Œ <span class="math inline">\(1+0\times\sqrt{-1}+1\times(\sqrt{-1})^2=0\)</span></p></li><li><p><span class="math inline">\(\operatorname{deg}(\sqrt{-1}, \mathbbC)=1\)</span>ï¼Œåœ¨å¤æ•°åŸŸä¸Šå¯ä»¥å– <span class="math inline">\(1,\sqrt{-1}\)</span>ï¼Œä½¿å¾— <span class="math inline">\(1+(\sqrt{-1})\times(\sqrt{-1})=0\)</span></p></li></ul></blockquote><h3 id="ä¸€å…ƒå¤šé¡¹å¼ç¯å’Œä¸€å…ƒå¤šé¡¹å¼">ä¸€å…ƒå¤šé¡¹å¼ç¯å’Œä¸€å…ƒå¤šé¡¹å¼</h3><p>æœ‰äº†ä¸Šè¿°é“ºå«ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€å…ƒå¤šé¡¹å¼äº†:</p><p>è®¾ <span class="math inline">\(u\)</span> æ˜¯å¯æ¢å¹ºç¯ <span class="math inline">\(R\)</span> ä¸Šçš„è¶…è¶Šå…ƒï¼ˆä¸å®šå…ƒï¼‰ï¼Œåˆ™ç§° <span class="math inline">\(R[u]\)</span> ä¸º <span class="math inline">\(R\)</span>ä¸Šçš„ä¸€å…ƒå¤šé¡¹å¼ç¯ï¼Œå®ƒé‡Œé¢çš„å…ƒç´ è¢«å«åšä¸€å…ƒå¤šé¡¹å¼ï¼Œè®°ä¸º <span class="math inline">\(f(u)=\begin{aligned}\sum_{i=0}^n a_iu^i=0\end{aligned}\)</span>ã€‚</p><blockquote><p>æ¬¡æ•°æœ€é«˜é¡¹ç³»æ•°ä¸º 1 çš„å¤šé¡¹å¼ç§°ä¸ºé¦–ä¸€å¤šé¡¹å¼ Monic Polynomial</p></blockquote><p>æˆ‘ä»¬ä¹‹æ‰€ä»¥è¦æ±‚ <span class="math inline">\(u\)</span> æ˜¯ä¸å®šå…ƒ,ä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä¸‹é¢çš„ä¸€ä¸ªç»“è®º:</p><p>è®¾ <span class="math inline">\(R[u]\)</span> æ˜¯äº¤æ¢ä¹ˆç¯ <span class="math inline">\(R\)</span> ä¸Šçš„ä¸€å…ƒå¤šé¡¹å¼ç¯ï¼Œ<span class="math inline">\(\begin{aligned}f_1(u)=\sum_{i=0}^n a_iu^i\end{aligned}\)</span> å’Œ <span class="math inline">\(\begin{aligned}f_2(u)=\sum_{i=0}^m b_iu^i\end{aligned}\)</span>ï¼Œåˆ™ <span class="math inline">\(f_1(u)=f_2(u)\)</span> å½“ä¸”ä»…å½“ï¼š</p><ul><li><p><span class="math inline">\(a_i=b_i\)</span> å¯¹ä»»æ„ <span class="math inline">\(i, 0 \leq i \leq \min (m, n)\)</span>æˆç«‹</p></li><li><p>å½“ <span class="math inline">\(i&gt;\min (m, n)\)</span>ä¹‹åå¿…é¡»æ’æœ‰ <span class="math inline">\(a_i=0\)</span>ï¼ˆå¦‚æœ <span class="math inline">\(n&gt;m\)</span>ï¼‰æˆ– <span class="math inline">\(b_i=0\)</span>ï¼ˆå¦‚æœ <span class="math inline">\(m&gt;n\)</span>ï¼‰</p></li></ul><blockquote><p>æ ¹æ®ä¸å®šå…ƒçš„æ€§è´¨è¿›è¡Œè¯æ˜: </p><p>ä¸å¦¨è®¾ <span class="math inline">\(m \leq n\)</span>, åˆ™ <span class="math inline">\(f_1(u)=f_2(u)\iff f_1(u)-f_2(u)=0\)</span>ï¼Œè¿™å°±ç­‰ä»·äº</p><p><span class="math display">\[\sum_{i=0}^m\left(a_i-b_i\right) u^i+\sum_{j=m+1}^n a_i u^j=0\]</span></p><p>è€Œæ ¹æ®ä¸å®šå…ƒçš„è¦æ±‚ï¼Œæ­¤æ—¶å¿…é¡»æœ‰</p><p><span class="math display">\[\begin{aligned}a_i-b_i &amp;=0,0 \leq i \leq m \\a_i &amp;=0, m+1 \leq i \leq n\end{aligned}\]</span></p><p>è¿™å°±è¡¨æ˜ <span class="math inline">\(p_1(u)\)</span> è‡ª <span class="math inline">\(a_{m+1}\)</span> å¼€å§‹ï¼ˆåŒ…æ‹¬å®ƒè‡ªèº«ï¼‰åç»­çš„ <span class="math inline">\(a_i\)</span> éƒ½æ˜¯é›¶ï¼Œä¸”å‰é¢çš„ <span class="math inline">\(m+1\)</span> é¡¹æ’æœ‰ <span class="math inline">\(a_i=b_i\)</span>ã€‚</p></blockquote><p>å¦‚æœæˆ‘ä»¬ä¸å¯¹ <span class="math inline">\(u\)</span>åšè¦æ±‚ï¼Œå°±ä¼šä½¿å¾—å¤šé¡¹å¼ç¯ä¸­å…ƒç´ çš„å¤šé¡¹å¼è¡¨ç¤ºä¸å”¯ä¸€ï¼Œä¸¤ä¸ªå¤šé¡¹å¼çš„ç›¸ç­‰å…³ç³»å°±å¾ˆéš¾å»ºç«‹èµ·æ¥ï¼Œç»™ç ”ç©¶å¸¦æ¥å›°éš¾ã€‚</p><blockquote><p>ä½†æ˜¯å­˜åœ¨å¯æ¢å¹ºç¯æ²¡æœ‰ä¸å®šå…ƒï¼Œæ­¤æ—¶å¤šé¡¹å¼è¡¨ç¤ºä¸å”¯ä¸€ã€‚</p></blockquote><p>åœ¨å®šä¹‰ä¸­ï¼Œæ¯ä¸ªå¤šé¡¹å¼éƒ½å¯ä»¥å†™æˆ <span class="math inline">\(\begin{aligned}\sum_{i=0}^n a_iu^i\end{aligned}\)</span> çš„æ ·å­ï¼Œè¿™é‡Œçš„ <span class="math inline">\(n\)</span>æ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥ä¸Šè¿°å®šç†ä¸­ä¸¤ä¸ªç›¸ç­‰çš„å¤šé¡¹å¼å¯ä»¥ç›¸å·®ä»»æ„ä¸ªé›¶ç³»æ•°å› å­ <span class="math inline">\(0 u^n\)</span>ï¼Œä¸ºäº†æ’é™¤è¿™ç§æƒ…å†µï¼Œå¯¹ <span class="math inline">\(R[u]\)</span> ä¸­å¤šé¡¹å¼å…ƒç´ çš„è¡¨ç¤ºè¿›è¡Œå¤„ç†ï¼š</p><ul><li><p>é¦–å…ˆï¼Œ å°† <span class="math inline">\(R[u]\)</span>ä¸­å…ƒç´ å†™æˆ</p><p><span class="math display">\[f(u)=\sum_{i=0}^{+\infty} a_i u^i\]</span></p></li><li><p>å…¶ä¸­åªæœ‰æœ‰é™ä¸ª <span class="math inline">\(a_i\)</span> ä¸ä¸º0ï¼Œå› ä¸º <span class="math inline">\(R[u]\)</span>ä¸­å…ƒç´ å¿…ä¸ºä»£æ•°å…ƒï¼Œæ‰€ä»¥æœ‰ç¡®å®šçš„æ¬¡æ•° <span class="math inline">\(n=\operatorname{deg}(f(u),R)\)</span>ï¼Œæ‰€ä»¥å½“<span class="math inline">\(i&gt;n\)</span> æ—¶æ’æœ‰ <span class="math inline">\(a_i=0\)</span></p></li><li><p>æœ€åå¯ä»¥ç­‰ä»·å†™ä¸ºä¸€ä¸ªæ— ç©·åºåˆ—çš„å½¢å¼ï¼š<span class="math inline">\((a_0,a_1,\ldots,a_n,0,0,\ldots)\)</span></p></li><li><p>æ³¨æ„ <span class="math inline">\(0=0+0u+\cdots+0u^n\inR[u]\)</span>ï¼Œå…¶ç§°ä¸ºé›¶å¤šé¡¹å¼ï¼Œä¸€èˆ¬å¯ä»¥è®¤ä¸º <span class="math inline">\(\operatorname{deg}(0,R)=-\infty\)</span>æˆ–è€…é›¶å¤šé¡¹å¼æ²¡æœ‰æ¬¡æ•°</p></li></ul><h3 id="ä¸€å…ƒå¤šé¡¹å¼ç¯çš„å­˜åœ¨æ€§">ä¸€å…ƒå¤šé¡¹å¼ç¯çš„å­˜åœ¨æ€§</h3><p>æœ€åå¼•å‡ºé‡è¦å®šç†ï¼š</p><p>å¯æ¢å¹ºç¯ä¸Šçš„ä¸€å…ƒå¤šé¡¹å¼ç¯ä¸€å®šå­˜åœ¨ï¼Œå³ä»»æ„å¯ç¯å¹ºç¯ä¸Šéƒ½å¯ä»¥å®šä¹‰ä¸€å…ƒå¤šé¡¹å¼ç¯</p><p>è¯æ˜æ¯”è¾ƒå¤æ‚ï¼Œç¬”è€…åªèƒ½ç®€å•å†™ä¸‹æ€è·¯ï¼Œå‡è®¾å¯æ¢å¹ºç¯ä¸º <span class="math inline">\(R\)</span>ï¼š</p><ol type="1"><li><p>è¯æ˜å­˜åœ¨å¤§ç¯ <span class="math inline">\(\widetildeR=\{(a_0,a_1,\ldots,0,0,\ldots)\mid a_i\inR\}\)</span>ï¼Œå…¶ä¸­çš„éé›¶å…ƒæœ‰é™</p></li><li><p>åœ¨ <span class="math inline">\(\widetilde R\)</span>ä¸­æ‰¾åˆ°ä¸€ä¸ªå­ç¯ <span class="math inline">\(R_0\)</span>ï¼Œä½¿å¾— <span class="math inline">\(R_0\cong R\)</span>ï¼Œå³ä¸¤ä¸ªç¯åŒæ„</p></li><li><p>åœ¨ <span class="math inline">\(\widetilde R\backslashR_0\)</span> æ‰¾åˆ°ä¸€ä¸ªå…ƒç´  <span class="math inline">\(u\)</span>ï¼Œè¯æ˜å…¶ä¸º <span class="math inline">\(R_0\)</span> ä¸Šçš„ä¸å®šå…ƒ</p></li><li><p>åœ¨ <span class="math inline">\(R_0\)</span> æ·»åŠ ä¸Š <span class="math inline">\(u\)</span> å½¢æˆä¸€å…ƒå¤šé¡¹å¼ç¯ <span class="math inline">\(R_0[u]\)</span>ï¼Œå®é™…ä¸Šå¯ä»¥è¯æ˜ <span class="math inline">\(R_0[u]=\widetilde R\)</span></p></li><li><p> ç”±äºåŒæ„ï¼Œå¯ä»¥å¾—åˆ° <span class="math inline">\(R[u]\congR_0[u]\)</span>ï¼Œå³ <span class="math inline">\(R_0[u]\)</span> å°±æ˜¯<span class="math inline">\(R\)</span> ä¸Šçš„ä¸€å…ƒå¤šé¡¹å¼ç¯</p></li></ol><p><img src="../img/blog/poly-note-images/exist.png" style="zoom:37%"></p><p>é‡Œé¢æœ‰ä¸€äº›ç»†èŠ‚å±•å¼€æè¿°ï¼š</p><ul><li><p>å¤§ç¯ä¸Šçš„åŠ æ³•ï¼š</p><p>ç±»ä¼¼äºå¹³æ—¶è®¤çŸ¥çš„å¤šé¡¹å¼ç›¸åŠ ï¼Œå³å¯¹åº”ç³»æ•°ç›¸åŠ å³å¯ï¼š</p><p><span class="math display">\[(a_0,a_1,\ldots)+(b_0,b_1,\ldots)=(a_0+b_0,a_1+b_1,\ldots)\]</span></p></li><li><p>å¤§ç¯ä¸Šçš„ä¹˜æ³•ï¼š</p><p>å…¶å®ä¹Ÿç±»ä¼¼äºå¹³æ—¶è®¤çŸ¥çš„å¤šé¡¹å¼ç›¸ä¹˜ï¼Œä½†æ˜¯è¦æ³¨æ„å¹¶ä¸æ˜¯ç®€å•çš„å¯¹åº”å…ƒç´ ç›¸ä¹˜ã€‚</p><p>å‡è®¾ä¹˜ç§¯ç»“æœçš„å…ƒç´ ä¸º <span class="math inline">\(c_k\)</span>ï¼Œå³<span class="math inline">\((a_0,a_1,\ldots)\times(b_0,b_1,\ldots)=(c_0,c_1,\ldots)\)</span>ï¼Œåˆ™<span class="math inline">\(\begin{aligned}c_k=\sum_{i+j=k}a_ib_j\end{aligned}\)</span></p></li><li><p>è¦è¯æ˜å¯¹åŠ æ³•æˆäº¤æ¢ç¾¤ï¼Œå¯¹ä¹˜æ³•æˆå¯æ¢å¹ºåŠç¾¤ï¼Œä¹˜æ³•å¯¹åŠ æ³•æ»¡è¶³åˆ†é…å¾‹ï¼Œåˆ«å¿˜äº†è¿˜è¦è¯æ˜ä¸¤ä¸ªè¿ç®—çš„å°é—­æ€§</p></li></ul><blockquote><p>å°é—­æ€§åªç”¨è¯æ˜ç»“æœçš„éé›¶å…ƒæœ‰é™ï¼Œå³æ¬¡æ•°æœ‰é™å³å¯ã€‚</p></blockquote><ul><li><p>åŠ æ³•çš„é›¶å…ƒï¼ˆå•ä½å…ƒï¼‰ï¼š<span class="math inline">\(\mathbf{0}=(0,0,\ldots)\)</span></p></li><li><p>åŠ æ³•çš„é€†å…ƒï¼ˆè´Ÿå…ƒï¼‰ï¼š<span class="math inline">\(-(a_0,a_1,\ldots)=(-a_0,-a_1,\ldots)\)</span></p></li><li><p>ä¹˜æ³•çš„å¹ºå…ƒï¼ˆå•ä½å…ƒï¼‰ï¼š<span class="math inline">\(\mathbf{1}=(1,0,\ldots)\)</span></p></li></ul><blockquote><p>è¯æ˜å¹ºå…ƒï¼š</p><p>å¯¹äºä»»æ„çš„ <span class="math inline">\(\boldsymbol{a}=\left(a_0,\ldots, a_n, 0,0, \ldots\right)\)</span>ï¼Œè®¾ <span class="math inline">\(\boldsymbol{1}\boldsymbol{a}=\boldsymbol{b}\)</span>ï¼Œåˆ™</p><p><span class="math display">\[b_k=\sum_{i=0}^k 1_i a_{k-i}=1_0 a_k+1_1 a_{k-1}+\cdots+1_k a_0=a_k,k\in\{0,1,\ldots,n\}\]</span></p><p>å› ä¸º <span class="math inline">\(1_0=1\)</span>ï¼Œè€Œ <span class="math inline">\(1_{i \geq 1}=0\)</span>ã€‚è¿™å°±æ„å‘³ç€ <span class="math inline">\(1 \boldsymbol{a}=\boldsymbol{a}\)</span>æ’æˆç«‹ï¼Œå› æ­¤è¿™é‡Œå®šä¹‰çš„ <span class="math inline">\(\bf 1\)</span> å°±æ˜¯<span class="math inline">\(V\)</span> çš„å¹ºå…ƒ</p></blockquote><ul><li><p>å­ç¯ <span class="math inline">\(R_0\)</span> çš„å½¢å¼ä¸º <span class="math inline">\(R_0=\{(a,0,0,\ldots)\mid a\inR\}\)</span>ï¼Œå¯ä»¥è¯æ˜å…¶ä¸º <span class="math inline">\(\widetildeR\)</span> çš„å­ç¯</p></li><li><p>åŒæ€æ˜ å°„ä¸º <span class="math inline">\(\varphi: R\to R_0, \foralla\in R,\varphi(a)=(a,0,\ldots)\inR_0\)</span>ï¼Œå¯è¯ä¸ºç¯åŒæ„æ˜ å°„</p></li><li><p>ä¸å®šå…ƒå– <span class="math inline">\(u=(0,1,0,\ldots)\)</span></p></li></ul><blockquote><p>æ ¹æ®å¤§ç¯ä¸Šçš„ä¹˜æ³•ï¼Œå¯ä»¥å¾—åˆ° <span class="math inline">\(u^2=(0,0,1,0,\ldots)\)</span>ï¼Œç±»ä¼¼ <span class="math inline">\(u^k=(\overbrace{0,0,\ldots,0}^{kä¸ª0},1,0,\ldots)\)</span></p><p>è¦è¯æ˜ <span class="math inline">\(u\)</span> æ˜¯ <span class="math inline">\(R_0\)</span> ä¸Šçš„ä¸å®šå…ƒï¼Œéœ€è¦è¯æ˜ <span class="math inline">\(\forall a_0,a_1,\cdots,a_n\in R\)</span>ï¼Œå¯¹åº”<span class="math inline">\(R_0\)</span> ä¸­çš„å…ƒç´  <span class="math inline">\((a_0,0,0,\ldots),(a_1,0,0,\ldots),\ldots,(a_n,0,0,\ldots)\)</span>ï¼Œåˆ™</p><p><span class="math display">\[\begin{aligned}&amp;(a,0,0,\ldots)\mathbf{1}+(a,0,0,\ldots)u+\cdots+(a,0,0,\ldots)u^n\\&amp;=(a,0,0,\ldots)(1,0,0,\ldots)+(a,0,0,\ldots)(0,1,0,\ldots)+\cdots+\\&amp;\quad~(a,0,0,\ldots)(\overbrace{0,0,\ldots,0}^{nä¸ª0},1,0,\ldots)\\&amp;=(a_0,a_1,\ldots,a_n)\end{aligned}\]</span></p><p>è‹¥ <span class="math inline">\((a_0,a_1,\ldots,a_n)=\bf0\)</span>ï¼Œè¯´æ˜ <span class="math inline">\(a_0=a_1=\cdots=a_n=0\)</span>ï¼Œå³ <span class="math inline">\(u\)</span> ç¡®å®ä¸º <span class="math inline">\(R_0\)</span> ä¸Šçš„ä¸å®šå…ƒã€‚</p></blockquote><h3 id="æå°å¤šé¡¹å¼-minimal-polynomial">æå°å¤šé¡¹å¼ MinimalPolynomial</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Minimal_polynomial_(field_theory)">Minimalpolynomial (field theory) - Wikipedia</a></p></blockquote><ul><li><p>å®šä¹‰åœ¨æŸä¸ªåŸŸä¸Šçš„ä»£æ•°å…ƒ <span class="math inline">\(u\)</span>ï¼Œå®ƒçš„æå°å¤šé¡¹å¼ï¼ˆæœ€å°å¤šé¡¹å¼ï¼‰ä¸ºæ»¡è¶³<span class="math inline">\(f(u)=0\)</span> çš„ æœ€ä½æ¬¡ é¦–ä¸€å¤šé¡¹å¼ <span class="math inline">\(f\)</span></p></li><li><p>æ¢å¥è¯ç†è§£ï¼Œ<span class="math inline">\(f\)</span>æ˜¯è¯¥åŸŸä¸Šæ¬¡æ•°æœ€å°çš„é¦–ä¸€å¤šé¡¹å¼ï¼Œä½¿å¾— $ u $ ä¸º <span class="math inline">\(f\)</span> çš„æ ¹</p></li><li><p>å¦‚æœ <span class="math inline">\(u\)</span>çš„æå°å¤šé¡¹å¼å­˜åœ¨ï¼Œåˆ™æ˜¯å”¯ä¸€çš„</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘æ¯•ä¸šè®¾è®¡</category>
      
      <category>å‰ç½®çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¨åŒæ€åŠ å¯†</tag>
      
      <tag>æŠ½è±¡ä»£æ•°</tag>
      
      <tag>å¤šé¡¹å¼ç¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FHEå­¦ä¹ ç¬”è®° #1 éƒ¨åˆ†æŠ½è±¡ä»£æ•°åè¯</title>
    <link href="/FHE-1-abstract%20algebra.html"/>
    <url>/FHE-1-abstract%20algebra.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>å‚è€ƒæ•™æï¼š</p><p>é‚“å°‘å¼ºï¼Œæœ±å¯Œæµ·ï¼šã€ŠæŠ½è±¡ä»£æ•°ã€‹ï¼ŒåŒ—äº¬ï¼Œç§‘å­¦å‡ºç‰ˆç¤¾ï¼Œ2017 å¹´</p><p><strong>æ–‡ç« ä½¿ç”¨ wolai ç¼–å†™å¹¶å¯¼å‡ºï¼Œåœ¨ <a href="https://www.wolai.com/ailanxier/wBn2PmNvMx2BM8yeM7tgr9">wolai</a>ä¸­è§‚çœ‹æ•ˆæœæ›´å¥½ï¼Œæœ‰é¢œè‰²é«˜äº®å’Œå®æ—¶æ›´æ–°</strong></p>          </div><ul><li><p>ç¾¤ Group</p><p>å¯¹äºéç©ºé›†åˆ <span class="math inline">\(G\)</span>ï¼Œ<span class="math inline">\(\circ\)</span>æ˜¯å®ƒçš„ä¸€ä¸ªä»£æ•°è¿ç®—ï¼Œå¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li><p><strong>ç»“åˆå¾‹</strong>æˆç«‹ï¼Œå³å¯¹ <span class="math inline">\(G\)</span> ä¸­ä»»æ„å…ƒç´  <span class="math inline">\(a, b, c\)</span> éƒ½æœ‰</p><p><span class="math display">\[(a \circ b) \circ c=a \circ(b \circ c)  \]</span></p></li><li><p><span class="math inline">\(G\)</span> ä¸­æœ‰å…ƒç´  <span class="math inline">\(e\)</span>ï¼Œå«åš <span class="math inline">\(G\)</span> çš„<strong>å·¦å•ä½å…ƒ</strong>ï¼Œå®ƒå¯¹ <span class="math inline">\(G\)</span> ä¸­æ¯ä¸ªå…ƒç´  <span class="math inline">\(a\)</span> éƒ½æœ‰</p><p><span class="math display">\[e \circ a=a  \]</span></p></li><li><p>å¯¹ <span class="math inline">\(G\)</span> ä¸­æ¯ä¸ªå…ƒç´  <span class="math inline">\(a\)</span>ï¼Œåœ¨ <span class="math inline">\(G\)</span> ä¸­éƒ½æœ‰å…ƒç´  <span class="math inline">\(a^{-1}\)</span>ï¼Œå«åš <span class="math inline">\(a\)</span> çš„<strong>å·¦é€†å…ƒ</strong>(Inverse)ï¼Œä½¿</p><p><span class="math display">\[a^{-1} \circ a=e  \]</span></p></li></ul><p>åˆ™ç§° <span class="math inline">\(G\)</span> å¯¹ä»£æ•°è¿ç®— <span class="math inline">\(\circ\)</span> ä½œæˆä¸€ä¸ª<strong>ç¾¤</strong>ã€‚</p><p>ç¾¤æ˜¯ä¸€ä¸ªæ»¡è¶³å°é—­æ€§ã€æ»¡è¶³<strong>ç»“åˆå¾‹ã€æœ‰å•ä½å…ƒã€æœ‰é€†å…ƒ</strong>çš„äºŒå…ƒè¿ç®—çš„ä»£æ•°ç»“æ„ã€‚</p><p>å•ä½å…ƒï¼Œä¹Ÿå«å¹ºå…ƒï¼Œè‹±æ–‡ Identity Elementã€‚</p></li><li><p>åŠç¾¤ Semi-group</p><p>è®¾ <span class="math inline">\(S\)</span>æ˜¯ä¸€ä¸ªéç©ºé›†åˆï¼Œå¦‚æœå®ƒæœ‰ä¸€ä¸ªä»£æ•°è¿ç®—æ»¡è¶³<strong>ç»“åˆå¾‹</strong>ï¼Œåˆ™ç§°<span class="math inline">\(S\)</span> æ˜¯ä¸€ä¸ªåŠç¾¤ã€‚</p></li><li><p>å­ç¾¤</p><ul><li><p>è®¾ <span class="math inline">\(H\)</span> æ˜¯ç¾¤ <span class="math inline">\(G\)</span> çš„ä¸€ä¸ªéç©ºå­é›†ï¼Œå¦‚æœ <span class="math inline">\(H\)</span> å¯¹äº <span class="math inline">\(G\)</span> çš„è¿ç®—ä¹Ÿæ„æˆç¾¤ï¼Œåˆ™ç§° <span class="math inline">\(H\)</span> ä¸º <span class="math inline">\(G\)</span> çš„å­ç¾¤ï¼Œè®°ä½œ <span class="math inline">\(H&lt;G\)</span></p></li><li><p>è®¾ <span class="math inline">\(m \in \mathbb{N}\)</span>ï¼Œåˆ™<span class="math inline">\(m \mathbb{Z}=\{m n \mid n \in\mathbb{Z}\}\)</span> æ˜¯ <span class="math inline">\(\mathbb{Z}\)</span>çš„å­ç¾¤</p></li><li><p><span class="math inline">\(\mathbb{Z}\)</span> çš„ä»»ä½•å­ç¾¤éƒ½å½¢å¦‚<span class="math inline">\(m \mathbb{Z}, m \in\mathbb{N}\)</span></p></li></ul><p>è®¾ <span class="math inline">\(G\)</span> ä¸ºç¾¤ï¼Œ<span class="math inline">\(a \in G\)</span>ï¼Œè®° <span class="math inline">\(a^0=e\)</span></p><ul><li><p>å¯¹ <span class="math inline">\(k \in \mathbb{N}\)</span>ï¼Œä»¤<span class="math inline">\(a^k=a \cdota^{k-1},a^{-k}=\left(a^{-1}\right)^k\)</span> </p></li><li><p>å¯¹ åŠ æ³•ç¾¤ <span class="math inline">\(G\)</span>ï¼Œ<span class="math inline">\(a^n\)</span> é€šå¸¸è®°ä¸º <span class="math inline">\(n a\)</span></p></li><li><p><span class="math inline">\(\langle a\rangle=\left\{a^n \mid n\in \mathbb{Z}\right\}\)</span> æ˜¯ <span class="math inline">\(G\)</span> çš„å­ç¾¤ï¼Œç§°ä¸º <span class="math inline">\(a\)</span> ç”Ÿæˆçš„å­ç¾¤ï¼Œå­ç¾¤çš„é˜¶ä¹Ÿç§°ä¸º <span class="math inline">\(a\)</span> çš„é˜¶</p></li></ul><p>æ›´ä¸€èˆ¬åœ°ï¼Œè®¾ <span class="math inline">\(S\)</span> æ˜¯ç¾¤ <span class="math inline">\(G\)</span> ä¸­ä¸€ä¸ªéç©ºå­é›†ï¼Œä»¤ <span class="math inline">\(S^{-1}=\left\{a^{-1} \mid a \inS\right\}\)</span>ï¼Œè®°</p><p><span class="math display">\[\langle S\rangle=\{x_1, \ldots ,x_m \mid m \in \mathbb{N}, x_1, \ldots,x_m \in S \cup S^{-1}\}\]</span></p><p> <span class="math inline">\(\langle S\rangle\)</span> æ˜¯ <span class="math inline">\(G\)</span> çš„ä¸€ä¸ªå­ç¾¤ï¼Œç§°ä¸º <span class="math inline">\(S\)</span> ç”Ÿæˆçš„å­ç¾¤ã€‚</p></li><li><p>é™ªé›† Coset</p><p>è®¾ <span class="math inline">\(H\)</span> æ˜¯ç¾¤ <span class="math inline">\(G\)</span> çš„ä¸€ä¸ªå­ç¾¤ï¼Œ<span class="math inline">\(a \in G\)</span>ã€‚åˆ™ç§°ç¾¤ <span class="math inline">\(G\)</span> çš„å­é›†</p><p><span class="math display">\[a H=\{a x \mid x \in H\}  \]</span></p><p>ä¸ºç¾¤ <span class="math inline">\(G\)</span> å…³äºå­ç¾¤ <span class="math inline">\(H\)</span> çš„ä¸€ä¸ªå·¦é™ªé›†ã€‚è€Œç§°</p><p><span class="math display">\[H a=\{x a \mid x \in H\}  \]</span></p><p>ä¸ºç¾¤ <span class="math inline">\(G\)</span> å…³äºå­ç¾¤ <span class="math inline">\(H\)</span> çš„ä¸€ä¸ªå³é™ªé›†ã€‚</p><blockquote><p>ä»¥ä¸Šå™è¿°ä¸­éƒ½æŠŠç¾¤ <span class="math inline">\(G\)</span>ä¸­çš„è¿ç®—è®°ä½œä¹˜æ³•ï¼Œå¹¶ä¸”çœå»äº†è¿ç®—ç¬¦ã€‚</p><p>å¦‚æœç¾¤ <span class="math inline">\(G\)</span> ä¸­çš„è¿ç®—è®°ä½œåŠ æ³•ï¼Œåˆ™ä»¥<span class="math inline">\(a\)</span> ä¸ºä»£è¡¨çš„å·¦é™ªé›†åº”è¯¥è®°ä½œ </p><p><span class="math display">\[a+H=\{a+h|h\in H\}\]</span></p></blockquote></li><li><p>åŒä½™ç±» Congruence Classï¼ˆæˆ–å‰©ä½™ç±» Residue Classï¼‰</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Modular_arithmetic" title="Modular arithmetic - Wikipedia">Modular arithmetic -Wikipedia</a></p></blockquote><ul><li><p>æ¨¡ <span class="math inline">\(m\)</span>åŒä½™æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»ï¼Œç”±æ­¤ç¡®å®šäº†æ•´æ•°ä¸Šçš„ä¸€ä¸ªåˆ†ç±»</p></li><li><p>å¯¹äº <span class="math inline">\(\forall a\in[0,m-1]\)</span>ï¼Œé›†åˆ <span class="math inline">\(a+m\mathbb{Z}\)</span> ä¸­çš„æ‰€æœ‰æ•°æ¨¡ <span class="math inline">\(m\)</span> åŒä½™ï¼Œè¿™ä¸ªé›†åˆå«åš <span class="math inline">\(a\)</span> çš„ç­‰ä»·ç±»ï¼Œä¹Ÿå«åŒä½™ç±»ï¼Œè®°ä½œ <span class="math inline">\([a]\;\text{or}\;\overline{a}_m\)</span></p></li><li><p>æ»¡è¶³ï¼š</p><p><span class="math display">\[\mathbb{Z}=(0+m \mathbb{Z}) \cup(1+m \mathbb{Z}) \cup \cdots\cup((m-1)+m \mathbb{Z})=\{\overline0+\overline1+\cdots+\overline {m-1}\}\]</span></p></li></ul></li><li><p>æœ€å°å‰©ä½™ç³»ï¼ˆResidue Systemsï¼‰</p><p>æ¯ä¸ªç­‰ä»·ç±»é€šå¸¸ç”¨ä»–ä»¬çš„æœ€å°éè´Ÿå…ƒç´ æ¥è¡¨ç¤ºï¼Œè¿™äº›æœ€å°ä»£è¡¨çš„é›†åˆå°±æ˜¯æ¨¡<span class="math inline">\(m\)</span>æ‰€å¾—çš„ä½™æ•°åŸŸï¼Œä¹Ÿå«æœ€å°çš„å‰©ä½™ç³»<span class="math inline">\(\mathbb{Z}_m=\{0,1,\cdots,m-1\}\)</span></p></li><li><p>å•†é›† Equivalence Set</p><p>å•†é›†æ˜¯é›†åˆçš„ä¸€ä¸ªåˆ’åˆ†ï¼Œè®¾ <span class="math inline">\(\sim\)</span>ä¸ºé›†åˆ <span class="math inline">\(S\)</span> çš„ä¸€ä¸ªç­‰ä»·å…³ç³»ï¼Œåˆ™ <span class="math inline">\(S/\sim\)</span>ç§°ä¸ºå•†é›†ï¼Œæ˜¯ç­‰ä»·ç±»æ„æˆçš„é›†åˆã€‚</p></li><li><p>æ­£è§„å­ç¾¤ Normal Subgroup å’Œå•†ç¾¤ Quotient Group</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Quotient_group#Definition" title="Quotient group - Wikipedia">Quotient group - Wikipedia</a></p></blockquote><ul><li><p>è®¾ <span class="math inline">\(H\)</span> æ˜¯ç¾¤ <span class="math inline">\(G\)</span> çš„ä¸€ä¸ªå­ç¾¤ï¼Œå¦‚æœ <span class="math inline">\(\forall a\in G,~aH=Ha\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(H\)</span> ä¸º <span class="math inline">\(G\)</span> ä¸Šçš„æ­£è§„å­ç¾¤ï¼Œè®°ä½œ <span class="math inline">\(H\lhd G\)</span></p></li><li><p>è®¾ <span class="math inline">\(H\)</span> æ˜¯ç¾¤ <span class="math inline">\(G\)</span> çš„ä¸€ä¸ªæ­£è§„å­ç¾¤ï¼Œå®šä¹‰ <span class="math inline">\(G/H=\{aH|a\in G\}\)</span>ï¼Œå¯¹äºé™ªé›†ä¹˜æ³•</p><p><span class="math display">\[(aH)(bH)=a(Hb)H=(ab)HH=abH\]</span></p><p>æ„æˆä¸€ä¸ªé™ªé›†ä¸ºå…ƒç´ çš„ç¾¤ï¼Œå«åšå•†ç¾¤</p></li><li><p>ç”±äº <span class="math inline">\(\{\mathbb{Z} ;+\}\)</span>æ˜¯äº¤æ¢ç¾¤ï¼Œæ•…å…¶ä»»ä¸€å­ç¾¤ <span class="math inline">\(m \mathbb{Z}\)</span>æ˜¯ <span class="math inline">\(\mathbb{Z}\)</span>çš„æ­£è§„å­ç¾¤ï¼Œæ‰€ä»¥æœ‰å•†ç¾¤ï¼š</p><p>$$</p><span class="math display">\[\begin{aligned}&amp;\mathbb{Z} / m \mathbb{Z}= \begin{cases}\mathbb{Z}, &amp; m=0 \\\{\overline{0}, \overline{1}, \ldots, \overline{m-1}\}, &amp; m \neq0\end{cases}\\&amp;m\mathbb{Z}=\overline 0\\&amp;\overline a=a+m\mathbb{Z}=a\circ m\mathbb{Z}\end{aligned}\]</span><p>$$</p><p>æ³¨æ„å•†ç¾¤å…ƒç´ ä¹‹é—´çš„è¿ç®—ä¸ºæ¨¡ <span class="math inline">\(m\)</span>åŠ æ³•ï¼Œè¿™ä¸ªç¾¤é€šå¸¸ç®€è®°ä¸º <span class="math inline">\(\mathbb{Z}_m\)</span>ï¼ˆä½†æ˜¯è¿™ä¸ªè®°å·å®¹æ˜“å¼„æ··ï¼‰ï¼Œç§°ä¸ºæ¨¡<span class="math inline">\(m\)</span> çš„å‰©ä½™ç±»åŠ ç¾¤ã€‚</p></li><li><p>å½“å•†ç¾¤å…ƒç´ é—´çš„è¿ç®—ä¸ºæ¨¡ <span class="math inline">\(m\)</span>ä¹˜æ³•ï¼Œè¿™ä¸ªå•†ç¾¤è®°ä¸º <span class="math inline">\((\mathbb{Z} / m\mathbb{Z})^\times\)</span>ï¼Œä¸åŒäºåŠ ç¾¤ï¼Œè¿™ä¸ªç¾¤çš„å¤§å°ä¸ºæ¬§æ‹‰å‡½æ•° <span class="math inline">\(\varphi(m)\)</span>ï¼ˆè‹±æ–‡ï¼šEuler's totientFunctionï¼‰ï¼Œå³é›†åˆ <span class="math inline">\(\{1,\cdots,m-1\}\)</span>ä¸­ä¸ <span class="math inline">\(m\)</span> äº’è´¨çš„æ•°çš„ä¸ªæ•°ï¼Œåˆ™</p><p>$$</p><span class="math display">\[\begin{aligned}&amp;(\mathbb{Z} / m \mathbb{Z})^\times=  \{\overline p|~\overlinep\in(\mathbb{Z} / m \mathbb{Z})^+,\gcd(p,m)=1\},  m \neq 0\\&amp;\overline 1 \text{~is~the~identity}\\&amp;\overline a\times \overline b=\overline{a\times b}\end{aligned}\]</span><p>$$</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Multiplicative_group_of_integers_modulo_n" title="Multiplicative group of integers modulo n - Wikipedia">Multiplicativegroup of integers modulo n - Wikipedia</a></p><p><a href="http://www.math.columbia.edu/~rf/numbertheory2.pdf" title="http://www.math.columbia.edu/~rf/numbertheory2.pdf">http://www.math.columbia.edu/~rf/numbertheory2.pdf</a></p><p>å…¶ä¸­å•ä½å…ƒä¸º <span class="math inline">\(\overline 1\)</span>ï¼Œä¸€ä¸ªå…ƒç´  <span class="math inline">\(\overline a\)</span>çš„æœ€å°éè´Ÿä»£è¡¨æ•° <span class="math inline">\(a\)</span> çš„é€†å…ƒ <span class="math inline">\(a^{-1}\)</span> è¦æ»¡è¶³åŒä½™æ–¹ç¨‹ <span class="math inline">\(aa^{-1} \equiv 1(\mathrm{mod}~m)\)</span>ï¼Œå³æ–¹ç¨‹<span class="math inline">\(ax + my= 1\)</span> è¦æœ‰æ•´æ•°è§£ <span class="math inline">\(x,y\)</span>ã€‚</p><p>æ ¹æ®è£´èœ€ï¼ˆè´ç¥–ï¼‰å®šç†çš„æ¨è®ºï¼Œ<span class="math inline">\(ğ‘,ğ‘\)</span>äº’è´¨çš„å……è¦æ¡ä»¶æ˜¯å­˜åœ¨æ•´æ•° <span class="math inline">\(ğ‘¥,ğ‘¦\)</span> ä½¿<span class="math inline">\(ğ‘ğ‘¥+ğ‘ğ‘¦=1\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(\mathbb{Z}_m^\times\)</span>ä¸­çš„æœ€å°éè´Ÿä»£è¡¨æ•°éƒ½æ˜¯å’Œ <span class="math inline">\(m\)</span>äº’è´¨çš„æ•°ï¼Œå¦åˆ™æ²¡æœ‰é€†å…ƒã€‚</p></blockquote></li></ul></li><li><p>ç¯ Ring</p><p>è®¾éç©ºé›†åˆ <span class="math inline">\(R\)</span>æœ‰ä¸¤ä¸ªä»£æ•°è¿ç®—ï¼Œä¸€ä¸ªå«åšåŠ æ³•ï¼ˆä¸€èˆ¬ç”¨ <span class="math inline">\(+\)</span> è¡¨ç¤ºï¼‰ï¼Œå¦ä¸€ä¸ªå«åšä¹˜æ³•ã€‚å¦‚æœï¼š</p><ul><li><p><span class="math inline">\(R\)</span>å¯¹åŠ æ³•ä½œæˆä¸€ä¸ªäº¤æ¢ç¾¤</p></li><li><p><span class="math inline">\(R\)</span>å¯¹ä¹˜æ³•æ»¡è¶³<strong>ç»“åˆå¾‹ï¼ˆå³åŠç¾¤ï¼‰</strong></p></li><li><p>ä¹˜æ³•å¯¹åŠ æ³•æ»¡è¶³<strong>å·¦å³åˆ†é…å¾‹</strong>ï¼š</p><p><span class="math display">\[\forall a,b,c\in R,\quad a(b+c)=a b+a c, \quad(b+c) a=b a+c a  \]</span></p></li></ul><p>åˆ™ç§° <span class="math inline">\(R\)</span>å¯¹è¿™ä¸¤ä¸ªä»£æ•°è¿ç®—ä½œæˆä¸€ä¸ªç¯ã€‚</p><blockquote><p>è‹¥å¯¹ä¹˜æ³•æ»¡è¶³äº¤æ¢å¾‹ï¼Œåˆ™ç§°ä¸ºå¯æ¢ç¯ Commutative Ring</p><p>è‹¥ä¹˜æ³•æœ‰å•ä½å…ƒï¼Œåˆ™ç§°ä¸ºå¹ºç¯</p></blockquote><blockquote><p>åé¢çš„æ¦‚å¿µæ¯”è¾ƒæŠ½è±¡ï¼Œä¼šåœ¨åé¢å¤§é‡æ¶‰åŠï¼Œä¼šç»å¸¸æ›´æ–°ï¼Œè¿˜æ˜¯å»ºè®®ç”¨ <a href="https://www.wolai.com/ailanxier/wBn2PmNvMx2BM8yeM7tgr9">wolai</a>è§‚çœ‹</p><p>https://shaih.github.io/columbia6261/lecture13-NTRU.pdf</p></blockquote></li><li><p>ç†æƒ³ Ideal</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Ideal_(ring_theory)" title="Ideal (ring theory) - Wikipedia">Ideal (ring theory) -Wikipedia</a></p></blockquote><ul><li><p>è®¾ <span class="math inline">\(R\)</span> ä¸ºç¯ï¼Œ<span class="math inline">\(I\)</span> ä¸º <span class="math inline">\(R\)</span> çš„<strong>å­ç¯</strong>ï¼Œå¦‚æœ <span class="math inline">\(I\)</span> æ»¡è¶³æ¡ä»¶ã€Œ<span class="math inline">\(a\in I, x \in R \Rightarrow x a \in I\)</span>ã€ï¼Œåˆ™ç§° <span class="math inline">\(I\)</span> ä¸º <span class="math inline">\(R\)</span> çš„å·¦ç†æƒ³</p></li><li><p>å¦‚æœ <span class="math inline">\(I\)</span> æ»¡è¶³æ¡ä»¶ã€Œ<span class="math inline">\(a \in I, y \in R \Rightarrow a y \inI\)</span>ã€ï¼Œåˆ™ç§° <span class="math inline">\(I\)</span> ä¸º <span class="math inline">\(R\)</span> çš„å³ç†æƒ³</p></li><li><p>è‹¥ä¸€ä¸ªå­ç¯æ—¢æ˜¯å·¦ç†æƒ³ï¼Œåˆæ˜¯å³ç†æƒ³ï¼Œåˆ™ç§°ä¸ºåŒè¾¹ç†æƒ³ Two-sidedIdeal</p></li></ul></li><li><p>ä¸»ç†æƒ³ Principal Ideal</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Principal_ideal" title="Principal ideal - Wikipedia">Principal ideal - Wikipedia</a></p></blockquote><ul><li><p>ä¸»ç†æƒ³æ˜¯ç¯ <span class="math inline">\(R\)</span>çš„ä¸€ä¸ªç”±å•ä¸ªå…ƒç´  <span class="math inline">\(a\)</span> ç”Ÿæˆçš„ç†æƒ³ <span class="math inline">\(I\)</span>ï¼Œåˆ†ä¸ºå·¦/å³/åŒè¾¹ä¸»ç†æƒ³</p></li><li><p>å·¦ä¸»ç†æƒ³ä¸¥è°¨è¡¨ç¤ºä¸ºï¼ˆå³ç±»ä¼¼ï¼‰ï¼š</p><p><span class="math display">\[I=Ra=\{ra|r\in R\}\]</span></p></li><li><p>åŒè¾¹ä¸»ç†æƒ³ä¸¥è°¨è¡¨ç¤ºä¸ºï¼ˆæ²¡å¤ªçœ‹æ‡‚ï¼Œå›½å†…åšå®¢å¥½åƒä¸å¤ªä¸€è‡´ï¼‰ï¼š</p><p><span class="math display">\[I=R a R=\left\{r_{1} a s_{1}+\cdots+r_{n} a s_{n}| r_{1}, s_{1}, \ldots,r_{n}, s_{n} \in R\right\}\]</span></p></li><li><p>å¯¹äºå¯æ¢ç¯ï¼Œä»¥ä¸Šä¸‰ç§ä¸»ç†æƒ³æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥è®°ç”± <span class="math inline">\(a\)</span> ç”Ÿæˆçš„ç¯ä¸º <span class="math inline">\(I=\langle a\rangle\; \text{or}\;I=(a)\)</span></p></li></ul><blockquote><p><span class="math inline">\(\mathbb{Z}\)</span> çš„ä¸»ç†æƒ³å°±æ˜¯ <span class="math inline">\(\langle m \rangle = m\mathbb{Z}\)</span></p></blockquote></li><li><p>å•†ç¯ Quotient Ringï¼ˆæˆ–å‰©ä½™ç±»ç¯ Residue Class Ringï¼‰</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Quotient_ring" title="Quotient ring - Wikipedia">Quotient ring - Wikipedia</a></p></blockquote><p>è®¾ <span class="math inline">\(R\)</span> æ˜¯ä¸€ä¸ªç¯ï¼Œ<span class="math inline">\(I\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„ç†æƒ³ã€‚è€ƒè™‘åŠ æ³•ç¾¤ <span class="math inline">\(\{R ;+\}\)</span> å¯¹äºå­ç¾¤ <span class="math inline">\(I\)</span> çš„å•†ç¾¤ <span class="math inline">\(R /I\)</span>ï¼Œå°† <span class="math inline">\(a \in R\)</span>æ‰€åœ¨çš„ç­‰ä»·ç±»è®°ä¸º <span class="math inline">\(a+I\)</span>ã€‚åœ¨ <span class="math inline">\(R / I\)</span> ä¸Šå®šä¹‰ä¹˜æ³•å¦‚ä¸‹:</p><p><span class="math display">\[(a+I)(b+I)=a b+I .\]</span></p><p>åˆ™é›†åˆ <span class="math inline">\(R / I\)</span>å¯¹äºå•†ç¾¤çš„åŠ æ³•ä»¥åŠä¸Šè¿°ä¹˜æ³•è¿ç®—æ„æˆä¸€ä¸ªç¯ï¼Œç§°ä¸º <span class="math inline">\(R\)</span> å¯¹äºç†æƒ³ <span class="math inline">\(I\)</span> çš„å•†ç¯ã€‚</p><blockquote><p><span class="math inline">\(\mathbb{Z}/m\mathbb{Z}\)</span>å°±æ˜¯ä¸€ä¸ªå•†ç¯ï¼Œå½“ <span class="math inline">\(m&gt;0\)</span> æ—¶ï¼Œç§°<span class="math inline">\(\mathbb{Z}/m\mathbb{Z}\)</span> ä¸º <span class="math inline">\(\mathbb{Z}\)</span> æ¨¡ <span class="math inline">\(m\)</span> çš„å‰©ä½™ç±»ç¯ã€‚</p></blockquote></li></ul>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘æ¯•ä¸šè®¾è®¡</category>
      
      <category>å‰ç½®çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¨åŒæ€åŠ å¯†</tag>
      
      <tag>æŠ½è±¡ä»£æ•°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git å­¦ä¹ ç¬”è®°</title>
    <link href="/git.html"/>
    <url>/git.html</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>èµ„æ–™ä¸»è¦æ¥è‡ªï¼š</p><ol type="1"><li><a href="https://git-scm.com/book/zh/v2">ProGit 2nd Edition (2014)ä¸­æ–‡ç‰ˆ</a></li><li><a href="https://git-scm.com/docs">Git Reference</a></li><li><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn GitBranching ä¸­æ–‡ç½‘ç«™</a></li></ol><p>åŸºäºç›®å‰æ™®éä½¿ç”¨çš„ Git æœ€æ–°ç‰ˆæœ¬ï¼Œè®°å½•äº†ä¸€äº›è¾ƒä¸ºæœ‰ç”¨çš„ Git ç§‘æŠ€ã€‚</p><p>æ¨èåˆ° <a href="https://github.com/ailanxier/ailanxier.github.io/releases/tag/git">Githubä»“åº“</a> ä¸‹è½½è¯¥åšå®¢çš„ PDF ç‰ˆæœ¬æŸ¥çœ‹ã€‚</p>          </div><h2 id="git-åŸºæœ¬ä¿¡æ¯">Git åŸºæœ¬ä¿¡æ¯</h2><h3 id="git-ç‰¹æ€§">Git ç‰¹æ€§</h3><ul><li><p>Git å’Œå…¶å®ƒç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸»è¦å·®åˆ«åœ¨äºå¯¹å¾…æ•°æ®çš„æ–¹æ³•ï¼š</p><ul><li><p>å…¶ä»–ç³»ç»Ÿï¼š</p><p>â€‹ å­˜å‚¨æ¯ä¸ªæ–‡ä»¶ä¸åˆå§‹ç‰ˆæœ¬çš„å·®å¼‚ï¼Œå¦‚å›¾ï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/delta.png"></div></li><li><p>Gitï¼š</p><p>â€‹å­˜å‚¨é¡¹ç›®éšæ—¶é—´æ”¹å˜çš„<strong>å¿«ç…§</strong>ï¼ŒæŠŠæ•°æ®çœ‹ä½œæ˜¯å¯¹å°å‹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç»„å¿«ç…§ã€‚æ¯æ¬¡commit æˆ–ä¿å­˜é¡¹ç›®çŠ¶æ€æ—¶ï¼ŒGitå¯¹å½“æ—¶çš„å…¨éƒ¨æ–‡ä»¶åˆ¶ä½œä¸€ä¸ªå¿«ç…§å¹¶ä¿å­˜è¿™ä¸ªå¿«ç…§çš„ç´¢å¼•ã€‚ä¸ºäº†é«˜æ•ˆï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰ä¿®æ”¹ï¼ŒGit<strong>ä¸å†é‡æ–°å­˜å‚¨</strong>è¯¥æ–‡ä»¶ï¼Œè€Œæ˜¯åªä¿ç•™ä¸€ä¸ªé“¾æ¥æŒ‡å‘ä¹‹å‰å­˜å‚¨çš„æ–‡ä»¶ã€‚Gitå¯¹å¾…æ•°æ®æ›´åƒæ˜¯ä¸€ä¸ª<strong>å¿«ç…§æµ</strong>ï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/snapshots.png"></div></li></ul></li><li><p>Git ä¿æŠ¤æ–‡ä»¶å®Œæ•´æ€§ï¼š</p><ul><li>Gitä¸­æ‰€æœ‰æ•°æ®åœ¨å­˜å‚¨å‰éƒ½è®¡ç®—<strong>æ ¡éªŒå’Œ</strong>ï¼Œä¸èƒ½åœ¨ä¸æ”¹å˜æ ¡éªŒå’Œçš„æƒ…å†µä¸‹ä¿®æ”¹æ–‡ä»¶ã€‚</li><li>è®¡ç®—æ ¡éªŒå’Œçš„æœºåˆ¶å«åš <strong>SHA-1 æ•£åˆ—</strong>ï¼ˆhashï¼Œå“ˆå¸Œï¼‰ï¼Œç”±40 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ç»„æˆã€‚</li><li>Git ä»¥æ ¡éªŒå’Œæ¥å¼•ç”¨æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åã€‚</li></ul></li><li><p>Git ä¸€èˆ¬åªå¢åŠ æ•°æ®ï¼Œéš¾ä»¥æ¸…é™¤æ•°æ®åº“ä¸­æ•°æ®ï¼Œä½¿å¾— Gitæ“ä½œä¸€èˆ¬éƒ½æ˜¯<strong>å¯é€†çš„</strong></p></li></ul><h3 id="ä¸‰æ£µæ ‘">ã€Œä¸‰æ£µæ ‘ã€ ğŸŒ³</h3><p>Git é¡¹ç›®çš„ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼ˆæ–‡ä»¶çš„é›†åˆï¼‰ï¼š + <strong>Gitä»“åº“</strong>ï¼Œ.git directoryï¼Œä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ã€‚ +<strong>æš‚å­˜åŒºåŸŸ</strong>ï¼Œæˆ– Indexï¼Œæˆ– StagingAreaï¼Œä¿å­˜äº†<strong>ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯</strong>ï¼Œä¸€èˆ¬åœ¨ Gitä»“åº“ç›®å½•ä¸­ã€‚æœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä½œã€Œç´¢å¼•ã€ï¼Œä¸è¿‡ä¸€èˆ¬è¿˜æ˜¯å«æš‚å­˜åŒºåŸŸã€‚ +<strong>å·¥ä½œç›®å½•</strong>ï¼ŒWorkingDirectory(Tree)ï¼Œå¯¹é¡¹ç›®çš„<strong>æŸä¸ªç‰ˆæœ¬</strong>ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹ï¼Œæ”¾åœ¨ç£ç›˜ä¸Šå¯ä»¥ä½¿ç”¨æˆ–ä¿®æ”¹</p><h3 id="git-åŸºç¡€æ“ä½œ">Git åŸºç¡€æ“ä½œ</h3><ul><li><p><code>git config</code>ï¼š</p><ul><li><p>ç”¨äºè®¾ç½®æ§åˆ¶ Gitå¤–è§‚å’Œè¡Œä¸ºçš„é…ç½®å˜é‡ï¼Œå®ƒä»¬å­˜å‚¨åœ¨ä¸‰ä¸ªä¸åŒçš„ä½ç½®ï¼š</p><ul><li><p><code>/etc/gitconfig</code> æ–‡ä»¶:</p><p>ä½¿ç”¨ <code>--system</code>é€‰é¡¹è¯»å†™è¯¥æ–‡ä»¶ï¼ŒåŒ…å«ç³»ç»Ÿä¸Šæ¯ä¸€ä¸ªç”¨æˆ·åŠä»–ä»¬ä»“åº“çš„é€šç”¨é…ç½®ã€‚</p></li><li><p><code>~/.gitconfig</code> æˆ– <code>~/.config/git/config</code>æ–‡ä»¶ï¼š</p><p>ä½¿ç”¨ <code>--global</code> é€‰é¡¹è¯»å†™è¯¥æ–‡ä»¶ï¼Œåªé’ˆå¯¹å½“å‰ç”¨æˆ·ï¼Œä¸€èˆ¬Windows è®¾ç½®æ­¤å¤„ã€‚</p></li><li><p>å½“å‰ä½¿ç”¨ä»“åº“çš„ Git ç›®å½•ä¸­çš„ config æ–‡ä»¶ï¼ˆå°±æ˜¯<code>.git/config</code>ï¼‰ï¼š</p><p>é’ˆå¯¹è¯¥ä»“åº“ã€‚</p><p></p><div class="note note-info">            <p>æ¯ä¸€ä¸ªçº§åˆ«è¦†ç›–ä¸Šä¸€çº§åˆ«çš„é…ç½®ã€‚</p>          </div><p></p></li></ul></li><li><p>ç”¨æˆ·ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git config --global user.name <span class="hljs-string">"ç”¨æˆ·å"</span></span><br><span class="hljs-meta">$</span><span class="bash"> git config --global user.email <span class="hljs-string">"é‚®ç®±"</span></span><br></code></pre></td></tr></tbody></table></figure></li><li><p>Git æ“ä½œåˆ«å <code>alias</code>ï¼š</p><ul><li><p>ç›¸å½“äº<code>define</code>ï¼Œä¸ç”¨è¾“å…¥å¤æ‚çš„æ“ä½œå‘½ä»¤ï¼Œåªéœ€è¦è¾“å…¥å®ƒçš„åˆ«å</p></li><li><p>ä»¥ <code>git log</code> çš„æ˜¾ç¤ºä¼˜åŒ–ä¸ºä¾‹å­ï¼Œå¯ä»¥ä»¥ Gitå›¾å½¢è±¡å±•ç¤ºåˆ†æ”¯å’Œæäº¤æƒ…å†µï¼Œå¹¶æ¶‚ä¸Šé¢œè‰² <span class="">ğŸ–</span></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'</span> --abbrev-commit --date=relative</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>å¯¹è¿™ä¸€æ“ä½œèµ·åˆ«å <code>showlog</code>ï¼Œæˆªå– <code>git</code>ä¹‹åçš„éƒ¨åˆ†ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git config --global alias.showlog <span class="hljs-string">"log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit --date=relative"</span></span><br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>è®¾ç½®ç¼–è¾‘å™¨ï¼š</p><p>â€‹ é»˜è®¤ç¼–è¾‘å™¨ä¸º Vimï¼Œå…¥é—¨ä¸å¤ªå‹å¥½ï¼Œå¦‚æœé…ç½®æœ‰ VSCodeæˆ–å…¶ä»–ç¼–è¾‘å™¨ï¼Œå¯ä»¥ä¿®æ”¹é»˜è®¤ç¼–è¾‘å™¨ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git config --global core.editor <span class="hljs-string">"code --wait"</span></span><br></code></pre></td></tr></tbody></table></figure></li><li><p><code>git config --list</code> å‘½ä»¤æ¥åˆ—å‡ºæ‰€æœ‰ Git é…ç½®</p></li></ul></li><li><p>è·å–<strong>å¸®åŠ©æ–‡æ¡£</strong>çš„ä¸‰ç§æ–¹å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">help</span> &lt;verb&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> git &lt;verb&gt; --<span class="hljs-built_in">help</span></span><br><span class="hljs-meta">$</span><span class="bash"> man git-&lt;verb&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>è·å– Git ä»“åº“</p><ul><li><code>git init</code> åˆ›å»º <code>.git</code> çš„å­ç›®å½•ï¼Œå«æœ‰åˆå§‹åŒ–çš„Gitä»“åº“ä¸­æ‰€æœ‰çš„å¿…é¡»æ–‡ä»¶ï¼Œæ­¤æ—¶ä¸‰æ£µæ ‘åªæœ‰å·¥ä½œç›®å½•ï¼Œå…¶ä»–ä¸¤æ£µæ ‘éƒ½ä¸ºç©ºï¼Œåç»­å¯ä»¥æ·»åŠ è¿œç¨‹ä»“åº“ã€‚</li><li><code>git clone</code> å…‹éš†ç°æœ‰çš„ä»“åº“ã€‚</li></ul></li><li><p><strong>å¿½ç•¥æ–‡ä»¶</strong>ï¼š</p><ul><li><p>å¯¹äºä¸å¸Œæœ› Git åŠ å…¥ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡<code>.gitignore</code>æ–‡ä»¶ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶æ¨¡å¼ï¼Œä¸€è¡Œä¸€ä¸ªè§„åˆ™ï¼ˆæ‰€æœ‰ç©ºè¡Œæˆ–è€…ä»¥ <code>ï¼ƒ</code>å¼€å¤´çš„è¡Œéƒ½ä¼šè¢« Git å¿½ç•¥ï¼‰ã€‚</p></li><li><p>ç»å…¸æ ¼å¼ï¼š</p><ul><li><p>æŒ‰æ–‡ä»¶åå¿½ç•¥å•ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¿½ç•¥å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ a æ–‡ä»¶ï¼š</span><br>a<br><span class="hljs-comment"># å¿½ç•¥æ‰€æœ‰å­ç›®å½•ä¸‹çš„ a æ–‡ä»¶</span><br>*/a<br></code></pre></td></tr></tbody></table></figure></li><li><p>æŒ‰åç¼€å¿½ç•¥æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¿½ç•¥æ‰€æœ‰çš„ .a æ–‡ä»¶</span><br>*.a<br><span class="hljs-comment"># ç”¨ ! å¦å®šå¿½ç•¥ test.a æ–‡ä»¶, å³ä½¿å‰é¢å¿½ç•¥äº†æ‰€æœ‰çš„ .a æ–‡ä»¶</span><br>!test.a<br><span class="hljs-comment"># å¿½ç•¥ /b/test.a,ä¸èƒ½å¿½ç•¥ /b/b/test.a</span><br>b/*.a<br><span class="hljs-comment"># å¿½ç•¥ b ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰çš„ .a æ–‡ä»¶</span><br>b/**/*.a<br></code></pre></td></tr></tbody></table></figure></li><li><p>å¿½ç•¥æ–‡ä»¶å¤¹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„ a æ–‡ä»¶å¤¹ï¼Œä»¥ä¸‹ç­‰ä»·</span><br>a/<br>/a/<br>/a/*<br><span class="hljs-comment"># å¿½ç•¥ a æ–‡ä»¶å¤¹, ä¸ç®¡æ˜¯æ ¹ç›®å½•ä¸‹çš„ /a/, è¿˜æ˜¯å­ç›®å½•ä¸‹çš„ /child/a/</span><br>a/*<br></code></pre></td></tr></tbody></table></figure></li><li><p>å¦å®šçš„æ ¼å¼å’Œå¿½ç•¥æ ¼å¼ä¸€æ ·ï¼Œåªéœ€è¦åŠ  <code>!</code></p></li><li><p>glob æ¨¡å¼è§„åˆ™ï¼ˆç®€åŒ–ç‰ˆæ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼‰ï¼š</p><ul><li><p>ä»¥æ˜Ÿå· <code>*</code> é€šé…ä»»æ„ä¸ªå­—ç¬¦</p></li><li><p>ä»¥é—®å· <code>?</code> é€šé…å•ä¸ªå­—ç¬¦</p></li><li><p>ä»¥æ–¹æ‹¬å· <code>[]</code> åŒ…å«å•ä¸ªå­—ç¬¦çš„åŒ¹é…åˆ—è¡¨ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¿½ç•¥ debug0.logã€debugA.log ç­‰</span><br>debug[a-zA-Z0-<span class="hljs-number">9</span>].log      <br> <span class="hljs-comment"># ä»…å¿½ç•¥ debug0.logã€debug1.log</span><br>debug[01].log        <br><span class="hljs-comment"># ä¸å¿½ç•¥ debug0.logã€debug1.log</span><br>debug[!01].log       <br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul></li><li><p>è¦æ³¨æ„çš„ç»†èŠ‚ï¼š</p><ul><li><p><code>gitignore</code>æ˜¯ä»ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡ŒåŒ¹é…ï¼Œ<strong>åé¢çš„ä¼šè¦†ç›–å‰é¢</strong>çš„ã€‚</p></li><li><p>é»˜è®¤ç¼–ç æ˜¯ GBKï¼Œæ‰€ä»¥<strong>ä¸èƒ½è¯†åˆ«ä¸­æ–‡</strong>ã€‚</p></li><li><p>å¯¹äºå·²ç»åŠ å…¥ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œä¸èƒ½ä»…é€šè¿‡ä¿®æ”¹<code>.gitignore</code> æ¥å–æ¶ˆè·Ÿè¸ªï¼Œè¿˜è¦ä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-index --assume-unchanged æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ä¸€èˆ¬å¯¹äºå„ç§è¯­è¨€å’Œé¡¹ç›®æœ‰ <code>.gitignore</code> æ¨¡æ¿</p></li></ul></li></ul></li></ul><h2 id="git-æœ¬åœ°æ“ä½œ">Git æœ¬åœ°æ“ä½œ</h2><h3 id="æ–‡ä»¶çŠ¶æ€">æ–‡ä»¶çŠ¶æ€</h3><ul><li><p><strong>å·¥ä½œç›®å½•</strong>ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶å¤„äºä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p><ul><li><p><strong>å·²è·Ÿè¸ª</strong>ï¼ŒæŒ‡é‚£äº›è¢«çº³å…¥äº†ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œåœ¨ä¸Šä¸€æ¬¡å¿«ç…§ä¸­æœ‰å®ƒä»¬çš„è®°å½•ï¼Œåœ¨å·¥ä½œä¸€æ®µæ—¶é—´åï¼Œå®ƒä»¬çš„çŠ¶æ€å¯èƒ½å¤„äº<strong>æœªä¿®æ”¹Unmodifiedï¼Œå·²ä¿®æ”¹ Modified æˆ–å·²æ”¾å…¥æš‚å­˜åŒºçŠ¶æ€ Staged</strong>ã€‚</p><blockquote><p>åˆæ¬¡å…‹éš†æŸä¸ªä»“åº“çš„æ—¶å€™ï¼Œå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºå·²è·Ÿè¸ªæ–‡ä»¶ï¼Œå¹¶å¤„äºæœªä¿®æ”¹çŠ¶æ€ã€‚</p></blockquote></li><li><p><strong>å·²å¿½ç•¥</strong>ï¼Œåœ¨æäº¤å‰å·²ç»è¢« <code>.gitignore</code>è§„åˆ™å¿½ç•¥ã€‚</p></li><li><p><strong>æœªå¿½ç•¥ä¸”æœªè·Ÿè¸ª</strong>ï¼Œä¸æ˜¯ä»¥ä¸Šä¸¤ç§çŠ¶æ€çš„æ–‡ä»¶</p></li><li><p>çŠ¶æ€è½¬æ¢ï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/status.png"></div></li></ul></li><li><p><code>git status</code> æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ï¼š</p><ul><li><p>ä¼šæ˜¾ç¤ºäº†<strong>å½“å‰æ‰€åœ¨åˆ†æ”¯</strong>ï¼Œä»¥åŠè¿™ä¸ªåˆ†æ”¯åŒè¿œç¨‹æœåŠ¡å™¨ä¸Šå¯¹åº”çš„åˆ†æ”¯æ˜¯å¦åç¦»</p></li><li><p>è¾“å‡ºæ ¼å¼ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">Changes to be committed:<br><span class="hljs-comment"># å·²æ·»åŠ åˆ°æš‚å­˜åŒºçš„çŠ¶æ€ï¼ŒåŒ…å« modified, new file, renamed, deleted</span><br><br>Changes <span class="hljs-keyword">not</span> staged <span class="hljs-keyword">for</span> commit:<br><span class="hljs-comment"># å·¥ä½œç›®å½•çš„çŠ¶æ€ï¼Œæœªæ·»åŠ åˆ°æš‚å­˜åŒºï¼ŒåŒ…å« modified, deleted</span><br><br>Untracked files:<br><span class="hljs-comment"># æœªå¿½ç•¥ä¸”æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨ <code>-s</code> é€‰é¡¹è®©è¾“å‡ºæ›´ç®€æ´ï¼š</p><ul><li><p>ä¾‹å­è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br>M  README<br>MM Rakefile<br>A  lib/git.rb<br>?? LICENSE.txt<br></code></pre></td></tr></tbody></table></figure></li><li><p>çŠ¶æ€åˆ†ä¸º<strong>ä¸¤åˆ—</strong>ï¼Œ<strong>å·¦åˆ—</strong>ä¸ºä¸Šè¿°æ‰€è°“çš„<strong>æš‚å­˜åŒºçŠ¶æ€</strong>ï¼Œ<strong>å³åˆ—</strong>ä¸º<strong>å·¥ä½œç›®å½•çŠ¶æ€</strong>ã€‚</p></li><li><p><code>M</code> è¡¨ç¤ºæ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œ<strong>å·¦è¾¹</strong>çš„<code>M</code>è¡¨ç¤ºè¯¥æ–‡ä»¶è¢«ä¿®æ”¹äº†<strong>å¹¶æ”¾å…¥äº†æš‚å­˜åŒº</strong>ï¼Œ<strong>å³è¾¹</strong>çš„<code>M</code>è¡¨ç¤ºè¯¥æ–‡ä»¶è¢«ä¿®æ”¹äº†ä½†æ˜¯è¿˜<strong>æ²¡æ”¾å…¥æš‚å­˜åŒº</strong>ã€‚åŒæ—¶å…·æœ‰ä¸¤åˆ—çŠ¶æ€çš„è¿˜æœ‰<code>D</code>ï¼Œè¡¨ç¤ºä¸€ä¸ª<strong>å·²è·Ÿè¸ªæ–‡ä»¶è¢«åˆ é™¤</strong>ã€‚</p><blockquote><p>ä¸Šé¢ <code>Rakefile</code>æ–‡ä»¶å¯èƒ½ç»å†äº†<strong>ä¸¤æ¬¡ä¿®æ”¹</strong>ï¼Œç¬¬ä¸€æ¬¡ä¿®æ”¹åï¼ŒåŠ å…¥åˆ°äº†æš‚å­˜åŒºä¸­ï¼Œæœ‰äº†å·¦è¾¹çš„<code>M</code>ï¼Œä¹‹åå†è¿›è¡Œç¬¬äºŒæ¬¡ä¿®æ”¹ï¼ŒæœªåŠ å…¥åˆ°æš‚å­˜åŒºï¼Œæ­¤æ—¶å°±ä¼šå¾—åˆ°å³è¾¹çš„<code>M</code>ã€‚è‹¥å†å°†è¯¥æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºï¼Œåˆ™åªä¼šè¾“å‡ºå·¦è¾¹çš„<code>M</code>ã€‚</p></blockquote></li><li><p><code>A</code>è¡¨ç¤ºæ–‡ä»¶æ–°æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ï¼Œä¹‹å‰å¯èƒ½å¤„äºä¸ºæœªè·Ÿè¸ªçŠ¶æ€ï¼Œåªä¼šå‡ºç°åœ¨<strong>å·¦è¾¹</strong>ã€‚åŒæ ·åªä¼šå‡ºç°åœ¨å·¦è¾¹çš„è¿˜æœ‰<strong>æ›´å</strong>æ“ä½œäº§ç”Ÿçš„çŠ¶æ€<code>R</code>ã€‚</p></li><li><p><code>??</code> è¡¨ç¤ºæœªå¿½ç•¥ä¸”æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶ã€‚</p></li></ul></li><li><p>å½“ <code>git status</code> è¾“å‡º <code>working tree clean</code>æ—¶ï¼Œæˆ– <code>-s</code>é€‰é¡¹æ— è¾“å‡ºæ—¶ï¼Œè¡¨ç¤ºå½“å‰æ²¡æœ‰ä¿®æ”¹ï¼Œä¸‰æ£µæ ‘ä¿æŒä¸€è‡´ã€‚è®¸å¤šå‘½ä»¤éƒ½è¦æ±‚åœ¨<code>working tree clean</code>ï¼Œä»¥é˜²ä¸¢å¤±ä¿®æ”¹ã€‚</p></li></ul></li></ul><h3 id="git-ä¸ªäººå¼€å‘æ“ä½œ">Git ä¸ªäººå¼€å‘æ“ä½œ</h3><ul><li><p>æŸ¥çœ‹æ–‡ä»¶å·®å¼‚ï¼š</p><ul><li><p>ç›´æ¥ä¸Šå›¾ï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/diff.png"></div></li><li><p><code>git diff</code>æœ¬èº«åªæ˜¾ç¤º<strong>å°šæœªæš‚å­˜çš„æ”¹åŠ¨</strong>ï¼Œè€Œä¸æ˜¯è‡ªä¸Šæ¬¡æäº¤ä»¥æ¥æ‰€åšçš„æ‰€æœ‰æ”¹åŠ¨ã€‚æ‰€ä»¥æš‚å­˜äº†æ‰€æœ‰æ›´æ–°è¿‡çš„æ–‡ä»¶åï¼Œè¿è¡Œgit diff ä¼šä»€ä¹ˆä¹Ÿä¸è¾“å‡ºã€‚</p></li></ul></li><li><p><code>git add</code> æ·»åŠ è¿›æš‚å­˜åŒºï¼š</p><ul><li>åœ¨æ–°ç‰ˆæœ¬çš„ Git ä¸­ï¼Œ<code>git add .</code> å’Œ <code>git add -A</code>æ“ä½œæ•ˆæœä¸€è‡´ï¼Œéƒ½æ˜¯å°†æœªè·Ÿè¸ªã€å·²è·Ÿè¸ªè¢«ä¿®æ”¹ï¼Œå·²è·Ÿè¸ªè¢«åˆ é™¤çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</li><li><code>git add -u</code><strong>ä¸ä¼šå°†æœªè·Ÿè¸ª</strong>æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œ<code>u</code> å³<code>update</code>ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åªæœ‰<strong>å·²è¢«è·Ÿè¸ª</strong>çš„æ–‡ä»¶è¢«æ›´æ–°ï¼ˆåˆ é™¤æˆ–è¢«ä¿®æ”¹ï¼‰æ‰ä¼šæ·»åŠ åˆ°æš‚å­˜åŒºã€‚</li></ul></li><li><p><code>git rm</code> åˆ é™¤ï¼š</p><ul><li><p>æ¸…é™¤ä¸å°å¿ƒæ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œä¸æƒ³è®© Gitå»è·Ÿè¸ªã€‚å¦‚æœå·²ç»æäº¤äº†ï¼Œéœ€è¦ç”¨ä¹‹å‰è¯´çš„æ–¹å¼åˆ é™¤ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git update-index --assume-unchanged æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ä¸å¸¦é€‰é¡¹æ—¶ï¼Œæ˜¯<strong>åŒæ—¶åˆ é™¤</strong>æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶çš„çŠ¶æ€å˜ä¸º<strong>å·¦è¾¹</strong>çš„<code>D</code>ï¼Œå³åˆ é™¤è¿™ä¸€åŠ¨ä½œä¹Ÿä¼šè¢«æäº¤ã€‚</p></li><li><p><code>--cache</code>é€‰é¡¹ï¼Œ<strong>åªåˆ é™¤æš‚å­˜åŒº</strong>çš„æ–‡ä»¶ï¼Œä¸åˆ é™¤å·¥ä½œç›®å½•çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸€äº›ä¸­é—´è¿‡ç¨‹æ–‡ä»¶ã€‚æ–‡ä»¶çŠ¶æ€ä¼šåŒæ—¶å‡ºç°åœ¨æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•ï¼š</p><ul><li><p>åœ¨æš‚å­˜åŒºä¸­æ˜¾ç¤º<strong>å·¦è¾¹</strong>çš„ <code>D</code></p></li><li><p>åœ¨å·¥ä½œç›®å½•ä¸­æ˜¾ç¤º<strong>æœªè·Ÿè¸ª</strong>çš„<code>??</code></p></li><li><p>å½“ä½¿ç”¨ç®€æ´è¾“å‡ºçŠ¶æ€çš„æ—¶ï¼Œä¼šäº§ç”Ÿä»¥ä¸‹å¥‡å¦™è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git rm --cache d</span><br><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br>D  d<br>?? d<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>å¯ä»¥ä½¿ç”¨ glob æ¨¡å¼è§„åˆ™é€‰æ‹©åˆ é™¤æ–‡ä»¶</p></li></ul></li><li><p><code>git mv</code> <strong>ç§»åŠ¨æˆ–æ›´å</strong>æ–‡ä»¶ï¼š</p><ul><li>æ ¼å¼ï¼š<code>git mv a b</code>ï¼Œ<code>b</code>å¯ä»¥æ˜¯å¦ä¸€ä¸ªæ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶è·¯å¾„ã€‚</li><li>å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„æ–‡ä»¶éƒ½ä¼šè¢«ç§»åŠ¨</li><li>Git ä¼šæ„è¯†åˆ°è¿™æ˜¯ä¸€æ¬¡æ”¹åï¼Œæ–‡ä»¶çš„çŠ¶æ€ä¼šå˜æˆ <code>renamed</code>æˆ–<strong>å·¦è¾¹</strong>çš„ <code>R</code>ã€‚</li></ul></li><li><p><code>git commit</code> æäº¤æ›´æ–°ï¼š</p><ul><li><code>-a</code>é€‰é¡¹ï¼Œè·³è¿‡ä½¿ç”¨æš‚å­˜åŒºï¼Œç›´æ¥æŠŠå·²ä¿®æ”¹æˆ–è€…å·²åˆ é™¤çš„æ–‡ä»¶æ·»åŠ æäº¤ï¼Œä½†æ˜¯å¯¹äº<strong>æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶</strong>ä¸ä¼šæ·»åŠ ï¼Œä¸€èˆ¬åªç”¨åœ¨ä¿®æ”¹å°‘é‡æ–‡ä»¶çš„æäº¤ã€‚</li><li><code>--amend</code>é€‰é¡¹ï¼Œå°½é‡åœ¨æœªæ¨é€åˆ°è¿œç¨‹æ—¶ä½¿ç”¨ï¼ˆé™¤éåªæœ‰è‡ªå·±ç”¨ï¼‰ï¼Œå¯ä»¥<strong>æ›¿æ¢</strong>æ‰å½“å‰<code>HEAD</code> æŒ‡å‘çš„æäº¤ï¼ˆæ ¡éªŒå’Œæ”¹å˜ï¼‰ï¼Œç”¨äºè¡¥å……ä¸€äº›ä¿®æ”¹ï¼Œä¿æŒ Gitè®°å½•å·¥æ•´ã€‚å¦‚æœä¸ä½¿ç”¨ <code>-m</code>ç¼–å†™æ–°çš„æäº¤ä¿¡æ¯ï¼Œåˆ™ä¼šä½¿ç”¨æ—§çš„æäº¤ä¿¡æ¯ã€‚</li></ul></li></ul><h3 id="åæ‚”è¯æ’¤é”€æ“ä½œ">åæ‚”è¯ï¼šæ’¤é”€æ“ä½œ ğŸ’Š</h3><ul><li><p><strong>å¼ºçƒˆå»ºè®®ä½¿ç”¨</strong>çš„ <code>git restore</code>ï¼š</p><ul><li><p>æ–°ç‰ˆæœ¬çš„æ’¤é”€å‘½ä»¤ï¼Œåˆ†æ‹…äº†åŸæ¥ <code>git checkout</code> å’Œ<code>git reset</code> çš„å¤§é‡ä»»åŠ¡ï¼Œé€šå¸¸æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git restore [-s &lt;tree-ish&gt;] [--staged] [--worktree] æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure></li><li><p><code>[]</code>è¡¨ç¤ºè¿™ä¸€é€‰é¡¹æˆ–å‚æ•°å¯æœ‰å¯æ— ã€‚ä¸å¸¦ä»»ä½•é€‰é¡¹æ—¶ï¼Œåˆ™ä¼šé»˜è®¤ä»<strong>æš‚å­˜åŒº</strong>è¿˜åŸå·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</p></li><li><p><code>-s &lt;tree&gt;</code> é€‰é¡¹ï¼Œä»<code>&lt;tree-ish&gt;</code> å¯¹åº”çš„æäº¤è¿˜åŸæ–‡ä»¶ï¼Œå¯ä»¥æ˜¯<code>HEAD</code>ï¼Œåˆ†æ”¯åï¼Œæˆ–æ˜¯æäº¤çš„æ ¡éªŒå’Œå‰å‡ ä½ã€‚</p></li><li><p><code>--staged</code> é€‰é¡¹ï¼Œä» <strong><code>HEAD</code></strong>æˆ–è€…åœ¨è®¾ç½® <code>-s &lt;tree-ish&gt;</code> åï¼Œä»<code>&lt;tree-ish&gt;</code>è¿˜åŸæ–‡ä»¶ï¼Œåªä¼šæ”¹å˜<strong>æš‚å­˜åŒº</strong>ã€‚</p></li><li><p><code>--worktree</code> é€‰é¡¹ï¼Œä¸€èˆ¬å’Œ <code>--staged</code>ä¸€èµ·ç”¨ï¼ˆå› ä¸ºæ²¡æœ‰ <code>--staged</code>æ—¶å°±æ˜¯ä¼šè¿˜åŸå·¥ä½œç›®å½•çš„ï¼‰ï¼Œè¡¨ç¤º<strong>åŒæ—¶æ”¹å˜æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•</strong>ã€‚</p></li><li><p>é€šè¿‡çµæ´»ä½¿ç”¨ä¸Šè¿°é€‰é¡¹ï¼Œæ”¹å˜æ–‡ä»¶çŠ¶æ€ï¼ŒåŸºæœ¬ä¸Šæ»¡è¶³å·¥ä½œéœ€æ±‚</p></li></ul></li><li><p><code>git reset</code> é‡ç½®ï¼š</p><ul><li><p>å½“é‡ç½®ç›®æ ‡æ˜¯æ–‡ä»¶æ—¶ï¼Œ<code>reset</code>æ”¹å˜çš„æ˜¯<strong>æš‚å­˜åŒº</strong>çš„å¯¹åº”æ–‡ä»¶ï¼Œæ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git reset [&lt;tree-ish&gt;] [--] æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure><p>åŠ  <code>--</code>ä¼šæ¯”è¾ƒå¥½ä¸€ç‚¹ï¼Œå› ä¸ºå¦‚æœä¸å¹¸æœ‰ä¸ªåˆ†æ”¯åä¸è·¯å¾„åç›¸åŒï¼Œé‚£ä¹ˆ<code>reset</code> æ˜¯ä¸èƒ½åˆ¤æ–­çš„ï¼ˆæŠ¥é”™<code>ambiguous argument</code>ï¼‰ï¼Œæ‰€ä»¥è¦ç”¨ <code>--</code> æŒ‡å®šã€‚</p><blockquote><p>é‡ç½®æ–‡ä»¶åï¼Œä¼šå‘ç°æ–‡ä»¶çš„çŠ¶æ€å˜æˆäº†<code>MM</code>ï¼Œå³<strong>æš‚å­˜åŒº</strong>çš„æ–‡ä»¶ä¸ <code>HEAD</code>å’Œå·¥ä½œç›®å½•çš„æ–‡ä»¶éƒ½ä¸åŒã€‚è¿™å‘½ä»¤å…¶å®ç­‰ä»·äºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git restore [-s &lt;tree-ish&gt;] --staged æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure></blockquote></li><li><p>å…¶ä½™æƒ…å†µï¼Œä¼šç§»åŠ¨ <strong><code>HEAD</code> æŒ‡å‘çš„åˆ†æ”¯</strong>åˆ°æŸä¸€æäº¤ã€‚æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git reset [&lt;mode&gt;] [&lt;commit&gt;]</span><br></code></pre></td></tr></tbody></table></figure><p>æ­¤æ—¶æœ‰ä¸‰ç§æ¨¡å¼ modeï¼š</p><ul><li><code>--soft</code>ï¼šåªæ˜¯å°† <code>HEAD</code> åŠå…¶æŒ‡å‘çš„åˆ†æ”¯ç§»åŠ¨åˆ°<code>commit</code>ï¼Œ<strong>ä¸ä¼šæ”¹å˜</strong>æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•ã€‚</li><li><code>--mixed</code>ï¼šä¸æŒ‡å®š modeæ—¶çš„<strong>é»˜è®¤</strong>æ¨¡å¼ï¼Œå°†ä¼šæ”¹å˜æš‚å­˜åŒºä¸ <code>commit</code>ä¸€è‡´ï¼Œå…¶ä½™åŒ <code>--soft</code>ï¼Œä¸æ”¹å˜å·¥ä½œç›®å½•ã€‚</li><li><code>--hard</code>ï¼šè¾ƒä¸º<strong>å±é™©</strong>çš„é€‰é¡¹ï¼Œå°†å·¥ä½œç›®å½•çš„<strong>ä¿®æ”¹å…¨éƒ¨ä¸¢å¼ƒ</strong>ï¼Œé‡ç½®åˆ°<code>commit</code> ä¸€è‡´ï¼Œå…¶ä½™åŒ <code>--mixed</code>ã€‚</li><li>ä»¥ä¸Šä¸‰ç§æ¨¡å¼å½±å“èŒƒå›´é€’å¢ï¼Œå½¢è±¡å¯¹æ¯”å¦‚ä¸‹ï¼š</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">åŸçŠ¶æ€<br>working  index   HEAD   target         <br>   A       B      C       D <br>   <br><span class="hljs-meta">$</span><span class="bash"> git reset mode target</span>   <br>  mode    working    index    HEAD   <br>--soft         A         B        D<br>--mixed        A         D        D<br>--hard         D         D        D<br></code></pre></td></tr></tbody></table></figure><blockquote><p>å¯ä»¥ä½¿ç”¨ <code>--soft</code>æ¨¡å¼å®ç°æ‰€è°“ã€Œ<strong>å‹ç¼©æäº¤</strong>ã€çš„æ•ˆæœï¼š</p><p>å‡è®¾å½“å‰æäº¤å†å²ä¸º <code>a â†’ b â†’ c</code>ï¼Œå½“ä¸æƒ³ä¿ç•™ <code>b</code>æäº¤æ—¶ï¼Œå¯ä»¥åœ¨ <code>c</code> æ—¶ä½¿ç”¨ <code>--soft</code> çš„<code>reset</code>ï¼Œä½¿ <code>HEAD</code> å’Œå…¶åˆ†æ”¯æŒ‡å‘<code>a</code>ï¼ŒåŒæ—¶å› ä¸ºæš‚å­˜åŒºä¸å˜ï¼Œå†æäº¤ä¸€æ¬¡å³å¯ï¼Œæœ€ç»ˆå†å²ä¸ºï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">a -&gt; b -&gt; c<br>â””--&gt; d (HEAD)<br></code></pre></td></tr></tbody></table></figure></blockquote></li></ul></li><li><p>ä¸‡èƒ½çš„ <code>git checkout</code>ï¼š</p><ul><li><p>å¦‚æœè¦ç§»åŠ¨ <code>HEAD</code>ï¼Œæ ¼å¼ä¸ºï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</span><br>$ git checkout [-q] [-f] [-m] [&lt;branch&gt;]<br><br><span class="hljs-comment"># åˆ‡æ¢åˆ° start_pointï¼Œå¹¶åœ¨å…¶ä¸Šå»ºç«‹æ–°åˆ†æ”¯</span><br>$ git checkout [[-b|-B] &lt;new_branch&gt;] [&lt;start_point&gt;]<br></code></pre></td></tr></tbody></table></figure><ul><li>ä¸åŒäº <code>reset</code>ï¼Œ<code>checkout</code><strong>ä»…ä¼š</strong>ç§»åŠ¨ <code>HEAD</code>ï¼Œä¸ä¼šç§»åŠ¨åˆ†æ”¯ã€‚è¿™ä½¿å¾—<code>HEAD</code> å¯èƒ½è¿›å…¥ <code>detach</code><strong>åˆ†ç¦»</strong>çŠ¶æ€ï¼Œå³ <code>HEAD</code>æŒ‡å‘äº†æŸä¸ª<strong>å…·ä½“çš„æäº¤è®°å½•</strong>è€Œä¸æ˜¯åˆ†æ”¯åï¼Œå¯ä»¥é€šè¿‡æ–°å»ºåˆ†æ”¯è§£å†³ã€‚</li><li><code>-B</code>æ˜¯å¼ºåˆ¶å»ºç«‹åˆ†æ”¯ï¼Œå³ä½¿åŒååˆ†æ”¯å·²å­˜åœ¨ï¼Œè¿™ä¼šä½¿å¾—åŸåŒååˆ†æ”¯ç§»åŠ¨åˆ°<code>start_point</code>ã€‚</li><li>åˆ‡æ¢åˆ†æ”¯æ—¶å°½é‡ä¿æŒ<code>working tree clean</code>ï¼Œå³ä¸‰æ£µæ ‘ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šä¸¢å¤±ä¿®æ”¹ã€‚</li></ul></li><li><p>å¦‚æœè¦æ’¤é”€æ–‡ä»¶ä¿®æ”¹ï¼Œæ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout [&lt;tree-ish&gt;] [--] æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></tbody></table></figure><p>è¿™ä¼šåŒæ—¶ä¿®æ”¹<strong>æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•</strong>çš„å¯¹åº”æ–‡ä»¶ï¼Œä½¿å¾—ä¸<code>tree-ish</code>ä¸€è‡´ï¼Œè¿™ä¼šä½¿å¾—ä¿®æ”¹ä¸¢å¤±ï¼Œå±äº<strong>å±é™©æ“ä½œ</strong>ã€‚</p></li></ul></li></ul><h3 id="git-æ ‡ç­¾">Git æ ‡ç­¾ ğŸ”–</h3><ul><li><p>åˆ†æ”¯å¾ˆå®¹æ˜“è¢«äººä¸ºç§»åŠ¨ï¼Œå¹¶ä¸”å½“æœ‰æ–°çš„æäº¤æ—¶ï¼Œå®ƒä¹Ÿä¼šç§»åŠ¨ï¼Œå¤§éƒ¨åˆ†åˆ†æ”¯è¿˜åªæ˜¯<strong>ä¸´æ—¶</strong>çš„ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªæ°¸è¿œæŒ‡å‘æŸä¸ª<strong>æäº¤è®°å½•</strong>çš„æ ‡è¯†ï¼Œæ¯”å¦‚è½¯ä»¶å‘å¸ƒæ–°çš„å¤§ç‰ˆæœ¬ï¼Œæˆ–è€…æ˜¯ä¿®æ­£ä¸€äº›é‡è¦çš„Bug æˆ–æ˜¯å¢åŠ äº†æŸäº›æ–°ç‰¹æ€§ã€‚è¿™å°±éœ€è¦æ‰“<strong>æ ‡ç­¾</strong>ã€‚</p></li><li><p>æ ‡ç­¾ä¸ä¼šéšç€æ–°çš„æäº¤è€Œç§»åŠ¨ï¼Œå®ƒå°±åƒæ˜¯æäº¤æ ‘ä¸Šçš„ä¸€ä¸ªé”šç‚¹ï¼Œæ ‡è¯†äº†æŸä¸ªç‰¹å®šçš„ä½ç½®ã€‚</p></li><li><p>åˆ—å‡ºå·²æœ‰æ ‡ç­¾ï¼š</p><p>â€‹ ä»¥<strong>å­—æ¯é¡ºåº</strong>åˆ—å‡ºæ ‡ç­¾</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag</span><br>v1.0<br>v1.1<br></code></pre></td></tr></tbody></table></figure></li><li><p>è½»é‡æ ‡ç­¾ï¼ˆlightweightï¼‰ï¼š</p><ul><li><p>åªæ˜¯æŸä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨ï¼Œæ²¡æœ‰æ³¨é‡Šï¼Œåªæœ‰ä¸€ä¸ªæ ‡ç­¾å·</p></li><li><p>æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># æ²¡æœ‰æŒ‡å®š commit ä¼šé»˜è®¤åœ¨å½“å‰ HEAD æŒ‡å‘æäº¤ä¸Šæ‰“ä¸Šæ ‡ç­¾</span></span><br><span class="hljs-meta">$</span><span class="bash"> git tag &lt;tagname&gt; [&lt;commit&gt;]</span><br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>é™„æ³¨æ ‡ç­¾ï¼ˆannotatedï¼‰ï¼š</p><ul><li>æ˜¯å­˜å‚¨åœ¨ Gitæ•°æ®åº“ä¸­çš„ä¸€ä¸ª<strong>å®Œæ•´å¯¹è±¡</strong>ï¼Œå¯ä»¥è¢«æ ¡éªŒçš„ï¼ŒåŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ï¼›è¿˜æœ‰ä¸€ä¸ªæ ‡ç­¾ä¿¡æ¯ï¼›å¹¶ä¸”å¯ä»¥ä½¿ç”¨GNU Privacy Guardï¼ˆGPGï¼‰ç­¾åä¸éªŒè¯ã€‚</li><li>åœ¨è¿è¡Œ tag å‘½ä»¤æ—¶<strong>æŒ‡å®š -a é€‰é¡¹</strong>ï¼Œå¹¶ä½¿ç”¨<code>-m</code>é€‰é¡¹æŒ‡å®šäº†ä¸€æ¡å°†ä¼šå­˜å‚¨åœ¨æ ‡ç­¾ä¸­çš„<strong>ä¿¡æ¯</strong>ã€‚</li></ul></li><li><p>æ˜¾ç¤ºæ ‡ç­¾å¯¹åº”ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git show v1.0</span><br>tag v1.0<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">############################################### é™„æ³¨æ ‡ç­¾æ‰æœ‰çš„ä¿¡æ¯</span></span><br>Tagger: ailanxier &lt;ailanxier@ailanxier.cc&gt;<br>Date:   Sat May 3 20:19:12 2014 -0700<br><br>tag information<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">############################################### é™„æ³¨æ ‡ç­¾æ‰æœ‰çš„ä¿¡æ¯</span></span><br>commit ca82a6dff817ec66f44342007202690a93763949<br>Author: ailanxier &lt;ailanxier@ailanxier.com&gt;<br>Date:   Mon Mar 17 21:52:11 2008 -0700<br><br>    commit information<br></code></pre></td></tr></tbody></table></figure></li><li><p>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ï¼š</p><p>â€‹ <strong>é»˜è®¤</strong>æƒ…å†µä¸‹ï¼Œ<code>git push</code>å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚åœ¨åˆ›å»ºå®Œæ ‡ç­¾åå¿…é¡»<strong>æ˜¾å¼</strong>åœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šï¼Œå°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ ·ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin &lt;tagname&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> git push origin --tags</span><br></code></pre></td></tr></tbody></table></figure><p>â€‹ é€šå¸¸ä½¿ç”¨å¸¦æœ‰ <code>--tags</code> é€‰é¡¹çš„ <code>git push</code>å‘½ä»¤ï¼Œä¼šæŠŠ<strong>æ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“ä¸Šçš„æ ‡ç­¾</strong>å…¨éƒ¨æ¨é€ï¼Œä¸ä¼šåŒºåˆ†è½»é‡æ ‡ç­¾å’Œé™„æ³¨æ ‡ç­¾ã€‚</p></li><li><p>åˆ é™¤æ ‡ç­¾ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git tag -d &lt;tagname&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>â€‹è¿™<strong>åªä¼šåˆ é™¤æœ¬åœ°æ ‡ç­¾</strong>ï¼Œå¦‚æœå·²ç»æ¨é€åˆ°è¿œç¨‹ä»“åº“äº†ï¼Œæ­¤æ—¶åˆ é™¤æ ‡ç­¾æ˜¯ä¸€ä»¶å¯¹åˆ«äººä¸å¤ªå‹å¥½çš„äº‹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ é™¤è¿œç¨‹ä»“åº“çš„æ ‡ç­¾ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin -d &lt;tagname&gt;</span><br></code></pre></td></tr></tbody></table></figure></li></ul><div class="note note-warning">            <p>åœ¨å·²ç»æ¨é€æ ‡ç­¾åï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨ <code>-f</code>é€‰é¡¹å¼ºåˆ¶æ›¿æ¢å·²æœ‰æ ‡ç­¾ï¼Œä¹Ÿä¸è¦åˆ é™¤æ ‡ç­¾ã€‚</p>          </div><ul><li><p>å¯ä»¥æ ¹æ®æ ‡ç­¾åï¼Œä½¿ç”¨ <code>git checkout</code>åˆ‡æ¢åˆ°æ ‡ç­¾æ‰€åœ¨çš„æäº¤ï¼Œä½†æ˜¯æ­¤æ—¶é€šå¸¸ä¼šå¤„äº<strong>åˆ†ç¦» <code>HEAD</code>çŠ¶æ€</strong>ï¼Œå³æ–°çš„ä¿®æ”¹æäº¤ä¸èƒ½è¢«åˆ†æ”¯è®°å½•ï¼Œè¦ç´¢å¼•åˆ°è¿™ä¸€æäº¤åªèƒ½é€šè¿‡æ ¡éªŒå’Œã€‚æ‰€ä»¥å¦‚æœè¦è¿›è¡Œæ›´æ”¹ï¼Œæ¯”å¦‚ä¿®å¤æ—§ç‰ˆæœ¬ä¸­çš„é”™è¯¯ï¼Œé‚£ä¹ˆé€šå¸¸éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨åˆ‡æ¢å¹¶æ–°å»ºåˆ†æ”¯çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -b      bugFix_v2.0.0     v2.0.0</span><br></code></pre></td></tr></tbody></table></figure></li></ul><h2 id="git-åˆ†æ”¯">Git åˆ†æ”¯</h2><h3 id="åˆ†æ”¯ç®€å•æ“ä½œ">åˆ†æ”¯ç®€å•æ“ä½œ</h3><ul><li><p>æ–°å»ºåˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch &lt;branchname&gt; [&lt;start-point&gt;]</span><br></code></pre></td></tr></tbody></table></figure><p>å¦‚æœä¸æŒ‡å®š <code>&lt;start_point&gt;</code> åˆ™åœ¨ <code>HEAD</code>æŒ‡å‘çš„æäº¤å¯¹è±¡ä¸Šåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆï¼Œå³ä¸ºåˆ†æ”¯ï¼ŒåŒæ—¶åœ¨<code>.git\refs\heads</code> ä¸Šæ–°å»ºä¸€ä¸ªåä¸º <code>branchname</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åªå«æœ‰ 40ä½æ ¡éªŒå’Œã€‚æ‰€ä»¥åˆ›å»ºåˆ†æ”¯æ˜¯å¾ˆè½»é‡çš„ä¸€ä¸ªæ“ä½œã€‚è¯¥å‘½ä»¤<strong>ä¸ä¼šåˆ‡æ¢åˆ†æ”¯</strong>ã€‚</p><div class="note note-info">            <p><code>HEAD</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼Œå‘Šè¯‰ Gitå½“å‰åœ¨å“ªä¸ªåˆ†æ”¯ä¸Šï¼Œä¸”åªä¼šæŒ‡å‘<strong>æœ¬åœ°åˆ†æ”¯</strong>ã€‚å½“ä½¿ç”¨<code>git checkout</code> åˆ°ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯æ—¶ï¼Œä¼šå¤„äº <code>HEAD</code>åˆ†ç¦»çŠ¶æ€ã€‚</p>          </div></li><li><p>åˆ é™¤åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch [-d | -D] &lt;branchname&gt;</span><br></code></pre></td></tr></tbody></table></figure><p><code>-d</code> ä¸èƒ½åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯ï¼Œ<code>-D</code>å¯ä»¥å¼ºåˆ¶åˆ é™¤è¿™ç§åˆ†æ”¯ã€‚</p></li><li><p>æŸ¥çœ‹åˆ†æ”¯ï¼š</p><ul><li><p>ä¸å¸¦é€‰é¡¹å’Œå‚æ•°çš„ <code>git branch</code> å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch</span><br>* dev   <br>  mynew <br>  new   <br></code></pre></td></tr></tbody></table></figure><p>æ˜¾ç¤ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œ<code>*</code> çš„åˆ†æ”¯ä¸º <code>HEAD</code>æŒ‡å‘çš„åˆ†æ”¯ã€‚</p></li><li><p><code>-v</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -v</span><br>* dev   e31e199 [ahead 9] Merge<br>  mynew 6a1cba4 test merge branch<br>  new   6a1cba4 test merge branch<br></code></pre></td></tr></tbody></table></figure><p>æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œå¦‚åˆ†æ”¯æŒ‡å‘çš„æäº¤è®°å½•<strong>æ ¡éªŒå’Œ</strong>ï¼Œä¸è¿œç¨‹åˆ†æ”¯çš„<strong>å·®å¼‚</strong>ï¼Œæäº¤è®°å½•çš„<strong>æè¿°ä¿¡æ¯</strong>ã€‚</p></li><li><p><code>-vv</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -vv</span><br>* dev   e31e199 [o/dev: ahead 9] Merge<br>  mynew 6a1cba4 [o/new] test merge branch<br>  new   6a1cba4 [o/new] test merge branch<br></code></pre></td></tr></tbody></table></figure><p>æ˜¾ç¤º<strong>è·Ÿè¸ªçš„è¿œç¨‹åˆ†æ”¯</strong>ï¼Œç”¨çš„è¾ƒå¤šã€‚</p></li><li><p><code>-a</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -a</span><br>* dev<br>  mynew<br>  new<br>  remotes/o/dev<br>  remotes/o/new<br></code></pre></td></tr></tbody></table></figure><p>åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼ŒåŒ…æ‹¬è¿œç¨‹åˆ†æ”¯ã€‚</p></li><li><p><code>--merged</code> å’Œ <code>--no-merged</code> é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch [--merged | --no-merged] [&lt;branchname&gt;]</span><br></code></pre></td></tr></tbody></table></figure><p>æ˜¾ç¤ºå·²ï¼ˆæœªï¼‰åˆå¹¶åˆ°<strong>å½“å‰åˆ†æ”¯</strong> æˆ–<code>&lt;branchname&gt;</code>ï¼ˆåœ¨æœ‰è¯¥å‚æ•°çš„æƒ…å†µä¸‹ï¼‰çš„åˆ†æ”¯ã€‚ä¸€èˆ¬å·²åˆå¹¶çš„åˆ†æ”¯ï¼Œå¦‚æœå…¶ä¸ºä¸´æ—¶åˆ†æ”¯ï¼Œ<strong>å¯ä»¥åˆ é™¤</strong>ã€‚</p></li></ul></li><li><p><code>git branch -f</code>ï¼š</p><p>è¿™å¯ä»¥å½“åšä¸€ä¸ªæ–°å»ºåˆ†æ”¯å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥<strong>ç§»åŠ¨ç°æœ‰åˆ†æ”¯åˆ°æŒ‡å®šä½ç½®</strong>ï¼Œæ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -f &lt;branchname&gt; [&lt;start-point&gt;]</span><br></code></pre></td></tr></tbody></table></figure></li></ul><h3 id="git-merge">Git merge ğŸ³ï¸â€ğŸŒˆ</h3><ul><li><p>é€šå¸¸ä½¿ç”¨çš„æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git merge [--squash] [--no-commit] [&lt;commit&gt;]<br></code></pre></td></tr></tbody></table></figure><p>å‡è®¾åˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">   A---B---C topic<br> /<br>D---E---F---G *master<br></code></pre></td></tr></tbody></table></figure><p>åœ¨ <code>master</code> åˆ†æ”¯åˆå¹¶ <code>topic</code> åˆ†æ”¯ï¼Œå³æ‰§è¡Œ<code>git merge topic</code> åï¼Œåˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">   A----B----C topic<br> /             \<br>D---E---F---G---H *master<br></code></pre></td></tr></tbody></table></figure><p>ä¼šå¾—åˆ°ä¸€ä¸ªåˆå¹¶çš„æäº¤ï¼Œå®ƒæœ‰<strong>ä¸¤ä¸ªçˆ¶æäº¤</strong>ã€‚</p></li><li><p>è§£å†³å†²çªï¼š</p><ul><li><p>åˆå¹¶æ—¶ï¼Œå¦‚æœä¸¤ä¸ªåˆ†æ”¯ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå¯èƒ½ä¼šå‡ºç°å†²çªï¼ŒGitä¸èƒ½æ™ºèƒ½åˆå¹¶ï¼Œåªèƒ½æ‰‹åŠ¨è§£å†³å†²çªï¼Œæç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">CONFLICT (content): Merge conflict in d1.txt<br>Automatic merge failed; fix conflicts and then commit the result.<br></code></pre></td></tr></tbody></table></figure><p>Gitä¼šæš‚åœä¸‹æ¥ï¼Œç­‰å¾…æ‰‹åŠ¨è§£å†³åˆå¹¶äº§ç”Ÿçš„å†²çªã€‚åœ¨åˆå¹¶å†²çªåçš„ä»»æ„æ—¶åˆ»ä½¿ç”¨<code>git status</code>å‘½ä»¤æ¥æŸ¥çœ‹é‚£äº›å› <strong>åŒ…å«åˆå¹¶å†²çªè€Œå¤„äºæœªåˆå¹¶</strong>ï¼ˆunmergedï¼‰çŠ¶æ€çš„æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status</span><br>On branch dev<br>You have unmerged paths.<br>  (fix conflicts and run "git commit")<br>  (use "git merge --abort" to abort the merge)<br><br>Unmerged paths:<br>  (use "git add &lt;file&gt;..." to mark resolution)<br>        both modified:   d1.txt<br><br>no changes added to commit (use "git add" and/or "git commit -a")<br></code></pre></td></tr></tbody></table></figure></li><li><p>Gitä¼šåœ¨æœ‰å†²çªçš„æ–‡ä»¶ä¸­åŠ å…¥<strong>æ ‡å‡†çš„å†²çªè§£å†³æ ‡è®°</strong>ï¼Œä»–ä»¬ä¼šåŒ…å«ä¸€äº›<strong>ç‰¹æ®ŠåŒºæ®µ</strong>ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>now_change<br>=======<br>new_change<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; new<br></code></pre></td></tr></tbody></table></figure><p>è¿™è¡¨ç¤º <code>HEAD</code> æ‰€æŒ‡ç¤ºçš„ç‰ˆæœ¬ï¼ˆåœ¨è¿è¡Œ <code>merge</code>å‘½ä»¤ä¹‹å‰å·²ç»åˆ‡æ¢åˆ°è¿™ä¸ªåˆ†æ”¯ï¼‰åœ¨è¿™ä¸ªåŒºæ®µçš„ä¸ŠåŠéƒ¨åˆ†ï¼ˆ<code>======</code>ä¹‹ä¸Šï¼‰ï¼Œè€Œ <code>new</code> åˆ†æ”¯æ‰€æŒ‡ç¤ºçš„ç‰ˆæœ¬åœ¨ <code>======</code>ä¹‹ä¸‹ã€‚ ä¸ºäº†è§£å†³å†²çªï¼Œä½ å¿…é¡»é€‰æ‹©ä½¿ç”¨ç”±<code>======</code>åˆ†å‰²çš„ä¸¤éƒ¨åˆ†ä¸­çš„ä¸€ä¸ªï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è‡ªè¡Œåˆå¹¶è¿™äº›å†…å®¹ã€‚</p><blockquote><p>å¯ä»¥ä½¿ç”¨ VSCodeæ‰“å¼€å†²çªæ–‡ä»¶ï¼Œä¼šæœ‰ç‰¹æ®Šçš„é«˜äº®å’Œæç¤ºè§£å†³å†²çªï¼Œéå¸¸å‹å¥½ã€‚</p></blockquote></li><li><p>åœ¨è§£å†³äº†æ‰€æœ‰æ–‡ä»¶é‡Œçš„å†²çªä¹‹åï¼Œå¯¹æ¯ä¸ªæ–‡ä»¶ä½¿ç”¨ <code>git add</code>å‘½ä»¤æ¥å°†å…¶æ ‡è®°ä¸º<strong>å†²çªå·²è§£å†³</strong>ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>git commit</code> æ¥ç”Ÿæˆåˆå¹¶æäº¤ï¼Œå®Œæˆåˆå¹¶æ“ä½œã€‚</p></li></ul></li><li><p>å¿«è¿› <code>Fast-forward</code> ç°è±¡ï¼š</p><ul><li>å½“è¯•å›¾åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯æ—¶ï¼Œå¦‚æœé¡ºç€ä¸€ä¸ªåˆ†æ”¯èµ°ä¸‹å»èƒ½å¤Ÿåˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆ Gitåœ¨åˆå¹¶ä¸¤è€…çš„æ—¶å€™ï¼Œåªä¼šç®€å•çš„å°†æŒ‡é’ˆå‘å‰æ¨è¿›ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹çš„åˆå¹¶æ“ä½œæ²¡æœ‰éœ€è¦è§£å†³çš„åˆ†æ­§ï¼Œæ‰€ä»¥ä¹Ÿå«<code>Fast-forward</code>ã€‚</li><li>ä¾‹å¦‚åœ¨ <code>dev</code> åˆ†æ”¯æˆåŠŸåˆå¹¶ <code>new</code> åï¼Œè‹¥åˆ‡æ¢å›<code>new</code> åˆ†æ”¯å†åˆå¹¶ <code>dev</code>ï¼Œåˆ™åªä¼šå°† <code>new</code>åˆ†æ”¯ç§»åŠ¨åˆ° <code>dev</code> åˆ†æ”¯ï¼ŒGit æ˜¾ç¤ºæ­¤æ—¶å‘ç”Ÿäº†<code>Fast-forward</code>ã€‚</li></ul></li><li><p><code>--squash</code> é€‰é¡¹ï¼š</p><p>æ¥å—è¢«åˆå¹¶çš„åˆ†æ”¯ä¸Šçš„æ‰€æœ‰å·¥ä½œï¼Œå¹¶å°†å…¶å‹ç¼©è‡³ä¸€ä¸ªå˜æ›´é›†ï¼Œäº§ç”Ÿä¸€ä¸ª<strong>ä¸æ˜¯åˆå¹¶æäº¤</strong>çš„æäº¤è®°å½•ã€‚å®ƒ<strong>åªæœ‰ä¸€ä¸ªçˆ¶æäº¤</strong>ï¼Œä½†å´å¼•å…¥å¦ä¸€ä¸ªåˆ†æ”¯çš„æ‰€æœ‰æ”¹åŠ¨ï¼Œå¯ä»¥åœ¨è®°å½•ä¸€ä¸ªæ–°æäº¤å‰åšæ›´å¤šçš„æ”¹åŠ¨ã€‚</p><div class="note note-info">            <p>å³å¥½åƒåˆå¹¶äº†ï¼Œä½†æ˜¯æ²¡å®Œå…¨åˆå¹¶ï¼Œåªæ˜¯æŠŠ<strong>å¦ä¸€ä¸ªåˆ†æ”¯çš„å˜åŠ¨</strong>æ‹¿è¿‡æ¥åˆå¹¶åˆ°å·¥ä½œç›®å½•ä¸­è€Œå·²ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚</p>          </div></li><li><p><code>--no-commit</code> é€‰é¡¹ï¼š</p><p>å³å°†å®Œæˆåˆå¹¶å‰ï¼Œ<strong>å¼ºåˆ¶åœä¸‹</strong>ï¼ˆå¦åˆ™ä¼šç›´æ¥ç”Ÿæˆåˆå¹¶æäº¤è®°å½•ï¼‰ï¼Œå…è®¸ç”¨æˆ·è¿›è¡Œä¿®æ”¹å’Œæš‚å­˜ï¼Œæœ€å<strong>æ‰‹åŠ¨æäº¤</strong>æ¥ç»“æŸåˆå¹¶ã€‚å¯ä»¥å’Œ<code>--squash</code> åŒæ—¶ä½¿ç”¨ã€‚</p></li><li><p><code>git merge --abort</code> ç»“æŸåˆå¹¶å‘½ä»¤ï¼š</p><p>å½“åˆå¹¶å› ä¸º <code>--no-commit</code>æˆ–è€…å†²çªåœä¸‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ç»“æŸåˆå¹¶ï¼Œæ¢å¤åˆ° Gitæ²¡æ‰§è¡Œåˆå¹¶å‘½ä»¤ä¹‹å‰çš„çŠ¶æ€ã€‚</p></li></ul><h3 id="git-rebase">Git rebase â™</h3><ul><li><p>å¸¸ç”¨æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git rebase [-i] [--onto &lt;newbase&gt;] [&lt;branch&gt;]</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>æ¼”ç¤ºè¿‡ç¨‹ï¼š</p><p>å‡è®¾åˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">      A---B---C *topic<br>     /<br>D---E---F---G master<br></code></pre></td></tr></tbody></table></figure><p>åœ¨ <code>topic</code> åˆ†æ”¯å¤„æ‰§è¡Œ<code>git rebase master</code>ï¼Œæˆ–è€…åœ¨å…¶ä»–ä»»ä½•åœ°æ–¹æ‰§è¡Œ<code>git rebase master topic</code>ï¼Œä¼šå¾—åˆ°ä¸€æ ·çš„ç»“æœï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">              A'--B'--C' *topic<br>             /<br>D---E---F---G master<br></code></pre></td></tr></tbody></table></figure><div class="note note-info">            <p><code>git rebase master topic</code> å…¶å®ä¼šå…ˆåˆ‡æ¢åˆ°<code>topic</code> åˆ†æ”¯ï¼Œå†æ‰§è¡Œ <code>git rebase master</code>ã€‚</p>          </div></li><li><p>ä¸Šä¾‹ä¸­ <code>rebase</code> åŸç†ï¼š</p><ul><li>å…ˆæ‰¾åˆ°è¿™ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³å½“å‰åˆ†æ”¯<code>topic</code>ã€å˜åŸºæ“ä½œçš„ç›®æ ‡åŸºåº•åˆ†æ”¯ <code>master</code>ï¼‰çš„<strong>æœ€è¿‘å…±åŒç¥–å…ˆ</strong> <code>E</code></li><li>å¯¹æ¯”å½“å‰åˆ†æ”¯ç›¸å¯¹äºè¯¥ç¥–å…ˆçš„å†æ¬¡æäº¤ï¼Œæå–ç›¸åº”çš„<strong>ä¿®æ”¹</strong>å¹¶å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œå°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡åŸºåº•<code>G</code></li><li>æœ€åä»¥ä¸´æ—¶æ–‡ä»¶çš„ä¿®æ”¹æŒ‰é¡ºåºåº”ç”¨äº <code>G</code> ä¸Šï¼Œå°±å¥½åƒä»–ä»¬æ˜¯åœ¨<code>G</code> åå®Œæˆçš„ä¿®æ”¹ï¼Œä»–ä»¬çš„æ ¡éªŒå’Œä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥åœ¨å›¾ä¸­ç”¨å¸¦<code>'</code> çš„å­—æ¯è¡¨ç¤ºã€‚</li><li>åŸæ¥çš„æäº¤ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯åªèƒ½é€šè¿‡æäº¤çš„<strong>æ ¡éªŒå’Œ</strong>è®¿é—®ï¼Œå¯ä»¥<strong>ä½¿ç”¨<code>git reflog</code> æŸ¥çœ‹</strong> <code>HEAD</code>ç§»åŠ¨çš„å†å²è®°å½•ï¼Œæ‰¾åˆ°å·²ç»ä¸åœ¨å†å²ä¸­çš„æäº¤æ ¡éªŒå’Œã€‚</li></ul></li><li><p>è¿™æ ·åšçš„å¥½å¤„ï¼š</p><ul><li>ç¡®ä¿åœ¨å‘è¿œç¨‹åˆ†æ”¯æ¨é€æ—¶èƒ½ä¿æŒ<strong>æäº¤å†å²çš„æ•´æ´</strong>ã€‚</li><li>ä¾‹å¦‚å‘æŸä¸ªå…¶ä»–äººç»´æŠ¤çš„é¡¹ç›®è´¡çŒ®ä»£ç æ—¶ï¼Œå…ˆåœ¨è‡ªå·±çš„åˆ†æ”¯é‡Œè¿›è¡Œå¼€å‘ï¼Œå½“å¼€å‘å®Œæˆæ—¶ä½ éœ€è¦å…ˆå°†ä½ çš„ä»£ç å˜åŸºåˆ°<strong>è¿œç¨‹åˆ†æ”¯</strong>ä¸Šï¼Œç„¶åå†å‘ä¸»é¡¹ç›®æäº¤ä¿®æ”¹ã€‚</li><li>è¿™æ ·çš„è¯ï¼Œè¯¥é¡¹ç›®çš„ç»´æŠ¤è€…å°±ä¸å†éœ€è¦è¿›è¡Œæ•´åˆå·¥ä½œï¼Œåªéœ€è¦å¿«è¿›åˆå¹¶ï¼ˆ<code>Fast-forward</code>ï¼‰ä¾¿å¯ã€‚</li></ul></li><li><p>æ³¨æ„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼š</p><ul><li><p>å½“<strong>ç›®æ ‡åŸºåº•åˆ†æ”¯</strong>å·²ç»åŒ…å«äº†<strong>å½“å‰åˆ†æ”¯</strong>æ‰€åšçš„<strong>ç›¸åŒä¿®æ”¹</strong>ï¼ˆæ•´ä¸ªæäº¤åšçš„ä¿®æ”¹<strong>å®Œå…¨ç›¸åŒ</strong>ï¼Œå¯èƒ½æ˜¯ä¿®å¤äº†åŒæ ·çš„bugï¼‰ï¼Œç±»ä¼¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">      A---B---C *topic<br>     /<br>D---E---A'---F master<br></code></pre></td></tr></tbody></table></figure><p><code>A</code> å’Œ <code>A'</code> æ‰€åšçš„ä¿®æ”¹ç›¸åŒ</p></li><li><p>æ­¤æ—¶è¿è¡Œå˜åŸºå‘½ä»¤ï¼Œä¼šå¾—åˆ°ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">               B'--C' *topic<br>              /<br>D---E---A'---G master<br></code></pre></td></tr></tbody></table></figure><p><code>A</code> çš„æäº¤è¢«è·³è¿‡äº†ï¼ŒGit è®¤ä¸º <code>G</code> å·²ç»åŒ…å«äº†<code>A</code> ä¸­çš„ä¿®æ”¹ï¼Œå°±ä¸ä¼šå†é‡æ–°åšä¸€æ¬¡äº†ã€‚</p></li></ul></li><li><p><code>--onto</code> é€‰é¡¹ï¼š</p><ul><li><p>ä¸ªäººè®¤ä¸ºæ¯”è¾ƒå±é™©ï¼Œå®¹æ˜“<strong>ä¸¢å¤±ä¿®æ”¹å’Œæ–°æ–‡ä»¶</strong>ï¼Œéœ€è¦å¯¹åˆ†æ”¯çš„æ”¹å˜éå¸¸ç†Ÿæ‚‰æ‰å»ºè®®ä½¿ç”¨ã€‚</p></li><li><p>å‡è®¾å½“å‰åˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">o---o---o---o---o  master<br>         \<br>          o---o---o---o---o  next<br>                           \<br>                            o---o---o  topic<br></code></pre></td></tr></tbody></table></figure><p><code>topic</code> åˆ†æ”¯ä¾èµ–å®ç°äº†æŸç§åŠŸèƒ½çš„ <code>next</code>åˆ†æ”¯ï¼Œæ­¤æ—¶ <code>master</code> åˆ†æ”¯çš„åŠŸèƒ½é€æ¸å®Œå–„ï¼Œå·²ç»å¯ä»¥è®©<code>topic</code> åˆ†æ”¯åŸºäºæ›´ç¨³å®šçš„ <code>master</code>åˆ†æ”¯äº†ï¼Œæ­¤æ—¶ä»…æƒ³ä¿ç•™ <code>topic</code> åˆ†æ”¯ä¸­çš„ä¿®æ”¹ï¼Œä¸éœ€è¦<code>next</code> åˆ†æ”¯ä¸­çš„ä¿®æ”¹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git rebase --onto master next topic</span><br>o---o---o---o---o  master<br>        |        \<br>        |         o'--o'--o'  topic<br>         \<br>          o---o---o---o---o  next<br></code></pre></td></tr></tbody></table></figure><div class="note note-warning">            <p>å¦‚æœ <code>next</code> åˆ†æ”¯ä¸­æœ‰æ–°æ–‡ä»¶ï¼Œä¸” <code>topic</code>åˆ†æ”¯ä¸­æ²¡æœ‰å¯¹æ–°æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œåˆ™å˜åŸºå<strong>æ–°æ–‡ä»¶å°†æ¶ˆå¤±</strong>ã€‚</p><p>åŒç†å¦‚æœ <code>topic</code> ä¸­æ²¡æœ‰å¯¹ <code>next</code>ä¿®æ”¹è¿‡çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå˜åŸºåä¿®æ”¹ä¼šæ¶ˆå¤±ã€‚</p>          </div></li><li><p>è¯¥é€‰é¡¹å¯ä»¥ç”¨æ¥å»æ‰ä¸€æ®µ<strong>è¿ç»­çš„æäº¤</strong>ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œè¿˜æ˜¯ç”¨<code>-i</code> é€‰é¡¹çš„ <code>rebase</code>æ¯”è¾ƒå¥½ï¼Œä¹Ÿèƒ½è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯æ›´å®‰å…¨ã€‚</p></li></ul></li><li><p><strong>éå¸¸æ¨èçš„äº¤äº’å¼å˜åŸº</strong> <code>-i</code> é€‰é¡¹ï¼š</p><ul><li><p>Git ä¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚æœæ˜¯ VSCodeæ‰“å¼€ä¼šæœ‰å›¾å½¢æ“ä½œç•Œé¢ï¼Œå¦‚ä¸‹å›¾ï¼‰å¹¶åˆ—å‡ºå°†è¦è¢«å¤åˆ¶åˆ°ç›®æ ‡åˆ†æ”¯çš„å¤‡é€‰<strong>æäº¤è®°å½•</strong>ï¼Œä»¥åŠå®ƒä»¬çš„å“ˆå¸Œå€¼å’Œ<strong>æäº¤è¯´æ˜</strong>ï¼Œæœ‰åŠ©äºç†è§£è¿™ä¸ªæäº¤è¿›è¡Œäº†å“ªäº›æ›´æ”¹ã€‚</p><div data-align="center"><img src="../img/blog/git-note-images/vscode-rebase.png"></div></li><li><p>å¯ä»¥æ ¹æ®æ„æ„¿è°ƒæ•´æäº¤è®°å½•ï¼š</p><ul><li>è°ƒæ•´æäº¤è®°å½•çš„<strong>é¡ºåº</strong>ï¼ˆVSCodeé€šè¿‡é¼ æ ‡æ‹–æ”¾æ¥å®Œæˆï¼‰</li><li>åˆ é™¤ä¸æƒ³è¦çš„æäº¤</li><li>åˆå¹¶æäº¤ï¼Œæœ‰å¤šç§åˆå¹¶æ–¹å¼ã€‚</li><li>ä¿®æ”¹æäº¤è¯´æ˜</li></ul></li><li><p><strong>å…·ä½“é€‰é¡¹</strong>å¦‚ä¸‹ï¼š</p><ul><li><code>p, pick &lt;commit&gt; = use commit</code> å®Œæ•´ä¿ç•™æäº¤ã€‚</li><li><code>r, reword &lt;commit&gt; = use commit, but edit the commit message</code>åŒ <code>p</code>ï¼Œåªæ˜¯ä¼šæ‰“å¼€ç¼–è¾‘å™¨ä¿®æ”¹<strong>æäº¤è¯´æ˜</strong>ã€‚</li><li><code>e, edit &lt;commit&gt; = use commit, but stop for amending</code>åŒ <code>p</code>ï¼ŒåŒæ—¶ç­‰å¾…æ‰‹åŠ¨<code>git commit --amend</code>ï¼Œä¿®æ”¹åˆ°æ»¡æ„äº†å°±ä¼šè¿è¡Œ<code>git rebase --continue</code> ç»§ç»­å˜åŸºä¸‹ä¸€ä¸ªæäº¤ã€‚</li><li><code>s, squash &lt;commit&gt; = use commit, but meld into previous commit</code>åˆå¹¶æäº¤åˆ°è‡ªå·±çš„å¤«æäº¤ï¼Œä¼šæ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ä¿®æ”¹<strong>æäº¤è¯´æ˜</strong>ã€‚è¿™ä¸ªé€‰é¡¹ç”¨çš„æ¯”è¾ƒå¤šã€‚</li><li><code>f, fixup &lt;commit&gt; = like "squash" but keep only the previous commit's log message</code>åŒ <code>s</code>ï¼Œä½†æ˜¯èˆå¼ƒè¿™æ¬¡æäº¤çš„æäº¤è¯´æ˜ï¼Œå…¶å®å’Œ <code>s</code>çš„åŒºåˆ«å°±åœ¨äºå®ƒä¸ä¼šæ‰“å¼€ç¼–è¾‘å™¨ã€‚</li><li><code>d, drop remove commit</code> èˆå¼ƒæäº¤ã€‚</li></ul></li></ul></li><li><p>å˜åŸºæ˜¯ä¸€ä¸ªæäº¤ä¸€ä¸ªæäº¤è¿›è¡Œå¤„ç†çš„ã€‚å¦‚æœä¸­é—´å‘ç”Ÿå†²çªä¹Ÿéœ€è¦ä¸€ä¸ªä¸€ä¸ªå¤„ç†ï¼Œæ­¤æ—¶Gitä¼šåœä¸‹å˜åŸºï¼Œç”¨æˆ·å¯ä»¥æ‰“å¼€<strong>å†²çªæ–‡ä»¶</strong>è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å®Œåç”¨<strong><code>git add .</code></strong> æ·»åŠ æ‰€æœ‰çš„å†²çªæ–‡ä»¶ï¼Œç„¶åç”¨<strong><code>git rebase --continue</code></strong> ç»§ç»­è¿›è¡Œå˜åŸºã€‚</p><div class="note note-info">            <p>Git å…¨ç¨‹æœ‰å‘½ä»¤æç¤ºï¼Œè¿‡ç¨‹å¾ˆå‹å¥½ã€‚</p><p>å¦‚æœæƒ³ç»ˆæ­¢å˜åŸºï¼Œåœ¨ Git åœä¸‹é˜¶æ®µä½¿ç”¨ <code>git rebase --abort</code>æ¢å¤åˆ°å˜åŸºå‰çŠ¶æ€ã€‚</p>          </div></li><li><p>å¤šæ¬¡ <code>rebase</code> å®ä¾‹ï¼š</p><ul><li><p>æ¥è‡ª <a href="https://git-scm.com/docs">Git Reference</a> çš„<code>level advanced1</code> å…³å¡ã€‚</p><div class="note note-info">            <p>è¿™ä¸ªç½‘ç«™å¾ˆå¥½ç©ï¼Œé€šè¿‡å…³å¡å­¦ä¹  Gitåˆ†æ”¯å¸¸ç”¨æ“ä½œï¼Œä¸æ¶‰åŠæš‚å­˜åŒºï¼Œæœ‰å‘½ä»¤æ¡æ•°çš„è¦æ±‚ï¼ˆä¸ä¸¥æ ¼ï¼‰ã€‚</p><p>ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li><code>levels</code> é‡æ–°é€‰æ‹©å…³å¡</li><li><code>reset</code> å°†åˆ†æ”¯æ¢å¤å…³å¡å¼€å§‹å‰åŸçŠ¶</li><li><code>show solution</code>æ˜¾ç¤ºç­”æ¡ˆï¼Œå»ºè®®ä¸ç®¡æœ‰æ²¡æœ‰è¿‡å…³éƒ½æ˜¾ç¤ºä¸€æ¬¡ç­”æ¡ˆ</li></ul><p>å®ƒè¿˜æä¾›äº†ã€Œæ²™ç›’ã€åŠŸèƒ½ï¼Œå¯ä»¥æä¾›ç”¨æˆ·ä½¿ç”¨å„ç§å…·æœ‰ç ´åæ€§çš„ Gitå‘½ä»¤ã€‚</p>          </div></li><li><p>åŸåˆ†æ”¯æƒ…å†µï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/rebase1.png"></div></li><li><p>ç›®æ ‡åˆ†æ”¯æƒ…å†µï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/rebase2.png"></div></li><li><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ol type="1"><li><code>git rebase main bugFix</code>ï¼Œå¾—åˆ° <code>C3'</code>ã€‚</li><li><code>git rebase bugFix side</code>ï¼Œå¾—åˆ°<code>C4',C5',C6'</code>ã€‚</li><li><code>git rebase side another</code>ï¼Œä»…å¾—åˆ°<code>C7'</code>ï¼Œè¿™é‡Œå…¶å®å¯¹åº”ä¹‹å‰è¯´çš„ç‰¹æ®Šæƒ…å†µï¼Œ<code>C4,C5</code> å’Œ<code>C4',C5'</code> æ‰€ä½œçš„ä¿®æ”¹æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ <code>rebase</code>ä¸ä¼šå°†å®ƒä»¬å†æ”¾åˆ°è¿™æ¡æäº¤çº¿ä¸Šã€‚</li><li><code>git rebase another main</code>ï¼Œåˆ©ç”¨å¿«è¿›<code>Fast-forward</code>ï¼Œä½¿ <code>main</code>åˆ†æ”¯æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</li></ol></li></ul></li></ul><h3 id="merge-vs.-rebase">Merge vs. Rebase</h3><ul><li><p>å…³äºä½¿ç”¨ <code>merge</code> å’Œ <code>rebase</code>çš„äº‰è®ºä¸€ç›´å­˜åœ¨ï¼Œç”šè‡³æœ‰äººè¯´æ— è„‘ç”¨ <code>rebase</code>å°±è¡Œï¼Œç¬”è€…è®¤ä¸ºè¿˜æ˜¯çœ‹æƒ…å†µç”¨æ¯”è¾ƒå¥½ã€‚</p></li><li><p><code>merge</code>ä¿ç•™äº†æ‰€æœ‰æäº¤è®°å½•ï¼Œä½†æ˜¯åˆ†æ”¯é”™æ‚ï¼Œè®°å½•æ ‘éå¸¸ä¹±ï¼›<code>rebase</code>å¯ä»¥ä»»æ„ä¿®æ”¹æäº¤è®°å½•ï¼Œè®°å½•æ ‘å¾ˆæ•´æ´ã€‚</p></li><li><p>æœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œä»“åº“çš„æäº¤å†å²å³æ˜¯è®°å½•å®é™…å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚å®ƒæ˜¯é’ˆå¯¹å†å²çš„æ–‡æ¡£ï¼Œæœ¬èº«å°±æœ‰ä»·å€¼ï¼Œä¸èƒ½ä¹±æ”¹ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹æ¥ï¼Œæ”¹å˜æäº¤å†å²æ˜¯ä¸€ç§äºµæ¸ï¼Œä½ ä½¿ç”¨ã€Œè°è¨€ã€æ©ç›–äº†å®é™…å‘ç”Ÿè¿‡çš„äº‹æƒ…ã€‚å¦‚æœç”±åˆå¹¶äº§ç”Ÿçš„æäº¤å†å²æ˜¯ä¸€å›¢ç³Ÿæ€ä¹ˆåŠï¼Ÿæ—¢ç„¶äº‹å®å°±æ˜¯å¦‚æ­¤ï¼Œé‚£ä¹ˆè¿™äº›ç—•è¿¹å°±åº”è¯¥è¢«ä¿ç•™ä¸‹æ¥ï¼Œè®©åäººèƒ½å¤ŸæŸ¥é˜…ã€‚</p></li><li><p>å¦ä¸€ç§è§‚ç‚¹åˆ™æ­£å¥½ç›¸åï¼Œä»–ä»¬è®¤ä¸ºæäº¤å†å²æ˜¯é¡¹ç›®è¿‡ç¨‹ä¸­å‘ç”Ÿçš„äº‹ã€‚æ²¡äººä¼šå‡ºç‰ˆä¸€æœ¬ä¹¦çš„ç¬¬ä¸€ç‰ˆè‰ç¨¿ï¼Œè½¯ä»¶ç»´æŠ¤æ‰‹å†Œä¹Ÿæ˜¯éœ€è¦åå¤ä¿®è®¢æ‰èƒ½æ–¹ä¾¿ä½¿ç”¨ã€‚æŒè¿™ä¸€è§‚ç‚¹çš„äººä¼šä½¿ç”¨ <code>rebase</code> åŠ <code>filter-branch</code>ç­‰å·¥å…·æ¥ç¼–å†™æ•…äº‹ï¼Œæ€ä¹ˆæ–¹ä¾¿åæ¥çš„è¯»è€…å°±æ€ä¹ˆå†™ã€‚</p></li><li><p>ä¹¦ä¸Šæ¨èçš„åŸåˆ™ï¼š</p><p>åªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œå˜åŸºæ“ä½œæ¸…ç†å†å²ï¼Œä»<strong>ä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œå˜åŸº</strong>æ“ä½œã€‚</p><div class="note note-warning">            <p>è¿™ä¸€åŸåˆ™æå…¶é‡è¦ï¼Œå¦åˆ™åˆä½œè€…å¯èƒ½ä¼šä½¿ç”¨åˆ°å·²è¢«å˜åŸºæ”¾å¼ƒçš„æ—§æäº¤ï¼Œäº§ç”Ÿéå¸¸æ··ä¹±çš„ç»“æœ</p>          </div></li></ul><h2 id="git-è¿œç¨‹åä½œ">Git è¿œç¨‹åä½œ</h2><h3 id="è¿œç¨‹ä»“åº“">è¿œç¨‹ä»“åº“</h3><ul><li><p>æ˜¾ç¤ºè¿œç¨‹ä»“åº“çš„ URLï¼š</p><p>â€‹ æ˜¾ç¤ºéœ€è¦è¯»å†™è¿œç¨‹ä»“åº“çš„<strong>ç®€å†™</strong>ä¸å…¶å¯¹åº”çš„ URLã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote -v</span><br>origin  git@github.com:ailanxier/Test.git (fetch)<br>origin  git@github.com:ailanxier/Test.git (push)<br></code></pre></td></tr></tbody></table></figure></li><li><p>æ·»åŠ è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote add &lt;shortname&gt; &lt;url&gt;</span><br></code></pre></td></tr></tbody></table></figure></li></ul><p>â€‹ ä¹‹åå¯ä»¥ç”¨å­—ç¬¦ä¸² <code>shortname</code> æ¥ä»£æ›¿æ•´ä¸ª URLã€‚</p><ul><li><p><strong>è”ç½‘</strong>æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯ ğŸ§™â€â™‚ï¸ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">$ git remote show origin<br>* remote origin<br>  URL: https://github.com/my-org/project<br>  Fetch URL: https://github.com/my-org/project<br>  Push  URL: https://github.com/my-org/project<br>  HEAD branch: master<br>  Remote branches:<br>    master            tracked<br>    dev-branch        tracked<br>    issue             new (<span class="hljs-built_in">next</span> fetch will store <span class="hljs-keyword">in</span> remotes/origin)<br>  Local branches configured <span class="hljs-keyword">for</span> <span class="hljs-string">'git pull'</span>:<br>    dev-branch merges <span class="hljs-keyword">with</span> remote dev-branch<br>    master     merges <span class="hljs-keyword">with</span> remote master<br>  Local refs configured <span class="hljs-keyword">for</span> <span class="hljs-string">'git push'</span>:<br>    dev-branch        pushes to dev-branch             (up to date)<br>    master            pushes to master                 (up to date)<br></code></pre></td></tr></tbody></table></figure><p>â€‹ åŒæ ·ä¼šåˆ—å‡ºè¿œç¨‹ä»“åº“çš„ URLä¸<strong>è·Ÿè¸ªåˆ†æ”¯</strong>çš„ä¿¡æ¯ï¼Œåœ¨ç‰¹å®šçš„åˆ†æ”¯ä¸Šæ‰§è¡Œ<code>git push</code>ä¼šè‡ªåŠ¨åœ°æ¨é€åˆ°å“ªä¸€ä¸ªè¿œç¨‹åˆ†æ”¯ï¼Œå“ªäº›è¿œç¨‹åˆ†æ”¯ä¸åœ¨ä½ çš„æœ¬åœ°ï¼Œå“ªäº›è¿œç¨‹åˆ†æ”¯å·²ç»ä»æœåŠ¡å™¨ä¸Šç§»é™¤äº†ï¼Œè¿˜æœ‰æ‰§è¡Œ<code>git pull</code> æ—¶å“ªäº›åˆ†æ”¯ä¼šè‡ªåŠ¨åˆå¹¶</p></li><li><p>ç§»é™¤è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote rm &lt;shortname&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>é‡å‘½åè¿œç¨‹ä»“åº“ï¼š</p><p>â€‹ å°†è¿œç¨‹ä»“åº“ <code>a</code> é‡å‘½åä¸º <code>b</code>ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote rename a b</span><br></code></pre></td></tr></tbody></table></figure></li></ul><h3 id="è¿œç¨‹åˆ†æ”¯">è¿œç¨‹åˆ†æ”¯</h3><ul><li><p>è¿œç¨‹åˆ†æ”¯çš„<strong>å‘½åæ ¼å¼</strong>ä¸º<code>&lt;remote name&gt;/&lt;branch name&gt;</code>ï¼Œ<code>&lt;remote name&gt;</code>å¸¸è§å¦‚ <code>origin</code>ï¼Œ<code>&lt;branch name&gt;</code> å¸¸è§å¦‚<code>master</code>ã€‚</p><div class="note note-info">            <p><code>origin</code> å’Œ <code>master</code>å¹¶<strong>æ— ç‰¹æ®Šå«ä¹‰</strong>ï¼Œå³ä¸æ˜¯å…³é”®è¯ï¼Œå¯ä»¥æ”¹æˆä»»æ„åå­—ã€‚</p><p><code>master</code> æ˜¯è¿è¡Œ <code>git init</code>æ—¶é»˜è®¤çš„èµ·å§‹åˆ†æ”¯åå­—ï¼ŒåŸå› ä»…ä»…æ˜¯å®ƒçš„å¹¿æ³›ä½¿ç”¨ï¼Œ<code>origin</code>æ˜¯å½“ä½ è¿è¡Œ <code>git clone</code> æ—¶é»˜è®¤çš„è¿œç¨‹ä»“åº“åå­—ã€‚</p>          </div></li><li><p>æ‹‰å–åˆ°æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯ï¼Œåªèƒ½é€šè¿‡<code>git fetch</code>ï¼Œ<code>git pull</code> å’Œ <code>git push</code>ç§»åŠ¨ï¼Œå½“ <code>HEAD</code> åˆ‡æ¢åˆ°è¿œç¨‹åˆ†æ”¯æ—¶é€šå¸¸ä¼šå¤„äº <code>HEAD</code>åˆ†ç¦»çŠ¶æ€ã€‚</p></li><li><p>æœ¬åœ°<strong>è·Ÿè¸ªåˆ†æ”¯</strong>ï¼ˆ<strong>ä¸Šæ¸¸åˆ†æ”¯</strong>ï¼‰ï¼š</p><ul><li><p>è·Ÿè¸ªåˆ†æ”¯æ˜¯ä¸è¿œç¨‹åˆ†æ”¯æœ‰ç›´æ¥å…³ç³»çš„æœ¬åœ°åˆ†æ”¯ã€‚</p></li><li><p>å¦‚æœåœ¨ä¸€ä¸ª<strong>è·Ÿè¸ªåˆ†æ”¯</strong>ä¸Šè¾“å…¥<code>git fetch</code>ï¼ŒGitèƒ½è‡ªåŠ¨åœ°è¯†åˆ«å»å“ªä¸ªæœåŠ¡å™¨ä¸ŠæŠ“å–ã€åˆå¹¶åˆ°å“ªä¸ªåˆ†æ”¯ã€‚</p><div class="note note-warning">            <p>åœ¨ä¸€ä¸ªè·Ÿè¸ªåˆ†æ”¯è¾“å…¥<code>git push</code>ï¼Œå¦‚æœå’Œè¿œç¨‹åˆ†æ”¯<strong>ä¸åŒå</strong>ï¼Œä¸èƒ½è‡ªåŠ¨è¯†åˆ«å‡ºè¦æ¨é€åˆ°å“ªä¸ªåˆ†æ”¯ã€‚</p>          </div></li><li><p><strong>æ–°å»º</strong>è·Ÿè¸ªåˆ†æ”¯çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -t &lt;remote&gt;/&lt;branch&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>æ–°å»ºä¸€ä¸ªåä¸º <code>branch</code> çš„åˆ†æ”¯ï¼Œè·Ÿè¸ªè¿œç¨‹åˆ†æ”¯<code>&lt;remote&gt;/&lt;branch&gt;</code>ã€‚</p><p>å¦‚æœæƒ³<strong>è‡ªå®šä¹‰</strong>åˆ†æ”¯åå­—ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -b &lt;branchname&gt; &lt;remote&gt;/&lt;branch&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ä¸º<strong>å½“å‰æœ¬åœ°åˆ†æ”¯</strong>è®¾ç½®ï¼ˆä¿®æ”¹ï¼‰ä¸Šæ¸¸åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -u &lt;remote&gt;/&lt;branch&gt;</span><br></code></pre></td></tr></tbody></table></figure><div class="note note-info">            <p>ä¸Šæ¸¸å¿«æ·æ–¹å¼ï¼š</p><p>å½“è®¾ç½®å¥½è·Ÿè¸ªåˆ†æ”¯åï¼Œå¯ä»¥é€šè¿‡ç®€å†™ <code>@{u}</code>æ¥å¼•ç”¨å®ƒçš„ä¸Šæ¸¸åˆ†æ”¯ã€‚</p><p>ä¾‹å¦‚åœ¨ <code>master</code> åˆ†æ”¯æ—¶å¹¶ä¸”å®ƒæ­£åœ¨è·Ÿè¸ª<code>origin/master</code> æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>git merge @{u}</code>æ¥å–ä»£ <code>git merge origin/master</code>ã€‚</p>          </div></li><li><p>å¯ä»¥ä½¿ç”¨ <code>git branch -vv</code>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯åŠå…¶è·Ÿè¸ªåˆ†æ”¯ï¼Œå±äº<strong>ç¦»çº¿æ“ä½œ</strong>ï¼Œå³æ²¡æœ‰è”ç½‘ã€‚</p></li></ul></li></ul><h3 id="fetchpullpush">Fetch,Pull,Push ğŸ‘¨ğŸ»â€ğŸ’»</h3><ul><li><p><code>git fetch</code>ï¼š</p><ul><li><p>ä¸€èˆ¬æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git fetch [&lt;remote&gt;] [&lt;branchname&gt;]</span><br></code></pre></td></tr></tbody></table></figure><p>ä»è¿œç¨‹ä»“åº“ <code>&lt;remote&gt;</code>ä¸ŠæŠ“å–æœ¬åœ°æ²¡æœ‰çš„æ•°æ®æ—¶ï¼Œå®ƒå¹¶<strong>ä¸ä¼šä¿®æ”¹å·¥ä½œç›®å½•</strong>ä¸­çš„å†…å®¹ï¼Œåªä¼šä¿®æ”¹è¿œç¨‹åˆ†æ”¯ã€‚</p></li><li><p>ä¸æŒ‡å®š <code>remote</code> å’Œ<code>&lt;branchname&gt;</code>ï¼š</p><p>é»˜è®¤ä» <code>origin</code>è¿œç¨‹ä»“åº“è·å–æ•°æ®æ›´æ–°<strong>æœ¬åœ°æ‰€æœ‰åˆ†æ”¯</strong>ã€‚å¦‚æœä¸€ä¸ªåˆ†æ”¯<strong>å·²ç»è®¾ç½®äº†è·Ÿè¸ªåˆ†æ”¯</strong>ï¼Œåˆ™<strong>è¯¥åˆ†æ”¯</strong>ä»é‚£ä¸ªè·Ÿè¸ªåˆ†æ”¯æ‰€åœ¨ä»“åº“è·å–æ•°æ®ã€‚</p></li><li><p>æŒ‡å®š <code>branchname</code>ï¼š</p><p>ä»…æ›´æ–°æŒ‡å®šè¿œç¨‹åˆ†æ”¯ã€‚</p></li><li><p><code>git fetch --all</code>ï¼š</p><p>ä»<strong>æ‰€æœ‰è¿œç¨‹ä»“åº“</strong>ä¸‹è½½æœ¬åœ°æ²¡æœ‰çš„æ•°æ®ã€‚</p></li></ul></li><li><p><code>git pull</code>ï¼š</p><ul><li><p>å¯ä»¥ç†è§£ä¸º <code>git fetch</code> + <code>git merge</code>çš„ç¼©å†™ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git pull origin foo</span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">############################# ç­‰ä»·äºä¸‹é¢ä¸¤æ¡å‘½ä»¤</span></span><br><span class="hljs-meta">$</span><span class="bash"> git fetch origin foo</span><br><span class="hljs-meta">$</span><span class="bash"> git merge origin/foo</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>éœ€è¦æ³¨æ„æœ€ç»ˆ <code>merge</code> çš„ä½ç½®ï¼Œæ— è®ºæ‰§è¡Œ<code>git pull</code>å‰å¤„äºå“ªä¸ªåˆ†æ”¯ï¼Œè¿™ä¸ªå‘½ä»¤éƒ½ä¼šåˆå¹¶åˆ°<strong>è¿™ä¸ªåˆ†æ”¯</strong>ä¸Šï¼Œè¿™ä¸ªåˆ†æ”¯<strong>å¯èƒ½å¹¶ä¸è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯</strong><code>foo</code>ã€‚æ‰€ä»¥ç¬”è€…æ›´æ¨è<code>git fetch</code> åæ‰‹åŠ¨<code>git merge</code>ã€‚</p></li><li><p><code>git pull</code> ä¾‹å­ï¼š</p><ul><li><p>åŸåˆ†æ”¯æƒ…å†µï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">      A---B---C master on origin<br>     /<br>D---E---F---G *master<br>â¬†<br>origin/master in your repository<br></code></pre></td></tr></tbody></table></figure></li><li><p>è¿è¡Œ <code>git pull</code> åï¼Œåˆ†æ”¯æƒ…å†µï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">      A---B---C origin/master<br>     /         \<br>D---E---F---G---H *master<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>ä½¿ç”¨ <code>--rebase</code> é€‰é¡¹ï¼š</p><p>ä¸é€‚ç”¨ <code>merge</code> ç­–ç•¥ï¼Œè½¬è€Œæ‰§è¡Œ <code>git fetch</code> +<code>git rebase</code>ã€‚</p></li></ul></li><li><p><code>git push</code>ï¼š</p><ul><li><p>ä¸€èˆ¬æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push &lt;remote&gt; &lt;branch&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>æ¨é€æœ¬åœ° <code>branch</code> çš„å˜æ›´åˆ°è¿œç¨‹ä»“åº“<code>remote</code>ï¼ŒåŒæ—¶<strong>æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯</strong>ä¼šç§»åŠ¨åˆ°<code>branch</code> çš„ä½ç½®ã€‚</p></li><li><p>ç¥å¥‡çš„ <code>&lt;refspec&gt;</code> æ ¼å¼ï¼š</p><ul><li>ä½¿ç”¨ <code>git push origin a</code> æ—¶ï¼ŒGit è‡ªåŠ¨å°† <code>a</code>åˆ†æ”¯åå­—å±•å¼€ä¸º<code>refs/heads/a:refs/heads/a</code>ï¼Œé‚£æ„å‘³ç€ã€Œæ¨é€æœ¬åœ°çš„ <code>a</code> åˆ†æ”¯æ¥æ›´æ–°è¿œç¨‹ä»“åº“ä¸Šçš„<code>a</code> åˆ†æ”¯ã€ã€‚</li><li>è¿™ç§å¸¦å†’å·çš„ <code>&lt;src&gt;:&lt;dst&gt;</code> æ ¼å¼ä¸º<code>&lt;refspec&gt;</code> æ ¼å¼ï¼Œ<code>&lt;src&gt;</code>å¯ä»¥æ˜¯æŸä¸ªå…·ä½“çš„æäº¤çš„æ ¡éªŒå’Œï¼Œåªè¦æ˜¯ Git èƒ½è¯†åˆ«çš„éƒ½å¯ä»¥èµ·æ•ˆã€‚</li><li>è¿™æ„å‘³ç€ä¸Šè¿°è¯­å¥ç­‰ä»·äº<code>git push origin a:a</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨<code>git push origin b:a</code>ï¼Œå³ä½¿åˆ†æ”¯ <code>b</code> å’Œ<code>origin/a</code> æ¯«æ— å…³è”ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šè¿™æ ·åšã€‚</li><li>å¦‚æœ <code>&lt;dst&gt;</code> ä¸å­˜åœ¨ï¼ŒGitç”šè‡³ä¼šåœ¨è¿œç¨‹ä»“åº“æ–°å»ºä¸€ä¸ªåä¸º <code>dst</code> çš„è¿œç¨‹åˆ†æ”¯ã€‚</li><li><strong>å¦‚æœ <code>&lt;src&gt;</code> ä¸ºç©º</strong>ï¼Œå³ä½¿ç”¨<code>git push origin :a</code>ï¼Œä¼š<strong>åˆ é™¤</strong>è¿œç¨‹ä»“åº“ä¸­çš„<code>origin/a</code> åˆ†æ”¯</li><li><code>git push</code> å’Œ <code>git fetch</code>ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ ¼å¼ï¼Œä½†æ˜¯è§‰å¾—ç”¨å¤„ä¸å¤§å°±ä¸æäº† ğŸ‘»</li></ul></li><li><p><code>--all</code> é€‰é¡¹ï¼š</p><p><code>git push</code>é»˜è®¤æ˜¯åªæ¨é€å½“å‰åˆ†æ”¯ï¼Œè¯¥é€‰é¡¹ä¼šæ¨é€æ‰€æœ‰åˆ†æ”¯ã€‚</p></li></ul></li></ul><h2 id="git-æ‚é¡¹">Git æ‚é¡¹</h2><h3 id="ç›¸å¯¹å¼•ç”¨">ç›¸å¯¹å¼•ç”¨</h3><ul><li>åœ¨ <code>^</code>åé¢æ·»åŠ ä¸€ä¸ªæ•°å­—æ¥æŒ‡æ˜<strong>å“ªä¸€ä¸ª</strong>çˆ¶æäº¤ï¼š<ul><li>é€šå¸¸ç”¨äºåˆå¹¶æäº¤èŠ‚ç‚¹ï¼Œå¦‚æœ<strong>åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹</strong>ï¼Œé‚£ä¹ˆ<code>^</code> å°±è¡¨ç¤ºå®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚</li><li>å¯¹äºåˆå¹¶æäº¤èŠ‚ç‚¹ï¼š<ul><li><strong>ç¬¬ä¸€çˆ¶æäº¤</strong> <code>^1</code>æ˜¯<strong>åˆå¹¶æ—¶æ‰€åœ¨åˆ†æ”¯</strong></li><li>ç¬¬äºŒçˆ¶æäº¤ <code>^2</code> æ˜¯æ‰€åˆå¹¶çš„åˆ†æ”¯</li></ul></li></ul></li><li>å¦ä¸€ç§ç›¸å¯¹å¼•ç”¨æ˜¯ä½¿ç”¨<code>~</code>ï¼ŒåŒæ ·æ˜¯æŒ‡å‘<strong>ç¬¬ä¸€çˆ¶æäº¤</strong>ï¼Œå› æ­¤<code>HEAD~</code> å’Œ <code>HEAD^</code>æ˜¯ç­‰ä»·çš„ã€‚è€ŒåŒºåˆ«åœ¨äºä½ åœ¨åé¢åŠ æ•°å­—çš„æ—¶å€™ï¼Œä¾‹å¦‚ <code>HEAD~2</code>ä»£è¡¨ã€Œç¬¬ä¸€çˆ¶æäº¤çš„ç¬¬ä¸€çˆ¶æäº¤ã€ã€‚ä¸‹å›¾å¯ä»¥æ›´æ¸…æ™°åœ°åæ˜ åŒºåˆ«ï¼š</li></ul><div data-align="center"><img src="../img/blog/git-note-images/relative.png"></div><ul><li><code>^</code> å’Œ <code>~</code>å‰å¯ä»¥æ˜¯<strong>æäº¤æ ¡éªŒå’Œ</strong>ï¼Œ<strong>åˆ†æ”¯å</strong>å’Œ<code>HEAD</code> ç­‰ã€‚</li></ul><h3 id="äº¤äº’å¼æš‚å­˜">äº¤äº’å¼æš‚å­˜</h3><ul><li><p>ä½¿ç”¨ <code>git add -i</code>ï¼Œå‘ç° Git æ–°ä¸–ç•Œã€‚</p></li><li><p>Git å°†ä¼šè¿›å…¥ä¸€ä¸ªäº¤äº’å¼ç»ˆç«¯æ¨¡å¼ï¼Œæ˜¾ç¤ºç±»ä¼¼ä¸‹é¢çš„ä¸œè¥¿ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add -i</span><br>staged unstaged path<br>1: unchanged +0/-1 TODO<br>2: unchanged +1/-1 index.html<br>3: unchanged +5/-1 lib/simplegit.rb<br><br>*** Commands ***<br>1: [s]tatus  2: [u]pdate  3: [r]evert  4: [a]dd untracked<br>5: [p]atch   6: [d]iff    7: [q]uit    8: [h]elp<br>What now&gt;<br></code></pre></td></tr></tbody></table></figure><p>é¦–å…ˆæ˜¾ç¤º <code>HEAD</code>å’Œæš‚å­˜åŒºæœ‰å·®å¼‚çš„æ–‡ä»¶ï¼Œå°†<strong>æš‚å­˜çš„ä¿®æ”¹</strong>åˆ—åœ¨<strong>å·¦ä¾§</strong><code>staged</code>ï¼Œ<strong>æœªæš‚å­˜çš„ä¿®æ”¹</strong>åˆ—åœ¨<strong>å³ä¾§</strong><code>unstaged</code>ã€‚</p><p>åŒæ—¶ä¼šè¿›å…¥å¾ªç¯å‘½ä»¤çŠ¶æ€ï¼Œç›´åˆ°è¾“å…¥ <code>7</code> æˆ– <code>q</code>é€€å‡ºï¼ˆ8 ä¸ªå‘½ä»¤éƒ½å¯ä»¥è¾“å…¥<strong>é¦–å­—æ¯</strong>æˆ–æ•°å­—ç”Ÿæ•ˆï¼‰ã€‚</p></li><li><p><code>1 status</code>ï¼š</p><ul><li>æ˜¾ç¤º <code>HEAD</code>å’Œæš‚å­˜åŒºæœ‰å·®å¼‚çš„æ–‡ä»¶ï¼Œå’Œç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶ä¸€æ ·ï¼Œä¸”æ˜¯<strong>å®æ—¶</strong>çš„ï¼Œå¦‚æœä½ åœ¨<code>git add -i</code> ä¹‹ååšäº†ä¿®æ”¹å¯ä»¥é€šè¿‡ <code>status</code>å¾—çŸ¥ã€‚</li><li><code>staged</code> çš„ <code>unchanged</code> è¡¨ç¤º <code>HEAD</code>å’Œæš‚å­˜åŒºçš„è¯¥æ–‡ä»¶ç›¸åŒï¼Œå³è¿˜<strong>æœªæš‚å­˜</strong>è¯¥æ–‡ä»¶ã€‚</li><li><code>unstaged</code> çš„ <code>nothing</code>è¡¨ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œç›®å½•çš„è¯¥æ–‡ä»¶ç›¸åŒï¼Œå³<strong>å·²æš‚å­˜</strong>è¯¥æ–‡ä»¶çš„å…¨éƒ¨ä¿®æ”¹ã€‚</li><li>æ³¨æ„ï¼Œè¿™é‡Œä¸ä¼šæ˜¾ç¤º<strong>æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶</strong>ã€‚</li></ul></li><li><p><code>2 update</code>ï¼š</p><ul><li><p>å®ƒä¼šé—®ä½ æƒ³è¦æš‚å­˜å“ªä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¦æš‚å­˜çš„æ–‡ä»¶ï¼ˆ<strong>å…¨éƒ¨å·²æš‚å­˜</strong>æˆ–<strong>æœªä¿®æ”¹</strong>æˆ–<strong>æœªè·Ÿè¸ª</strong>ï¼‰ï¼Œåˆ™ä¼šç›´æ¥é€€å‡ºï¼Œå›åˆ°å¾ªç¯ï¼Œå¦åˆ™æ˜¾ç¤ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">What now&gt; u<br>staged unstaged path<br>1: unchanged +0/-1 TODO<br>2: unchanged +1/-1 index.html<br>3: unchanged +5/-1 lib/simplegit.rb<br><span class="hljs-meta">Update&gt;</span><span class="bash">&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>å¦‚æœè¦æš‚å­˜ <code>TODO</code> å’Œ <code>index.html</code>æ–‡ä»¶ï¼Œå¯ä»¥è¾“å…¥æ•°å­—æˆ–<strong>åŒºé—´</strong>ï¼ˆæœ¬ä¾‹ä¸­ç­‰ä»·äºè¾“å…¥<code>1-2</code>ï¼‰ï¼Œç”¨<strong>ç©ºæ ¼æˆ–é€—å·</strong>éš”å¼€ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">Update&gt;</span><span class="bash">&gt; 1,2</span><br>staged unstaged path<br>   *1: unchanged +0/-1 TODO<br>   *2: unchanged +1/-1 index.html<br>3: unchanged +5/-1 lib/simplegit.rb<br><span class="hljs-meta">Update&gt;</span><span class="bash">&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>æ¯ä¸ªæ–‡ä»¶å‰é¢çš„ <code>*</code>æ„å‘³ç€<strong>é€‰ä¸­</strong>çš„æ–‡ä»¶å°†ä¼šè¢«æš‚å­˜ã€‚</p></li><li><p>å¦‚æœè¦å–æ¶ˆé€‰ä¸­çš„ <code>TODO</code> å’Œ <code>index.html</code>ï¼Œä½¿ç”¨ <code>-1 -2</code> å³å¯ã€‚</p></li><li><p>å¦‚æœåœ¨ <code>Update&gt;&gt;</code>æç¤ºç¬¦åä¸è¾“å…¥ä»»ä½•ä¸œè¥¿å¹¶ç›´æ¥<strong>æŒ‰å›è½¦</strong>ï¼ŒGitå°†ä¼šæš‚å­˜é€‰æ‹©çš„æ–‡ä»¶ã€‚</p></li></ul></li><li><p><code>3 revert</code>ï¼š</p><ul><li>æ˜¾ç¤ºå·²ç»<strong>æš‚å­˜çš„æ–‡ä»¶</strong>ï¼Œæ“ä½œæ–¹å¼å’Œ<code>2 update</code> ç›¸åŒï¼Œé€‰ä¸­å¹¶ <code>revert</code>è¡¨ç¤ºå°†<strong>æš‚å­˜åŒºçš„è¯¥æ–‡ä»¶</strong>æ¢å¤åˆ° <code>HEAD</code>çŠ¶æ€ï¼Œç›¸å½“äº <code>git restore --staged æ–‡ä»¶è·¯å¾„</code>ã€‚</li><li>å¯¹äºåŠ å…¥æš‚å­˜åŒºçš„æ–°æ–‡ä»¶ï¼Œè¯¥æ“ä½œä¼šå°†è¯¥æ–‡ä»¶é‡æ–°å˜ä¸º<code>untracked</code> çŠ¶æ€ã€‚</li></ul></li><li><p><code>4 add untracked</code>ï¼š</p><p>æ˜¾ç¤ºæœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶ï¼Œæ“ä½œæ–¹å¼åŒä¸Šï¼Œæ“ä½œç›¸å½“äº<code>git add æœªè·Ÿè¸ªæ–‡ä»¶</code>ã€‚</p></li><li><p><code>5 patch</code>ï¼š</p><p>é«˜ç«¯æ“ä½œï¼Œåªæš‚å­˜<strong>æŸä¸ªæ–‡ä»¶</strong>çš„éƒ¨åˆ†ä¿®æ”¹ï¼Œçœ‹èµ·æ¥æŒºå¤æ‚çš„ï¼Œå…ˆä¸è®°äº†ğŸ¦¥</p></li><li><p><code>6 diff</code>ï¼š</p><p>æ˜¾ç¤ºå·²æš‚å­˜çš„æ–‡ä»¶ï¼Œæ“ä½œæ–¹å¼åŒä¸Šï¼Œæ“ä½œç›¸å½“äº<code>git diff --cached</code>ï¼Œæ¯”è¾ƒçš„æ˜¯ <code>HEAD</code>å’Œæš‚å­˜åŒºæ–‡ä»¶çš„å·®å¼‚ã€‚</p></li><li><p><code>7 quit</code>ï¼šæ¶¦ğŸƒğŸ»</p></li></ul><div class="note note-success">            <p>å½“ä½ åœ¨ä¿®æ”¹äº†å¤§é‡æ–‡ä»¶åï¼Œå¸Œæœ›è¿™äº›æ”¹åŠ¨èƒ½æ‹†åˆ†ä¸ºè‹¥å¹²æäº¤è€Œä¸æ˜¯æ··æ‚åœ¨ä¸€èµ·æˆä¸ºä¸€ä¸ªæäº¤æ—¶ï¼Œäº¤äº’å¼æš‚å­˜ä¼šéå¸¸æœ‰ç”¨ã€‚</p>          </div><h3 id="git-stash">Git stash ğŸ’¾</h3><ul><li><p>åº”ç”¨èƒŒæ™¯ï¼š</p><p>å½“ä½ åœ¨é¡¹ç›®çš„ä¸€éƒ¨åˆ†ä¸Šå·²ç»å·¥ä½œä¸€æ®µæ—¶é—´åï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½è¿›å…¥äº†æ··ä¹±çš„çŠ¶æ€ï¼Œè€Œè¿™æ—¶ä½ æƒ³è¦åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯åšåˆ«çš„äº‹ã€‚é—®é¢˜æ˜¯ï¼ŒGitå¯èƒ½ä¸å…è®¸åœ¨å·²ä¿®æ”¹çš„å·¥ä½œç›®å½•æ‰§è¡Œ<strong>åˆ‡æ¢åˆ†æ”¯</strong>å‘½ä»¤ï¼Œä½ ä¸æƒ³ä»…ä»…å› ä¸ºè¿™äº›ä¸æˆç†Ÿçš„ä¿®æ”¹åˆ›å»ºä¸€æ¬¡æäº¤ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ä½¿ç”¨ <code>git stash</code> å‘½ä»¤ã€‚</p></li><li><p><code>stash</code>ä¼šå¤„ç†å·¥ä½œç›®å½•çš„è„çš„çŠ¶æ€ï¼ˆå³<strong>è·Ÿè¸ªæ–‡ä»¶çš„ä¿®æ”¹</strong>ä¸<strong>æš‚å­˜åŒºçš„æ”¹åŠ¨</strong>ï¼‰ï¼Œç„¶åå°†<strong>æœªå®Œæˆçš„ä¿®æ”¹</strong>ä¿å­˜åˆ°ä¸€ä¸ªæ ˆä¸Šï¼Œè€Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™é‡æ–°åº”ç”¨è¿™äº›æ”¹åŠ¨ï¼ˆç”šè‡³åœ¨<strong>ä¸åŒçš„åˆ†æ”¯</strong>ä¸Šï¼‰ã€‚</p></li><li><p>æ‰§è¡Œ <code>git stash</code> æˆ–<code>git stash push</code>ï¼ˆåœ¨ä¸å¸¦é€‰é¡¹å’Œå‚æ•°çš„æƒ…å†µä¸‹ä¸¤è€…ç­‰ä»·ï¼‰ï¼Œå°†<strong>å·¥ä½œç›®å½•å’Œæš‚å­˜åŒº</strong>çš„ä¿®æ”¹è´®è—åˆ°æ ˆé¡¶ï¼ŒåŒæ—¶å°†è¿™ä¸¤æ£µæ ‘è¿˜åŸåˆ°<code>HEAD</code> çŠ¶æ€ã€‚</p></li><li><p><code>git stash -m "æè¿°"</code>ï¼Œç»™è¿™ä¸ªè´®è—è®°å½•åƒæäº¤è®°å½•ä¸€æ ·å†™æè¿°æ–‡å­—</p></li><li><p><code>git stash -k</code>ï¼Œåœ¨è´®è—<strong>å·¥ä½œç›®å½•å’Œæš‚å­˜åŒº</strong>çš„ä¿®æ”¹çš„åŒæ—¶ï¼Œåªè¿˜åŸå·¥ä½œç›®å½•åˆ°<code>HEAD</code> çŠ¶æ€ï¼Œä¿æŒæš‚å­˜åŒºä¿®æ”¹ä¸å˜ã€‚</p></li><li><p><code>git stash -u</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>git stash</code>åªä¼šè´®è—<strong>å·²ä¿®æ”¹å’Œæš‚å­˜çš„å·²è·Ÿè¸ª</strong>æ–‡ä»¶ã€‚å¦‚æœæŒ‡å®š<code>-u</code> é€‰é¡¹ï¼ŒGitä¹Ÿä¼šè´®è—ä»»ä½•<strong>æœªè·Ÿè¸ª</strong>æ–‡ä»¶ã€‚ç”šè‡³å¯¹äº<strong>å·²å¿½ç•¥</strong>çš„æ–‡ä»¶ï¼Œä½¿ç”¨<code>-a</code> é€‰é¡¹ä¹Ÿå¯ä»¥è´®è—ã€‚</p></li><li><p><code>git stash list</code> æŸ¥çœ‹è´®è—æ ˆä¸­çš„æƒ…å†µï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">stash@{0}: on master: using git stash -m message<br>stash@{1}: WIP on master: c264051 Revert "added file_size"<br>stash@{2}: WIP on master: 21d80a5 added number to log<br></code></pre></td></tr></tbody></table></figure><p>æ ˆé¡¶ä¸º <code>stash@{0}</code>ï¼Œå®ƒä½¿ç”¨äº† <code>-m</code>é€‰é¡¹çš„è´®è—å‘½ä»¤ã€‚</p><p>å¯ä»¥ç”¨ <code>stash@{n}</code> æ¥æŒ‡ä»£ä»»æ„è´®è—è®°å½•ï¼Œåœ¨å‘½ä»¤æ ¼å¼ä¸­ä½¿ç”¨<code>&lt;stash&gt;</code> è¡¨ç¤ºã€‚</p></li><li><p><code>git stash show [&lt;stash&gt;]</code>ï¼š</p><p>æ˜¾ç¤ºæŸæ¡è´®è—è®°å½•çš„ <code>diff</code> å·®å¼‚ï¼Œä¸å¸¦<code>&lt;stash&gt;</code> å‚æ•°æ—¶é»˜è®¤æ˜¾ç¤ºæ ˆé¡¶è´®è—è®°å½•ã€‚</p></li><li><p><code>git stash pop [--index] [&lt;stash&gt;]</code>ï¼š</p><ul><li>åˆ é™¤æ ˆé¡¶æˆ– <code>&lt;stash&gt;</code>çš„è´®è—è®°å½•ï¼ŒåŒæ—¶åº”ç”¨åœ¨å½“å‰<strong>å·¥ä½œç›®å½•</strong>ã€‚</li><li>å¦‚æœäº§ç”Ÿ<strong>å†²çª</strong>ï¼Œåˆ™éœ€è¦åœ¨è§£å†³å†²çªåï¼Œä½¿ç”¨<code>git add .</code> å¹¶ <code>git commit</code>è§£å†³å†²çªçŠ¶æ€ã€‚æ³¨æ„è¿™ç§æƒ…å†µ Git<strong>ä¸ä¼šè‡ªåŠ¨åˆ é™¤</strong>æ ˆä¸­å¯¹åº”è´®è—è®°å½•ã€‚å¯ä»¥ä½¿ç”¨<code>drop</code> åˆ é™¤ï¼ˆåé¢æœ‰è®²ï¼‰ã€‚</li><li>ä½¿ç”¨ <code>--index</code>é€‰é¡¹ï¼Œä¼šå°†è´®è—è®°å½•çš„ä¿®æ”¹åº”ç”¨åˆ°å½“å‰<strong>æš‚å­˜åŒº</strong>ã€‚</li></ul></li><li><p><code>git stash apply [--index] [&lt;stash&gt;]</code>ï¼š</p><p>é™¤äº†<strong>ä¸åˆ é™¤</strong>è´®è—è®°å½•å¤–ï¼ŒåŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œç”¨å¾—è¾ƒå¤šã€‚</p></li><li><p><code>git stash drop [&lt;stash&gt;]</code>ï¼š</p><p>åˆ é™¤æ ˆé¡¶æˆ– <code>&lt;stash&gt;</code> çš„è´®è—è®°å½•ã€‚</p></li><li><p><code>git stash clear</code>ï¼š</p><p>åˆ é™¤æ‰€æœ‰è´®è—è®°å½•ã€‚</p></li><li><p><code>git stash branch &lt;branchname&gt; [&lt;stash&gt;]</code>ï¼š</p><ul><li>å¯¹äºä¸€äº›ä¼šå¯¹å½“å‰èŠ‚ç‚¹<strong>å‘ç”Ÿå†²çª</strong>çš„è´®è—è®°å½•ï¼Œå¯ä»¥é€šè¿‡åœ¨<strong>è´®è—è®°å½•åŸæœ¬çš„æäº¤èŠ‚ç‚¹</strong>æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåº”ç”¨è´®è—çš„æ‰€æœ‰ä¿®æ”¹ï¼Œè¿›è¡Œæµ‹è¯•å¤„ç†ã€‚</li><li>å› ä¸ºæ˜¯åœ¨æœ¬æ¥çš„èŠ‚ç‚¹ä¸Šæ–°å»ºåˆ†æ”¯ï¼Œæ‰€ä»¥æ˜¯<strong>ä¸ä¼šå‘ç”Ÿå†²çª</strong>çš„ï¼ˆæœ¬æ¥å°±åœ¨è¿™ä¸ªèŠ‚ç‚¹åŸºç¡€ä¸Šåšçš„ä¿®æ”¹ï¼‰ã€‚</li><li>è¯¥å‘½ä»¤ä¼šåˆ é™¤æ ˆé¡¶æˆ– <code>&lt;stash&gt;</code>çš„è´®è—è®°å½•ï¼Œå¹¶åŒæ—¶å¯¹<strong>æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•</strong>äº§ç”Ÿå½±å“ã€‚</li></ul></li></ul><h3 id="git-clean">Git clean ğŸ§¹</h3><ul><li><p>å¸¸ç”¨æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git clean [-d] [-x | -X] -i [--] [æ–‡ä»¶è·¯å¾„]</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>å‘½ä»¤å¯ä»¥ç”¨äºæ¸…ç†ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œå³<strong>æœªè·Ÿè¸ª</strong>çš„æ–‡ä»¶ï¼Œä½†ä¸æ¸…ç†<strong>å·²å¿½ç•¥</strong>çš„æ–‡ä»¶ã€‚</p></li><li><p>å‘½ä»¤é»˜è®¤åªæ¸…ç† <code>.git</code>æ‰€çŸ¥æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œ<strong>ä¸æ¸…ç†æœªè·Ÿè¸ªæ–‡ä»¶å¤¹</strong>ä¸‹çš„æ–‡ä»¶ã€‚</p></li><li><p>å¦‚æœæŒ‡å®šäº†<strong>æ–‡ä»¶è·¯å¾„</strong>ï¼Œé‚£ä¹ˆ <code>-d</code> å’Œ<code>-x | -X</code> éƒ½ä¸ç”Ÿæ•ˆã€‚</p></li><li><p><code>-d</code> é€‰é¡¹ï¼š</p><p>é€’å½’è¿›å…¥<strong>æœªè·Ÿè¸ªçš„æ–‡ä»¶å¤¹</strong>ä¸‹æ¸…ç†æ–‡ä»¶ã€‚</p></li><li><p><code>-x</code> é€‰é¡¹ï¼š</p><p>æ¸…ç†èŒƒå›´åŒ…æ‹¬<strong>å·²å¿½ç•¥</strong>çš„æ–‡ä»¶ã€‚</p></li><li><p><code>-X</code> é€‰é¡¹ï¼š</p><p>æ¸…ç†èŒƒå›´<strong>åªåŒ…æ‹¬å·²å¿½ç•¥</strong>çš„æ–‡ä»¶ã€‚</p></li><li><p><code>-i</code> é€‰é¡¹ï¼š</p><ul><li><p>æ¨èä½¿ç”¨è¯¥å‘½ä»¤æ—¶éƒ½åŠ ä¸Š <code>-i</code>é€‰é¡¹ï¼Œä½¿ç”¨äº¤äº’å¼æ¸…ç†æ–¹å¼ï¼Œä¸€ç›®äº†ç„¶è¦æ¸…ç†å“ªäº›æ–‡ä»¶ã€‚</p></li><li><p>æ˜¾ç¤ºçš„äº¤äº’ç•Œé¢å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git clean -i</span><br>Would remove the following item:<br>  a b c<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br></code></pre></td></tr></tbody></table></figure></li><li><p><code>1 clean</code>ï¼š</p><p>åˆ é™¤ <code>Would remove the following item:</code>ä¸‹çš„æ–‡ä»¶ï¼Œå¹¶é€€å‡ºäº¤äº’æ¨¡å¼ã€‚</p></li><li><p><code>2 filter by pattern</code>ï¼š</p><p>åˆ—å‡ºå½“å‰åˆ é™¤èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œè¾“å…¥ <code>*.txt</code>ç­‰æ–‡ä»¶ç±»å‹è¿›è¡Œè¿‡æ»¤ï¼Œè¿‡æ»¤çš„æ–‡ä»¶<strong>ç§»å‡º</strong>åˆ é™¤èŒƒå›´ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git clean -i</span><br>Would remove the following items:<br>  1/1.md   1/1.txt<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br>What now&gt; 2<br>  1/1.md   1/1.txt<br>Input ignore patterns&gt;&gt; *.md<br>  1/1.txt<br>Input ignore patterns&gt;&gt;<br>Would remove the following item:<br>  1/1.txt<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br>What now&gt;<br></code></pre></td></tr></tbody></table></figure><p>è¾“å…¥ <code>*.md</code>ï¼Œä¸åˆ é™¤ <code>1.md</code> æ–‡ä»¶ã€‚</p></li><li><p><code>3 select by numbers</code>ï¼š</p><p>æŒ‰é¡ºåºåˆ—å‡ºåˆ é™¤èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œé€šè¿‡æ•°å­—è¿›è¡Œé€‰æ‹©å“ªäº›æ–‡ä»¶è¦åˆ é™¤ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git clean -i</span><br>Would remove the following items:<br>  1/1.md   1/1.txt<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br>What now&gt; 3<br>    1: 1/1.md     2: 1/1.txt<br>Select items to delete&gt;&gt; 2<br>    1: 1/1.md   * 2: 1/1.txt<br>Select items to delete&gt;&gt;<br>Would remove the following item:<br>  1/1.txt<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br>What now&gt;<br></code></pre></td></tr></tbody></table></figure></li><li><p><code>4 ask each</code>ï¼š</p><p>é€ä¸ªè¯¢é—®åœ¨åˆ é™¤èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œæ˜¯å¦è¦åˆ é™¤ï¼Œå…¨éƒ¨è¯¢é—®åé€€å‡ºäº¤äº’æ¨¡å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git clean -i</span><br>Would remove the following items:<br>  1/1.md   1/1.txt<br>*** Commands ***<br>    1: clean                2: filter by pattern    3: select by numbers<br>    4: ask each             5: quit                 6: help<br>What now&gt; 4<br>Remove 1/1.md [y/N]? n<br>Remove 1/1.txt [y/N]? y<br>Removing 1/1.txt<br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="git-cherry-pick">Git Cherry-pick ğŸŒ¸</h3><ul><li><p>å‘½ä»¤æ ¼å¼å¾ˆç®€å•ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git cherry-pick [-n] [-m] å¯ä»¥å¤šä¸ª&lt;commit&gt;</span><br><span class="hljs-meta">$</span><span class="bash"> git cherry-pick (--<span class="hljs-built_in">continue</span> | --skip | --abort | --quit)</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>æ‹£é€‰ä¸€ä¸ªæˆ–å¤šä¸ªæäº¤çš„ä¿®æ”¹åˆ° <code>HEAD</code>ä¸‹ï¼Œä¾‹å¦‚åŸåˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/cherry1.png"></div><p>â€‹ æ‰§è¡Œå‘½ä»¤ <code>git cherry-pick C3 C4 C7</code> åï¼Œåˆ†æ”¯å˜æˆï¼š</p><div data-align="center"><img src="../img/blog/git-note-images/cherry2.png"></div></li><li><p>è¦æ±‚æ‰§è¡Œå‘½ä»¤å‰ä¿æŒ <code>working tree clean</code>ï¼Œå¯èƒ½è¦åƒ<code>git merge</code> ä¸€æ ·åˆå¹¶å†²çªï¼Œåˆå¹¶åä½¿ç”¨ <code>git add</code> å’Œ<code>git cherry-pick --continue</code> ç”Ÿæˆæ–°çš„æäº¤ã€‚</p></li><li><p><code>-n</code> é€‰é¡¹ï¼š</p><p>åˆå¹¶åä¸è‡ªåŠ¨ç”Ÿæˆæäº¤ï¼Œå¹¶ä¸”é€€å‡º <code>CHERRY-PICKING</code>çŠ¶æ€ï¼Œå³ä¸èƒ½å†ä½¿ç”¨<code>git cherry-pick [--continue | --skip | --abort | --quit]</code>ç­‰å‘½ä»¤ï¼Œéœ€è¦æ‰‹åŠ¨ <code>git commit</code> ç”Ÿæˆæäº¤ã€‚</p></li><li><p><code>-m</code> é€‰é¡¹ï¼š</p><p>æ‹£é€‰ä¸èƒ½é€‰æ‹©åˆå¹¶æäº¤çš„èŠ‚ç‚¹ï¼Œé™¤éä½¿ç”¨<code>-m &lt;parent-number&gt;</code>ï¼Œ<code>&lt;parent-number&gt;</code>æŒ‡çš„æ˜¯å“ªä¸ªçˆ¶èŠ‚ç‚¹ï¼Œç›¸å½“äºä¹‹å‰è¯´çš„ç›¸å¯¹å¼•ç”¨<code>^&lt;parent-number&gt;</code></p></li><li><p><code>--continue</code> éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼›<code>--skip</code>è·³è¿‡å½“å‰æŸä¸ª <code>cherry-pick</code> çš„æäº¤ï¼›<code>--abort</code>ç»ˆæ­¢æ•´ä¸ª <code>cherry-pick</code>è¿‡ç¨‹å¹¶è¿˜åŸåˆ°åˆå§‹çŠ¶æ€ï¼›<code>--quit</code> é€€å‡º<code>CHERRY-PICKING</code>çŠ¶æ€ï¼Œå¯ä»¥ä¸­é€”é€€å‡ºæ‹£é€‰è¿‡ç¨‹ï¼Œä¸å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>ç§‘æŠ€ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“ç³»ç»Ÿç¬”è®°</title>
    <link href="/Database_System.html"/>
    <url>/Database_System.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯ HITsz æ•°æ®åº“ç³»ç»Ÿç¬”è®°ï¼Œ<a href="https://github.com/ailanxier/Database-System-Note">æ¬¢è¿åˆ°æˆ‘çš„GitHub ä¸ŠæŸ¥çœ‹ï¼Œæœ‰ç¬”è®°è¯´æ˜å’Œæºç ï¼Œä½œä¸šå’Œå®éªŒæŠ¥å‘Š</a>ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©</p><p><del>å› ä¸ºå†™ç¬”è®°çš„è½¯ä»¶ä¸º Typoraï¼Œå¯¹ markdownçš„æ”¯æŒè¾ƒä¸ºå®Œå–„ï¼Œè½¬ç§»åˆ°åšå®¢å¹³å°å¯èƒ½å­˜åœ¨æ•°å­¦å…¬å¼é”™è¯¯</del></p></blockquote><h2 id="æ•°æ®åº“åŸºæœ¬æ¦‚å¿µ">æ•°æ®åº“åŸºæœ¬æ¦‚å¿µ</h2><h3 id="æ•°æ®æŠ½è±¡">æ•°æ®æŠ½è±¡</h3><blockquote><p>é€šè¿‡æŠ½è±¡æ¥å¯¹ç”¨æˆ·å±è”½å¤æ‚æ€§ï¼Œä»¥ç®€åŒ–ç”¨æˆ·ä¸ç³»ç»Ÿçš„äº¤äº’ã€‚</p></blockquote><ul><li><p>ç‰©ç†å±‚ï¼ˆæˆ–å†…éƒ¨å±‚ï¼‰ï¼š</p><p>â€‹<strong>æœ€ä½å±‚æ¬¡</strong>çš„æŠ½è±¡ï¼Œæè¿°æ•°æ®å®é™…ä¸Šæ˜¯<strong>æ€æ ·å­˜å‚¨çš„</strong>å’Œå¤æ‚çš„åº•å±‚æ•°æ®ç»“æ„ï¼ˆå­˜å‚¨è·¯å¾„ã€å­˜å‚¨æ–¹å¼ã€ç´¢å¼•æ–¹å¼ï¼‰ã€‚</p></li><li><p>é€»è¾‘å±‚ï¼ˆæˆ–æ¦‚å¿µå±‚ï¼‰ï¼š</p><p>â€‹æ¯”ç‰©ç†å±‚å±‚æ¬¡ç¨é«˜çš„æŠ½è±¡ï¼Œæè¿°æ•°æ®åº“ä¸­<strong>å­˜å‚¨ä»€ä¹ˆæ•°æ®</strong>åŠè¿™äº›<strong>æ•°æ®é—´å…³ç³»</strong>ã€‚</p></li><li><p>è§†å›¾å±‚ï¼ˆæˆ–å¤–éƒ¨å±‚ï¼‰ï¼š</p><p>â€‹æœ€é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œåªæè¿°æ•´ä¸ªæ•°æ®åº“çš„<strong>æŸä¸ªéƒ¨åˆ†</strong>ã€‚ç”¨äºå¹¶ä¸éœ€è¦å…³å¿ƒæ‰€æœ‰çš„ä¿¡æ¯ï¼Œè€Œåªéœ€è¦è®¿é—®æ•°æ®åº“çš„ä¸€éƒ¨åˆ†çš„ç”¨æˆ·ã€‚åŒä¸€æ•°æ®åº“æœ‰<strong>å¤šä¸ªè§†å›¾</strong>ã€‚</p></li><li><p>å®ä¾‹ï¼š</p><p>â€‹ç‰¹å®šæ—¶åˆ»å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¿¡æ¯çš„é›†åˆç§°ä½œæ•°æ®åº“çš„ä¸€ä¸ª<strong>å®ä¾‹</strong>ã€‚</p></li><li><p>æ¨¡å¼ï¼š</p><p>â€‹æ•°æ®åº“çš„æ€»ä½“è®¾è®¡ç§°ä½œæ•°æ®åº“<strong>æ¨¡å¼</strong>ï¼ˆschemaï¼‰ï¼Œæ˜¯å¯¹æ•°æ®åº“ä¸­<strong>æ•°æ®</strong>æ‰€è¿›è¡Œçš„ä¸€ç§<strong>ç»“æ„æ€§çš„æè¿°</strong>ã€‚</p><blockquote><p>æ•°æ®åº“<strong>æ¨¡å¼</strong>å¯¹åº”äºç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„<strong>å˜é‡å£°æ˜</strong>ï¼ˆä»¥åŠä¸ä¹‹å…³è”çš„ç±»å‹çš„å®šä¹‰ï¼‰ã€‚</p><p>æ¯ä¸ªå˜é‡åœ¨ç‰¹å®šçš„æ—¶åˆ»ä¼šæœ‰ç‰¹å®šçš„å€¼ï¼Œç¨‹åºä¸­å˜é‡åœ¨<strong>æŸä¸€æ—¶åˆ»çš„å€¼</strong>å¯¹åº”äºæ•°æ®åº“æ¨¡å¼çš„ä¸€ä¸ª<strong>å®ä¾‹</strong>ã€‚</p></blockquote></li><li><p>åœ¨ä¸åŒæŠ½è±¡å±‚æ¬¡æè¿°æ•°æ®åº“ï¼Œå°±å¯å®šä¹‰å‡º<strong>ç‰©ç†æ¨¡å¼ï¼Œé€»è¾‘æ¨¡å¼å’Œè§†å›¾æ¨¡å¼</strong>ã€‚</p></li><li><p>ç›¸åŒæ¨¡å¼æœ‰ä¸åŒåç§°ï¼š</p></li></ul><table><thead><tr class="header"><th style="text-align: center;">è§†å›¾è‹±æ–‡</th><th style="text-align: center;"></th><th style="text-align: center;">ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒç»“æ„ä¸­çš„åå­—</th><th style="text-align: center;"></th><th style="text-align: center;"></th><th style="text-align: center;"></th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">External Schema</td><td style="text-align: center;">å¤–æ¨¡å¼</td><td style="text-align: center;">å±€éƒ¨æ¨¡å¼ğŸ—¡</td><td style="text-align: center;">è§†å›¾æ¨¡å¼</td><td style="text-align: center;">ç”¨æˆ·æ¨¡å¼</td><td style="text-align: center;">å­æ¨¡å¼</td></tr><tr class="even"><td style="text-align: center;">(Conceptual) Schema</td><td style="text-align: center;">æ¦‚å¿µæ¨¡å¼</td><td style="text-align: center;">å…¨å±€æ¨¡å¼</td><td style="text-align: center;">é€»è¾‘æ¨¡å¼</td><td style="text-align: center;">ä¹Ÿå¯ç®€ç§°ã€Œæ¨¡å¼ã€</td><td style="text-align: center;"></td></tr><tr class="odd"><td style="text-align: center;">Internal Schema</td><td style="text-align: center;">å†…æ¨¡å¼</td><td style="text-align: center;">ç‰©ç†æ¨¡å¼</td><td style="text-align: center;">å­˜å‚¨æ¨¡å¼</td><td style="text-align: center;"></td><td style="text-align: center;"></td></tr></tbody></table><ul><li><p>ä¸¤å±‚æ˜ åƒï¼š</p><ul><li><p>E-C Mappingï¼ˆExternal Schema-Conceptual Schema Mappingï¼‰ï¼š</p><p>â€‹å°†<strong>å¤–æ¨¡å¼</strong>æ˜ å°„ä¸º<strong>æ¦‚å¿µæ¨¡å¼</strong>ï¼Œä»è€Œæ”¯æŒå®ç°æ•°æ®æ¦‚å¿µè§†å›¾å‘å¤–éƒ¨è§†å›¾çš„è½¬æ¢ï¼Œä¾¿äºç”¨æˆ·è§‚å¯Ÿå’Œä½¿ç”¨ã€‚</p><blockquote><p>é€»è¾‘æ•°æ®ç‹¬ç«‹æ€§ğŸ—¡</p><p>â€‹ å½“æ¦‚å¿µæ¨¡å¼å˜åŒ–æ—¶ï¼Œå¯ä»¥ä¸æ”¹å˜å¤–éƒ¨æ¨¡å¼ï¼ˆåªéœ€æ”¹å˜ E-CMappingï¼‰ï¼Œä»è€Œæ— éœ€æ”¹å˜åº”ç”¨ç¨‹åºã€‚</p></blockquote></li><li><p>C-I Mappingï¼ˆConceptual Schema-Internal Schema Mappingï¼‰ï¼š</p><p>â€‹å°†<strong>æ¦‚å¿µæ¨¡å¼</strong>æ˜ å°„ä¸º<strong>å†…æ¨¡å¼</strong>ï¼Œä»è€Œæ”¯æŒå®ç°æ•°æ®æ¦‚å¿µè§†å›¾å‘å†…éƒ¨è§†å›¾çš„è½¬æ¢ï¼Œä¾¿äºè®¡ç®—æœºè¿›è¡Œå­˜å‚¨å’Œå¤„ç†ã€‚</p><blockquote><p>ç‰©ç†æ•°æ®ç‹¬ç«‹æ€§ï¼š</p><p>â€‹ å½“å†…éƒ¨æ¨¡å¼ï¼ˆç‰©ç†æ¨¡å¼ï¼‰å˜åŒ–æ—¶ï¼Œå¯ä»¥ä¸æ”¹å˜æ¦‚å¿µæ¨¡å¼ï¼ˆåªéœ€æ”¹å˜ C-IMappingï¼‰ï¼Œä»è€Œä¸æ”¹å˜å¤–éƒ¨æ¨¡å¼ã€‚</p></blockquote></li></ul></li></ul><h3 id="æ•°æ®æ¨¡å‹">æ•°æ®æ¨¡å‹</h3><blockquote><p>æ•°æ®åº“ç»“æ„çš„åŸºç¡€æ˜¯æ•°æ®æ¨¡å‹ã€‚</p></blockquote><ul><li><p>PPT ä¸­çš„åˆ†ç±»ï¼ˆå¾€å¹´è€ƒè¿‡ä¸‰ä¸ªæ¨¡å‹çš„ä¼˜ç¼ºç‚¹ğŸ—¡ï¼‰ï¼š</p><ul><li><p>å±‚æ¬¡æ¨¡å‹æŒ‰æ ‘çš„å½¢å¼ç»„ç»‡æ•°æ®ï¼š</p><p><img src="/img/blog/ds-note-images/image-20211118124141153.png" style="zoom:67%;"></p><ul><li>ä¼˜ç‚¹ï¼š<ul><li>æ•°æ®<strong>ç»“æ„ç®€å•æ¸…æ™°</strong>ã€‚</li><li><strong>æŸ¥è¯¢æ•ˆç‡é«˜</strong>ã€‚è®°å½•ä¹‹é—´çš„è”ç³»ç”¨æœ‰å‘è¾¹è¡¨ç¤ºï¼Œè¿™ç§è”ç³»åœ¨DBMS ä¸­é€šå¸¸ä½¿ç”¨æŒ‡é’ˆå®ç°ã€‚</li><li><strong>æ€§èƒ½</strong>ä¼˜äºå…³ç³»æ•°æ®åº“ï¼Œä¸ä½äºç½‘çŠ¶æ•°æ®åº“ã€‚</li><li>æä¾›äº†è‰¯å¥½çš„<strong>å®Œæ•´æ€§æ”¯æŒ</strong>ã€‚</li></ul></li><li>ç¼ºç‚¹ï¼š<ul><li>å¯¹äº<strong>éå±‚æ¬¡</strong>çš„è”ç³»ï¼ˆå¦‚å¤šå¯¹å¤šçš„è”ç³»ï¼‰ä¸é€‚ç”¨ã€‚</li><li>ä¸€ä¸ªå­èŠ‚ç‚¹å¯èƒ½æœ‰<strong>å¤šä¸ªçˆ¶èŠ‚ç‚¹å¯¼è‡´å†—ä½™</strong>ï¼Œæ“ä½œå¤æ‚ã€‚</li><li>å¿…é¡»é€šè¿‡çˆ¶èŠ‚ç‚¹æ‰èƒ½æŸ¥æ‰¾å­èŠ‚ç‚¹ã€‚</li></ul></li></ul></li><li><p>ç½‘çŠ¶æ¨¡å‹æŒ‰å›¾çš„å½¢å¼ç»„ç»‡æ•°æ®ï¼š</p><p><img src="/img/blog/ds-note-images/image-20211118124756242.png" style="zoom:67%;"></p><ul><li><p>ä¼˜ç‚¹ï¼š</p><p>â€‹èƒ½å¤Ÿæ›´ä¸ºç›´æ¥åœ°è¡¨ç¤ºç°å®ä¸–ç•Œï¼Œå…·æœ‰è‰¯å¥½çš„æ€§èƒ½ï¼Œ<strong>å­˜å–æ•ˆç‡é«˜</strong>ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li><strong>ç»“æ„å¤æ‚</strong>ã€‚</li><li>ç½‘çŠ¶æ¨¡å‹çš„æ•°æ®å®šä¹‰è¯­è¨€å’Œæ•°æ®ç®¡ç†<strong>è¯­è¨€å¤æ‚</strong>ã€‚</li><li>åº”ç”¨<strong>ç¨‹åºç¼–å†™å›°éš¾</strong>ã€‚</li></ul></li></ul><blockquote><p>å±‚æ¬¡ç»“æ„å’Œç½‘çŠ¶ç»“æ„å…±æœ‰çš„ç¼ºç‚¹ï¼š</p><ul><li>æ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»ç”±å¤æ‚çš„<strong>æŒ‡é’ˆç³»ç»Ÿ</strong>æ¥ç»´ç³»ï¼Œç»“æ„æè¿°å¤æ‚</li><li>æ•°æ®æ£€ç´¢æ“ä½œä¾èµ–äºç”±æŒ‡é’ˆç³»ç»ŸæŒ‡ç¤ºçš„<strong>è·¯å¾„</strong></li><li>ä¸èƒ½æœ‰æ•ˆæ”¯æŒ<strong>è®°å½•é›†åˆçš„æ“ä½œ</strong></li></ul></blockquote></li><li><p>å…³ç³»æ¨¡å‹æŒ‰è¡¨çš„å½¢å¼ç»„ç»‡æ•°æ®ï¼š</p><p>â€‹ ä¼˜ç‚¹ï¼š</p><ul><li>æ•°æ®æ£€ç´¢æ“ä½œ<strong>ä¸ä¾èµ–äºè·¯å¾„ä¿¡æ¯</strong>æˆ–è¿‡ç¨‹ä¿¡æ¯ï¼Œæ”¯æŒ<strong>éè¿‡ç¨‹åŒ–çš„æ•°æ®æ“ä½œ</strong></li><li>æœ‰æ•ˆæ”¯æŒ<strong>è®°å½•é›†åˆ</strong>çš„æ“ä½œ</li><li>è¾ƒä¸ºå®Œå–„çš„ç†è®ºåŸºç¡€</li></ul></li></ul></li><li><p>ä¹¦ä¸Šçš„åˆ†ç±»ï¼š</p><ul><li><p>å…³ç³»æ¨¡å‹ï¼š</p><p>â€‹ç”¨<strong>è¡¨</strong>çš„é›†åˆæ¥è¡¨ç¤º<strong>æ•°æ®å’Œæ•°æ®é—´çš„è”ç³»</strong>ã€‚</p></li><li><p>å®ä½“ - è”ç³»ï¼ˆE-Rï¼Œentity-relationshipï¼‰æ¨¡å‹ï¼š</p><ul><li>åŸºäºå¯¹ç°å®ä¸–ç•Œçš„è®¤è¯†ã€‚</li><li>ç°å®ä¸–ç•Œç”±ä¸€ç»„ç§°ä½œ<strong>å®ä½“çš„åŸºæœ¬å¯¹è±¡</strong>ä»¥åŠè¿™äº›<strong>å¯¹è±¡é—´çš„è”ç³»</strong>æ„æˆã€‚</li><li><strong>å®ä½“</strong>æ˜¯ç°å®ä¸–ç•Œä¸­å¯<strong>åŒºåˆ«äºå…¶ä»–å¯¹è±¡</strong>çš„ä¸€ä»¶ã€Œäº‹æƒ…ã€æˆ–ä¸€ä¸ªã€Œç‰©ä½“ã€</li></ul><blockquote><p>å…³ç³»æ¨¡å‹æ˜¯æ•°æ®æ¨¡å‹ï¼Œè€Œ E-R æ¨¡å‹æ˜¯æ¦‚å¿µæ¨¡å‹ã€‚</p></blockquote></li><li><p>åŸºäºå¯¹è±¡çš„æ•°æ®æ¨¡å‹ï¼ˆåº”è¯¥ä¸æ€ä¹ˆå­¦ï¼‰</p></li></ul></li></ul><h3 id="æ•°æ®åº“ç³»ç»Ÿå’Œè¯­è¨€">æ•°æ®åº“ç³»ç»Ÿå’Œè¯­è¨€</h3><ul><li><p>æ•°æ®åº“ç³»ç»Ÿï¼š</p><ul><li>æ•°æ®åº“ï¼ˆDBï¼ŒDatabaseï¼‰</li><li><strong>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</strong>ï¼ˆDBMSï¼ŒDatabase ManagementSystemï¼‰</li><li>æ•°æ®åº“åº”ç”¨ï¼ˆDBAPï¼ŒDataBaseApplicationï¼‰</li><li>æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDBAï¼ŒDataBaseAdministratorï¼‰</li></ul></li><li><p>æ•°æ®åº“è¯­è¨€ï¼ˆDBMS æä¾›çš„ï¼‰ï¼š</p><ul><li><p>æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼ŒData Definition Languageï¼‰ï¼š</p><p>â€‹ å®šä¹‰è¡¨åï¼Œè¡¨æ ‡é¢˜ï¼Œåˆ—ååŠå…¶ç»“æ„å½¢å¼ã€‚</p><blockquote><p>æ–°æ•°æ®æ’å…¥æ—¶ï¼ˆæ›´æ–°æ•°æ®åº“æ—¶ï¼‰è¦æ£€æŸ¥<strong>å®Œæ•´æ€§çº¦æŸ</strong>ï¼Œé˜²æ­¢ä¸ç¬¦åˆè§„èŒƒçš„æ•°æ®è¿›å…¥æ•°æ®åº“ï¼š</p><ul><li><p>åŸŸçº¦æŸï¼š</p><p>â€‹æ¯ä¸ªå±æ€§éƒ½å¿…é¡»å¯¹åº”äºä¸€ä¸ª<strong>æ‰€æœ‰å¯èƒ½çš„å–å€¼æ„æˆçš„åŸŸ</strong>ï¼ˆä¾‹å¦‚ï¼Œæ•´æ•°å‹ã€å­—ç¬¦å‹ã€æ—¥æœŸ/æ—¶é—´å‹ï¼‰ã€‚åŸŸçº¦æŸæ˜¯å®Œæ•´æ€§çº¦æŸçš„æœ€åŸºæœ¬å½¢å¼ã€‚</p></li><li><p>å‚ç…§ï¼ˆå¼•ç”¨ï¼‰å®Œæ•´æ€§ï¼š</p><p>â€‹ä¸€ä¸ªå…³ç³»ä¸­ç»™å®šå±æ€§é›†ä¸Šçš„å–å€¼ä¹Ÿåœ¨å¦ä¸€å…³ç³»çš„æŸä¸€å±æ€§é›†çš„å–å€¼ä¸­å‡ºç°ã€‚</p></li><li><p>æ–­è¨€ï¼š</p><p>â€‹ä¸€ä¸ªæ–­è¨€å°±æ˜¯æ•°æ®åº“éœ€è¦<strong>å§‹ç»ˆæ»¡è¶³çš„æŸä¸€æ¡ä»¶</strong>ï¼ˆåŸŸçº¦æŸå’Œå‚ç…§å®Œæ•´æ€§çº¦æŸæ˜¯æ–­è¨€çš„ç‰¹æ®Šå½¢å¼ï¼‰ï¼Œä¾‹å¦‚ï¼šã€Œæ¯ä¸€å­¦æœŸæ¯ä¸€ä¸ªç³»å¿…é¡»è‡³å°‘å¼€è®¾<span class="math inline">\(5\)</span>é—¨è¯¾ç¨‹ã€åªèƒ½è¡¨è¾¾æˆä¸€ä¸ªæ–­è¨€ã€‚å¦‚æœæ–­è¨€æœ‰æ•ˆï¼Œåˆ™ä»¥ååªæœ‰ä¸ç ´åæ–­è¨€çš„æ•°æ®åº“æ›´æ–°æ‰è¢«å…è®¸ã€‚</p></li></ul></blockquote></li><li><p>æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼ŒData Manipulation Languageï¼‰ï¼š</p><p>â€‹ å¯¹æ•°æ®åº“è¿›è¡Œ<strong>å¢ã€åˆ ã€æ”¹ã€æŸ¥</strong>ç­‰æ“ä½œã€‚</p></li><li><p>æ•°æ®æ§åˆ¶è¯­è¨€ï¼ˆDCLï¼ŒData Control Languageï¼‰ï¼š</p><p>â€‹ å¯¹ä¸åŒæ“ä½œå’Œç”¨æˆ·çš„çº¦æŸã€‚</p></li></ul></li></ul><h2 id="å…³ç³»æ¨¡å‹">å…³ç³»æ¨¡å‹</h2><h3 id="å®šä¹‰">å®šä¹‰</h3><ul><li><p>è¡¨çš„åˆ—ï¼Œä¹Ÿå«å­—æ®µ/å±æ€§/æ•°æ®é¡¹ï¼ŒåŒ…æ‹¬åˆ—åå’Œåˆ—å€¼ã€‚</p></li><li><p>è¡¨çš„è¡Œï¼Œä¹Ÿå«å…ƒç»„ï¼ˆ<span class="math inline">\(n\)</span>å…ƒç»„å°±æ˜¯ä¸€ä¸ªæœ‰ <span class="math inline">\(n\)</span>ä¸ªå€¼çš„å…ƒç»„ï¼‰/è®°å½•ã€‚</p></li><li><p>åŸŸï¼š</p><p>â€‹å¯¹äºå…³ç³»çš„æ¯ä¸ª<strong>å±æ€§</strong>ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªå…è®¸å–å€¼çš„é›†åˆï¼ˆå³<strong>åŸŸ</strong>ï¼‰ï¼Œè¿™ç»„å€¼å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><blockquote><p>é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°ç§°ä¸ºåŸŸçš„<strong>åŸºæ•°</strong>ã€‚</p></blockquote></li><li><p>åŸŸçš„ç¬›å¡å°”ç§¯ï¼š</p><p>â€‹ ä¸€ç»„åŸŸ <span class="math inline">\(D_1,D_2,\cdots,D_n\)</span>çš„ç¬›å¡å°”ç§¯ä¸ºï¼š<span class="math inline">\(D_1Ã—D_2Ã—\cdotsÃ—D_n = \{ (d_1 ,d_2 , â€¦ , d_n) | d_iâˆˆD_i , i=1,\cdots,n\}\)</span>ï¼Œç¬›å¡å°”ç§¯æ¯ä¸ªå…ƒç´ <span class="math inline">\((d_1 , d_2 , â€¦ , d_n)\)</span> ç§°ä½œä¸€ä¸ª<span class="math inline">\(n\)</span> - å…ƒç»„ã€‚</p></li><li><p>å…³ç³»ï¼š</p><p>â€‹ ä¸€ç»„åŸŸ <span class="math inline">\(D_1,D_2,\cdots,D_n\)</span>çš„ç¬›å¡å°”ç§¯çš„<strong>å­é›†</strong>ã€‚</p></li><li><p><strong>å…³ç³»æ¨¡å¼æˆ–è¡¨æ ‡é¢˜</strong>ï¼š</p><p>â€‹ ç”¨ <span class="math inline">\(R(A_1: D_1, A_2: D_2, \ldots, A_n:D_n)\)</span> è¡¨ç¤ºï¼Œå¯ç®€è®°ä¸º <span class="math inline">\(R(A_1, A_2,\ldots,A_n)\)</span> æ¥æè¿°å…³ç³»ï¼š</p><ul><li><span class="math inline">\(R\)</span> æ˜¯å…³ç³»çš„åå­—ã€‚</li><li><span class="math inline">\(A_i\)</span>æ˜¯<strong>å±æ€§</strong>ã€‚</li><li><span class="math inline">\(D_i\)</span>æ˜¯å±æ€§æ‰€å¯¹åº”çš„<strong>åŸŸ</strong>ï¼ˆå±æ€§çš„ç±»å‹ã€é•¿åº¦ï¼‰ã€‚</li><li><span class="math inline">\(n\)</span>æ˜¯å…³ç³»çš„<strong>åº¦æˆ–ç›®</strong>ï¼Œå³æœ‰å¤šå°‘åˆ—ã€‚</li><li>å…³ç³»æ¨¡å¼ä¸­ <span class="math inline">\(A_i (i = 1,\cdots,n)\)</span>å¿…é¡»æ˜¯ä¸åŒçš„, è€Œ <span class="math inline">\(D_i(i =1,\cdots,n)\)</span> æ˜¯å¯ä»¥ç›¸åŒçš„ã€‚</li></ul></li></ul><h3 id="å…³ç³»çš„ç‰¹æ€§">å…³ç³»çš„ç‰¹æ€§</h3><ul><li><p>åˆ—æ˜¯åŒè´¨ï¼š</p><p>â€‹ æ¯ä¸€åˆ—ä¸­çš„åˆ—å€¼æ¥è‡ªåŒä¸€åŸŸï¼Œæ˜¯åŒä¸€ç±»å‹çš„æ•°æ®ã€‚</p></li><li><p>ä¸åŒçš„åˆ—å¯æ¥è‡ªåŒä¸€ä¸ªåŸŸ</p></li><li><p>åˆ—ä½ç½®äº’æ¢æ€§ï¼š</p><p>â€‹ åŒºåˆ†å“ªä¸€åˆ—æ˜¯é åˆ—åï¼Œä¸åˆ—çš„é¡ºåºæ— å…³ã€‚</p></li><li><p>è¡Œä½ç½®äº’æ¢æ€§ï¼š</p><p>â€‹ åŒºåˆ†å“ªä¸€è¡Œæ˜¯é æŸä¸€æˆ–æŸå‡ åˆ—çš„å€¼ï¼ˆå…³é”®å­—/é”®å­—/ç å­—ï¼‰ã€‚</p></li><li><p>ä»»æ„ä¸¤ä¸ªå…ƒç»„ä¸èƒ½å®Œå…¨ç›¸åŒ</p></li><li><p>å±æ€§ä¸å¯å†åˆ†ç‰¹æ€§ï¼ˆå…³ç³»ç¬¬ä¸€èŒƒå¼ï¼‰</p></li></ul><h3 id="ç é”®">ç ï¼ˆé”®ï¼‰</h3><ul><li><p>è¶…ç ï¼ˆsuperkeyï¼‰ï¼š</p><p>â€‹<strong>è¶…ç </strong>æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§çš„é›†åˆï¼Œè¿™äº›å±æ€§çš„ç»„åˆå¯ä»¥ä½¿æˆ‘ä»¬åœ¨ä¸€ä¸ªå…³ç³»ä¸­<strong>å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå…ƒç»„</strong>ã€‚</p><blockquote><p>ä¸¤ä¸ªä¸åŒå…ƒç»„çš„è¶…ç å±æ€§çš„å–å€¼ä¸ä¼šå®Œå…¨ç›¸åŒã€‚</p></blockquote></li><li><p>å€™é€‰ç ï¼š</p><p>â€‹å¦‚æœä¸€ä¸ªè¶…ç çš„ä»»æ„çœŸå­é›†éƒ½ä¸èƒ½æˆä¸ºè¶…ç ï¼Œè¿™æ ·çš„æœ€å°è¶…ç ç§°ä¸º<strong>å€™é€‰ç </strong>ã€‚</p></li><li><p>ä¸»ç ï¼š</p><p>â€‹ å½“æœ‰å¤šä¸ªå€™é€‰ç æ—¶ï¼Œå¯ä»¥é€‰å®šä¸€ä¸ªä½œä¸º<strong>ä¸»ç </strong>ã€‚</p></li><li><p>ä¸»å±æ€§ä¸éä¸»å±æ€§ï¼š</p><p>â€‹åŒ…å«åœ¨<strong>ä»»ä½•ä¸€ä¸ªå€™é€‰ç </strong>ä¸­çš„å±æ€§è¢«ç§°ä½œ<strong>ä¸»å±æ€§</strong>ï¼Œå…¶ä»–å±æ€§è¢«ç§°ä½œ<strong>éä¸»å±æ€§</strong>ã€‚</p><blockquote><p>å¦‚æœå…³ç³»çš„æ‰€æœ‰å±æ€§ç»„æ˜¯è¿™ä¸ªå…³ç³»çš„å€™é€‰ç ï¼Œç§°ä¸º<strong>å…¨ç </strong>ã€‚</p></blockquote></li><li><p>å¤–ç ï¼š</p><p>â€‹ å…³ç³» <span class="math inline">\(R\)</span> ä¸­çš„ä¸€ä¸ªå±æ€§ç»„ï¼Œå®ƒä¸æ˜¯<span class="math inline">\(R\)</span>çš„å€™é€‰ç ï¼Œä½†å®ƒä¸å¦ä¸€ä¸ªå…³ç³»å€™é€‰ç ï¼ˆä¸»ç ï¼‰ç›¸å¯¹åº”ï¼Œåˆ™ç§°è¿™ä¸ªå±æ€§ç»„ä¸º <span class="math inline">\(R\)</span> çš„<strong>å¤–ç </strong>ã€‚</p></li></ul><h3 id="å…³ç³»æ¨¡å‹ä¸­çš„å®Œæ•´æ€§">å…³ç³»æ¨¡å‹ä¸­çš„å®Œæ•´æ€§</h3><ul><li><p><strong>å®ä½“å®Œæ•´æ€§</strong>ï¼š</p><p>â€‹å…³ç³»çš„<strong>ä¸»ç </strong>ä¸­çš„å±æ€§å€¼ä¸èƒ½ä¸º<strong>ç©ºå€¼</strong>ã€‚</p></li><li><p><strong>å‚ç…§å®Œæ•´æ€§</strong>ï¼š</p><p>â€‹ å¦‚æœå…³ç³» <span class="math inline">\(R_1\)</span>çš„<strong>å¤–ç </strong> <span class="math inline">\(a\)</span> ä¸å…³ç³»<span class="math inline">\(R_2\)</span> çš„<strong>ä¸»ç </strong> <span class="math inline">\(a\)</span> ç›¸å¯¹åº”ï¼Œåˆ™ <span class="math inline">\(R_1\)</span> ä¸­çš„<strong>æ¯ä¸€ä¸ªå…ƒç»„</strong>çš„<span class="math inline">\(a\)</span> å€¼æˆ–è€…ç­‰äº <span class="math inline">\(R_2\)</span> ä¸­<strong>æŸä¸ªå…ƒç»„</strong>çš„ <span class="math inline">\(a\)</span>å€¼ï¼Œæˆ–è€…ä¸º<strong>ç©ºå€¼</strong>ã€‚</p></li><li><p>ç”¨æˆ·è‡ªå®šä¹‰å®Œæ•´æ€§ï¼š</p><p>â€‹ ç”¨æˆ·é’ˆå¯¹å…·ä½“çš„åº”ç”¨ç¯å¢ƒå®šä¹‰çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ã€‚</p></li></ul><blockquote><p>è¿™ä¸€ç« ç¼ºå°‘äº†å¾ˆå…³é”®çš„å…³ç³»ä»£æ•°ã€‚</p></blockquote><h2 id="æ•°æ®åº“è®¾è®¡">æ•°æ®åº“è®¾è®¡</h2><h3 id="å®ä½“-è”ç³»e-ræ¨¡å‹">å®ä½“-è”ç³»ï¼ˆE-Rï¼‰æ¨¡å‹</h3><ul><li><p>E-R æ¨¡å‹çš„åŸºæœ¬è§‚ç‚¹ï¼š</p><p>â€‹ä¸–ç•Œæ˜¯ç”±ä¸€ç»„ç§°ä½œ<strong>å®ä½“çš„åŸºæœ¬å¯¹è±¡å’Œè¿™äº›å¯¹è±¡ä¹‹é—´çš„è”ç³»</strong>æ„æˆçš„ã€‚</p></li><li><p>å®ä½“ï¼š</p><p>â€‹<strong>å®ä½“</strong>æ˜¯ç°å®ä¸–ç•Œä¸­å¯åŒºåˆ«äºæ‰€æœ‰å…¶ä»–å¯¹è±¡çš„ä¸€ä¸ªã€Œäº‹ç‰©ã€æˆ–ã€Œå¯¹è±¡ã€ã€‚æ¯ä¸ªå®ä½“æœ‰ä¸€ç»„æ€§è´¨ï¼ˆå±æ€§ï¼‰ï¼Œå…¶ä¸­ä¸€äº›æ€§è´¨çš„å€¼å¯ä»¥å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå®ä½“ã€‚</p></li><li><p>å®ä½“é›†ï¼š</p><p>â€‹<strong>å®ä½“é›†</strong>æ˜¯ç›¸åŒç±»å‹å³å…·æœ‰ç›¸åŒæ€§è´¨ï¼ˆæˆ–å±æ€§ï¼‰çš„ä¸€ä¸ªå®ä½“é›†åˆã€‚</p><blockquote><p>æ³¨æ„ï¼šä»¥ä¸Šæ˜¯ä¹¦ä¸­çš„å®šä¹‰ï¼ŒPPT ä¸­çš„ã€Œå®ä½“ã€= ä¹¦ä¸­çš„ã€Œå®ä½“é›†ã€ï¼ŒPPTçš„ã€Œå®ä¾‹ã€= ä¹¦ä¸­çš„ã€Œå®ä½“ã€ã€‚</p><p>ä»¥ä¸‹é‡‡ç”¨ä¹¦æœ¬çš„å®šä¹‰æè¿°ã€‚</p></blockquote></li><li><p>è”ç³»é›†ï¼š</p><ul><li><p><strong>è”ç³»</strong>æ˜¯æŒ‡<strong>å¤šä¸ªå®ä½“é—´</strong>çš„ç›¸äº’å…³è”ã€‚</p></li><li><p><strong>è”ç³»é›†</strong>æ˜¯ç›¸åŒç±»å‹è”ç³»çš„é›†åˆã€‚æ­£è§„åœ°è¯´ï¼Œè”ç³»é›†æ˜¯<span class="math inline">\(n \geqslant 2\)</span>ä¸ªï¼ˆå¯èƒ½ç›¸åŒçš„ï¼‰å®ä½“é›†ä¸Šçš„æ•°å­¦å…³ç³»ã€‚å¦‚æœ <span class="math inline">\(E_1, E_2, \cdots, E_{n}\)</span>ä¸ºå®ä½“é›†ï¼Œé‚£ä¹ˆè”ç³»é›† <span class="math inline">\(R\)</span> æ˜¯ <span class="math display">\[\{(e_1, e_2, \cdots, e_{n}) \mid e_1 \in E_1, e_2 \in E_2, \cdots, e_{n}\in E_{n}\}\]</span>çš„ä¸€ä¸ª<strong>å­é›†</strong>ï¼ˆç›¸å½“äºå®ä½“é›†ç¬›å¡å°”ç§¯çš„ä¸€ä¸ªå­é›†ï¼‰ï¼Œè€Œ <span class="math inline">\((e_1, e_2, \cdots, e_{n})\)</span>æ˜¯ä¸€ä¸ª<strong>è”ç³»</strong>ï¼Œ<span class="math inline">\(e_i\)</span> æ˜¯<span class="math inline">\(E_i\)</span> çš„å±æ€§é›†åˆçš„å­é›†ã€‚</p><blockquote><p>å®ä½“é›†ä¹‹é—´çš„è”ç³»ç§°ä¸º<strong>å‚ä¸</strong>ã€‚å®ä½“é›† <span class="math inline">\(E_1, E_2, \cdots, E_{n}\)</span> å‚ä¸è”ç³»é›† <span class="math inline">\(R\)</span>ã€‚</p><p>ä¸¾ä¾‹ï¼šå®ä½“é›† <span class="math inline">\(Student,Course\)</span>å‚ä¸è”ç³»é›† <span class="math inline">\(SC\)</span>ã€‚</p></blockquote></li><li><p>å‚ä¸è”ç³»é›†çš„<strong>å®ä½“é›†çš„æ•°ç›®</strong>ç§°ä¸ºè”ç³»é›†çš„<strong>åº¦</strong>ã€‚</p></li><li><p>å®ä½“åœ¨è”ç³»ä¸­æ‰®æ¼”çš„åŠŸèƒ½ç§°ä¸ºå®ä½“çš„<strong>è§’è‰²</strong>ã€‚</p></li></ul></li><li><p>å±æ€§ï¼š</p><ul><li><p>æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå¯å–å€¼çš„é›†åˆï¼Œç§°ä¸ºè¯¥å±æ€§çš„<strong>åŸŸæˆ–è€…å€¼é›†</strong>ã€‚</p></li><li><p>å±æ€§çš„åˆ†ç±»ï¼š</p><ul><li><p>ç®€å•ï¼ˆå•ä¸€ï¼‰å±æ€§ï¼š</p><p>â€‹ å®ƒä»¬ä¸èƒ½åˆ’åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ã€‚</p></li><li><p>å¤åˆå±æ€§ï¼š</p><p>â€‹ å°†å±æ€§å†åˆ’åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ï¼ˆå³å…¶ä»–å±æ€§ï¼‰ã€‚</p><blockquote><p>åœ°å€ç»†åˆ†ï¼ˆçœå¸‚ï¼‰</p></blockquote></li><li><p>å•å€¼å±æ€§ï¼š</p><p>â€‹å¯¹ä¸€ä¸ªç‰¹å®šå®ä½“ï¼Œä¸€ä¸ªå±æ€§éƒ½åªæœ‰<strong>å•ç‹¬çš„ä¸€ä¸ªå€¼</strong>ã€‚</p></li><li><p>å¤šå€¼å±æ€§ï¼š</p><p>â€‹å¯¹æŸä¸ªç‰¹å®šå®ä½“è€Œè¨€ï¼Œä¸€ä¸ªå±æ€§å¯èƒ½å¯¹åº”äº<strong>ä¸€ç»„å€¼</strong>ï¼ˆå³ä¸€ä¸ªå±æ€§å¯ä»¥å–å¤šä¸ªå€¼ï¼‰ã€‚</p><blockquote><p>ä¸€ä¸ªäººæœ‰å¤šä¸ªç”µè¯å·ç </p></blockquote></li></ul></li></ul></li><li><p>è”ç³»é›†çš„ç±»å‹ï¼š</p><ul><li><p>ä¸€å¯¹ä¸€ï¼š</p><p>â€‹ <span class="math inline">\(A\)</span>ä¸­çš„ä¸€ä¸ªå®ä½“<strong>è‡³å¤š</strong>ä¸ <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ç›¸å…³è”ï¼Œå¹¶ä¸” <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ä¹Ÿè‡³å¤šä¸ <span class="math inline">\(A\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ç›¸å…³è”ã€‚</p></li><li><p>ä¸€å¯¹å¤šï¼š</p><p>â€‹ <span class="math inline">\(A\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“å¯ä»¥ä¸ <span class="math inline">\(B\)</span>ä¸­çš„ä»»æ„æ•°ç›®ï¼ˆé›¶ä¸ªæˆ–å¤šä¸ªï¼‰å®ä½“ç›¸å…³è”ï¼Œè€Œ <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“è‡³å¤šä¸ <span class="math inline">\(A\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ç›¸å…³è”ã€‚</p></li><li><p>å¤šå¯¹ä¸€ï¼š</p><p>â€‹ <span class="math inline">\(A\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“è‡³å¤šä¸ <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ç›¸å…³è”ï¼Œè€Œ <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“å¯ä»¥ä¸ <span class="math inline">\(A\)</span>ä¸­ä»»æ„æ•°ç›®ï¼ˆé›¶ä¸ªæˆ–å¤šä¸ªï¼‰å®ä½“ç›¸å…³è”ã€‚</p></li><li><p>å¤šå¯¹å¤šï¼š</p><p>â€‹ <span class="math inline">\(A\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“å¯ä»¥ä¸ <span class="math inline">\(B\)</span>ä¸­ä»»æ„æ•°ç›®ï¼ˆé›¶ä¸ªæˆ–å¤šä¸ªï¼‰å®ä½“ç›¸å…³è”ï¼Œè€Œä¸” <span class="math inline">\(B\)</span> ä¸­çš„ä¸€ä¸ªå®ä½“ä¹Ÿå¯ä»¥ä¸ <span class="math inline">\(A\)</span>ä¸­ä»»æ„æ•°ç›®ï¼ˆé›¶ä¸ªæˆ–å¤šä¸ªï¼‰å®ä½“ç›¸å…³è”ã€‚</p></li></ul></li><li><p>æ˜ å°„åŸºæ•°ï¼ˆè”ç³»çš„åŸºæ•°ğŸ—¡ï¼‰ï¼š</p><p>â€‹å®ä½“ä¹‹é—´çš„è”ç³»çš„æ•°é‡ï¼Œå³<strong>ä¸€ä¸ªå®ä½“</strong>é€šè¿‡ä¸€ä¸ª<strong>è”ç³»</strong>èƒ½ä¸<strong>å¦ä¸€å®ä½“é›†ç›¸å…³è”çš„å®ä½“çš„æ•°ç›®</strong>ã€‚</p></li><li><p>å®ä½“é›†å’ŒäºŒå…ƒè”ç³»é›†ä¹‹é—´çš„ä¸€æ¡è¾¹ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªå…³è”çš„<strong>æœ€å¤§å’Œæœ€å°çš„æ˜ å°„åŸºæ•°</strong>ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211004133238514.png"></div><p>ä¸€ä¸ª instructor å¯ä»¥å¯¹åº” <strong><span class="math inline">\(0\)</span> ä¸ªæˆ–å¤šä¸ª</strong> studentï¼Œä½†ä¸€ä¸ªstudent <strong>æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª</strong> instructorï¼Œæ³¨æ„ advisor æ˜¯ä»instructor åˆ° studentçš„<strong>ä¸€å¯¹å¤š</strong>è”ç³»ã€‚</p><p>ç¬”è€…æ³¨ï¼š</p><p>â€‹ PPTä¸Šçš„åŸºæ•°å¾ˆå¤šåœ°æ–¹æ˜¯åäº†ï¼Œåº”è¯¥æ˜¯è‡ªå·±çš„åŸºæ•°å†™åœ¨è‡ªå·±æ—è¾¹ï¼ˆä¸çŸ¥é“ç¥–ä¼ é”™è¯¯æ˜¯å¦å·²è¢«æ›´æ­£ï¼‰</p></blockquote></li><li><p>å‚ä¸çº¦æŸï¼š</p><ul><li><p>å®Œå…¨å‚ä¸è”ç³»ï¼š</p><p>â€‹ å¦‚æœå®ä½“é›† <span class="math inline">\(E\)</span>ä¸­çš„<strong>æ¯ä¸ªå®ä½“</strong>éƒ½å‚ä¸åˆ°è”ç³»é›† <span class="math inline">\(R\)</span>çš„<strong>è‡³å°‘ä¸€ä¸ª</strong>è”ç³»ä¸­ï¼Œæ­¤æ—¶æœ€å°åŸºæ•°ä¸º <span class="math inline">\(1\)</span>ã€‚</p></li><li><p>éƒ¨åˆ†å‚ä¸è”ç³»ï¼š</p><p>â€‹ å¦‚æœ <span class="math inline">\(E\)</span>ä¸­åªæœ‰<strong>éƒ¨åˆ†å®ä½“</strong>å‚ä¸åˆ° <span class="math inline">\(R\)</span> çš„è”ç³»ä¸­ï¼Œæ­¤æ—¶æœ€å°åŸºæ•°ä¸º <span class="math inline">\(0\)</span>ã€‚</p></li></ul></li><li><p>å¼±å®ä½“é›†å’Œå¼ºå®ä½“é›†ï¼š</p><ul><li>æ²¡æœ‰<strong>è¶³å¤Ÿçš„å±æ€§ä»¥å½¢æˆä¸»ç </strong>çš„å®ä½“é›†ç§°ä½œ<strong>å¼±å®ä½“é›†</strong>ï¼ˆä»å±å®ä½“é›†ï¼‰ã€‚</li><li>æœ‰<strong>ä¸»ç </strong>çš„å®ä½“é›†ç§°ä½œ<strong>å¼ºå®ä½“é›†</strong>ï¼ˆç‹¬ç«‹å®ä½“é›†ï¼‰ã€‚</li></ul></li></ul><h3 id="æ•°æ®åº“è®¾è®¡-1">æ•°æ®åº“è®¾è®¡</h3><ul><li><p>éœ€æ±‚åˆ†æï¼š</p><p>â€‹ å½¢æˆæ•°æ®åº“è®¾è®¡çš„ã€Œæºã€æ¸…å•å’Œã€Œå±æ€§ã€æ¸…å•ã€‚</p></li><li><p>æ¦‚å¿µæ•°æ®åº“è®¾è®¡ï¼š</p><ul><li><p>ç”¨ç»Ÿä¸€çš„è¡¨è¾¾æ–¹æ³•ï¼Œå¦‚ E-R æ¨¡å‹ç»™å‡ºæè¿°ï¼š</p><ul><li><p>å„ç§å®ä½“çš„å‘ç°ã€åˆ’åˆ†å’Œå®šä¹‰</p></li><li><p>å„ç§å®ä½“å±æ€§çš„å‘ç°ã€åˆ†æå’Œå®šä¹‰</p></li><li><p>å„ç§å®ä½“è”ç³»çš„å‘ç°ã€åˆ†æå’Œå®šä¹‰</p></li><li><p>å¤–éƒ¨è§†å›¾ï¼ˆæ¨¡å¼ï¼‰å’Œæ¦‚å¿µè§†å›¾ï¼ˆæ¨¡å¼ï¼‰çš„å®šä¹‰</p></li></ul></li><li><p>æ¶ˆé™¤å†²çªï¼š</p><ul><li>å±æ€§å†²çªï¼š<ul><li>å±æ€§åŸŸçš„å†²çªï¼ˆå±æ€§çš„ç±»å‹ã€å–å€¼èŒƒå›´ä¸åŒï¼‰</li><li>å±æ€§å–å€¼å•ä½å†²çª</li></ul></li><li>ç»“æ„å†²çªï¼š<ul><li>åŒä¸€å¯¹è±¡åœ¨ä¸åŒåº”ç”¨ä¸­çš„æŠ½è±¡ä¸åŒï¼ˆèŒå·¥åœ¨æŸåº”ç”¨ä¸­æ˜¯å®ä½“ï¼Œåœ¨å¦ä¸€åº”ç”¨ä¸­åˆ™æŠ½è±¡ä¸ºå±æ€§ï¼‰</li><li>åŒä¸€å®ä½“åœ¨ä¸åŒ E-R å›¾ä¸­å±æ€§ç»„æˆä¸åŒ</li><li>å®ä½“ä¹‹é—´çš„è”ç³»åœ¨ä¸åŒ E-R å›¾ä¸­å‘ˆç°ä¸åŒçš„ç±»å‹</li></ul></li><li>å‘½åå†²çªï¼ˆåŒåå¼‚ä¹‰ï¼Œå¼‚ååŒä¹‰ï¼‰</li></ul></li></ul></li><li><p>é€»è¾‘æ•°æ®åº“è®¾è®¡ï¼š</p><ul><li><p>E-R å›¾è½¬æ¢ä¸ºå…³ç³»æ¨¡å¼ï¼š</p><ul><li><p>å¤åˆå±æ€§è½¬åŒ–ï¼š</p><ul><li>æ‹†æˆå¤šåˆ—å•ä¸€å±æ€§ã€‚</li><li>æˆ–è€…ä½œä¸ºä¸€ä¸ªæ–°çš„å…³ç³»ï¼Œæ¯ä¸ªåˆ†é‡ä¸ºæ–°å…³ç³»çš„å±æ€§ã€‚</li></ul></li><li><p>å¤šå€¼å±æ€§è½¬åŒ–ï¼š</p><ul><li>å°†<strong>å¤šå€¼å±æ€§</strong>ä¸æ‰€åœ¨å®ä½“çš„<strong>å…³é”®å­—</strong>ä¸€èµ·ç»„æˆä¸€ä¸ªæ–°çš„å…³ç³»ã€‚</li><li>ä¹Ÿå¯ä»¥åƒå¤åˆå±æ€§ä¸€æ ·æ‹†æˆå¤šåˆ—ã€‚</li></ul></li><li><p>ä¸€å¯¹ä¸€è”ç³»ï¼š</p><ul><li>è‹¥è”ç³»åŒæ–¹<strong>å‡éƒ¨åˆ†å‚ä¸</strong>ï¼Œåˆ™å°†<strong>è”ç³»</strong>å®šä¹‰ä¸ºä¸€ä¸ª<strong>æ–°çš„å…³ç³»</strong>ï¼Œå±æ€§ä¸ºå‚ä¸åŒæ–¹çš„å…³é”®å­—ï¼ˆä¸»ç ï¼‰å±æ€§ã€‚</li><li>è‹¥è”ç³»<strong>ä¸€æ–¹å…¨éƒ¨å‚ä¸</strong>ï¼Œåˆ™å°†<strong>å¦ä¸€æ–¹å…³é”®å­—</strong>ä½œä¸º<strong>å…¨éƒ¨å‚ä¸æ–¹</strong>çš„<strong>å±æ€§</strong>ï¼ˆå³å¤šä¸€ä¸ªå±æ€§ï¼‰ï¼Œä¸éœ€è¦è”ç³»é›†ï¼ˆæ„Ÿè§‰æ˜¯PPT è¯´åäº†ï¼‰ã€‚</li></ul></li><li><p>ä¸€å¯¹å¤šè”ç³»ï¼š</p><p>â€‹å°†<strong>å•æ–¹</strong>ï¼ˆå¦‚æ•™å¸ˆå’Œå­¦ç”Ÿå…³ç³»ä¸­çš„æ•™å¸ˆï¼‰å‚ä¸å®ä½“çš„å…³é”®å­—ï¼Œä½œä¸º<strong>å¤šæ–¹</strong>ï¼ˆå­¦ç”Ÿï¼‰å‚ä¸å®ä½“å¯¹åº”å…³ç³»çš„å±æ€§ã€‚</p></li><li><p>å¤šå¯¹å¤šè”ç³»ï¼š</p><p>â€‹å°†è”ç³»å®šä¹‰ä¸º<strong>æ–°çš„å…³ç³»</strong>ï¼Œå±æ€§ä¸ºå‚ä¸<strong>åŒæ–¹å®ä½“çš„å…³é”®å­—</strong>ã€‚</p></li></ul></li><li><p>å†—ä½™ï¼ˆæ²¡æ‡‚ï¼‰ï¼š</p><ul><li><p>å—æ§å†—ä½™ï¼š</p><p>â€‹ æœ‰æ—¶ä¸ºäº†æ•ˆç‡å’Œä¾¿åˆ©ï¼Œä¼šç‰¹æ„è®¾è®¡å†—ä½™æ•°æ®ã€‚</p></li><li><p>éå—æ§å†—ä½™ï¼š</p><p>â€‹ å­˜åœ¨ä¼ é€’å‡½æ•°ä¾èµ–ã€‚</p></li></ul></li></ul></li></ul><h3 id="å‡½æ•°ä¾èµ–">å‡½æ•°ä¾èµ–ğŸ—¡</h3><ul><li><p>å‡½æ•°ä¾èµ–å®šä¹‰ï¼š</p><ul><li><p>è®¾ $ R$ æ˜¯å±æ€§é›†åˆ <span class="math inline">\(U=\{A_1, A_2,\ldots, A_{n}\}\)</span> ä¸Šçš„ä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼Œ<span class="math inline">\(X, Y\)</span> æ˜¯<strong>å±æ€§é›†</strong> <span class="math inline">\(U\)</span>ä¸Šçš„ä¸¤ä¸ª<strong>å­é›†</strong>ã€‚</p></li><li><p>è‹¥å¯¹ <span class="math inline">\(R\)</span> çš„ä»»æ„å…³ç³» <span class="math inline">\(r\)</span>ï¼Œ$ r$ä¸­<strong>ä¸å¯èƒ½æœ‰ä¸¤ä¸ªå…ƒç»„</strong>æ»¡è¶³åœ¨ <span class="math inline">\(X\)</span> ä¸­çš„å±æ€§å€¼ç›¸ç­‰è€Œåœ¨ <span class="math inline">\(Y\)</span> ä¸­çš„å±æ€§å€¼ä¸ç­‰ï¼Œåˆ™ç§°ã€Œ<span class="math inline">\(X\)</span> å‡½æ•°å†³å®š <span class="math inline">\(Y\)</span>ã€æˆ–ã€Œ<span class="math inline">\(Y\)</span> å‡½æ•°ä¾èµ–äº <span class="math inline">\(X\)</span>ã€ï¼Œè®°ä½œ <span class="math inline">\(X\rightarrow Y\)</span>ï¼Œç§° <span class="math inline">\(X\)</span>ä¸ºå†³å®šå› ç´ ï¼Œ<span class="math inline">\(Y\)</span> ä¸ºä¾èµ–å› ç´ ã€‚</p><blockquote><p>å…³ç³»æ¨¡å¼æ˜¯åœ¨å±æ€§é›†åˆä¸Šçš„ç»“æ„åŒ–æè¿°ï¼Œå…³ç³»æ˜¯è¡¨çŠ¶ç»“æ„çš„ã€‚</p><p>å‡½æ•°ä¾èµ–ï¼Œé¡¾åæ€ä¹‰ï¼Œ<span class="math inline">\(X\)</span> æ˜ å°„åˆ°<span class="math inline">\(Y\)</span>ï¼ŒåŒä¸€ä¸ª <span class="math inline">\(x\)</span> ä¸ä¼šæ˜ å°„åˆ°ä¸¤ä¸ª <span class="math inline">\(y\)</span>ã€‚</p></blockquote></li></ul></li><li><p>å‡½æ•°ä¾èµ–çš„ç‰¹æ€§ï¼š</p><ul><li><p>å¦‚æœ <span class="math inline">\(Y \subset X\)</span>ï¼Œåˆ™æœ‰ <span class="math inline">\(X\to Y\)</span>ï¼Œè¿™æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚</p></li><li><p>å¯¹ $ X Y$ï¼Œä½† $ Y X$ï¼Œåˆ™ç§° <span class="math inline">\(X\rightarrow Y\)</span>ä¸º<strong>éå¹³å‡¡çš„å‡½æ•°ä¾èµ–</strong>ã€‚</p></li><li><p>è‹¥ <span class="math inline">\(X \rightarrow Y, Y \rightarrowX\)</span>ï¼Œåˆ™è®°ä½œ <span class="math inline">\(X \leftrightarrowY\)</span>ã€‚</p></li><li><p>è‹¥ <span class="math inline">\(Y\)</span> ä¸å‡½æ•°ä¾èµ–äº <span class="math inline">\(X\)</span>. åˆ™è®°ä½œ <span class="math inline">\(X\not\rightarrow Y\)</span>ã€‚</p></li><li><p>$ X Y$ï¼Œè‹¥æ˜¯åŸºäºæ¨¡å¼ <span class="math inline">\(R\)</span>çš„ï¼Œåˆ™å¯¹ä»»æ„çš„å…³ç³» <span class="math inline">\(r\)</span>æˆç«‹ï¼›è‹¥ä»…åŸºäºå…·ä½“å…³ç³» <span class="math inline">\(r\)</span>çš„ï¼Œåˆ™å¯èƒ½åªå¯¹è¯¥å…³ç³» <span class="math inline">\(r\)</span>æˆç«‹ã€‚</p></li><li><p>å¦‚ä¸€å…³ç³» <span class="math inline">\(r\)</span> çš„æŸå±æ€§é›† <span class="math inline">\(X\)</span>ï¼Œ<span class="math inline">\(r\)</span>ä¸­<strong>æ²¡æœ‰ <span class="math inline">\(X\)</span>ä¸Šç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç»„</strong>ï¼Œåˆ™ $ X Y$ æ’æˆç«‹ã€‚</p></li></ul></li><li><p>å®Œå…¨å‡½æ•°ä¾èµ–å’Œéƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼š</p><p>â€‹ åœ¨ <span class="math inline">\(R\)</span> ä¸­ï¼Œè‹¥ <span class="math inline">\(X \rightarrow Y\)</span> å¹¶ä¸”å¯¹äº <span class="math inline">\(X\)</span> çš„ä»»ä½•çœŸå­é›† <span class="math inline">\(X'\)</span> éƒ½æœ‰ <span class="math inline">\(X'\not\rightarrow Y\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(Y\)</span> <strong>å®Œå…¨ï¼ˆfullï¼‰å‡½æ•°ä¾èµ–</strong>äº<span class="math inline">\(X\)</span>ï¼Œè®°ä¸º<span class="math inline">\(X\stackrel{f}\rightarrow Y\)</span>ï¼Œå¦åˆ™ç§° <span class="math inline">\(Y\)</span><strong>éƒ¨åˆ†ï¼ˆpartialï¼‰å‡½æ•°ä¾èµ–</strong>äº <span class="math inline">\(X\)</span>ï¼Œè®°ä¸º <span class="math inline">\(X\stackrel{p}\to Y\)</span>ã€‚</p><blockquote><p><span class="math inline">\(R\)</span> æ˜¯å±æ€§é›†åˆ <span class="math inline">\(U\)</span> ä¸Šçš„ä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼Œè‹¥ <span class="math inline">\(X \subset U\)</span> ä¸” <span class="math inline">\(X\stackrel{f}\rightarrow U\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(X\)</span> ä¸º <span class="math inline">\(R\)</span>çš„<strong>å€™é€‰é”®</strong>ï¼ˆå€™é€‰ç ï¼‰ã€‚</p></blockquote></li><li><p>ä¼ é€’å‡½æ•°ä¾èµ–ï¼š</p><p>â€‹ åœ¨ <span class="math inline">\(R\)</span> ä¸­ï¼Œè‹¥ <span class="math inline">\(X\to Y,Y \to Z\)</span>ï¼Œå…¶ä¸­ <strong><span class="math inline">\(Y\not\subset X,Z\not\subset Y,Z\not\subsetX,Y\not\toX\)</span></strong>ï¼ˆè¯´æ˜éƒ½æ˜¯<strong>éå¹³å‡¡ä¾èµ–</strong>ï¼‰ï¼Œåˆ™ç§° <span class="math inline">\(Z\)</span> <strong>ä¼ é€’å‡½æ•°ä¾èµ–</strong>äº <span class="math inline">\(X\)</span>ã€‚</p><blockquote><p>ä¼ é€’ä¾èµ–çš„åˆ¤å®šå¾ˆä¸¥æ ¼ï¼Œä»…æ»¡è¶³ <span class="math inline">\(X\to Y,Y \toZ\)</span> æ˜¯ä¸å¤Ÿçš„ï¼Œè¦ç‰¹åˆ«æ³¨æ„ã€‚</p></blockquote></li><li><p>é€»è¾‘è•´æ¶µï¼š</p><p>â€‹ è®¾ <span class="math inline">\(F\)</span> æ˜¯å…³ç³»æ¨¡å¼ <span class="math inline">\(R\)</span>çš„ä¸€ä¸ª<strong>å‡½æ•°ä¾èµ–é›†åˆ</strong>ï¼Œ<span class="math inline">\(X,Y\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„å±æ€§å­é›†ï¼Œè‹¥ä» <span class="math inline">\(F\)</span> çš„å‡½æ•°ä¾èµ–èƒ½å¤Ÿæ¨å¯¼å‡º <span class="math inline">\(X \rightarrow Y\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(F\)</span> é€»è¾‘è•´æ¶µ <span class="math inline">\(X\rightarrow Y\)</span>ï¼Œè®°ä½œ <span class="math inline">\(F \models X\rightarrow Y\)</span>ã€‚</p></li><li><p>é—­åŒ…ï¼š</p><p>â€‹ ä»¤ <span class="math inline">\(F\)</span> ä¸ºä¸€ä¸ªå‡½æ•°ä¾èµ–é›†ï¼Œ<span class="math inline">\(F\)</span> çš„<strong>é—­åŒ…</strong>æ˜¯è¢« <span class="math inline">\(F\)</span><strong>é€»è¾‘è•´æ¶µçš„æ‰€æœ‰å‡½æ•°ä¾èµ–</strong>çš„é›†åˆ, è®°ä½œ <span class="math inline">\(F^{+}\)</span>ã€‚è‹¥ <span class="math inline">\(F^+=F\)</span>ï¼Œåˆ™ <span class="math inline">\(F\)</span>æ˜¯ä¸€ä¸ª<strong>å…¨å‡½æ•°ä¾èµ–æ—ï¼ˆå‡½æ•°ä¾èµ–å®Œå¤‡é›†ï¼‰</strong>ã€‚</p><blockquote><p>åœ¨ä¸‹é¢çš„è§„åˆ™ä¸­å»å¯»æ‰¾é€»è¾‘è•´æ¶µçš„å‡½æ•°ä¾èµ–ï¼Œé€šè¿‡åå¤åº”ç”¨è¿™äº›è§„åˆ™ï¼Œå¯ä»¥æ‰¾åˆ°ç»™å®š<span class="math inline">\(F\)</span> çš„å…¨éƒ¨ <span class="math inline">\(F^{+}\)</span>ã€‚</p><p>ç”¨å¸Œè…Šå­—æ¯ <span class="math inline">\((\alpha, \beta, \gamma,\cdots)\)</span> è¡¨ç¤ºå±æ€§é›†ï¼Œç”¨ <span class="math inline">\(\alpha\beta\)</span> è¡¨ç¤º <span class="math inline">\(\alpha \cup\beta_{\circ}\)</span></p><p>è¿™ç»„è§„åˆ™ç§°ä¸º Armstrong å…¬ç†ï¼ˆæ®è¯´ä¸æ€ä¹ˆä¼šè€ƒï¼‰ï¼š</p><ul><li><p>è‡ªåå¾‹ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(\alpha\)</span> ä¸ºä¸€å±æ€§é›†ä¸” <span class="math inline">\(\beta \subseteq \alpha\)</span>ï¼Œåˆ™ <span class="math inline">\(\alpha \rightarrow \beta\)</span> æˆç«‹ã€‚</p></li><li><p>å¢è¡¥å¾‹ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(\alpha \rightarrow \beta\)</span>æˆç«‹ä¸” <span class="math inline">\(\gamma\)</span> ä¸ºä¸€å±æ€§é›†ï¼Œåˆ™ <span class="math inline">\(\gamma \alpha \rightarrow \gamma \beta\)</span> å’Œ<span class="math inline">\(\gamma \alpha \rightarrow \beta\)</span>æˆç«‹ã€‚</p></li><li><p>ä¼ é€’å¾‹ï¼š</p><p>â€‹ <span class="math inline">\(\alpha \rightarrow \beta\)</span> å’Œ<span class="math inline">\(\beta \rightarrow \gamma\)</span> æˆç«‹ï¼Œåˆ™<span class="math inline">\(\alpha \rightarrow \gamma\)</span>æˆç«‹ã€‚</p></li></ul><p>å…¬ç†å¯å¯¼å‡ºçš„æ¯”è¾ƒå¥½ç”¨çš„å¼•ç†ï¼š</p><ul><li><p><strong>åˆå¹¶å¾‹</strong>ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(\alpha \rightarrow \beta\)</span> å’Œ<span class="math inline">\(\alpha \rightarrow \gamma\)</span> æˆç«‹, åˆ™<span class="math inline">\(\alpha \rightarrow \beta \gamma\)</span>æˆç«‹ã€‚</p></li><li><p><strong>åˆ†è§£å¾‹</strong>ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(\alpha \rightarrow \beta\gamma\)</span> æˆç«‹, åˆ™ <span class="math inline">\(\alpha \rightarrow\beta\)</span> å’Œ <span class="math inline">\(\alpha \rightarrow\gamma\)</span> æˆç«‹ã€‚</p></li><li><p>ä¼ªä¼ é€’å¾‹ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(\alpha \rightarrow \beta\)</span> å’Œ<span class="math inline">\(\gamma \beta \rightarrow \delta\)</span>æˆç«‹, åˆ™ <span class="math inline">\(\alpha \gamma \rightarrow\delta\)</span> æˆç«‹ï¼ˆç”± <span class="math inline">\(\alpha \rightarrow\beta\)</span> å¾—åˆ° <span class="math inline">\(\gamma\alpha \rightarrow\gamma\beta\)</span>ï¼Œå†ç”±ä¼ é€’å¾‹å¾—åˆ°ç»“è®ºï¼‰ã€‚</p></li></ul></blockquote></li><li><p>å±æ€§é›†é—­åŒ… ğŸ—¡</p><p>â€‹ å¯¹ <span class="math inline">\(R(U, F), X \subseteq U, U=\{ A_1,A_2, \ldots, A_n\}\)</span>ï¼Œä»¤ $X^+_F={ A_i å…¬ç†å¯ä» F å¯¼å‡ºX A_i} $ï¼Œç§°$ X^+_F$ ä¸º <span class="math inline">\(X\)</span> äº <span class="math inline">\(F\)</span> çš„<strong>å±æ€§é›†é—­åŒ…</strong>ã€‚ æ˜¾ç„¶<span class="math inline">\(X \subseteq X^+_F\)</span>ã€‚</p><blockquote><p>å¼•ç†ï¼š</p><p>â€‹ $ X Y$, å½“ä¸”ä»…å½“ $ Y X^+_F$ã€‚</p></blockquote></li><li><p>æ±‚ <span class="math inline">\(X\)</span>çš„å±æ€§é›†é—­åŒ…çš„ç®—æ³•ğŸ—¡ï¼š</p><ol type="1"><li><p>ä»¤ <span class="math inline">\(X_0=X\)</span></p></li><li><p><span class="math inline">\(B=\{A\mid(\exists V)(\exists W)(V\toW)\in F \quad \mathbf{and}\quad V\subseteq X_i\quad \mathbf{and} \quadA\subseteq W\}\)</span>ï¼ˆå¯¹ <span class="math inline">\(F\)</span>ä¸­çš„ä»»æ„å…ƒç´  <span class="math inline">\(V\to W\)</span> æ£€æŸ¥ï¼Œå¦‚æœ<span class="math inline">\(V\)</span> å·²åœ¨ <span class="math inline">\(X_i\)</span> ä¸­ï¼Œåˆ™æŠŠ <span class="math inline">\(W\)</span> çš„å±æ€§åŠ å…¥åˆ° <span class="math inline">\(X_{i+1}\)</span> ä¸­ï¼‰</p></li><li><p><span class="math inline">\(X_{i+1}=B\cup X_i\)</span></p></li><li><p><span class="math inline">\(\mathbf{if~} X_{i+1}\ne X_i\mathbf{~then}\)</span>:</p><p>â€‹ <span class="math inline">\(i=i+1\)</span></p><p>â€‹ <span class="math inline">\(\bf goto~2\)</span>ï¼ˆå¦‚æœè¿™è½®æ£€æŸ¥ä»æœ‰æ–°çš„å…ƒç´ åŠ å…¥ï¼Œåˆ™ä¸‹ä¸€æ¬¡è¿­ä»£ä¹Ÿå¯èƒ½æœ‰æœªè¢«æ£€æŸ¥è¿‡çš„å…ƒç´ åŠ å…¥ï¼Œå¦åˆ™ç®—æ³•ç»“æŸï¼‰</p></li><li><p><span class="math inline">\(X^+_F=X_i\)</span></p></li></ol></li><li><p>è¦†ç›–ï¼š</p><p>â€‹ å¯¹ <span class="math inline">\(R(U)\)</span> ä¸Šçš„ä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†åˆ<span class="math inline">\(F,G\)</span>ï¼Œå¦‚æœ <span class="math inline">\(F^+= G^+\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(F\)</span> å’Œ <span class="math inline">\(G\)</span> æ˜¯<strong>ç­‰ä»·</strong>çš„ï¼Œä¹Ÿç§° <span class="math inline">\(F\)</span> <strong>è¦†ç›–</strong> <span class="math inline">\(G\)</span> æˆ–è€… <span class="math inline">\(G\)</span> è¦†ç›– <span class="math inline">\(F\)</span>ã€‚</p></li><li><p>æœ€å°è¦†ç›–ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(F\)</span> æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§° <span class="math inline">\(F\)</span>ä¸º<strong>æœ€å°è¦†ç›–ï¼ˆæœ€å°ä¾èµ–é›†ï¼Œæœ€å°ç­‰ä»·ä¾èµ–é›†ï¼‰</strong>ï¼š</p><ul><li><span class="math inline">\(F\)</span>ä¸­<strong>æ¯ä¸ªå‡½æ•°ä¾èµ–çš„å³éƒ¨æ˜¯å•ä¸ªå±æ€§</strong>ã€‚</li><li>å¯¹ä»»ä½• <span class="math inline">\(\{X\to A\}\in F\)</span>ï¼Œæœ‰<span class="math inline">\(F- \{ X\to A \}\)</span> ä¸ç­‰ä»·äº <span class="math inline">\(F\)</span>ã€‚</li><li>å¯¹ä»»ä½• <span class="math inline">\(\{X\to A\} \in F\)</span>ï¼Œ<span class="math inline">\(Z\subset X\)</span>ï¼Œ<span class="math inline">\((F- \{ X\to A \})\cup\{Z\to A\}\)</span> ä¸ç­‰ä»·äº<span class="math inline">\(F\)</span>ã€‚</li></ul></li><li><p>æ±‚æœ€å°è¦†ç›–çš„ç®—æ³•ï¼š</p><ol type="1"><li><p>é€šè¿‡åˆ†è§£å¾‹ã€Œè‹¥ <span class="math inline">\(\alpha \rightarrow\beta \gamma\)</span> æˆç«‹, åˆ™ <span class="math inline">\(\alpha\rightarrow \beta\)</span> å’Œ <span class="math inline">\(\alpha\rightarrow \gamma\)</span>æˆç«‹ã€ï¼Œå°†åŸå‡½æ•°ä¾èµ–é›†æŠ„ä¸€éï¼Œå³éƒ¨åˆ†è§£ä¸ºå•å±æ€§ã€‚</p></li><li><p>å¯¹ä»»æ„ <span class="math inline">\(X\to Y\)</span>ï¼Œæ±‚ <span class="math inline">\(X\)</span> å¯¹äº <span class="math inline">\(F\)</span> å‰©ä½™éƒ¨åˆ†çš„å±æ€§é—­åŒ…ï¼Œè‹¥ä¸åŒ…å« <span class="math inline">\(Y\)</span>ï¼Œåˆ™ <span class="math inline">\(X\toY\)</span> æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™åˆ é™¤ã€‚</p><blockquote><p>Tipsï¼š</p><p>â€‹å¯¹äº<strong>ä»…åœ¨å³éƒ¨ä¸­å‡ºç°ä¸€æ¬¡çš„å±æ€§</strong>çš„é‚£ä¸ªä¾èµ–ä¸€å®šä¸ä¼šåœ¨è¿™ä¸€æ­¥è¢«åˆ é™¤ï¼Œå› ä¸ºä¸å¯èƒ½æœ‰å…¶ä»–ä¾èµ–èƒ½æ¨å‡ºå®ƒäº†ã€‚</p></blockquote></li><li><p>å¯¹äºä»»æ„ <span class="math inline">\(XY\toZ\)</span>ï¼Œè€ƒè™‘èƒ½å¦æ›¿æ¢ä¸º <span class="math inline">\(X\toZ\)</span>ã€‚æ±‚ <span class="math inline">\(X\)</span>åœ¨æ›¿æ¢å‰ä¾èµ–é›†çš„å±æ€§é—­åŒ…ï¼Œå¦‚æœä¸åŒ…å« <span class="math inline">\(Z\)</span>ï¼Œåˆ™æ›¿æ¢æ˜¯ä¸å¯è¡Œçš„ã€‚å¦‚æœä¹Ÿä¸èƒ½æ›¿æ¢æˆ<span class="math inline">\(Y\to Z\)</span>ï¼Œåˆ™<span class="math inline">\(XY\to Z\)</span> æ˜¯å¿…éœ€çš„ã€‚</p><blockquote><p>è‹¥ <span class="math inline">\(X\)</span>åœ¨æ›¿æ¢å‰ä¾èµ–é›†çš„å±æ€§é—­åŒ…åŒ…å« <span class="math inline">\(Z\)</span>ï¼Œè¯´æ˜æœ¬æ¥å°±æœ‰ä¾èµ– <span class="math inline">\(X\to Z\)</span>ï¼Œåˆå› ä¸º <span class="math inline">\(XY\to X\)</span>ï¼Œæ‰€ä»¥åˆå¯ä»¥æ¨å‡º <span class="math inline">\(XY\to Z\)</span>ï¼Œå³ <span class="math inline">\(XY\to Z\)</span> æ˜¯å¤šä½™çš„ï¼Œå¯ä»¥ç”¨ <span class="math inline">\(X\to Z\)</span> æ›¿æ¢ã€‚</p></blockquote></li></ol></li></ul><h3 id="å…³ç³»æ¨¡å¼èŒƒå¼">å…³ç³»æ¨¡å¼èŒƒå¼ğŸ—¡</h3><ul><li><p>ç¬¬ä¸€èŒƒå¼ï¼š</p><p>â€‹ å¦‚æœå…³ç³»æ¨¡å¼ <span class="math inline">\(R\)</span>æ‰€æœ‰å±æ€§çš„åŸŸéƒ½æ˜¯åŸå­ï¼Œåˆ™ç§° <span class="math inline">\(R\)</span>å±äºç¬¬ä¸€èŒƒå¼ï¼ˆ<span class="math inline">\(1NF\)</span>ï¼‰, è®°ä½œ <span class="math inline">\(R \in 1NF\)</span>ã€‚</p><blockquote><p>$1NF $ è¦æ±‚å…³ç³»ä¸­ä¸èƒ½æœ‰å¤åˆå±æ€§ã€å¤šå€¼å±æ€§åŠå…¶ç»„åˆã€‚</p><p>å¤šå€¼å±æ€§è§£å†³æ–¹æ¡ˆï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/1.png"></div><ul><li>æ‹†æˆä¸¤ä¸ªè¡¨ï¼ŒåŸè¡¨å»æ‰å¤šå€¼åˆ—ï¼Œç„¶åæŠŠå¤šå€¼å±æ€§å’Œä¸»ç ä½œä¸ºä¸€ä¸ªæ–°çš„è¡¨ã€‚</li><li>æ‹†æˆå¤šè¡Œ</li><li>æ‹†æˆå¤šåˆ—</li></ul></blockquote></li><li><p>ç¬¬äºŒèŒƒå¼ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(R(U)\in 1NF\)</span> ä¸” <span class="math inline">\(U\)</span>ä¸­çš„æ¯ä¸€<strong>éä¸»å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–</strong>äº<strong>å€™é€‰é”®</strong>ï¼Œåˆ™ç§°<span class="math inline">\(R(U)\)</span> å±äºç¬¬äºŒèŒƒå¼ï¼Œè®°ä¸ºï¼š<span class="math inline">\(R(U)\in 2NF\)</span>ã€‚</p><blockquote><p>ç¬¬äºŒèŒƒå¼æ¶ˆé™¤éä¸»å±æ€§å¯¹å€™é€‰é”®çš„<strong>éƒ¨åˆ†ä¾èµ–</strong>ã€‚</p><p>å°†å€™é€‰é”®æ‹†æˆå¤šä¸ªè¡¨ï¼Œæ¯ä¸ªè¡¨çš„<strong>éä¸»å±æ€§</strong>å®Œå…¨å‡½æ•°ä¾èµ–äºå€™é€‰é”®ã€‚</p><p>ç¬¬äºŒèŒƒå¼åªæœ‰å†å²æ„ä¹‰ï¼Œå·²ç»ä¸åœ¨å®é™…ä¸­ä½¿ç”¨äº†ã€‚</p></blockquote></li><li><p>ç¬¬ä¸‰èŒƒå¼ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(R(U,F)\in 2NF\)</span>, åœ¨ <span class="math inline">\(R\)</span> ä¸­è‹¥ä¸å­˜åœ¨<strong>å€™é€‰é”®</strong> <span class="math inline">\(X\)</span>ï¼Œ<strong>å±æ€§é›†</strong> <span class="math inline">\(Y\)</span>ï¼ˆä¸å¯ä»¥æ˜¯å€™é€‰é”®ï¼‰ï¼Œå’Œ<strong>éä¸»å±æ€§</strong><span class="math inline">\(Z\)</span>ï¼Œä½¿å¾— <span class="math inline">\(X\to Y,Y \to Z\)</span> æˆç«‹ï¼Œå…¶ä¸­ <span class="math inline">\(Y\not\subset X,Z\not\subset Y,Z\not\subsetX,Y\not\to X\)</span>ï¼Œåˆ™ç§° <span class="math inline">\(R\)</span>å±äºç¬¬ä¸‰èŒƒå¼ï¼Œè®°ä¸ºï¼š<span class="math inline">\(R\in 3NF\)</span>ã€‚</p><blockquote><p>ç¬¬ <span class="math inline">\(3\)</span>èŒƒå¼æ¶ˆé™¤äº†<strong>éä¸»å±æ€§å¯¹ä¾¯é€‰é”®çš„ä¼ é€’ä¾èµ–</strong>ã€‚</p><p>å¦‚æ»¡è¶³ç¬¬ <span class="math inline">\(3\)</span> èŒƒå¼ï¼Œåˆ™ä¸€å®šèƒ½æ»¡è¶³ç¬¬<span class="math inline">\(2\)</span> èŒƒå¼ã€‚</p></blockquote></li><li><p>Boyce-Codd èŒƒå¼ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(R(U,F)\in 1NF\)</span>, è‹¥å¯¹äºä»»ä½•<span class="math inline">\(X\to Y\in F\)</span>ï¼ˆæˆ– <span class="math inline">\(X\to A\in F\)</span>ï¼‰ï¼Œå½“ <span class="math inline">\(Y\not\subset X\)</span>ï¼ˆæˆ– <span class="math inline">\(A\in X\)</span>ï¼‰æ—¶ï¼Œ<span class="math inline">\(X\)</span>å¿…å«æœ‰<strong>å€™é€‰é”®</strong>ï¼ˆå³è¶…ç ï¼‰ï¼Œåˆ™ç§° <span class="math inline">\(R(U)\)</span> å±äº Boyce-Codd èŒƒå¼ï¼Œè®°ä¸ºï¼š<span class="math inline">\(R(U)\in BCNF\)</span>ã€‚</p><blockquote><p>å¦‚æ»¡è¶³ Boyce-Codd èŒƒå¼ï¼Œåˆ™ä¸€å®šèƒ½æ»¡è¶³ç¬¬ <span class="math inline">\(3\)</span> èŒƒå¼ã€‚</p></blockquote></li><li><p>å¤šå€¼ä¾èµ–ï¼š</p><p>â€‹ å¯¹ <span class="math inline">\(R(U)\)</span>ï¼Œè®¾ <span class="math inline">\(X,Y\subset U\)</span>ï¼Œè‹¥å¯¹äº <span class="math inline">\(R(U)\)</span> çš„ä»»ä¸€å…³ç³» <span class="math inline">\(r\)</span>ï¼Œè‹¥å…ƒç»„ <span class="math inline">\(t\in r, s\in r,t[ X]= s[ X]\)</span>ï¼Œåˆ™å¿…æœ‰ $ ur, u r$ ä½¿å¾—ï¼š</p><ul><li><p><span class="math inline">\(u[X]=v[X]=t[X]=s[X]\)</span></p></li><li><p>$ u[ Y]= t[ Y]$ ä¸” <span class="math inline">\(u[ U- X- Y]= s[ U-X- Y]\)</span></p></li><li><p>$ u[ Y]= s[ Y]$ ä¸” <span class="math inline">\(v[U- X- Y]= t[ U-X- Y]\)</span></p><table><thead><tr class="header"><th style="text-align: center;"><span class="math inline">\(X\)</span></th><th style="text-align: center;"><span class="math inline">\(Y\)</span></th><th style="text-align: center;"><span class="math inline">\(U-X-Y\)</span></th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><span class="math inline">\(x\)</span></td><td style="text-align: center;"><span class="math inline">\(y_1\)</span></td><td style="text-align: center;"><span class="math inline">\(z_1\)</span></td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(x\)</span></td><td style="text-align: center;"><span class="math inline">\(y_2\)</span></td><td style="text-align: center;"><span class="math inline">\(z_2\)</span></td></tr><tr class="odd"><td style="text-align: center;"><span class="math inline">\(x\)</span></td><td style="text-align: center;"><span class="math inline">\(y_2\)</span></td><td style="text-align: center;"><span class="math inline">\(z_1\)</span></td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(x\)</span></td><td style="text-align: center;"><span class="math inline">\(y_1\)</span></td><td style="text-align: center;"><span class="math inline">\(z_2\)</span></td></tr></tbody></table></li></ul><p>å‡æˆç«‹ï¼Œåˆ™ç§° <span class="math inline">\(Y\)</span><strong>å¤šå€¼ä¾èµ–äº</strong> <span class="math inline">\(X\)</span>ï¼Œæˆ–è¯´<span class="math inline">\(X\)</span> <strong>å¤šå€¼å†³å®š</strong> $Y$ï¼Œè®°ä½œ $ X Y$ï¼ŒåŒæ—¶ <span class="math inline">\(X \to\toU-X-Y\)</span>ã€‚</p><blockquote><p>è‹¥ <span class="math inline">\(U=X\cup Y\)</span>ï¼Œåˆ™ä¸€å®šæœ‰ <span class="math inline">\(X\to\to Y\)</span>ã€‚</p><p>ç›´è§‚åœ°ï¼Œè‹¥ $ X Y$ï¼Œå¯¹äº <span class="math inline">\(X\)</span>ç»™å®šå€¼ï¼Œ<span class="math inline">\(Y\)</span> æœ‰ä¸€ç»„å€¼ä¸ä¹‹å¯¹åº”ï¼ˆ<span class="math inline">\(0\)</span> æˆ– <span class="math inline">\(n\)</span> ä¸ªï¼‰ä¸”è¿™ç»„ <span class="math inline">\(Y\)</span> å€¼ä¸ä»¥ä»»ä½•æ–¹å¼ä¸ <span class="math inline">\(U-X-Y\)</span> ä¸­å±æ€§å€¼ç›¸è”ç³»ã€‚</p></blockquote></li><li><p>ç¬¬å››èŒƒå¼ï¼ˆåŸºäºå¤šå€¼ä¾èµ–çš„ BCNF èŒƒå¼ï¼Œä¸è€ƒï¼‰ï¼š</p><p>â€‹ å‡½æ•°ä¾èµ–å’Œå¤šå€¼ä¾èµ–é›†ä¸º <span class="math inline">\(F\)</span>çš„å…³ç³»æ¨¡å¼ <span class="math inline">\(R(U)\)</span> å±äºç¬¬å››èŒƒå¼ <span class="math inline">\((4 {NF})\)</span> çš„æ¡ä»¶æ˜¯ï¼Œå¯¹ <span class="math inline">\(F^{+}\)</span>ä¸­æ‰€æœ‰å½¢å¦‚ <span class="math inline">\(\alpha \rightarrow \beta\)</span> çš„å¤šå€¼ä¾èµ–ï¼ˆå…¶ä¸­<span class="math inline">\(\alpha \subseteq U\)</span> ä¸” <span class="math inline">\(\beta \subseteqU\)</span>ï¼‰ï¼Œè‡³å°‘æœ‰ä»¥ä¸‹ä¹‹ä¸€æˆç«‹ï¼š</p><ul><li><span class="math inline">\(\alpha \rightarrow \beta\)</span>æ˜¯ä¸€ä¸ªå¹³å‡¡çš„å¤šå€¼ä¾èµ–ã€‚</li><li><span class="math inline">\(\alpha\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„ä¸€ä¸ªè¶…ç ã€‚</li></ul></li></ul><h3 id="æ¨¡å¼åˆ†è§£">æ¨¡å¼åˆ†è§£</h3><ul><li><p>æ¨¡å¼åˆ†è§£å®šä¹‰ï¼š</p><p>â€‹ å…³ç³»æ¨¡å¼ <span class="math inline">\(R(U)\)</span> çš„åˆ†è§£æ˜¯æŒ‡ç”¨<span class="math inline">\(R\)</span> çš„ä¸€ç»„å­é›† <span class="math inline">\(\rho=\{R_1, \ldots, R_k\}\)</span> æ¥ä»£æ›¿å®ƒã€‚å…¶ä¸­$ U= U_1 U_2 U_k,U_i U_j( i j)$ã€‚å¯¹äºå…³ç³»æ¨¡å¼ <span class="math inline">\(R\)</span> çš„ä»»ä¸€å…³ç³» <span class="math inline">\(r\)</span>ï¼Œå®ƒå‘ <span class="math inline">\(\rho\)</span> çš„æŠ•å½±è¿æ¥è®°ä¸º $ m_(R)$ : <span class="math display">\[m_\rho(R)=\pi_{R_1} (R) \bowtie \ldots \bowtie \pi_{R_k}(R)=\bowtie_{(i=1, \ldots,  k)} \pi_{R_i}(R)\]</span> è¿™é‡Œ : <span class="math inline">\(\pi_{R_i}(R)=\{ t[R_i] \midt \in r, i=1, \ldots, k\}\)</span>ã€‚</p><blockquote><p>è‹¥å¯¹å…³ç³»æ¨¡å¼ <span class="math inline">\(R\)</span> çš„ä»»ä¸€å…³ç³» <span class="math inline">\(r\)</span> éƒ½æœ‰ <span class="math inline">\(r =m_\rho(R)\)</span> æˆç«‹ï¼Œåˆ™ç§° <span class="math inline">\(\rho\)</span>æ˜¯ <span class="math inline">\(R\)</span> ç›¸å¯¹äº <span class="math inline">\(F\)</span>çš„ä¸€ä¸ª<strong>æ— æŸè¿æ¥åˆ†è§£</strong>ã€‚</p></blockquote></li><li><p>æ— æŸè¿æ¥åˆ†è§£æ£€éªŒç®—æ³•ï¼š</p><ul><li><p>æ„é€ ä¸€ <span class="math inline">\(k\)</span> è¡Œ <span class="math inline">\(n\)</span> åˆ—çš„è¡¨ï¼ˆ<span class="math inline">\(k\)</span> æ˜¯åˆ†è§£çš„é›†åˆæ•°ï¼Œ<span class="math inline">\(n\)</span> æ˜¯ <span class="math inline">\(R(U)\)</span> å±æ€§æ•°ï¼‰ï¼Œå¯ç§°ä¸º <span class="math inline">\(R_\rho\)</span> è¡¨ã€‚</p></li><li><p>å…¶ä¸­ç¬¬ <span class="math inline">\(j\)</span> åˆ—å¯¹åº”äº $ A_j$ï¼Œç¬¬<span class="math inline">\(i\)</span> è¡Œå¯¹åº”äº $ R_i$ã€‚</p></li><li><p>è‹¥ $ A_jR_i$ï¼Œåˆ™ <span class="math inline">\(R_\rho\)</span>è¡¨ä¸­ç¬¬ <span class="math inline">\(i\)</span> è¡Œç¬¬ <span class="math inline">\(j\)</span> åˆ—ä½ç½®å¡«å†™ç¬¦å· $ a_j$ï¼Œå¦åˆ™å¡«å†™ $b_{ij}$ã€‚</p></li><li><p>æ ¹æ® <span class="math inline">\(\forall(X \rightarrow Y) \inF\)</span>ï¼Œå¯¹ <span class="math inline">\(R_\rho\)</span>è¡¨è¿›è¡Œä¿®æ”¹ï¼š</p><p>ç»™å®š $ X Y$ï¼Œå¯»æ‰¾ <strong>ä¸ <span class="math inline">\(X\)</span>å±æ€§å–å€¼ç›¸åŒ</strong>çš„è¡Œï¼Œç”¨å…¶å€¼é‡ç½® <span class="math inline">\(Y\)</span> å±æ€§å€¼ã€‚</p></li><li><p>ä¿®æ”¹åï¼Œå¦‚æœæœ‰ä¸€è¡Œå˜æˆ $ a_1, a_2, , a_n$ï¼Œåˆ™ <span class="math inline">\(\rho\)</span>æ˜¯æ— æŸè¿æ¥åˆ†è§£ï¼Œå¦åˆ™ä¸ºæœ‰æŸè¿æ¥åˆ†è§£ã€‚</p></li></ul><blockquote><p>ç¬”è€…è®¤ä¸ºè¿™ä¸ªç®—æ³•åº”è¯¥å¾ªç¯ï¼Œç›´åˆ°ä¸èƒ½å†ä¿®æ”¹ä¸ºæ­¢ï¼Œä½†æ˜¯è€å¸ˆè¯´åŸè®ºæ–‡ä¹Ÿæ²¡æœ‰æåˆ°åšå¤šå‡ æ¬¡çš„äº‹æƒ…ï¼Œåªéœ€è¦åšä¸€éå°±è¡Œï¼Œé‚èººå¹³åšä¸€éå°±å¥½ã€‚</p></blockquote><blockquote><p>å¯¹äºåˆ†è§£æˆä¸¤ä¸ªå­é›†çš„æƒ…å†µï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­çš„æ–¹æ³•ï¼š</p><ul><li><p>è®¾ <span class="math inline">\(F\)</span> æ˜¯å…³ç³»æ¨¡å¼ <span class="math inline">\(R\)</span> ä¸Šçš„ä¸€ä¸ªå‡½æ•°ä¾èµ–é›†åˆï¼Œ<span class="math inline">\(\rho=\{ R_1, R_2\}\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„ä¸€ä¸ªåˆ†è§£ã€‚</p></li><li><p>åˆ™å½“ä¸”ä»…å½“ <span class="math inline">\(R_1 \cap R_2 \rightarrowR_1- R_2\)</span> æˆ–è€… $ R_1 R_2 R_2- R_1$ å±äº <span class="math inline">\(F^+\)</span> æ—¶ï¼Œ<span class="math inline">\(\rho\)</span> æ˜¯å…³äº<span class="math inline">\(F\)</span> æ— æŸè¿æ¥çš„ã€‚</p></li><li><p>å› ä¸º <span class="math inline">\(R_1=(R_1\cap R_2)\cup(R_1-R_2),R_2=(R_1\cap R_2) \cup(R_2-R_1)\)</span>ï¼Œæ‰€ä»¥æœ‰</p><table><thead><tr class="header"><th style="text-align: center;"></th><th style="text-align: center;"><span class="math inline">\(R_1\capR_2\)</span></th><th style="text-align: center;"><span class="math inline">\(R_1-R_2\)</span></th><th style="text-align: center;"><span class="math inline">\(R_2-R_1\)</span></th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><span class="math inline">\(R_1\)</span></td><td style="text-align: center;"><span class="math inline">\(a_1\)</span></td><td style="text-align: center;"><span class="math inline">\(a_2\)</span></td><td style="text-align: center;"><span class="math inline">\(b_{13}\)</span></td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(R_2\)</span></td><td style="text-align: center;"><span class="math inline">\(a_1\)</span></td><td style="text-align: center;"><span class="math inline">\(b_{22}\)</span></td><td style="text-align: center;"><span class="math inline">\(a_3\)</span></td></tr></tbody></table></li><li><p>æ­¤æ—¶åªè¦ $ R_1 R_2 R_1- R_2$ æˆ–è€… $ R_1 R_2 R_2- R_1$ å±äº <span class="math inline">\(F^+\)</span> çš„ä¸€ä¸ªæˆç«‹ï¼Œå°±èƒ½å®ç°æœ‰ä¸€è¡Œå˜æˆ $ a_1,a_2,a_3$ã€‚</p></li></ul></blockquote></li><li><p>ä¿æŒä¾èµ–åˆ†è§£çš„åˆ†è§£ğŸ—¡ï¼š</p><ul><li>å¯¹äºå…³ç³»æ¨¡å¼ <span class="math inline">\(R( U, F)\)</span>ï¼Œ<span class="math inline">\(U\)</span> æ˜¯å±æ€§å…¨é›†ï¼Œ<span class="math inline">\(F\)</span> æ˜¯å‡½æ•°ä¾èµ–é›†åˆï¼Œ<span class="math inline">\(\rho=\{ R_1, \ldots, R_k\}\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„ä¸€ä¸ªåˆ†è§£ã€‚</li><li>å¦‚åœ¨ <span class="math inline">\(\pi_{R_i}( F)\)</span>ä¸­çš„æ‰€æœ‰ä¾èµ–ä¹‹å¹¶é›† <span class="math inline">\(( i=1, \ldots,k)\)</span>ï¼Œ<strong>é€»è¾‘è•´æ¶µ <span class="math inline">\(F\)</span>çš„æ¯ä¸ªä¾èµ–</strong>ï¼Œåˆ™ç§°åˆ†è§£ <span class="math inline">\(\rho\)</span>ä¿æŒä¾èµ–é›† <span class="math inline">\(F\)</span>ã€‚</li><li>å…¶ä¸­ <span class="math inline">\(\pi_{R_i}( F)\)</span> æ˜¯ <span class="math inline">\(F\)</span> åœ¨ $ R_i$ ä¸Šçš„æŠ•å½±ï¼Œå³ <span class="math inline">\(F\)</span> ä¸­çš„ä»»ä¸€æŠ•å½± $ X Y$ï¼Œå¦‚æœ <span class="math inline">\(X,Y\in R_i\)</span>ï¼Œåˆ™ $ X Y _{R_i}( F)$ã€‚</li></ul></li><li><p>ä¿æŒä¾èµ–åˆ†è§£æ£€æµ‹ç®—æ³•ï¼š</p><blockquote><p>å¯¹ <span class="math inline">\(F\)</span> ä¸­çš„æ¯ä¸€ä¸ª <span class="math inline">\(\alpha \rightarrow \beta\)</span>ï¼Œ<br> <span class="math inline">\(\quad \quad result \leftarrow \alpha\)</span><br><span class="math inline">\(\bf while\)</span><br> <span class="math inline">\(\quad \quad\bf foreach\)</span> åˆ†è§£ååŒ…å«æœ‰ <span class="math inline">\(\alpha\)</span> çš„ <span class="math inline">\(R_i:\)</span><br> <span class="math inline">\(\quad \quad \quad \quad t\leftarrow ( result \capR_i)^{+} \cap R_i\)</span><br> <span class="math inline">\(\quad \quad\quad \quad result\leftarrow result \cup t\)</span><br> <span class="math inline">\(\mathbf{until}\)</span> <span class="math inline">\((result\)</span> æ²¡æœ‰å˜åŒ– <span class="math inline">\()\)</span></p><p>å¦‚æœ <span class="math inline">\(result\)</span> å« <span class="math inline">\(\beta\)</span> ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œåˆ™å‡½æ•°ä¾èµ– <span class="math inline">\(\alpha\to \beta\)</span> ä¿æŒã€‚</p></blockquote></li><li><p>BCNF åˆ†è§£ + æ— æŸè¿æ¥åˆ†è§£ï¼š</p><blockquote><p>BCNFèŒƒå¼è¦æ±‚æ¯ä¸ªå‡½æ•°ä¾èµ–çš„å·¦ä¾§éƒ½è¦æ˜¯å…³ç³»æ¨¡å¼çš„<strong>è¶…ç </strong>ï¼ˆå«æœ‰å€™é€‰é”®ï¼‰ã€‚</p></blockquote><ul><li><p>ä»… BCNF åˆ†è§£ï¼š</p><p>â€‹å°†å·¦ä¾§<strong>ä¸å«å€™é€‰é”®</strong>çš„å‡½æ•°ä¾èµ–<strong>å•ç‹¬ç»„æˆä¸€ä¸ªå…³ç³»</strong>ï¼Œå°†åŒ…å«å€™é€‰é”®çš„ç»„æˆä¸€å…³ç³»ã€‚</p></li><li><p>æ— æŸè¿æ¥åˆ†è§£æˆ BCNFï¼š</p><blockquote><p>è®¡ç®— <span class="math inline">\(F^{+}\)</span><br> <span class="math inline">\(\mathbf{while} \quad result \not\in BCNF \quad\mathbf{do}\)</span>:<br> <span class="math inline">\(\quad\quad\mathbf{if}\quad result\)</span> ä¸­å­˜åœ¨æ¨¡å¼ <span class="math inline">\(R_i\)</span> ä¸å±äº <span class="math inline">\(BCNF\quad \mathbf{then}\)</span>ï¼š <br> <span class="math inline">\(\quad \quad \quad \quad\)</span> å¯¹äº <span class="math inline">\(R_i\)</span> ä¸Šæ‰€æœ‰éå¹³å‡¡å‡½æ•°ä¾èµ– <span class="math inline">\(\alpha \rightarrow \beta\)</span> ï¼ˆæ»¡è¶³ <span class="math inline">\(\alpha \rightarrow R_i\)</span> ä¸å±äº <span class="math inline">\(F^{+}\)</span>ï¼Œå³ <span class="math inline">\(\alpha\)</span> ä¸æ˜¯ <span class="math inline">\(R_i\)</span> çš„è¶…ç ï¼‰<br> <span class="math inline">\(\quad \quad \quad \quad \quad \quadresult=(result-R_i) \cup(R_i-\beta ) \cup (\alpha, \beta)\)</span></p><p>// å³ç”¨ä¸¤ä¸ªæ¨¡å¼ <span class="math inline">\((R_i-\beta) \cup(\alpha,\beta)\)</span> å–ä»£åŸæ¥çš„ <span class="math inline">\(R_i\)</span>ï¼Œç”±ä¹‹å‰çš„å¿«é€Ÿåˆ¤æ–­çš„æ–¹æ³•å¯çŸ¥åˆ†è§£æ— æŸ</p></blockquote></li></ul></li><li><p><span class="math inline">\(3NF\)</span> åˆ†è§£ + ä¿æŒä¾èµ–åˆ†è§£ï¼ˆ+æ— æŸè¿æ¥åˆ†è§£ï¼‰ï¼š</p><ul><li><p>ä»… <span class="math inline">\(3NF\)</span> åˆ†è§£ï¼š</p><p>â€‹ å°†æ¯ä¸€ä¸ªå‡½æ•°ä¾èµ–å•ç‹¬ç»„æˆä¸€ä¸ªå…³ç³»ã€‚</p></li><li><p>ä¿æŒä¾èµ–åˆ†è§£æˆ <span class="math inline">\(3NF\)</span>ï¼š</p><ul><li><p>å…³ç³»æ¨¡å¼ <span class="math inline">\(R(U, F)\)</span>ï¼Œ<span class="math inline">\(F\)</span>æ˜¯å‡½æ•°ä¾èµ–é›†<strong>æœ€å°è¦†ç›–</strong>ï¼Œæ±‚ä¿æŒä¾èµ–çš„ <span class="math inline">\(3NF\)</span> åˆ†è§£ <span class="math inline">\(\rho\)</span>ã€‚</p></li><li><p>è‹¥æœ‰ $ X A_1, X A_2, , X A_{ m}F$ï¼Œåˆ™ä»¥ <span class="math inline">\(XA_1 A_2 \ldots A_m\)</span> ç»„æˆä¸€æ¨¡å¼ <span class="math inline">\(R_i\)</span>ï¼Œ<span class="math inline">\(\rho=\rho\cup R_i\)</span></p><blockquote><p>è¿™æ ·ä¿è¯ <span class="math inline">\(R_i\)</span> æ˜¯ <span class="math inline">\(3NF\)</span> åˆ†è§£ï¼š</p><p>â€‹ å› ä¸º <span class="math inline">\(F\)</span> æ˜¯æœ€å°è¦†ç›–ï¼Œè¦æ±‚å¯¹ä»»ä½•<span class="math inline">\(\{X\to A\}\in F\)</span>ï¼Œæœ‰ <span class="math inline">\(F- \{ X\to A \}\)</span> ä¸ç­‰ä»·äº <span class="math inline">\(F\)</span>ã€‚</p><p>æ‰€ä»¥ä¸€å®šä¸ä¼šå­˜åœ¨ <span class="math inline">\(A_i\to A_j\inF(i\not=j)\)</span> çš„æƒ…å†µï¼Œå¦åˆ™ <span class="math inline">\(F-\{X\toA_j\}\)</span> ä»ç­‰ä»·äº <span class="math inline">\(F\)</span>ã€‚</p></blockquote></li><li><p>ä¸Šä¸€æ­¥å¤„ç†å®Œåï¼ŒæŠŠ <span class="math inline">\(R\)</span>ä¸­<strong>ä¸å‡ºç°åœ¨ <span class="math inline">\(F\)</span>ä¸­çš„å±æ€§</strong>å»æ‰å¹¶å•ç‹¬ç»„æˆä¸€æ¨¡å¼ <span class="math inline">\(R_{no}\)</span>ï¼Œä»¤ <span class="math inline">\(\rho=\rho\cup R_{no}\)</span>ã€‚</p><blockquote><p>è‹¥è¦è¾¾åˆ°æ— æŸè¿æ¥åˆ†è§£ï¼š</p><ul><li><p>å¦‚æœ <span class="math inline">\(R_{no}\)</span> å­˜åœ¨ï¼Œå°†åœ¨ <span class="math inline">\(R_{no}\)</span>åŠ å…¥å€™é€‰é”®å±æ€§ï¼Œåˆ™èƒ½ä½¿è¯¥åˆ†è§£è¾¾åˆ°æ— æŸã€‚</p></li><li><p>å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ¤æ–­æ‰€å¾— <span class="math inline">\(\rho\)</span>é›†åˆä¸­çš„æ˜¯å¦å­˜åœ¨ä¸€ä¸ª <span class="math inline">\(R_i\)</span>åŒ…å«äº†å€™é€‰é”®å±æ€§é›†ï¼š</p><ul><li><p>å­˜åœ¨ï¼Œç®—æ³•ç»“æŸã€‚</p></li><li><p>ä¸å­˜åœ¨ï¼Œ<span class="math inline">\(\rho=\rho~\cup\)</span>å€™é€‰é”®å±æ€§é›†ã€‚</p></li></ul></li></ul></blockquote></li></ul></li></ul></li></ul><h2 id="æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢">æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢</h2><h3 id="å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„">å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„</h3><ul><li><p>å­˜å‚¨ä½“ç³»ï¼š</p><ul><li>å°†ä¸åŒæ€§ä»·æ¯”çš„å­˜å‚¨å™¨ç»„ç»‡åœ¨ä¸€èµ·ï¼Œæ»¡è¶³é«˜é€Ÿåº¦ã€å¤§å®¹é‡ã€ä½ä»·æ ¼éœ€æ±‚ã€‚</li><li>CPU ä¸å†…å­˜ç›´æ¥äº¤æ¢ä¿¡æ¯ï¼ŒæŒ‰å­˜å‚¨å•å…ƒï¼ˆå­˜å‚¨å­—ï¼‰è¿›è¡Œè®¿é—®ã€‚</li><li>å¤–å­˜æŒ‰<strong>å­˜å‚¨å—</strong>è¿›è¡Œè®¿é—®ï¼Œå…¶ä¿¡æ¯éœ€å…ˆè£…å…¥<strong>å†…å­˜</strong>ï¼Œæ‰èƒ½è¢«CPU å¤„ç†ã€‚</li></ul></li><li><p>æ“ä½œç³»ç»Ÿå¯¹æ•°æ®çš„ç»„ç»‡ï¼š</p><ul><li><p>FATï¼ˆæ–‡ä»¶åˆ†é…è¡¨ - File Allocation Tableï¼‰- ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰-ç£ç›˜å—/ç°‡</p><p><img src="/img/blog/ds-note-images/image-20211012225110095.png" style="zoom:67%;"></p></li><li><p>å¯¹äºä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨ FAT æ‰¾åˆ°å®ƒåœ¨ç£ç›˜ä¸­çš„ä½ç½®ã€‚</p></li></ul></li><li><p>å†…å­˜ç®¡ç†ï¼š</p><p>â€‹ ä¸€æ¡è®°å½•çš„åœ°å€ = å­˜å‚¨å•å…ƒçš„åœ°å€ = å†…å­˜åœ°å€ = é¡µé¢ï¼šé¡µå†…åç§»é‡</p></li><li><p>ç£ç›˜ç»“æ„ï¼š</p><p><img src="/img/blog/ds-note-images/image-20211012161544352.png" style="zoom: 67%;"></p><ul><li><strong>ç›˜ç‰‡</strong>çš„è¡¨é¢ä»é€»è¾‘ä¸Šåˆ’åˆ†ä¸º<strong>ç£é“</strong>ï¼ˆåŒå¿ƒåœ†ï¼‰ï¼Œç£é“åˆåˆ’åˆ†ä¸º<strong>æ‰‡åŒº</strong>ã€‚</li><li>æ‰‡åŒºæ˜¯ä»ç£ç›˜è¯»å‡ºå’Œå†™å…¥ä¿¡æ¯çš„<strong>æœ€å°å•ä½</strong>ï¼Œç³»ç»Ÿæ•°æ®ä¼ è¾“çš„åŸºæœ¬å•ä½æ˜¯ç£ç›˜å—ï¼ˆå‡ ä¸ªè¿ç»­çš„æ‰‡åŒºï¼‰ã€‚</li><li>ä¸€ä¸ªç£ç›˜çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå‡è®¾ï¼‰ï¼š<ul><li><span class="math inline">\(8\)</span> ä¸ªåœ†ç›˜ï¼Œ<span class="math inline">\(16\)</span> ä¸ªç›˜é¢</li><li>æ¯ä¸ªç›˜é¢æœ‰ <span class="math inline">\(2^{16}\)</span> æˆ– <span class="math inline">\(65536\)</span> ä¸ªç£é“</li><li>æ¯ä¸ªç£é“ï¼ˆå¹³å‡ï¼‰æœ‰ <span class="math inline">\(2^8=256\)</span>ä¸ªæ‰‡åŒº</li><li>æ¯ä¸ªæ‰‡åŒºæœ‰ <span class="math inline">\(2^{12}=4096\)</span>ä¸ªå­—èŠ‚</li><li>ç£ç›˜çš„å®¹é‡ä¸º <span class="math inline">\(2^4\times 2^{16} \times 2^8\times 2^{ 12} = 2^{ 40}\)</span> å­—èŠ‚</li></ul></li></ul></li><li><p>ç£ç›˜æ•°æ®è¯»å†™æ—¶é—´ğŸ—¡ï¼š</p><ul><li><p>åŒ…æ‹¬å¯»é“æ—¶é—´ï¼ˆçº¦åœ¨ <span class="math inline">\(1-20ms\)</span>ï¼‰ï¼Œæ—‹è½¬æ—¶é—´ï¼ˆçº¦ <span class="math inline">\(0-10ms\)</span>ï¼‰å’Œä¼ è¾“æ—¶é—´ã€‚</p></li><li><p>ç£ç›˜ä»¥ <span class="math inline">\(7200\)</span> è½¬/<span class="math inline">\(min\)</span> æ—‹è½¬ï¼Œå³ <span class="math inline">\(8.33ms\)</span> å†…æ—‹è½¬ä¸€å‘¨</p></li><li><p>æŸ±é¢ä¹‹é—´ç§»åŠ¨ç£å¤´ç»„åˆä»å¯åŠ¨åˆ°åœæ­¢èŠ±è´¹ <span class="math inline">\(1 ms\)</span>ã€‚</p></li><li><p>æ¯ç§»åŠ¨ <span class="math inline">\(4000\)</span> ä¸ªæŸ±é¢å¦åŠ  <span class="math inline">\(1ms\)</span>ï¼Œå³ç£å¤´åœ¨ <span class="math inline">\(0.00025 ms\)</span>å†…ç§»åŠ¨ä¸€ä¸ªç£é“ï¼Œä»æœ€å†…åœˆç§»åŠ¨åˆ°æœ€å¤–åœˆï¼Œç§»åŠ¨ <span class="math inline">\(65536\)</span> ä¸ªç£é“å¤§çº¦ç”¨ <span class="math inline">\(0.00025\times 65536 +1=17.38ms\)</span>ã€‚</p></li><li><p>ä¸€ä¸ªç£é“ä¸­æ‰‡åŒºé—´çš„ç©ºéš™å¤§çº¦å  <span class="math inline">\(10\%\)</span> çš„ç©ºé—´</p></li><li><p>ä¸€ä¸ªç£ç›˜å— <span class="math inline">\(=4\)</span> ä¸ªæ‰‡åŒº <span class="math inline">\(=16384\)</span> ä¸ªå­—èŠ‚</p></li><li><p>æœ€çŸ­æ—¶é—´ <span class="math inline">\(=\)</span> ä¼ è¾“æ—¶é—´å¤§çº¦æ˜¯<span class="math inline">\(0.13ms\)</span></p></li><li><p>æœ€é•¿æ—¶é—´ <span class="math inline">\(=\)</span>å¯»é“æ—¶é—´+æ—‹è½¬æ—¶é—´+ä¼ è¾“æ—¶é—´ <span class="math inline">\(=17.38+8.33+0.13=25.84 m s\)</span></p></li><li><p>å¹³å‡æ—¶é—´ <span class="math inline">\(=6.46(16.38/3+1)+4.17(8.33/2)+0.13=10.76ms\)</span> ï¼ˆæ‹¬å·è¡¨ç¤ºè¿™ä¸ªæ•°æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼‰</p><blockquote><p>æ¦‚ç‡è®ºå¿˜æ‰äº†ï¼Œè¿™é‡Œå¯èƒ½æœ‰ç®—é”™çš„åœ°æ–¹ï¼ˆè¿™æ˜¯ä¸ä¼šè€ƒçš„ï¼Œä¸é‡è¦ï¼‰<span class="">ğŸ¤</span></p><p>å¹³å‡å¯»é“æ—¶é—´è¦é™¤ä»¥ <span class="math inline">\(3\)</span>æ˜¯æ±‚äº†ä¸€ä¸ªç›˜ç‰‡å†…å¾„å‘ä»»æ„ä¸¤ç‚¹ä¹‹é—´ç§»åŠ¨æ—¶é—´çš„æœŸæœ›ï¼ˆå‰æå‡å®šä¸ºå¹³å‡åˆ†å¸ƒï¼‰ã€‚</p><p>è®¾ç›˜ç‰‡åŠå¾„ä¸º <span class="math inline">\(r\)</span>ã€‚ä»¤ <span class="math inline">\(f(y)=|x-y|\)</span>ï¼Œå³è¡¨ç¤ºå¾„å‘ä» <span class="math inline">\(y\)</span> ç‚¹åˆ° <span class="math inline">\(x\)</span> ç‚¹ä¹‹é—´è·ç¦»ã€‚</p><p>å½“ <span class="math inline">\(x\)</span> ä¸º <span class="math inline">\([0,r]\)</span> ä¸Šçš„å›ºå®šå€¼æ—¶ï¼Œæ±‚å‡º <span class="math inline">\([0,r]\)</span> ä¸Šæ‰€æœ‰ç‚¹åˆ° <span class="math inline">\(x\)</span> çš„æœŸæœ›è·ç¦»ï¼š <span class="math display">\[\mathbb{E}f(y)=\int^r_0 |x-y|\frac{1}{r}dy=\frac{x^2}{r}-x+\frac{r}{2}\]</span> å¯¹äºæ‰€æœ‰ <span class="math inline">\(x\in[0,r]\)</span>ï¼Œè®¡ç®—æœŸæœ›è·ç¦»çš„æœŸæœ›ï¼š <span class="math display">\[\mathbb{E}\mathbb{E}f(y)=\int^r_0\frac{1}{r}(\frac{x^2}{r}-x+\frac{r}{2})dx=\frac{r}{3}\]</span> å³ç£å¤´å¹³å‡ä¼šç§»åŠ¨ <span class="math inline">\(\begin{aligned}\frac{r}{3}\end{aligned}\)</span>ã€‚</p></blockquote></li><li><p>ç‰©ç†å­˜å–ç®—æ³•è€ƒè™‘çš„å…³é”®ï¼š</p><ul><li>é™ä½ I/O æ¬¡æ•°ã€‚</li><li>é™ä½æ’é˜Ÿç­‰å¾…æ—¶é—´ã€‚</li><li>é™ä½<strong>å¯»é“/æ—‹è½¬</strong>å»¶è¿Ÿæ—¶é—´ï¼š<ul><li>åŒä¸€<strong>ç£é“</strong>è¿ç»­å—å­˜å‚¨</li><li><strong>åŒä¸€æŸ±é¢</strong>ä¸åŒç£é“<strong>å¹¶è¡Œ</strong>å—å­˜å‚¨</li><li>å¤šä¸ª<strong>ç£ç›˜</strong>å¹¶è¡Œå—å­˜å‚¨</li></ul></li></ul></li></ul></li><li><p>ç‹¬ç«‹ç£ç›˜å†—ä½™é˜µåˆ—ï¼ˆRedundant Array of Independent Diskï¼ŒRAIDæŠ€æœ¯ï¼‰ï¼ˆç†è§£ï¼‰ï¼š</p><ul><li><p>å—çº§æ‹†åˆ†ï¼š</p><p>â€‹ä¸€ä¸ªæ–‡ä»¶ç”±å¤šä¸ªå—ç»„æˆï¼Œä¸åŒ<strong>å—</strong>å­˜å‚¨äºä¸åŒç£ç›˜ã€‚</p></li><li><p>æ¯”ç‰¹çº§æ‹†åˆ†ï¼š</p><p>â€‹ ä¸€ä¸ªå­—èŠ‚è¢«æ‹†åˆ†æˆ <span class="math inline">\(8\)</span> ä¸ªæ¯”ç‰¹ä½,ä¸åŒ<strong>æ¯”ç‰¹ä½</strong>å­˜å‚¨äºä¸åŒç£ç›˜ã€‚</p></li><li><p>RAID <span class="math inline">\(0\)</span> çº§ï¼š</p><p>â€‹å—çº§æ‹†åˆ†ä½†<strong>æ²¡æœ‰ä»»ä½•å†—ä½™</strong>ï¼ˆä¾‹å¦‚é•œåƒæˆ–å¥‡å¶æ ¡éªŒä½ï¼‰çš„ç£ç›˜é˜µåˆ—ã€‚</p></li><li><p>RAID <span class="math inline">\(1\)</span> çº§ï¼š</p><p>â€‹ä½¿ç”¨å—çº§æ‹†åˆ†çš„ç£ç›˜<strong>é•œåƒ</strong>ï¼Œæ¯ä¸€ä¸ªç£ç›˜æœ‰ä¸€ä¸ªé•œåƒç£ç›˜ã€‚</p></li><li><p>RAID <span class="math inline">\(2\)</span> çº§ï¼š</p><p>â€‹ <strong>ä½äº¤å‰</strong>çº é”™å¤„ç†ï¼Œ<span class="math inline">\(4\)</span> ä¸ªç£ç›˜å­˜å‚¨ <span class="math inline">\(4\)</span> ä½ <span class="math inline">\(+~3\)</span> ä¸ªæ ¡éªŒç›˜å­˜å‚¨ <span class="math inline">\(3\)</span> æ ¡éªŒä½ï¼ˆæ±‰æ˜ç ï¼‰ã€‚</p></li><li><p>RAID <span class="math inline">\(3\)</span> çº§ï¼š</p><p>â€‹ RAID <span class="math inline">\(2\)</span>çº§çš„æ”¹è¿›ï¼Œåªç”¨ä¸€ä¸ªæ ¡éªŒç›˜ï¼Œæ¯” RAID <span class="math inline">\(2\)</span>çº§å¸¸ç”¨ã€‚</p></li><li><p>RAID <span class="math inline">\(4\)</span> çº§ï¼š</p><p>â€‹ <strong>å—äº¤å‰</strong>çš„å¥‡å¶æ ¡éªŒç»„ç»‡ç»“æ„ã€‚å®ƒåƒ RAID <span class="math inline">\(0\)</span>çº§ä¸€æ ·ä½¿ç”¨å—çº§æ‹†åˆ†ï¼Œæ­¤å¤–åœ¨ä¸€å¼ <strong>ç‹¬ç«‹çš„ç£ç›˜</strong>ä¸Šä¸ºå…¶ä»– <span class="math inline">\(N\)</span>å¼ ç£ç›˜ä¸Šå¯¹åº”çš„å—ä¿ç•™ä¸€ä¸ª<strong>å¥‡å¶æ ¡éªŒå—</strong>ã€‚</p></li><li><p>RAID <span class="math inline">\(5\)</span> çº§ï¼š</p><p>â€‹ å—äº¤å‰çš„<strong>åˆ†å¸ƒå¥‡å¶æ ¡éªŒä½</strong>çš„ç»„ç»‡ç»“æ„ï¼Œæ˜¯ RAID <span class="math inline">\(4\)</span>çº§çš„æ”¹è¿›ï¼Œå°†æ•°æ®å’Œå¥‡å¶æ ¡éªŒä½éƒ½åˆ†å¸ƒåˆ°æ‰€æœ‰çš„ <span class="math inline">\(N+ 1\)</span> å¼ ç£ç›˜ä¸­ã€‚</p><p><img src="/img/blog/ds-note-images/image-20211013151334886.png" style="zoom:67%;"></p></li></ul></li><li><p>æ•°æ®å­˜å‚¨çš„æ˜ å°„ï¼š</p><p><img src="/img/blog/ds-note-images/image-20211013152301903.png" style="zoom:80%;"></p></li><li><p>æ•°æ®åº“è®°å½•åœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨ï¼š</p><ul><li><p>å®šé•¿è®°å½•ï¼ˆæ ¹æ®åç§»é‡åŒºåˆ†è®°å½•ï¼‰ï¼š</p><p>â€‹ æ‰€æœ‰å­—æ®µå›ºå®šä½æ•°ï¼ˆé»‘è‰²æ˜¯ç©ºç€çš„ï¼‰ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211013185732990.png"></div></li><li><p>å˜é•¿è®°å½•ï¼ˆé åˆ†éš”ç¬¦åŒºåˆ†å¼€å§‹ä¸ç»“æŸï¼‰ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/1.png"></div><ul><li><p>å—å¤´åŒ…æ‹¬ï¼š</p><ul><li>å—å¤´ä¸­è®°å½•æ¡ç›®çš„ä¸ªæ•°ã€‚</li><li>å—ä¸­<strong>ç©ºé—²ç©ºé—´</strong>çš„æœ«å°¾å¤„ã€‚</li><li>ä¸€ä¸ªç”±åŒ…å«è®°å½•<strong>ä½ç½®å’Œå¤§å°</strong>çš„è®°å½•æ¡ç›®ç»„æˆçš„æ•°ç»„ã€‚</li></ul></li><li><p>å®é™…è®°å½•ä»å—çš„<strong>å°¾éƒ¨</strong>å¼€å§‹è¿ç»­æ’åˆ—ã€‚</p></li><li><p>å—ä¸­<strong>ç©ºé—²ç©ºé—´æ˜¯è¿ç»­</strong>çš„ï¼Œæ— è®ºæ˜¯æ’å…¥æ“ä½œè¿˜æ˜¯åˆ é™¤æ“ä½œéƒ½ä¸èƒ½æ”¹å˜è¿™ä¸€ç‚¹ã€‚</p></li><li><p>å¦‚æœæ’å…¥ä¸€æ¡è®°å½•ï¼Œåœ¨<strong>ç©ºé—²ç©ºé—´çš„å°¾éƒ¨</strong>ç»™è¿™æ¡è®°å½•åˆ†é…ç©ºé—´ï¼Œå¹¶ä¸”å°†åŒ…å«è¿™æ¡è®°å½•å¤§å°å’Œä½ç½®çš„æ¡ç›®æ·»åŠ åˆ°å—å¤´ä¸­ã€‚</p></li><li><p>å¦‚æœä¸€æ¡è®°å½•è¢«åˆ é™¤ï¼š</p><ul><li>å®ƒæ‰€å ç”¨çš„ç©ºé—´è¢«é‡Šæ”¾ï¼Œå¹¶ä¸”å®ƒçš„æ¡ç›®è¢«è®¾ç½®æˆè¢«<strong>åˆ é™¤çŠ¶æ€</strong>ã€‚</li><li>å—ä¸­åœ¨è¢«åˆ é™¤è®°å½•ä¹‹åçš„è®°å½•å°†è¢«ç§»åŠ¨ï¼Œä½¿å¾—ç”±åˆ é™¤è€Œäº§ç”Ÿçš„ç©ºé—²ç©ºé—´è¢«é‡ç”¨ï¼Œå¹¶ä¸”æ‰€æœ‰ç©ºé—²ç©ºé—´ä»ç„¶ä¿æŒ<strong>è¿ç»­</strong>ã€‚</li><li>å—å¤´ä¸­çš„ç©ºé—²ç©ºé—´æœ«å°¾æŒ‡é’ˆè¦åšé€‚å½“ä¿®æ”¹ã€‚</li></ul><blockquote><p>ç§»åŠ¨è®°å½•çš„ä»£ä»·å¹¶ä¸é«˜ï¼Œå› ä¸ºå—çš„å¤§å°æ˜¯æœ‰é™åˆ¶çš„ï¼Œå…¸å‹çš„å€¼ä¸º <span class="math inline">\(4-8\)</span>KBã€‚</p></blockquote></li></ul></li></ul></li><li><p>æ•°æ®åº“ - è¡¨æ‰€å ç£ç›˜å—çš„åˆ†é…æ–¹æ³•ï¼š</p><ul><li><p>è¿ç»­åˆ†é…:</p><p>â€‹æ•°æ®å—è¢«åˆ†é…åˆ°è¿ç»­çš„ç£ç›˜å—ä¸Šï¼ˆä¼šå­˜åœ¨<strong>æ‰©å±•å›°éš¾</strong>é—®é¢˜ï¼‰ã€‚</p></li><li><p>é“¾æ¥åˆ†é…:</p><p>â€‹æ•°æ®å—ä¸­åŒ…å«æŒ‡å‘ä¸‹ä¸€æ•°æ®å—çš„æŒ‡é’ˆï¼ˆ<strong>è®¿é—®é€Ÿåº¦</strong>é—®é¢˜ï¼‰ï¼Œä¸è¿ç»­ï¼Œæœ‰ç©ºä½å°±æ”¾ã€‚</p></li><li><p>æŒ‰ç°‡åˆ†é…:</p><p>â€‹æŒ‰ç°‡åˆ†é…ï¼Œç°‡å†…è¿ç»­åˆ†é…ï¼Œç°‡ä¹‹é—´é æŒ‡é’ˆè¿æ¥ï¼Œç°‡æœ‰æ—¶ä¹Ÿç§°<strong>ç‰‡æ®µ</strong>ï¼Œç»“åˆå‰é¢ä¸¤è€…ä¼˜ç‚¹ã€‚</p></li><li><p>ç´¢å¼•åˆ†é…:</p><p>â€‹ ç´¢å¼•å—ä¸­å­˜æ”¾æŒ‡å‘å®é™…<strong>æ•°æ®å—çš„æŒ‡é’ˆ</strong>ï¼ˆå¯ä»¥ä¸ç”¨FATï¼‰ã€‚</p><p><img src="/img/blog/ds-note-images/image-20211013191826059.png" style="zoom:80%;"></p></li></ul></li><li><p><strong>æ–‡ä»¶ç»„ç»‡æ–¹æ³•</strong>ğŸ—¡ï¼š</p><blockquote><p>è€ƒè¯•é‡ç‚¹ï¼Œæ³¨æ„åŒºåˆ†ğŸ§ï¼Œå›ç­”åˆç†å³å¯ã€‚</p></blockquote><ul><li><p>æ— åºæ–‡ä»¶ç»„ç»‡ï¼š</p><ul><li><p>æ— åºè®°å½•æ–‡ä»¶ï¼ˆå †æ–‡ä»¶ heap æˆ– pile fileï¼‰</p></li><li><p>è®°å½•å¯å­˜å‚¨äºä»»æ„æœ‰ç©ºé—´çš„ä½ç½®ï¼Œç£ç›˜ä¸Šå­˜å‚¨çš„è®°å½•æ˜¯æ— åºçš„ã€‚<strong>æ›´æ–°æ•ˆç‡é«˜</strong>ï¼Œä½†<strong>æ£€ç´¢æ•ˆç‡å¯èƒ½ä½</strong>ã€‚</p></li><li><p>ä¸€å¼€å§‹æ–°è®°å½•æ€»æ’å…¥åˆ°æ–‡ä»¶å°¾éƒ¨ã€‚åˆ é™¤è®°å½•æ—¶ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤è¯¥è®°å½•æ‰€åœ¨ä½ç½®çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥åœ¨è¯¥è®°å½•å‰æ ‡è®°ã€Œ<strong>åˆ é™¤æ ‡è®°</strong>ã€ï¼Œæ–°å¢è®°å½•å¯ä»¥åˆ©ç”¨é‚£äº›æ ‡è®°ä¸ºã€Œåˆ é™¤æ ‡è®°ã€çš„è®°å½•ç©ºé—´</p></li><li><p>é¢‘ç¹åˆ å¢è®°å½•æ—¶ä¼šé€ æˆç©ºé—´æµªè´¹ï¼Œæ‰€ä»¥éœ€è¦å‘¨æœŸæ€§<strong>é‡æ–°ç»„ç»‡æ•°æ®åº“</strong>ã€‚</p><blockquote><p>æ•°æ®åº“é‡ç»„æ˜¯é€šè¿‡ç§»èµ°è¢«åˆ é™¤çš„è®°å½•ä½¿<strong>æœ‰æ•ˆè®°å½•è¿ç»­å­˜æ”¾</strong>ï¼Œä»è€Œå›æ”¶é‚£äº›ç”±åˆ é™¤è®°å½•è€Œäº§ç”Ÿçš„æœªåˆ©ç”¨ç©ºé—´ï¼ˆå¤–éƒ¨ç¢ç‰‡ï¼‰ã€‚</p></blockquote></li></ul></li><li><p>æœ‰åºæ–‡ä»¶ç»„ç»‡</p><ul><li><p>æœ‰åºè®°å½•æ–‡ä»¶ï¼ˆæ’åºæ–‡ä»¶ Sequentialï¼‰</p></li><li><p>è®°å½•æŒ‰æŸå±æ€§æˆ–å±æ€§ç»„å€¼çš„é¡ºåºæ’å…¥ï¼Œç£ç›˜ä¸Šå­˜å‚¨çš„è®°å½•æ˜¯æœ‰åºçš„ã€‚<strong>æ£€ç´¢æ•ˆç‡å¯èƒ½é«˜</strong>ï¼Œä½†æ›´æ–°æ•ˆç‡ä½ã€‚</p><blockquote><p>å½“æŒ‰æ’åºå­—æ®µè¿›è¡Œæ£€ç´¢æ—¶ï¼Œé€Ÿåº¦å¾—åˆ°å¾ˆå¤§æé«˜ã€‚ä½†å½“æŒ‰éæ’åºå­—æ®µæ£€ç´¢æ—¶ï¼Œé€Ÿåº¦å¯èƒ½ä¸ä¼šæé«˜å¾ˆå¤šã€‚</p></blockquote></li><li><p>ç”¨äºå­˜å‚¨æ’åºçš„å±æ€§é€šå¸¸ç§°ä¸º<strong>æ’åºå­—æ®µ</strong>ï¼Œå¯ä»¥æ˜¯å…³ç³»ä¸­çš„<strong>ä¸»ç </strong>ï¼Œæ‰€ä»¥åˆç§°<strong>æ’åºç </strong>ã€‚</p></li><li><p>æ”¹è¿›åŠæ³•ï¼ˆä½¿ç”¨æº¢å‡ºï¼‰ï¼š</p><ul><li><p>ä¸ºå°†æ¥å¯èƒ½æ’å…¥å…ƒç»„é¢„ç•™ç©ºé—´ï¼ˆè¿™å¯èƒ½é€ æˆç©ºé—´æµªè´¹ï¼‰ï¼Œæˆ–ä½¿ç”¨ä¸€ä¸ª<strong>ä¸´æ—¶çš„æ— åºæ–‡ä»¶</strong>ï¼ˆè¢«ç§°ä¸º<strong>æº¢å‡ºæ–‡ä»¶</strong>ï¼‰ä¿ç•™æ–°å¢çš„è®°å½•ã€‚</p></li><li><p>å½“é‡‡å–æº¢å‡ºæ–‡ä»¶æªæ–½æ—¶ï¼Œæ£€ç´¢æ“ä½œæ—¢è¦æ“ä½œä¸»æ–‡ä»¶ï¼Œåˆè¦<strong>æ“ä½œæº¢å‡ºæ–‡ä»¶</strong>ã€‚</p></li><li><p>éœ€è¦å‘¨æœŸæ€§<strong>é‡æ–°ç»„ç»‡æ•°æ®åº“</strong>ï¼Œå°†æº¢å‡ºæ–‡ä»¶<strong>åˆå¹¶</strong>åˆ°ä¸»æ–‡ä»¶ï¼Œå¹¶æ¢å¤ä¸»æ–‡ä»¶ä¸­çš„è®°å½•é¡ºåºã€‚</p></li></ul></li></ul></li><li><p>æ•£åˆ—æ–‡ä»¶ç»„ç»‡ï¼š</p><ul><li>æ•£åˆ—æ–‡ä»¶ï¼ˆHash fileï¼‰</li><li>å¯ä»¥æŠŠè®°å½•æŒ‰æŸå±æ€§æˆ–å±æ€§ç»„çš„å€¼ï¼Œä¾æ®ä¸€ä¸ª<strong>æ•£åˆ—å‡½æ•°</strong>æ¥è®¡ç®—å…¶åº”å­˜æ”¾çš„<strong>ä½ç½®ï¼ˆæ¡¶å·ï¼‰</strong>ï¼Œæ£€ç´¢æ•ˆç‡å’Œæ›´æ–°æ•ˆç‡éƒ½æœ‰ä¸€å®šç¨‹åº¦çš„æé«˜ã€‚</li><li>ç”¨äºè¿›è¡Œæ•£åˆ—å‡½æ•°è®¡ç®—çš„å±æ€§é€šå¸¸ç§°ä¸º<strong>æ•£åˆ—å­—æ®µ</strong>ï¼Œæ•£åˆ—å­—æ®µé€šå¸¸ä¹Ÿé‡‡ç”¨å…³ç³»ä¸­çš„<strong>ä¸»ç </strong>ï¼Œæ‰€ä»¥åˆç§°<strong>æ•£åˆ—ç </strong>ã€‚</li><li>ä¸åŒè®°å½•å¯èƒ½è¢« hashæˆåŒä¸€æ¡¶å·ï¼Œæ­¤æ—¶éœ€åœ¨æ¡¶å†…é¡ºåºæ£€ç´¢å‡ºæŸä¸€è®°å½•ã€‚</li><li>ç­”é¢˜ä¸‡é‡‘æ²¹ï¼Œè¯»å†™æ€§èƒ½éƒ½ä¸é”™ã€‚</li></ul></li><li><p>èšç°‡æ–‡ä»¶ç»„ç»‡ï¼š</p><ul><li><p>èšç°‡æ–‡ä»¶ï¼ˆClustering fileï¼‰</p></li><li><p><strong>èšç°‡</strong>ï¼š</p><p>â€‹å°†å…·æœ‰<strong>ç›¸åŒæˆ–ç›¸ä¼¼å±æ€§å€¼</strong>çš„è®°å½•å­˜æ”¾äº<strong>è¿ç»­</strong>çš„ç£ç›˜ç°‡å—ä¸­ï¼Œä¼˜åŒ–è¿æ¥ä»£ä»·ï¼Œåœ¨<strong>ä¸ç”¨ç´¢å¼•</strong>çš„æ—¶å€™ä½¿ç”¨ã€‚</p></li><li><p>å¤šè¡¨èšç°‡ï¼š</p><p>â€‹å°†è‹¥å¹²ä¸ª<strong>ç›¸äº’å…³è”</strong>çš„è¡¨å­˜å‚¨äºä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯æé«˜å¤šè¡¨æƒ…å†µä¸‹çš„æŸ¥è¯¢é€Ÿåº¦ã€‚</p></li><li><p>ä½•æ—¶ä½¿ç”¨å¤šè¡¨èšç°‡ä¾èµ–äºæ•°æ®åº“è®¾è®¡è€…æ‰€è®¤ä¸ºçš„<strong>æœ€é¢‘ç¹çš„æŸ¥è¯¢ç±»å‹</strong>ã€‚</p></li></ul></li></ul></li></ul><h3 id="ç´¢å¼•æ¦‚å¿µå’Œåˆ†ç±»">ç´¢å¼•æ¦‚å¿µå’Œåˆ†ç±»ğŸ—¡</h3><ul><li><p>ç´¢å¼•å®šä¹‰ï¼š</p><ul><li><p>å®šä¹‰åœ¨å­˜å‚¨è¡¨åŸºç¡€ä¸Šï¼Œæ— éœ€æ£€æŸ¥æ‰€æœ‰è®°å½•ï¼Œå¿«é€Ÿå®šä½æ‰€éœ€è®°å½•çš„ä¸€ç§è¾…åŠ©å­˜å‚¨ç»“æ„ï¼Œç”±<strong>ä¸€ç³»åˆ—</strong>å­˜å‚¨åœ¨<strong>ç£ç›˜</strong>ä¸Šçš„<strong>ç´¢å¼•é¡¹</strong>ç»„æˆï¼Œæ¯ä¸€ç´¢å¼•é¡¹åˆç”±ä¸¤éƒ¨åˆ†æ„æˆ:</p><ul><li><p><strong>ç´¢å¼•å­—æ®µ</strong>ï¼š</p><p>â€‹ç”±è¡¨ä¸­<strong>æŸäº›åˆ—</strong>ä¸­çš„å€¼ä¸²æ¥è€Œæˆï¼Œç±»ä¼¼äºè¯å…¸ä¸­çš„è¯æ¡ã€‚ç´¢å¼•ä¸­<strong>é€šå¸¸</strong>å­˜å‚¨äº†ç´¢å¼•å­—æ®µçš„æ¯ä¸€ä¸ªå€¼ã€‚</p></li><li><p>è¡ŒæŒ‡é’ˆï¼š</p><p>â€‹æŒ‡å‘è¡¨ä¸­åŒ…å«ç´¢å¼•å­—æ®µå€¼çš„è®°å½•åœ¨ç£ç›˜ä¸Šçš„<strong>å­˜å‚¨ä½ç½®</strong>ï¼Œç±»ä¼¼äºè¯æ¡åœ¨ä¹¦ç±ã€è¯å…¸ä¸­å‡ºç°çš„é¡µç ã€‚</p></li></ul></li><li><p>æœ‰ç´¢å¼•æ—¶ï¼Œæ›´æ–°æ“ä½œå¿…é¡»<strong>åŒæ­¥æ›´æ–°</strong>ç´¢å¼•æ–‡ä»¶å’Œä¸»æ–‡ä»¶ã€‚</p></li><li><p>å¯¹ç»å¸¸å‡ºç°åœ¨<strong>æ£€ç´¢æ¡ä»¶ã€è¿æ¥æ¡ä»¶å’Œåˆ†ç»„</strong>è®¡ç®—æ¡ä»¶ä¸­çš„å±æ€§å¯å»ºç«‹ç´¢å¼•ã€‚</p></li></ul><blockquote><p>å­˜å‚¨<strong>ç´¢å¼•é¡¹</strong>çš„æ–‡ä»¶ä¸º<strong>ç´¢å¼•æ–‡ä»¶</strong>ï¼Œå­˜å‚¨è¡¨ç§°ä¸º<strong>ä¸»æ–‡ä»¶</strong>ã€‚</p></blockquote></li><li><p>ç´¢å¼•æ–‡ä»¶ç»„ç»‡æ–¹å¼æœ‰ä¸¤ç§ğŸ—¡ï¼š</p><ul><li><p><strong>æ’åºç´¢å¼•æ–‡ä»¶</strong>ï¼š</p><p>â€‹æŒ‰<strong>ç´¢å¼•å­—æ®µå€¼</strong>çš„æŸä¸€ç§<strong>é¡ºåº</strong>ç»„ç»‡å­˜å‚¨ã€‚</p></li><li><p><strong>æ•£åˆ—ç´¢å¼•æ–‡ä»¶</strong>ï¼š</p><p>â€‹ä¾æ®<strong>ç´¢å¼•å­—æ®µå€¼</strong>ä½¿ç”¨<strong>æ•£åˆ—å‡½æ•°</strong>åˆ†é…æ•£åˆ—æ¡¶çš„æ–¹å¼å­˜å‚¨ã€‚</p></li></ul><blockquote><p><strong>ä¸»æ–‡ä»¶ç»„ç»‡</strong>æœ‰å †æ–‡ä»¶ã€æ’åºæ–‡ä»¶ã€æ•£åˆ—æ–‡ä»¶ã€èšç°‡æ–‡ä»¶ç­‰å¤šç§æ–¹å¼ï¼Œå’Œ<strong>ç´¢å¼•æ–‡ä»¶ç»„ç»‡æ–¹å¼</strong>åŒºåˆ†ã€‚</p></blockquote></li><li><p>ç´¢å¼•åº”ç”¨çš„è¯„ä»·ï¼š</p><ul><li><p>è®¿é—®æ—¶é—´ï¼š</p><p>â€‹ åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨è¯¥æŠ€æœ¯æ‰¾åˆ°ä¸€ä¸ªç‰¹å®šæ•°æ®é¡¹æˆ–æ•°æ®é¡¹é›†æ‰€éœ€çš„æ—¶é—´</p></li><li><p>æ’å…¥æ—¶é—´ï¼š</p><p>â€‹æ’å…¥ä¸€ä¸ªæ–°æ•°æ®é¡¹æ‰€éœ€çš„æ—¶é—´ã€‚è¯¥å€¼åŒ…æ‹¬<strong>æ‰¾åˆ°</strong>æ’å…¥è¿™ä¸ªæ–°æ•°æ®é¡¹çš„æ­£ç¡®ä½ç½®æ‰€éœ€çš„æ—¶é—´ï¼Œä»¥åŠ<strong>æ›´æ–°</strong>ç´¢å¼•ç»“æ„æ‰€éœ€çš„æ—¶é—´ã€‚</p></li><li><p>åˆ é™¤æ—¶é—´ï¼š</p><p>â€‹åˆ é™¤ä¸€ä¸ªæ•°æ®é¡¹æ‰€éœ€çš„æ—¶é—´ã€‚è¯¥å€¼åŒ…æ‹¬æ‰¾åˆ°å¾…åˆ é™¤é¡¹æ‰€éœ€çš„æ—¶é—´ï¼Œä»¥åŠæ›´æ–°ç´¢å¼•ç»“æ„æ‰€éœ€çš„æ—¶é—´ã€‚</p></li><li><p>ç©ºé—´å¼€é”€ï¼š</p><p>â€‹ç´¢å¼•ç»“æ„æ‰€å ç”¨çš„é¢å¤–å­˜å‚¨ç©ºé—´ã€‚å€˜è‹¥å­˜å‚¨ç´¢å¼•ç»“æ„çš„é¢å¤–ç©ºé—´å¤§å°é€‚åº¦ï¼Œé€šå¸¸ç‰ºç‰²ä¸€å®šçš„ç©ºé—´ä»£ä»·æ¥æ¢å–æ€§èƒ½çš„æé«˜æ˜¯å€¼å¾—çš„ã€‚</p></li></ul></li><li><p>ç çš„åŒºåˆ†ï¼ˆğŸ˜¢ä¸å¤ªèƒ½åŒºåˆ†ï¼‰ï¼š</p><ul><li><p>æ’åºç ï¼š</p><p>â€‹ å¯¹ä¸»æ–‡ä»¶è¿›è¡Œæ’åºå­˜å‚¨çš„é‚£äº›å±æ€§æˆ–å±æ€§ç»„ã€‚</p></li><li><p>ç´¢å¼•ç ï¼š</p><p>â€‹ å³ç´¢å¼•å­—æ®µï¼Œ<strong>ä¸ä¸€å®šå…·æœ‰å”¯ä¸€æ€§</strong>ã€‚</p></li><li><p>æœç´¢ç ï¼š</p><p>â€‹ åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾è®°å½•çš„å±æ€§æˆ–å±æ€§é›†ç§°ä¸º<strong>æœç´¢ç </strong>ã€‚</p></li></ul></li><li><p>ç¨ å¯†ç´¢å¼•ï¼š</p><ul><li><p>ä¸»æ–‡ä»¶ä¸­æ¯ä¸€ä¸ª<strong>æœç´¢ç å€¼</strong>ï¼ˆç´¢å¼•å­—æ®µå€¼ï¼‰éƒ½æœ‰ä¸€ä¸ªç´¢å¼•é¡¹å’Œå®ƒå¯¹åº”ã€‚</p></li><li><p>å¯¹<strong>å€™é€‰é”®</strong>å»ºç¨ å¯†ç´¢å¼•ï¼š</p><p>â€‹ ä¸»æ–‡ä»¶ä¸ç”¨æ’åºï¼Œç›´æ¥å¯ä»¥å®šä½ã€‚</p></li><li><p><strong>éå€™é€‰é”®</strong>å»ºç¨ å¯†ç´¢å¼•ï¼š</p><ul><li><p><strong>ç´¢å¼•æ–‡ä»¶</strong>ä¸­ç´¢å¼•å­—æ®µå€¼æ˜¯<strong>ä¸é‡å¤çš„</strong>ï¼Œ<strong>ä¸»æ–‡ä»¶</strong>æŒ‰ç´¢å¼•å­—æ®µ<strong>æ’åº</strong>ã€‚</p><p><img src="/img/blog/ds-note-images/image-20211119134744510.png" style="zoom:60%;"></p></li><li><p><strong>ç´¢å¼•æ–‡ä»¶</strong>ä¸­ç´¢å¼•å­—æ®µå€¼æ˜¯æœ‰<strong>é‡å¤</strong>çš„ï¼Œä¸»æ–‡ä»¶<strong>ä¸æ’åº</strong>ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/6fda6106a92bb6123bb84b5bf951d39e.jpg"></div></li><li><p>å¼•å…¥<strong>æŒ‡é’ˆæ¡¶</strong>å¤„ç†éå€™é€‰é”®ç´¢å¼•çš„å¤šè®°å½•æƒ…å†µï¼Œ<strong>ç´¢å¼•æ–‡ä»¶</strong>ä¸­ç´¢å¼•å­—æ®µå€¼æ˜¯<strong>ä¸é‡å¤çš„</strong>ï¼Œä¸»æ–‡ä»¶<strong>ä¸æ’åº</strong>ã€‚</p><p><img src="/img/blog/ds-note-images/eec1c49cea791f862e00000e00158704.jpg" style="zoom:100%;"></p><blockquote><p>ç´¢å¼•æ–‡ä»¶é€šå¸¸è¦æ’åºã€‚</p></blockquote></li></ul></li></ul></li><li><p>ç¨€ç–ç´¢å¼•ï¼š</p><p>â€‹ç¨€ç–ç´¢å¼•åªä¸ºä¸»æ–‡ä»¶<strong>éƒ¨åˆ†æœç´¢ç å€¼</strong>ï¼ˆç´¢å¼•å­—æ®µå€¼ï¼‰å»ºç«‹ç´¢å¼•è®°å½•ï¼Œ<strong>ä¸»æ–‡ä»¶</strong>æŒ‰ç´¢å¼•å­—æ®µ<strong>æ’åº</strong>ã€‚</p></li><li><p>ä¸»ç´¢å¼•ï¼š</p><ul><li>å¦‚æœåŒ…å«è®°å½•çš„æ–‡ä»¶æŒ‰ç…§æŸä¸ª<strong>æœç´¢ç </strong>æŒ‡å®šçš„é¡ºåº<strong>æ’åº</strong>ï¼Œé‚£ä¹ˆè¯¥æœç´¢ç å¯¹åº”çš„ç´¢å¼•ç§°ä¸º<strong>èšé›†ç´¢å¼•</strong>ï¼Œä¹Ÿç§°ä¸º<strong>ä¸»ç´¢å¼•</strong>ã€‚</li><li>ä¸»ç´¢å¼•å¯¹æ¯ä¸€<strong>å­˜å‚¨å—</strong>æœ‰ä¸€ä¸ª<strong>ç´¢å¼•é¡¹</strong>ï¼Œç´¢å¼•é¡¹çš„æ€»æ•°å’Œ<strong>å­˜å‚¨è¡¨æ‰€å çš„å­˜å‚¨å—æ•°ç›®</strong>ç›¸åŒã€‚</li><li>å­˜å‚¨è¡¨çš„æ¯ä¸€å­˜å‚¨å—çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œåˆç§°ä¸º<strong>é”šè®°å½•</strong>ï¼Œæˆ–ç®€ç§°ä¸ºå—é”šã€‚</li><li>ä¸»ç´¢å¼•çš„ç´¢å¼•å­—æ®µå€¼ä¸ºå—é”šçš„ç´¢å¼•å­—æ®µå€¼ï¼ˆé€šå¸¸ä¸º<strong>ä¸»ç å€¼æˆ–æ’åºç å€¼</strong>ï¼‰ï¼Œè€ŒæŒ‡é’ˆæŒ‡å‘å…¶æ‰€åœ¨çš„å­˜å‚¨å—ã€‚</li><li>ä¸»ç´¢å¼•ï¼ˆå¯ä»¥ï¼‰æ˜¯<strong>ç¨€ç–ç´¢å¼•</strong>ã€‚</li></ul></li><li><p>è¾…åŠ©ç´¢å¼•ï¼š</p><ul><li>è¾…åŠ©ç´¢å¼•å®šä¹‰åœ¨<strong>ä¸»æ–‡ä»¶</strong>çš„ä»»ä¸€æˆ–å¤šä¸ª<strong>éæ’åºå­—æ®µ</strong>ä¸Šçš„è¾…åŠ©å­˜å‚¨ç»“æ„ã€‚</li><li>è¾…åŠ©ç´¢å¼•ä¸€å®šæ˜¯ç¨ å¯†ç´¢å¼•ã€‚</li></ul><blockquote><p>ä¸»ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•çš„åŒºåˆ«ï¼š</p><ul><li>ä¸€ä¸ªä¸»æ–‡ä»¶ä»…å¯ä»¥æœ‰ä¸€ä¸ª<strong>ä¸»ç´¢å¼•</strong>ï¼ˆåªæŒ‰ä¸»ç´¢å¼•çš„æœç´¢ç æ’åºï¼‰ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªè¾…åŠ©ç´¢å¼•ã€‚</li><li>ä¸»ç´¢å¼•é€šå¸¸å»ºç«‹äºä¸»ç /æ’åºç ä¸Šé¢ï¼Œè¾…åŠ©ç´¢å¼•å»ºç«‹äºå…¶ä»–å±æ€§ä¸Šé¢ã€‚</li><li>å¯ä»¥åˆ©ç”¨ä¸»ç´¢å¼•é‡æ–°ç»„ç»‡ä¸»æ–‡ä»¶æ•°æ®ï¼Œè¾…åŠ©ç´¢å¼•ä¸èƒ½æ”¹å˜ä¸»æ–‡ä»¶æ•°æ®ã€‚</li><li>ä¸»ç´¢å¼•æ˜¯ç¨€ç–ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•æ˜¯ç¨ å¯†ç´¢å¼•</li></ul></blockquote></li><li><p>èšç°‡ç´¢å¼•ï¼š</p><ul><li><p>èšç°‡<strong>ç´¢å¼•</strong>å®šä¹‰ï¼š</p><p>â€‹èšç°‡ç´¢å¼•æ˜¯æŒ‡<strong>ç´¢å¼•ä¸­é‚»è¿‘</strong>çš„è®°å½•åœ¨<strong>ä¸»æ–‡ä»¶</strong>ä¸­ä¹Ÿæ˜¯ä¸´è¿‘å­˜å‚¨çš„ã€‚</p></li><li><p>èšç°‡<strong>å­—æ®µ</strong>å®šä¹‰ï¼š</p><p>â€‹å¦‚æœä¸»æ–‡ä»¶çš„æŸä¸€<strong>æ’åº</strong>å­—æ®µ<strong>ä¸æ˜¯ä¸»ç </strong>ï¼Œåˆ™è¯¥å­—æ®µä¸Šæ¯ä¸ªè®°å½•å–å€¼ä¾¿ä¸å”¯ä¸€ï¼Œæ­¤æ—¶è¯¥å­—æ®µè¢«ç§°ä¸º<strong>èšç°‡å­—æ®µ</strong>ã€‚èšç°‡ç´¢å¼•é€šå¸¸æ˜¯å®šä¹‰åœ¨èšç°‡å­—æ®µä¸Šã€‚</p><p><img src="/img/blog/ds-note-images/image-20211119141551035.png" style="zoom:80%;"></p></li></ul></li><li><p>éèšç°‡ç´¢å¼•ï¼š</p><p>â€‹ æŒ‡ç´¢å¼•ä¸­é‚»è¿‘çš„è®°å½•åœ¨ä¸»æ–‡ä»¶ä¸­ä¸ä¸€å®šæ˜¯é‚»è¿‘å­˜å‚¨çš„ã€‚</p><blockquote><p>èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼š</p><ul><li>ä¸€ä¸ªä¸»æ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•æ–‡ä»¶ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªéèšç°‡ç´¢å¼•æ–‡ä»¶ã€‚</li><li>ä¸»ç´¢å¼•é€šå¸¸æ˜¯èšç°‡ç´¢å¼•ï¼ˆä½†å…¶<strong>ç´¢å¼•é¡¹</strong>æ€»æ•°<strong>ä¸ä¸€å®š</strong>å’Œä¸»æ–‡ä»¶ä¸­<strong>èšç°‡å­—æ®µ</strong>ä¸Šä¸åŒå€¼çš„æ•°ç›®ç›¸åŒï¼Œå…¶å’Œ<strong>ä¸»æ–‡ä»¶å­˜å‚¨å—æ•°ç›®</strong>ç›¸åŒï¼‰ã€‚</li><li>è¾…åŠ©ç´¢å¼•é€šå¸¸æ˜¯éèšç°‡ç´¢å¼•ã€‚</li><li>ä¸»ç´¢å¼•/èšç°‡ç´¢å¼•æ˜¯èƒ½å¤Ÿ<strong>å†³å®šè®°å½•å­˜å‚¨ä½ç½®</strong>çš„ç´¢å¼•ï¼Œè€Œè¾…åŠ©ç´¢å¼•/éèšç°‡ç´¢å¼•åˆ™åªèƒ½ç”¨äº<strong>æŸ¥è¯¢</strong>ï¼ŒæŒ‡å‡ºå·²å­˜å‚¨è®°å½•çš„ä½ç½®ã€‚</li></ul></blockquote></li></ul><h3 id="å¤šçº§ç´¢å¼•b-æ ‘">å¤šçº§ç´¢å¼•ï¼ˆB+ æ ‘ï¼‰ğŸ—¡</h3><blockquote><p>å¿…è€ƒå†…å®¹<span class="">ğŸŒ²</span></p></blockquote><blockquote><p>å½“ç´¢å¼•é¡¹æ¯”è¾ƒå¤šæ—¶ï¼Œå¯ä»¥å¯¹ç´¢å¼•å†å»ºç«‹ç´¢å¼•ï¼Œä¾æ­¤ç±»æ¨ï¼Œå½¢æˆå¤šçº§ç´¢å¼•ã€‚</p></blockquote><ul><li><p>B+ æ ‘èŠ‚ç‚¹ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211014210434101.png"></div><ul><li><p><span class="math inline">\(K_i\)</span>ï¼š</p><p>â€‹ ç´¢å¼•å­—æ®µå€¼</p></li><li><p><span class="math inline">\(P_i\)</span>â€‹ï¼š</p><ul><li>æ˜¯æŒ‡å‘<strong>ç´¢å¼•å—</strong>æˆ–<strong>æ•°æ®å—</strong>æˆ–æ•°æ®å—ä¸­è®°å½• çš„æŒ‡é’ˆï¼š<ul><li>éå¶ç»“ç‚¹æŒ‡é’ˆæŒ‡å‘<strong>ç´¢å¼•å—</strong>ã€‚</li><li>å¶ç»“ç‚¹æŒ‡é’ˆæŒ‡å‘ä¸»æ–‡ä»¶çš„æ•°æ®å—ï¼ˆç¨€ç–ç´¢å¼•ï¼‰æˆ–æ•°æ®è®°å½•ï¼ˆç¨ å¯†ç´¢å¼•ï¼‰ã€‚</li></ul></li><li>æ¯ä¸ªç´¢å¼•å—çš„<strong>æŒ‡é’ˆåˆ©ç”¨ç‡</strong>ï¼ˆä¹¦ä¸Šæ˜¯è¯´ç´¢å¼•å­—æ®µå€¼çš„åˆ©ç”¨ç‡ğŸ¥²ï¼‰éƒ½åœ¨<strong><span class="math inline">\(50\%-100\%\)</span></strong>ä¹‹é—´ï¼ˆæ ¹èŠ‚ç‚¹å¯ä»¥ä¸æ»¡è¶³ï¼‰ã€‚</li><li>ç´¢å¼•å­—æ®µå€¼ <span class="math inline">\(x\)</span> åœ¨ <span class="math inline">\(K_{i-1}\le x&lt;K_i\)</span> çš„ç”± <span class="math inline">\(P_i\)</span> æŒ‡å‘ï¼ˆè®¾ <span class="math inline">\(K_0=0\)</span>ï¼‰ï¼Œè€Œ <span class="math inline">\(K_i\le x&lt;K_{i+1}\)</span> çš„ç”± <span class="math inline">\(P_{i+1}\)</span> æŒ‡å‘ã€‚</li><li>å¶èŠ‚ç‚¹çš„ <span class="math inline">\(P_n\)</span>æŒ‡å‘ä¸‹ä¸€ä¸ªå¶èŠ‚ç‚¹ã€‚</li></ul></li><li><p>å…±æœ‰ <span class="math inline">\(n-1\)</span> ä¸ªç´¢å¼•å­—æ®µå€¼å’Œ<span class="math inline">\(n\)</span> ä¸ªæŒ‡é’ˆã€‚</p></li></ul></li><li><p>B æ ‘å’Œ B+ æ ‘æ¯”è¾ƒï¼š</p><ul><li>Bæ ‘ç´¢å¼•å­—æ®µå€¼<strong>ä»…å‡ºç°ä¸€æ¬¡</strong>ï¼Œå¯ä»¥åœ¨å¶ç»“ç‚¹æˆ–è€…åœ¨éå¶ç»“ç‚¹ï¼›B+æ ‘æœ‰<strong>é‡å¤</strong>ç´¢å¼•å­—æ®µå€¼ã€‚</li><li>Bæ ‘æŒ‡å‘ä¸»æ–‡ä»¶çš„<strong>æŒ‡é’ˆ</strong>å‡ºç°äº<strong>å¶ç»“ç‚¹æˆ–éå¶ç»“ç‚¹</strong>ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ç»“ç‚¹ï¼›B+æ ‘åªæœ‰å¶å­ç»“ç‚¹æœ‰æŒ‡å‘ä¸»æ–‡ä»¶çš„æŒ‡é’ˆã€‚</li><li>Bæ ‘<strong>æ‰€æœ‰ç»“ç‚¹æ‰èƒ½è¦†ç›–</strong>æ‰€æœ‰é”®å€¼çš„<strong>ç´¢å¼•</strong>ï¼›B+æ ‘å¶å­ç»“ç‚¹å°±èƒ½è¦†ç›–ã€‚</li><li>B ä¹¦å¶èŠ‚ç‚¹å’Œ B+ æ•°å¶èŠ‚ç‚¹ç»“æ„ç›¸åŒã€‚</li></ul></li><li><p>B+ æ ‘æ’å…¥ï¼š</p><ul><li><p>åœ¨åŸæ ‘çš„å¶å­èŠ‚ç‚¹ä¸­æ‰¾åˆ°åº”è¯¥æ’å…¥çš„ä½ç½®ï¼š</p><ul><li><p>å½“ç´¢å¼•å—æ»¡æ—¶ï¼Œéœ€è¦åˆ†è£‚ï¼Œåˆ†è£‚åä¹Ÿè¦ä¿è¯æŒ‡é’ˆåˆ©ç”¨ç‡ä¸ä½äºä¸€åŠï¼ˆå¹³å‡åˆ†ï¼‰ã€‚</p><blockquote><p>å°†è¿™ <span class="math inline">\(n\)</span>ä¸ªæœç´¢ç å€¼ï¼ˆå¶ç»“ç‚¹ä¸­åŸæœ‰çš„ <span class="math inline">\(n-1\)</span>ä¸ªå€¼å†åŠ ä¸Šæ–°æ’å…¥çš„å€¼ï¼‰åˆ†ä¸ºä¸¤ç»„ï¼Œå‰ <span class="math inline">\(\lceiln/2\rceil\)</span> ä¸ªæ”¾åœ¨åŸæ¥çš„ç»“ç‚¹ä¸­ï¼Œå‰©ä¸‹çš„æ”¾åœ¨ä¸€ä¸ªæ–°ç»“ç‚¹ä¸­ã€‚</p></blockquote></li><li><p>å¦åˆ™ç›´æ¥æ’å…¥ï¼Œå¦‚æœæ’å…¥ä½ç½®åœ¨å¶å­ç´¢å¼•å—æœ€å·¦è¾¹ï¼ˆå³å°äºè¯¥å—çš„å…¶ä»–ç´¢å¼•å—ï¼Œè¦ä¿®æ”¹çˆ¶èŠ‚ç‚¹çš„å€¼ï¼‰ã€‚</p></li></ul></li><li><p>åˆ†è£‚å¯èƒ½å¼•å‘è¿é”ååº”ï¼Œç”±<strong>å¶ç»“ç‚¹ç›´è‡³æ ¹ç»“ç‚¹</strong>åˆ¤æ–­ã€‚</p></li><li><p>åˆ†è£‚åéœ€è¦ä»”ç»†è°ƒæ•´ç´¢å¼•<strong>é”®å€¼åŠæŒ‡é’ˆ</strong>ã€‚</p></li><li><p>æ³¨æ„<strong>å¶å­ç»“ç‚¹ä¹‹é—´</strong>é“¾æ¥å…³ç³»çš„è°ƒæ•´ã€‚</p></li></ul></li><li><p>B+ æ ‘åˆ é™¤ï¼š</p><ul><li>å½“åˆ é™¤åæŒ‡é’ˆåˆ©ç”¨ç‡ä½äºä¸€åŠï¼Œå…ˆè€ƒè™‘ä»<strong>ç›¸é‚»å¶å­ç»“ç‚¹å€Ÿç´¢å¼•é¡¹</strong>ï¼Œå¦‚æœä¸èƒ½å€Ÿå°±åˆå¹¶ã€‚</li><li>åˆå¹¶å¯èƒ½å¼•å‘è¿é”ååº”ï¼Œç”±å¶ç»“ç‚¹ç›´è‡³æ ¹ç»“ç‚¹ï¼ˆçˆ¶èŠ‚ç‚¹ç´¢å¼•å€¼å°‘äº†ä¸€ä¸ªï¼‰ã€‚</li><li>åˆå¹¶åéœ€è¦ä»”ç»†è°ƒæ•´ç´¢å¼•é”®å€¼åŠæŒ‡é’ˆã€‚</li><li>æ³¨æ„å¶å­ç»“ç‚¹ä¹‹é—´é“¾æ¥å…³ç³»çš„è°ƒæ•´ã€‚</li></ul></li></ul><h3 id="æ•£åˆ—ç´¢å¼•">æ•£åˆ—ç´¢å¼•</h3><ul><li><p>æ¡¶ï¼š</p><p>â€‹è¡¨ç¤ºèƒ½å­˜å‚¨ä¸€æ¡æˆ–å¤šæ¡è®°å½•çš„ä¸€ä¸ªå­˜å‚¨å•ä½ï¼Œä¸€ä¸ªæ¡¶å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…è‹¥å¹²ä¸ªè¿ç»­çš„å­˜å‚¨å—ã€‚</p></li><li><p>æ•£åˆ—å‡½æ•°ï¼š</p><p>â€‹ <span class="math inline">\(K\)</span> è¡¨ç¤ºæ‰€æœ‰æœç´¢ç å€¼çš„é›†åˆï¼Œ<span class="math inline">\(B\)</span> è¡¨ç¤ºæ‰€æœ‰æ¡¶åœ°å€çš„é›†åˆï¼Œæ•£åˆ—å‡½æ•° <span class="math inline">\(h\)</span> æ˜¯ä¸€ä¸ªä» <span class="math inline">\(K\to B\)</span> çš„å‡½æ•°ã€‚</p><blockquote><p>æ•£åˆ—å‡½æ•°è¦æ»¡è¶³åˆ†å¸ƒæ˜¯<strong>å‡åŒ€çš„</strong>å’Œéšæœºçš„ã€‚</p></blockquote></li><li><p>æº¢å‡ºæ¡¶ï¼š</p><p>â€‹ å¦‚æœä¸€æ¡è®°å½•å¿…é¡»æ’å…¥æ¡¶ <span class="math inline">\(b\)</span>ä¸­ï¼Œè€Œæ¡¶ <span class="math inline">\(b\)</span> å·²æ»¡ï¼Œç³»ç»Ÿä¼šä¸ºæ¡¶ <span class="math inline">\(b\)</span>æä¾›ä¸€ä¸ª<strong>æº¢å‡ºæ¡¶</strong>ï¼Œå¹¶å°†æ­¤è®°å½•æ’å…¥åˆ°è¿™ä¸ªæº¢å‡ºæ¡¶ä¸­ã€‚</p></li><li><p>é™æ€æ•£åˆ—ç´¢å¼•çš„ç¼ºç‚¹ï¼š</p><p>â€‹ å¦‚æœæ¡¶çš„æ•°ç›® <span class="math inline">\(M\)</span>ä¸å˜ï¼Œè¿‡å¤§åˆ™<strong>æµªè´¹</strong>ï¼Œè¿‡å°åˆ™å°†äº§ç”Ÿæ›´å¤šçš„<strong>æº¢å‡ºæ¡¶</strong>ï¼Œå¢åŠ æ•£åˆ—ç´¢å¼•æ£€ç´¢çš„æ—¶é—´ã€‚</p><blockquote><p>ä»¥ä¸‹ä¸ºä¸¤ç§åŠ¨æ€æ•£åˆ—ç´¢å¼•ğŸ—¡ï¼Œè€ƒé€‰æ‹©é¢˜ï¼Œæ³¨æ„åŒºåˆ«å’Œåå­—ã€‚</p></blockquote></li><li><p><strong>å¯æ‰©å±•æ•£åˆ—ç´¢å¼•</strong>ï¼š</p><ul><li><p>æœ‰ä¸€ä¸ªé™„åŠ çš„é—´æ¥å±‚ï¼ˆ<strong>æŒ‡é’ˆæ•°ç»„</strong>ï¼‰ï¼Œç³»ç»Ÿåœ¨è®¿é—®æ¡¶æœ¬èº«ä¹‹å‰å¿…é¡»å…ˆè®¿é—®æŒ‡é’ˆæ•°ç»„è¡¨ã€‚</p></li><li><p>æŒ‡é’ˆæ•°ç»„èƒ½å¢é•¿ï¼Œå…¶é•¿åº¦æ€»æ˜¯ <span class="math inline">\(2\)</span>çš„å¹‚ã€‚å› è€Œæ•°ç»„æ¯å¢é•¿ä¸€æ¬¡ï¼Œæ¡¶çš„æ•°ç›®å°±ç¿»å€ã€‚</p></li><li><p>å¤šä¸ªæ¡¶å¯èƒ½å…±äº«ä¸€ä¸ªæ•°æ®å—ï¼ˆå³å¤šä¸ªæŒ‡é’ˆæ•°ç»„æŒ‡å‘åŒä¸€ä¸ªæ•°æ®åº“ï¼‰ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211119162510134.png"></div></li><li><p>å‚æ•° <span class="math inline">\(k\)</span>è¡¨ç¤ºæ•£åˆ—å‡½æ•°æ‰€å¯èƒ½ä½¿ç”¨çš„<strong>æœ€å¤šä½æ•°</strong>ã€‚</p></li><li><p>æ•£åˆ—å‡½æ•°ï¼š</p><p>â€‹ æ•£åˆ—å‡½æ•° <span class="math inline">\(h\)</span> ä¸ºæ¯ä¸ªé”®è®¡ç®—å‡ºä¸€ä¸ª<strong><span class="math inline">\(k\)</span>ä½äºŒè¿›åˆ¶åºåˆ—</strong>ï¼ˆæ•£åˆ—å‡½æ•°å€¼ï¼‰ã€‚</p></li><li><p><span class="math inline">\(i\)</span>ä¸ºæ•£åˆ—å‡½æ•°å½“å‰å·²ç»ä½¿ç”¨åˆ°çš„æœ€å¤šä½æ•°ã€‚å–æ•£åˆ—å‡½æ•°å€¼çš„å‰ <span class="math inline">\(i\)</span>ä½ï¼ˆæ•£åˆ—å‰ç¼€ï¼‰ä¸ºä½œä¸ºè¦æ’å…¥æ¡¶çš„ç¼–å·ã€‚</p></li><li><p>æ’å…¥æŸä¸ªæ¡¶æ—¶å‘ç°å·²æ»¡ï¼Œåˆ™éœ€è¦æ‰©å±•æ•£åˆ—æ¡¶ï¼Œè¿›è¡Œåˆ†è£‚ï¼š</p><ul><li><p><span class="math inline">\(i\)</span> å¢ <span class="math inline">\(1\)</span>ï¼Œé‡æ–°æ•£åˆ—è¯¥å—çš„æ•°æ®åˆ°<strong>ä¸¤ä¸ªå—</strong>ä¸­ã€‚</p></li><li><p>å…¶ä»–çš„æ¡¶æŒ‰ç…§æ•£åˆ—å‰ç¼€é‡æ–°æŒ‡å‘å¯¹åº”æ•°æ®å—ï¼Œä¼šå‡ºç°å¤šä¸ªæ¡¶å…±äº«ä¸€ä¸ªå—çš„æƒ…å†µï¼ˆå› ä¸ºåœ¨åé¢åŠ <span class="math inline">\(0/1\)</span> æŒ‡å‘ä¸å˜ï¼‰ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211119162911341.png"></div></li></ul></li></ul><blockquote><p>ç¼ºç‚¹ï¼š</p><ul><li>ç¿»å€è¦å¤„ç†çš„å·¥ä½œé‡å¾ˆå¤§ã€‚</li><li>æ¡¶æ•°ç¿»å€åï¼Œä¸»å­˜å¯èƒ½è£…ä¸ä¸‹ã€‚</li><li>å¯èƒ½äº§ç”Ÿå¤§é‡ç©ºé—´æµªè´¹ï¼Œå› ä¸ºä¸€ä¸ªæ•°æ®å—æ»¡äº†å¾—ç¿»å€ï¼Œå…¶ä»–å—å¯èƒ½éƒ½æ²¡æœ‰å­˜å¤šå°‘æ•°æ®ã€‚</li></ul></blockquote></li><li><p><strong>çº¿æ€§æ•£åˆ—ç´¢å¼•</strong>ï¼š</p><ul><li><p>æ¡¶æ•°çš„é€‰æ‹©ï¼š</p><p>â€‹ä¿æŒä¸å­˜å‚¨å—æ‰€èƒ½å®¹çº³çš„è®°å½•æ€»æ•°æˆä¸€ä¸ª<strong>å›ºå®šçš„æ¯”ä¾‹</strong>ï¼Œä¾‹å¦‚<span class="math inline">\(80\%\)</span>ã€‚è¶…è¿‡æ­¤æ¯”ä¾‹ï¼Œåˆ™æ¡¶æ•°<strong>ä»…å¢é•¿<span class="math inline">\(1\)</span>å—</strong>ã€‚ä¸è¶…è¿‡è¿™ä¸ªæ¯”ä¾‹æ—¶å…è®¸æœ‰æº¢å‡ºæ¡¶ã€‚</p></li><li><p>å‡å®šæ•£åˆ—å‡½æ•°å€¼çš„ <span class="math inline">\(i\)</span>ä½ä¸ºæ¡¶æ•°ç»„é¡¹ç¼–å·ã€‚ç°åœ¨è¦æ’å…¥ä¸€ä¸ªé”®å€¼ä¸º <span class="math inline">\(K\)</span> çš„è®°å½•ï¼š</p><ul><li><p>é€šè¿‡æ•£åˆ—å‡½æ•°å¾—çŸ¥è¦æ’å…¥ç¼–å·ä¸º <span class="math inline">\(a_1 a_2\ldots a_i\)</span> çš„æ¡¶ä¸­ï¼Œå³ <span class="math inline">\(a_1 a_2\ldots a_i\)</span> æ˜¯ $h(K) $ çš„å <span class="math inline">\(i\)</span> ä½ã€‚è®¾ <span class="math inline">\(m=a_1 a_2 \ldots a_i\)</span>ï¼Œ<span class="math inline">\(n\)</span> ä¸ºå½“å‰çš„æ¡¶æ•°ã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(m&lt;n\)</span>ï¼Œåˆ™ç¼–å·ä¸º <span class="math inline">\(m\)</span> çš„æ¡¶å­˜åœ¨ï¼Œå¹¶æŠŠè®°å½•å­˜å…¥è¯¥æ¡¶ä¸­ã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(n \leqm&lt;2^i\)</span>ï¼Œé‚£ä¹ˆæ¡¶è¿˜ä¸å­˜åœ¨ï¼Œå› æ­¤æˆ‘ä»¬æŠŠè®°å½•å­˜å…¥æ¡¶ <span class="math inline">\(m-2^{i-1}\)</span>ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬<strong>æŠŠ <span class="math inline">\(a_1\)</span>ï¼ˆå®ƒç°åœ¨æ˜¯ <span class="math inline">\(1\)</span>)æ”¹ä¸º <span class="math inline">\(0\)</span> æ—¶å¯¹åº”çš„æ¡¶</strong>ã€‚</p></li><li><p>å¦‚æœæ’å…¥åä¸æ»¡è¶³æ¯”ä¾‹æ—¶ï¼Œè¦åˆ†è£‚ä¸€ä¸ªæ¡¶æˆä¸¤ä¸ªï¼Œè¿™ä¸ªè¦åˆ†è£‚çš„æ¡¶çš„ç¼–å·æ˜¯è¿™æ ·ç¡®å®šçš„ï¼š</p><p>â€‹ è®¾å½“å‰ <span class="math inline">\(n\)</span> å·²å¢ä¸€ï¼Œåˆ™åˆ†è£‚ä¸ <span class="math inline">\(n\)</span><strong>ä½ä½ç›¸åŒ</strong>è€Œ<strong>æœ€é«˜ä½ä¸åŒ</strong>çš„é‚£ä¸€ä¸ªæ¡¶ï¼Œå³å‡è®¾å½“å‰ä¸º<span class="math inline">\(n=1a_2a_3\cdots a_i\)</span>ï¼Œåˆ™å°±ä» <span class="math inline">\(0a_2a_3\cdots a_i\)</span> å¯¹åº”çš„æ¡¶åˆ†è£‚è€Œæ¥ã€‚</p><blockquote><p>å› ä¸ºå½“æ—¶æœ‰äº›è®°å½•æ˜¯å¼ºè¡Œæ’å…¥æ¡¶ä¸­çš„ï¼ˆä¸Šé¢ <span class="math inline">\(n\leq m&lt;2^i\)</span> çš„æƒ…å†µï¼Œé‚£æ—¶è¿˜æ²¡æœ‰ <span class="math inline">\(1a_2a_3\cdots a_i\)</span>è¿™ä¸ªæ¡¶ï¼Œä¹Ÿå¾—ç¡¬æ’ï¼‰ï¼Œæ’å…¥çš„æ¡¶å·å°±æ˜¯ <span class="math inline">\(0a_2a_3\cdotsa_i\)</span>ï¼Œç°åœ¨åˆ†è£‚äº†ï¼Œå°±å¯ä»¥æ’å…¥å¯¹åº”æ­£ç¡®çš„æ¡¶ä¸­äº†ã€‚</p></blockquote></li><li><p>åˆ†è£‚åªä¼šå½±å“åˆ†è£‚ä¹‹åçš„ä¸¤ä¸ªæ¡¶çš„è®°å½•ï¼Œå…¶ä»–ä¿æŒä¸å˜ã€‚</p></li><li><p>å½“æ¡¶æ•°è¶…è¿‡ <span class="math inline">\(2^i\)</span> ä¸ªæ¡¶æ—¶ï¼Œåˆ™ä½¿<span class="math inline">\(i\)</span> å¢ <span class="math inline">\(1\)</span>ã€‚</p></li></ul></li></ul></li></ul><h2 id="æ•°æ®åº“æŸ¥è¯¢å®ç°ç®—æ³•">æ•°æ®åº“æŸ¥è¯¢å®ç°ç®—æ³•</h2><h3 id="æ¦‚è¿°">æ¦‚è¿°</h3><ul><li><p>æŸ¥è¯¢ä¼˜åŒ–ï¼š</p><p>â€‹æ„é€ å…·æœ‰æœ€å°æŸ¥è¯¢æ‰§è¡Œä»£ä»·çš„æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’åº”å½“æ˜¯ç³»ç»Ÿçš„è´£ä»»ï¼Œè¿™é¡¹å·¥ä½œå«ä½œæŸ¥è¯¢ä¼˜åŒ–ï¼š</p><ul><li>åˆ©ç”¨æ¨¡å‹çš„è¯­ä¹‰åŠå®Œæ•´æ€§è§„åˆ™ï¼Œä¼˜åŒ–æŸ¥è¯¢ã€‚</li><li>å»æ‰æ— å…³çš„è¡¨</li><li>å»æ‰æ— å…³çš„å±æ€§</li><li>æ”¹å†™æˆç­‰ä»·çš„æ•ˆæœæ›´å¥½çš„è¯­å¥</li></ul></li><li><p>é€»è¾‘å±‚ä¼˜åŒ–ï¼š</p><p>â€‹ ä¼˜åŒ–å…³ç³»ä»£æ•°æ“ä½œæ‰§è¡Œæ¬¡åºï¼Œ<a href="#è¯­æ³•ä¼˜åŒ–æŠ€æœ¯">åé¢ä¼šè¯¦ç»†è®²</a>ã€‚</p></li><li><p>ç‰©ç†å±‚ä¼˜åŒ–ï¼š</p><p>â€‹ ä¼˜åŒ–å…³ç³»ä»£æ•°æ“ä½œå®ç°ç®—æ³•ï¼Œå­˜å–è·¯å¾„ä¸æ‰§è¡Œæ¬¡åºã€‚</p><blockquote><p>ä¸ºæ¯ä¸€ä¸ªå…³ç³»ä»£æ•°æ“ä½œé€‰æ‹©ä¼˜åŒ–çš„æ‰§è¡Œ<strong>ä¾‹è¡Œç¨‹åº</strong>ï¼Œå½¢æˆ<strong>ç‰©ç†æŸ¥è¯¢è®¡åˆ’</strong>ã€‚</p></blockquote></li><li><p>ç‰©ç†å±‚ä¼˜åŒ–çš„æŸ¥è¯¢å®ç°ï¼š</p><ul><li>DBA è·å–æ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯ï¼ˆ<strong>å®šæœŸç»Ÿè®¡</strong>ï¼‰ã€‚</li><li>é€‰æ‹©ç›¸åº”æ“ä½œçš„ä¾‹è¡Œç¨‹åº</li><li>ä¾æ®ç›¸å…³ä¿¡æ¯è¿›è¡Œ<strong>ä»£ä»·ä¼°ç®—</strong>ï¼Œå¹¶é€‰æ‹©ä»£ä»·æœ€å°‘çš„ä¾‹è¡Œç¨‹åºåŠç¡®å®šç›¸åº”çš„å‚æ•°ã€‚</li><li>å½¢æˆæŸ¥è¯¢è®¡åˆ’ï¼Œä»¥åŸºæœ¬çš„ä¾‹è¡Œç¨‹åºä¸ºåŸºæœ¬æ­¥éª¤ï¼Œç¡®å®šè¿™äº›ä¾‹è¡Œç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚</li></ul></li><li><p>ä¸€æ¬¡å•ä¸€å…ƒç»„çš„ä¸€å…ƒæ“ä½œï¼ˆé€‰æ‹©å’ŒæŠ•å½±ï¼‰ï¼š</p><ul><li>é€‰æ‹© <span class="math inline">\(\sigma_F(R)\)</span></li><li>æŠ•å½± <span class="math inline">\(\pi_{\alpha}(R)\)</span></li></ul></li><li><p>æ•´ä¸ªå…³ç³»çš„ä¸€å…ƒæ“ä½œï¼š</p><ul><li>å»é‡ <span class="math inline">\(\delta(R),\rmDISTINCT\)</span></li><li>èšé›† <span class="math inline">\(\gamma(R),\rm GROUPBY\)</span></li><li>æ’åº <span class="math inline">\(\tau(R),\rm SORTING\)</span></li></ul></li><li><p>æ•´ä¸ªå…³ç³»çš„äºŒå…ƒæ“ä½œï¼š</p><ul><li><p>é›†åˆä¸Šçš„æ“ä½œ:</p><p>â€‹ <span class="math inline">\(\cup_S, \cap_S,-S\)</span></p></li><li><p>åŒ…ï¼ˆå…è®¸é‡å¤çš„é›†åˆï¼‰ä¸Šçš„æ“ä½œï¼š</p><p>â€‹ <span class="math inline">\(\cup_B, \cap_B,-B\)</span></p></li><li><p>ç¬›å¡å°”ç§¯ï¼Œè¿æ¥ï¼š</p><p>â€‹ <span class="math inline">\(\rm PRODUCT,JOIN\)</span></p></li></ul></li></ul><h3 id="è¿æ¥æ“ä½œçš„å®ç°ç®—æ³•">è¿æ¥æ“ä½œçš„å®ç°ç®—æ³•</h3><ul><li><p>å…³ç³»çš„ç‰©ç†å­˜å‚¨ç›¸å…³çš„å‚æ•°ï¼š</p><blockquote><p>å…³ç³»æ˜¯å­˜å‚¨åœ¨<strong>ç£ç›˜</strong>ä¸Šçš„ï¼Œç£ç›˜æ˜¯ä»¥<strong>ç£ç›˜å—ä¸ºæ“ä½œå•ä½</strong>ï¼Œé¦–å…ˆè¦è¢«è£…è½½è¿›<strong>å†…å­˜</strong>ï¼ˆI/Oæ“ä½œï¼‰ï¼Œç„¶åå†è¿›è¡Œå…ƒç»„çš„å¤„ç†ã€‚</p></blockquote><ul><li><p><span class="math inline">\(T_R\)</span>ï¼š</p><p>â€‹ å…³ç³» R çš„<strong>å…ƒç»„æ•°ç›®</strong>ã€‚</p></li><li><p><span class="math inline">\(B_R\)</span>ï¼š</p><p>â€‹ å…³ç³» R çš„<strong>ç£ç›˜å—</strong>æ•°ç›®ã€‚</p></li><li><p>$ M$ï¼š</p><p>â€‹<strong>ä¸»å­˜</strong>ç¼“å†²åŒºçš„é¡µæ•°ï¼ˆä¸»å­˜æ¯é¡µå®¹é‡ç­‰äºä¸€ä¸ªç£ç›˜å—çš„å®¹é‡ï¼‰ã€‚</p></li><li><p><span class="math inline">\(I_R\)</span>ï¼š</p><p>â€‹ å…³ç³» R çš„æ¯ä¸ª<strong>å…ƒç»„çš„å­—èŠ‚æ•°</strong>ã€‚</p></li><li><p><span class="math inline">\(b\)</span>ï¼š</p><p>â€‹ æ¯ä¸ª<strong>ç£ç›˜å—çš„å­—èŠ‚æ•°</strong>ã€‚ <span class="math display">\[B_{R\times S}=T_R T_S(I_R+I_S) / b\]</span></p></li></ul><blockquote><p>ä¸‹é¢è®¨è®ºå„ç§è¿æ¥æ“ä½œçš„å®ç°ç®—æ³•ğŸ—¡ï¼š</p><ul><li>å› ä¸º I/O æ“ä½œæ‰€éœ€æ—¶é—´è¿œå¤§äºå†…å­˜æ“ä½œï¼Œä¸‹é¢ä»…è€ƒè™‘ I/Oç”¨æ—¶ï¼ˆæ¬¡æ•°ï¼‰ã€‚</li><li>å¿½ç•¥å†™å›ç»“æœæ‰€éœ€æ—¶é—´ï¼ˆä¹Ÿå°±æ˜¯è¯´åªè€ƒè™‘ I(input) æ²¡æœ‰O(output)ï¼‰ï¼Œå› ä¸ºå¾ˆéš¾ä¼°è®¡ã€‚</li></ul></blockquote></li><li><p>è¿æ¥æ“ä½œç®—æ³• <span class="math inline">\(P_1\)</span>ï¼ˆä¸»å­˜åˆ©ç”¨ç‡ä½ï¼‰ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* I/O æ“ä½œ */</span><br>For i = <span class="hljs-number">1</span> to BR<br>read i-th block of R       <span class="hljs-comment">// æ‰§è¡Œ BR æ¬¡</span><br>For j = <span class="hljs-number">1</span> to BS<br>read j-th block of S   <span class="hljs-comment">// æ‰§è¡Œ BR * BS æ¬¡</span><br>    <br>    <span class="hljs-comment">/* å†…å­˜æ“ä½œ */</span><br>For p = <span class="hljs-number">1</span> to b/IR      <span class="hljs-comment">// å–å…ƒç»„ï¼Œb/IR è¡¨ç¤ºä¸€ä¸ªç£ç›˜å—æœ‰å¤šå°‘ä¸ªå…³ç³» R çš„å…ƒç»„</span><br>read p-th record of R<br>For q = <span class="hljs-number">1</span> to b/IS<br>read q-th record of S<br>                <span class="hljs-keyword">if</span> R.A å…³ç³» S.B then<br>                    ä¸²æ¥ p-th record of Rå’Œq-th record of S;<br>                    å­˜å…¥ç»“æœå…³ç³»;<br></code></pre></td></tr></tbody></table></figure><p>I/O æ¬¡æ•°ä¼°è®¡ä¸º <span class="math inline">\(B_R + B_R\timesB_S\)</span></p></li><li><p>è¿æ¥æ“ä½œçš„å…¨ä¸»å­˜å®ç°ç®—æ³• <span class="math inline">\(P_2\)</span>ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/* ç®—æ³•å‡å®šå†…å­˜å¤§å° M &gt;= BR + BSï¼Œå³åªéœ€è¦è¯»ä¸€éå…³ç³» R å’Œ S çš„ç£ç›˜å— */</span><br>For i = <span class="hljs-number">1</span> to BR <br>read i-th block of R<br>For j = <span class="hljs-number">1</span> to BS <br>read j-th block of S<br><span class="hljs-comment">/* å†…å­˜æ“ä½œç¨æœ‰ä¸åŒï¼Œä¸æ˜¯é‡ç‚¹ */</span><br></code></pre></td></tr></tbody></table></figure><p>I/O æ¬¡æ•°ä¼°è®¡ä¸º <span class="math inline">\(B_R +B_S\)</span></p></li><li><p>è¿æ¥æ“ä½œçš„åŠä¸»å­˜å®ç°ç®—æ³• <span class="math inline">\(P_3\)</span>ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ç®—æ³•å‡å®šå†…å­˜å¤§å°min(BR,BS) &lt; M &lt; BR + BSï¼Œè¿™é‡Œå‡è®¾è¾ƒå°çš„æ˜¯ BRï¼Œè¯»ä¸€æ¬¡ R çš„ç£ç›˜å—æ”¾å†…å­˜ï¼ŒS çš„æ¯æ¬¡è¯»å°±å¤„ç†ï¼Œä¸ç”¨å…¨éƒ¨æ”¾å…¥å†…å­˜å†å¤„ç† */</span><br>For i = <span class="hljs-number">1</span> to BR <br>read i-th block of R<br>For j = <span class="hljs-number">1</span> to BS <span class="hljs-comment">//ä¸€æ¬¡è¯»å…¥ä¸€å—å…³ç³» S çš„ç£ç›˜å—</span><br>read j-th block of S<br><span class="hljs-comment">/* å†…å­˜æ“ä½œç¨æœ‰ä¸åŒï¼Œä¸æ˜¯é‡ç‚¹ */</span><br></code></pre></td></tr></tbody></table></figure><p>I/O æ¬¡æ•°ä¼°è®¡ä¸º <span class="math inline">\(B_R +B_S\)</span></p></li><li><p>è¿æ¥æ“ä½œçš„å¤§å…³ç³»å®ç°ç®—æ³• <span class="math inline">\(P_4\)</span>ï¼ˆå°†ä¸»å­˜å……åˆ†åˆ©ç”¨ï¼‰ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* æŠŠå…³ç³» R åˆ’åˆ†ä¸º BR/(M-2) ä¸ªå­é›†åˆï¼Œæ¯ä¸ªå­é›†åˆå…·æœ‰ M-2 å—ã€‚ä»¤ MR ä¸º M-2 å—å®¹é‡çš„ä¸»å­˜ç¼“å†²åŒºï¼Œ</span><br><span class="hljs-comment">* MS ä¸º 1 å—å®¹é‡çš„ S çš„ä¸»å­˜ç¼“å†²åŒºï¼Œè¿˜æœ‰ 1 å—ä½œä¸ºè¾“å‡ºç¼“å†²åŒºã€‚</span><br><span class="hljs-comment">*/</span><br>For i = <span class="hljs-number">1</span> to BR/(M<span class="hljs-number">-2</span>) <span class="hljs-comment">//ä¸€æ¬¡è¯»å…¥M-2å—</span><br>read i-th Sub-<span class="hljs-built_in">set</span> of R into MR      <span class="hljs-comment">// æ‰§è¡Œ BR/(M-2) æ¬¡,æ€»å…± BR æ¬¡ I/O   </span><br>For j = <span class="hljs-number">1</span> to BS <span class="hljs-comment">//ä¸€æ¬¡è¯»å…¥ä¸€å—</span><br>read j-th block of S into MS    <span class="hljs-comment">// æ‰§è¡Œ BR/(M-2) * BS æ¬¡</span><br>For p = <span class="hljs-number">1</span> to (M<span class="hljs-number">-2</span>)b/IR<br><span class="hljs-comment">/* å†…å­˜æ“ä½œç¨æœ‰ä¸åŒï¼Œä¸æ˜¯é‡ç‚¹ */</span><br></code></pre></td></tr></tbody></table></figure><p>I/O æ¬¡æ•°ä¼°è®¡ä¸º <span class="math inline">\(B_S(B_R /(M-2)) +B_R\)</span></p><blockquote><p>è¿­ä»£å™¨ä¸è€ƒã€‚</p></blockquote></li></ul><h3 id="ä¸€è¶Ÿæ‰«æç®—æ³•">ä¸€è¶Ÿæ‰«æç®—æ³•</h3><ul><li><p>å…³ç³» <span class="math inline">\(R\)</span> æ•°æ®è¯»å–ï¼š</p><blockquote><p><span class="math inline">\(B(R)\)</span> æ˜¯ <span class="math inline">\(R\)</span>çš„<strong>å­˜å‚¨å—</strong>ï¼ˆç£ç›˜å—ï¼‰æ•°ç›®</p><p><span class="math inline">\(T(R)\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„<strong>å…ƒç»„</strong>æ•°ç›®</p><p>å¿½ç•¥å†™å›ä»£ä»·</p></blockquote><ul><li><p>èšç°‡å…³ç³»ï¼š</p><blockquote><p>æŒ‡å…³ç³»çš„å…ƒç»„é›†ä¸­å­˜æ”¾ï¼ˆä¸€ä¸ªå—ä¸­ä»…æ˜¯ä¸€ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ï¼‰ã€‚</p></blockquote><ul><li><p>TableScan(R) ä¸ºè¡¨ç©ºé—´æ‰«æç®—æ³•ï¼š</p><p>â€‹ æ‰«æç»“æœæœªæ’åº <span class="math inline">\(B(R)\)</span></p></li><li><p>SortTableScan(R)ï¼š</p><p>â€‹ æ‰«æç»“æœ<strong>æ’åº</strong> <span class="math inline">\(B(R)\quador\quad 3B(R)\)</span></p><blockquote><p>å†…å­˜è£…å¾—ä¸‹ <span class="math inline">\(R\)</span> å°±åªéœ€è¦ <span class="math inline">\(B(R)\)</span>ï¼Œå¦åˆ™éœ€è¦ <span class="math inline">\(3B(R)\)</span>ï¼š</p><ul><li>å…ˆè¯»ä¸€é <span class="math inline">\(R\)</span>ï¼Œåšç¬¬ä¸€è¶Ÿæ’åºã€‚</li><li>å†™å›ç£ç›˜ä¸€æ¬¡ï¼Œå› ä¸ºè¿˜éœ€è¦ç¬¬äºŒè¶Ÿæ’åºã€‚</li><li>å†å¤šè·¯è¯» <span class="math inline">\(R\)</span>ï¼Œåšå½’å¹¶æ’åºã€‚</li><li>ä¸è€ƒè™‘å†™å›ï¼Œä¸Šé¢å…± <span class="math inline">\(3B(R)\)</span>ã€‚</li></ul></blockquote></li><li><p>IndexScan(R) ä¸ºç´¢å¼•æ‰«æç®—æ³•ï¼š</p><p>â€‹ æ‰«æç»“æœæœªæ’åº <span class="math inline">\(B(R)\)</span></p></li><li><p>SortIndexScan(R)ï¼š</p><p>â€‹ æ‰«æç»“æœæ’åº <span class="math inline">\(B(R)\quad or\quad3B(R)\)</span></p></li></ul></li><li><p>éèšç°‡å…³ç³»ï¼š</p><blockquote><p>å…³ç³»çš„å…ƒç»„ä¸ä¸€å®šé›†ä¸­å­˜æ”¾ï¼ˆä¸€ä¸ªå—ä¸­ä¸ä»…æ˜¯ä¸€ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ï¼‰ã€‚æœ€åæƒ…å†µä¸‹å°±æ˜¯ç›¸é‚»çš„å…ƒç»„éƒ½ä¸åœ¨åŒä¸€ç£ç›˜å—ï¼Œæ¯æ¬¡éƒ½è¦è¯»ä¸€ä¸ªæ–°ç£ç›˜ã€‚</p></blockquote><ul><li>æ‰«æç»“æœæœªæ’åºä¸º <span class="math inline">\(T(R)\)</span></li><li>æ‰«æç»“æœæ’åºä¸º <span class="math inline">\(T(R) +2B(R)\)</span></li></ul></li></ul></li><li><p>å»é‡å¤ <span class="math inline">\(\&amp;(R)\)</span>ï¼š</p><ul><li>åœ¨<strong>å†…å­˜ä¸­ä¿å­˜</strong>å·²å¤„ç†è¿‡çš„å…ƒç»„ã€‚</li><li>å½“æ–°å…ƒç»„åˆ°è¾¾æ—¶ï¼Œéœ€ä¸ä¹‹å‰å¤„ç†è¿‡çš„å…ƒç»„è¿›è¡Œæ¯”è¾ƒã€‚</li><li>å»ºç«‹ä¸åŒçš„<strong>å†…å­˜æ•°æ®ç»“æ„</strong>ï¼ˆæ’åºç»“æ„/æ•£åˆ—ç»“æ„/B+æ ‘ï¼‰ï¼Œæ¥ä¿å­˜ä¹‹å‰å¤„ç†è¿‡çš„æ•°æ®ï¼Œä»¥ä¾¿å¿«é€Ÿåˆ¤æ–­æ˜¯å¦é‡å¤ã€‚</li><li>ç®—æ³•å¤æ‚æ€§ä¸º <span class="math inline">\(B(R)\)</span></li><li>åº”ç”¨æ¡ä»¶ä¸º <span class="math inline">\(B(\&amp;(R))\leM\)</span></li></ul></li><li><p>åˆ†ç»„èšé›† <span class="math inline">\(\gamma _L(R)\)</span></p><ul><li><p>éœ€è¦åœ¨å†…å­˜ä¸­ä¿å­˜æ‰€æœ‰çš„åˆ†ç»„ï¼Œä¿å­˜æ¯ä¸ªåˆ†ç»„ä¸Šçš„èšé›†ä¿¡æ¯ã€‚</p></li><li><p>å»ºç«‹ä¸åŒçš„å†…å­˜æ•°æ®ç»“æ„ï¼ˆæ’åºç»“æ„/æ•£åˆ—ç»“æ„/B+æ ‘ï¼‰ï¼Œæ¥ä¿å­˜ä¹‹å‰å¤„ç†è¿‡çš„æ•°æ®ï¼Œä»¥ä¾¿å¿«é€Ÿå¤„ç†æ•´ä¸ªå…³ç³»ä¸Šçš„æ“ä½œã€‚</p></li><li><p>ç®—æ³•å¤æ‚æ€§ä¸º <span class="math inline">\(B(R)\)</span></p></li><li><p>åº”ç”¨æ¡ä»¶ä¸º<strong>æ‰€æœ‰åˆ†ç»„çš„æ•°é‡åº”èƒ½åœ¨å†…å­˜ä¸­å®Œæ•´ä¿å­˜</strong>ã€‚</p></li></ul></li><li><p>é›†åˆæˆ–è€…åŒ…ä¸Šçš„äºŒå…ƒè¿ç®—ï¼š</p><ul><li><strong>æ‰«æä¸€ä¸ªå…³ç³»</strong> <span class="math inline">\(R\)</span>ï¼Œç„¶å<strong>å†æ‰«æå¦ä¸€ä¸ªå…³ç³»</strong><span class="math inline">\(S\)</span>ã€‚</li><li>é›†åˆçš„æ“ä½œéœ€è¦å»é‡å¤ã€‚åŒ…çš„æ“ä½œéœ€è¦åšè®¡æ•°æ¯ä¸ªå…ƒç»„çš„<strong>å‡ºç°æ¬¡æ•°</strong>ï¼ˆå…·ä½“æ“ä½œè¿˜éœ€å…·ä½“åˆ†æï¼‰ã€‚</li><li>ç®—æ³•å¤æ‚æ€§ä¸º <span class="math inline">\(B(R)+B(S)\)</span></li><li>åº”ç”¨æ¡ä»¶ä¸º <span class="math inline">\(min(B(R), B(S))\leM\)</span>ï¼ˆåªè¦ç”¨ä¸€ä¸ªèƒ½æ”¾å…¥å†…å­˜å°±è¡Œï¼‰ã€‚</li></ul></li><li><p>è¿æ¥æ“ä½œå®ç°ç®—æ³• <span class="math inline">\(P_4\)</span>çš„æ”¹è¿›ï¼š</p><ul><li>ä¸»è¦æ€æƒ³å°±æ˜¯æŠŠå†…å­˜æ“ä½œçš„ä¸¤é‡å¾ªç¯é€šè¿‡æ•£åˆ—çš„æ–¹å¼ï¼Œå‹ç¼©åˆ°ä¸€é‡å¾ªç¯å°±è¡Œã€‚</li><li>æ•£åˆ—å‡½æ•°å¯å–è¿æ¥æ¡ä»¶ä¸­çš„ç›¸åº”å±æ€§ï¼Œä½¿å¾—<strong>æ•£åˆ—ç»“æœç›¸åŒè¯´æ˜è¿™ä¸¤ä¸ªå±æ€§æ»¡è¶³è¿æ¥æ¡ä»¶</strong>ã€‚</li></ul></li></ul><h3 id="åŸºäºç´¢å¼•çš„é€‰æ‹©ç®—æ³•">åŸºäºç´¢å¼•çš„é€‰æ‹©ç®—æ³•</h3><ul><li><p><strong>é€‰æ‹©</strong>æ¡ä»¶ä¸­æœ‰æ¶‰åŠåˆ°<strong>ç´¢å¼•å±æ€§</strong>æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œè¾…åŠ©å¿«é€Ÿæ£€ç´¢ã€‚</p></li><li><p>èšç°‡å’Œéèšç°‡ç´¢å¼•ï¼Œä½¿ç”¨æ—¶å…¶æ•ˆç‡æ˜¯ä¸ä¸€æ ·çš„ã€‚</p></li><li><p>æ¡ˆä¾‹åˆ†æğŸ—¡ï¼š</p><ul><li><p>å‡è®¾ <span class="math inline">\(B(R)=1000,T(R)=20000\)</span>ï¼Œå³ <span class="math inline">\(R\)</span> æœ‰ <span class="math inline">\(20000\)</span> ä¸ªå…ƒç»„å­˜æ”¾åˆ° <span class="math inline">\(1000\)</span> ä¸ªå—ä¸­ã€‚</p></li><li><p><span class="math inline">\(a\)</span> æ˜¯ <span class="math inline">\(R\)</span> çš„ä¸€ä¸ªå±æ€§ï¼Œåœ¨ <span class="math inline">\(a\)</span> ä¸Šæœ‰ä¸€ä¸ªç´¢å¼•ï¼Œå¹¶ä¸”è€ƒè™‘ <span class="math inline">\(\sigma_{a=0}(R)\)</span> æ“ä½œï¼š</p><ul><li><p>å¦‚æœ <span class="math inline">\(R\)</span>æ˜¯<strong>èšç°‡</strong>çš„ï¼Œä¸”<strong>ä¸ä½¿ç”¨ç´¢å¼•</strong>ï¼ŒæŸ¥è¯¢ä»£ä»· <span class="math inline">\(=~1000\)</span> ä¸ª I/Oã€‚</p><blockquote><p>ä¸€ä¸ªå—ä¸­ä»…æ˜¯ä¸€ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ï¼Œæ‰€ä»¥æœ€å¤šéå† <span class="math inline">\(1000\)</span> æ¬¡ç£ç›˜å—å°±èƒ½æ‰¾åˆ°æ‰€ä»¥å…ƒç»„ã€‚</p></blockquote></li><li><p>å¦‚æœ <span class="math inline">\(R\)</span><strong>ä¸æ˜¯èšç°‡</strong>çš„ï¼Œä¸”<strong>ä¸ä½¿ç”¨ç´¢å¼•</strong>ï¼ŒæŸ¥è¯¢ä»£ä»·<span class="math inline">\(=~20000\)</span> ä¸ª I/Oã€‚</p><blockquote><p>ä¸€ä¸ªå—ä¸­ä¸ä»…æ˜¯ä¸€ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ï¼Œå¯èƒ½å«æœ‰å…¶ä»–æ•°æ®ï¼Œå¿…é¡»é€šè¿‡å…ƒç»„çš„æŒ‡é’ˆè¿›è¡Œéå†ï¼Œæ‰€ä»¥è¦è®¿é—®<span class="math inline">\(20000\)</span>ä¸ªå…ƒç»„ï¼Œè€ƒè™‘æœ€åæƒ…å†µï¼Œç›¸é‚»å…ƒç»„éƒ½ä¸åœ¨åŒä¸€ä¸ªå—ï¼Œé‚£ä¹ˆå°±è¦è®¿é—® <span class="math inline">\(20000\)</span> ä¸ªå—ã€‚</p></blockquote><blockquote><p><span class="math inline">\(V(A, R)\)</span> è¡¨ç¤º <span class="math inline">\(R\)</span> ä¸­å±æ€§ <span class="math inline">\(A\)</span> å‡ºç°ä¸åŒå€¼çš„æ•°ç›®ï¼Œå³ <span class="math inline">\(\Pi_A(R)\)</span> çš„æ•°ç›®ã€‚</p><p>PPT ä¸­ <span class="math inline">\(A,R\)</span>çš„é¡ºåºæ—¶å¸¸å‘ç”Ÿæ”¹å˜ï¼Œè¯¢é—®è€å¸ˆè¯´éƒ½å¯ä»¥ã€‚ä¹¦ä¸Šæ˜¯å±æ€§åœ¨å‰ï¼Œå…³ç³»ååœ¨åã€‚ä¸ºäº†ç»Ÿä¸€å†™æ³•ï¼Œä¸‹é¢å…¨éƒ¨é‡‡ç”¨ä¹¦æœ¬çš„å½¢å¼ï¼Œå› æ­¤å’ŒPPT å‡ ä¹éƒ½æ˜¯ç›¸åçš„ã€‚</p></blockquote></li><li><p>å¦‚æœ <span class="math inline">\(V(a,R)=100\)</span>ä¸”ç´¢å¼•æ˜¯èšç°‡çš„ï¼ŒæŸ¥è¯¢ä»£ä»·ä¼°è®¡ <span class="math inline">\(=1000/100=10\)</span> ä¸ª I/Oã€‚</p><blockquote><p>æœ‰ç´¢å¼•çš„å¸®åŠ©ï¼Œå¯ä»¥å¿«é€Ÿå®šä½åˆ°è¿™ä¸ªå…ƒç»„ï¼Œå†åŠ ä¸Šæ˜¯èšç°‡çš„ï¼Œæ‰€ä»¥ç›¸åŒå€¼çš„ä¹Ÿæ˜¯ç›¸é‚»çš„ã€‚</p><p>å› ä¸ºæœ‰ <span class="math inline">\(100\)</span>ä¸ªä¸åŒçš„å€¼ï¼Œæ‰€ä»¥åœ¨æœ€åæƒ…å†µä¸‹å¹³å‡åˆ†æ•£åˆ° <span class="math inline">\(10\)</span> ä¸ªå—é‡Œé¢ã€‚</p></blockquote></li><li><p>å¦‚æœ <span class="math inline">\(V(a,R)=100\)</span>ä¸”ç´¢å¼•æ˜¯éèšç°‡çš„ï¼ŒæŸ¥è¯¢ä»£ä»· <span class="math inline">\(=~20000/100=200\)</span> ä¸ª I/Oã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(V(a,R)=20000\)</span>ï¼Œå³ <span class="math inline">\(a\)</span> æ˜¯å…³é”®å­—ï¼Œä¸»é”®ç´¢å¼•ï¼ŒæŸ¥è¯¢ä»£ä»· <span class="math inline">\(=~20000/20000=1\)</span> ä¸ªI/Oï¼Œä¸ç®¡æ˜¯å¦æ˜¯èšç°‡çš„ã€‚</p></li></ul></li></ul></li><li><p>åŸºäºæœ‰åºç´¢å¼•çš„è¿æ¥ç®—æ³•ï¼ˆZig-Zag è¿æ¥ç®—æ³•ï¼‰:</p><ul><li>ä»¥ <span class="math inline">\(R\)</span> å’Œ <span class="math inline">\(S\)</span> åšç­‰å€¼è¿æ¥ä¸ºä¾‹ã€‚</li><li><span class="math inline">\(R\)</span> å’Œ <span class="math inline">\(S\)</span> éƒ½æœ‰åœ¨ <span class="math inline">\(Y\)</span> å±æ€§ä¸Šçš„ B+ æ ‘ç´¢å¼•ã€‚</li><li><span class="math inline">\(R\)</span> å’Œ <span class="math inline">\(S\)</span> å‡ä»å·¦è‡³å³è¯»å–ç´¢å¼•æ ‘çš„å¶å­ç»“ç‚¹ï¼š<ol type="1"><li>è¯» <span class="math inline">\(R\)</span> çš„ç¬¬ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(a\)</span>ï¼Œå†è¯» <span class="math inline">\(S\)</span> çš„ç¬¬ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(b\)</span>ï¼›</li><li>å¦‚æœ <span class="math inline">\(a\not=b\)</span>ï¼Œåˆ™ï¼š<ul><li>å¦‚æœ <span class="math inline">\(a&lt;b\)</span>ï¼Œåˆ™å°† <span class="math inline">\(R\)</span> çš„ä¸‹ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(a\)</span>ï¼Œç»§ç»­æ‰§è¡Œ <span class="math inline">\(2\)</span>ã€‚</li><li>å¦‚æœ <span class="math inline">\(a&gt;b\)</span>ï¼Œåˆ™å°† <span class="math inline">\(S\)</span> çš„ä¸‹ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(b\)</span>ï¼Œç»§ç»­æ‰§è¡Œ <span class="math inline">\(2\)</span>ã€‚</li></ul></li><li>å¦‚æœ <span class="math inline">\(a=b\)</span>ï¼Œåˆ™å°† <span class="math inline">\(R\)</span> å’Œ <span class="math inline">\(S\)</span> å…³ç³»ä¸­å¯¹åº”çš„å…ƒç»„è¯»å‡ºå¹¶è¿›è¡Œè¿æ¥ï¼Œç›´åˆ°<span class="math inline">\(R\)</span> çš„æ‰€æœ‰ç›¸ç­‰çš„ <span class="math inline">\(a\)</span> å€¼å’Œ <span class="math inline">\(S\)</span> çš„æ‰€æœ‰ç›¸ç­‰çš„ <span class="math inline">\(b\)</span> å€¼å¯¹åº”çš„å…ƒç»„éƒ½å¤„ç†å®Œæ¯•ï¼Œå°† <span class="math inline">\(R\)</span> çš„ä¸‹ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(a\)</span>ï¼Œå°† <span class="math inline">\(S\)</span> çš„ä¸‹ä¸€ä¸ªç´¢å¼•é¡¹èµ‹äºˆ <span class="math inline">\(b\)</span>ï¼Œç»§ç»­æ‰§è¡Œ <span class="math inline">\(2\)</span>ã€‚</li></ol></li></ul></li></ul><h3 id="ä¸¤é˜¶æ®µå¤šè·¯å½’å¹¶æ’åº-tpmms">ä¸¤é˜¶æ®µå¤šè·¯å½’å¹¶æ’åº TPMMS</h3><blockquote><p>å®éªŒåšï¼Œè€ƒè¯•è€å¸ˆè¯´ä¸ä¼šè€ƒã€‚</p></blockquote><ul><li><p>åŸºæœ¬æ€è·¯ï¼š</p><ul><li><p>ç¬¬ä¸€è¶Ÿï¼š</p><p>â€‹ åˆ’åˆ†å­é›†ï¼Œå¹¶ä½¿å­é›†å…·æœ‰æŸç§ç‰¹æ€§ï¼Œå¦‚æœ‰åºæˆ–ç›¸åŒæ•£åˆ—å€¼ç­‰ã€‚</p></li><li><p>ç¬¬äºŒè¶Ÿï¼š</p><p>â€‹å¤„ç†å…¨å±€æ€§å†…å®¹çš„æ“ä½œï¼Œå½¢æˆ<strong>ç»“æœ</strong>å…³ç³»ã€‚å¦‚<strong>å¤šå­é›†é—´çš„å½’å¹¶æ’åº</strong>ï¼Œç›¸åŒæ•£åˆ—å€¼å­é›†çš„æ“ä½œç­‰ã€‚</p></li></ul></li><li><p>å†…æ’åºï¼š</p><p>â€‹å¾…æ’åºçš„æ•°æ®å¯ä¸€æ¬¡æ€§åœ°è£…å…¥å†…å­˜ä¸­ï¼Œå³æ’åºè€…å¯ä»¥å®Œæ•´åœ°çœ‹åˆ°å’Œæ“çºµæ‰€æœ‰æ•°æ®ã€‚å†…å­˜ä¸­æ•°æ®çš„æ’åºç®—æ³•æœ‰æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å†’æ³¡æ’åºç­‰ã€‚</p></li><li><p>å¤–æ’åºï¼š</p><p>â€‹å¾…æ’åºçš„æ•°æ®ä¸èƒ½ä¸€æ¬¡æ€§è£…å…¥å†…å­˜ï¼Œå³æ’åºè€…ä¸èƒ½ä¸€æ¬¡å®Œæ•´åœ°çœ‹åˆ°å’Œæ“çºµæ‰€æœ‰æ•°æ®ï¼Œéœ€è¦å°†æ•°æ®åˆ†æ‰¹è£…å…¥å†…å­˜åˆ†æ‰¹å¤„ç†çš„æ’åºé—®é¢˜ã€‚</p></li><li><p>å¤šè·¯å½’å¹¶çš„è¿‡ç¨‹ï¼ˆä»…ç®€å•åˆ†æï¼‰ï¼š</p><ul><li><p>è®¾å†…å­˜å—æ•°ä¸º <span class="math inline">\(B_{memory}\)</span>ï¼Œå¾…æ’åºæ•°æ®å—æ•°ä¸º <span class="math inline">\(B_{problem}\)</span>ã€‚</p></li><li><p>ç¬¬ä¸€è¶Ÿåˆ’åˆ†å­é›†å¹¶æ’åºï¼Œè¿™é‡Œè¦æ±‚æ¯ä¸ªå­é›†çš„å—æ•°è¦å°äºç­‰äºå†…å­˜å—æ•°<span class="math inline">\(B_{memory}\)</span>ï¼ŒI/O æ¬¡æ•°ä¸º <span class="math inline">\(2B_{problem}\)</span>ã€‚</p></li><li><p>ç¬¬äºŒè¶Ÿå„å­é›†é—´çš„å½’å¹¶æ’åºï¼Œè¿™é‡Œè¦æ±‚å­é›†çš„æ•°ç›®è¦å°äºå†…å­˜å—æ•° <span class="math inline">\(B_{memory}\)</span>ï¼ŒI/O æ¬¡æ•°ä¸º <span class="math inline">\(2B_{problem}\)</span>ã€‚</p><blockquote><p>è¿™ä¸¤ä¸ªé™åˆ¶è¯´æ˜å¤§æ•°æ®é›†å—æ•° <span class="math inline">\(\leB^2_{memory}\)</span>ã€‚</p><p>åŒæ—¶å†…å­˜çš„å—ä¸­å¾—æœ‰ä¸€å—ç”¨æ¥è¾“å‡ºï¼ˆç¬¬ä¸€è¶Ÿä¸éœ€è¦è¾“å‡ºå—ï¼‰ï¼Œä¸€å—ç”¨æ¥æ¯”è¾ƒï¼ˆè€å¸ˆè¯´å¯ä»¥æ²¡æœ‰ï¼‰ã€‚</p></blockquote></li><li><p>ç®—æ³•çš„æ•ˆç‡ï¼š</p><p>â€‹ è¯»å†™ç£ç›˜å—çš„æ¬¡æ•°ï¼Œå³ I/O æ•° <span class="math inline">\(=4B_{problem}\)</span>ã€‚</p></li></ul></li></ul><h3 id="è¯­æ³•ä¼˜åŒ–æŠ€æœ¯">è¯­æ³•ä¼˜åŒ–æŠ€æœ¯</h3><blockquote><p>å¿…è€ƒï¼Œä¼°è®¡é€‰æ‹©å¡«ç©ºé¢˜ğŸ—¡ã€‚</p></blockquote><ul><li><p>é€šè¿‡è¯­æ³•æ ‘ï¼Œè¡¨è¾¾å’Œåˆ†æå…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼š</p><ul><li>é•¿è¿™æ ·ï¼š</li></ul><p><img src="/img/blog/ds-note-images/image-20211021164943547.png" style="zoom:67%;"></p><p>ä»å¶å­åˆ°æ ‘æ ¹æ‰§è¡Œã€‚</p><ul><li><p>ç­–ç•¥ï¼š</p><ul><li><p>å°½å¯èƒ½<strong>æå‰</strong>é€‰æ‹©å’ŒæŠ•å½±ï¼ˆç›¸å½“äºè¿™ä¸¤ä¸ªè¿ç®—åœ¨è¯­æ³•æ ‘ä¸Šå°½é‡ä¸‹æ”¾ï¼‰ï¼š</p><p>â€‹ å¯ä½¿ä¸­é—´ç»“æœå˜å°ï¼ŒèŠ‚çœå‡ ä¸ªæ•°é‡çº§çš„æ‰§è¡Œæ—¶é—´ã€‚</p></li><li><p><strong>é€‰æ‹©ä¸æŠ•å½±</strong>å°½é‡ä¸€èµ·åšï¼š</p><p>â€‹æŠ•å½±æˆ–é€‰æ‹©åï¼Œä¸‹ä¸€ä¸ªæŠ•å½±æˆ–é€‰æ‹©æ“ä½œé€šè¿‡ä¸­é—´ç»“æœè¿›è¡Œæ“ä½œï¼Œè¿™æ ·å°±ä¸éœ€è¦å†ä»ç£ç›˜è¯»æ•°æ®ã€‚</p></li><li><p>æŠ•å½±ä¸å…¶å‰åçš„äºŒå…ƒè¿ç®—ç»“åˆï¼š</p><p>â€‹é€šè¿‡æŠ•å½±ï¼Œå»æ‰å…³ç³»çš„<strong>æ— å…³å±æ€§</strong>ï¼ˆä¸å‚ä¸äºŒå…ƒè¿ç®—çš„å±æ€§ï¼‰ï¼Œå¯ä»¥é¿å…å¤šæ¬¡æ‰«ææ•´ä¸ªå…³ç³»ã€‚</p><blockquote><p>PPT ä¼¼ä¹åªä½¿ç”¨äº†ä»¥ä¸Šä¸‰ä¸ªç­–ç•¥ï¼Œåé¢ MOOC ä¸­æœ‰ä½¿ç”¨ï¼Œè¿˜æ˜¯æŒ‰ PPTæ¥å§ã€‚</p></blockquote></li><li><p>ç¬›å¡å°”ç§¯è½¬è¿æ¥è¿ç®—ï¼ˆæŠŠé€‰æ‹©ä¸å…¶å‰çš„ç¬›å¡å°”ç§¯åˆå¹¶æˆä¸€ä¸ªè¿æ¥ï¼‰ï¼š</p><p>â€‹ å½“ <span class="math inline">\(R\times S\)</span>å‰æœ‰é€‰æ‹©è¿ç®—ä¸”å…¶ä¸­<strong>å­˜åœ¨æ¡ä»¶</strong>æ˜¯ <span class="math inline">\(R,S\)</span>å±æ€§é—´æ¯”è¾ƒçš„è¿ç®—æ—¶ï¼Œå¯å°†å…¶è½¬åŒ–ä¸º<strong>è¿æ¥</strong>è¿ç®—å¯èŠ‚çœæ—¶é—´ã€‚</p></li><li><p>æ‰§è¡Œè¿æ¥è¿ç®—å‰å¯¹å…³ç³»åšé€‚å½“é¢„å¤„ç†ï¼š</p><p>â€‹ æ–‡ä»¶æ’åºã€å»ºç«‹ä¸´æ—¶ç´¢å¼•ç­‰ï¼Œå¯ä½¿ä¸¤å…³ç³»å…¬å…±å€¼é«˜æ•ˆè”æ¥ã€‚</p></li><li><p>æ‰¾å‡ºè¡¨è¾¾å¼é‡Œçš„å…¬å…±å­è¡¨è¾¾å¼ï¼š</p><p>â€‹è‹¥å…¬å…±å­è¡¨è¾¾å¼ç»“æœä¸å¤§ï¼Œåˆ™é¢„å…ˆè®¡ç®—ï¼Œä»¥åå¯è¯»å…¥æ­¤ç»“æœï¼ŒèŠ‚æ—¶å¤šï¼Œå°¤å½“è§†å›¾æƒ…å†µä¸‹æœ‰ç”¨ã€‚</p></li></ul></li></ul></li><li><p>å…³ç³»ä»£æ•°æ“ä½œæ¬¡åºäº¤æ¢çš„ç­‰ä»·æ€§ï¼š</p><ul><li><p><span class="math inline">\(L_1\)</span>ï¼Œ<strong>è¿æ¥ä¸ç§¯</strong>ï¼ˆå¹¶äº¤ï¼‰çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾ <span class="math inline">\(E_1, E_2\)</span>æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œ<span class="math inline">\(F\)</span> æ˜¯ <span class="math inline">\(E_1, E_2\)</span>ä¸­å±æ€§çš„é™„åŠ é™åˆ¶æ¡ä»¶ï¼Œåˆ™æœ‰ï¼š</p></li></ul></li></ul><p><span class="math display">\[\begin{aligned}E_1 \bowtie E_2 &amp;\equiv E_2 \bowtie E_1 \\E_1 \underset{F}\bowtie E_2 &amp;\equiv E_2 \underset{F}\bowtie E_1 \\E_1 \times E_2 &amp;\equiv E_2 \times E_1\end{aligned}\]</span></p><blockquote><p>é€šè¿‡äº¤æ¢ï¼Œå¯ä»¥å°† <span class="math inline">\(E_1, E_2,\cdots,E_n\)</span>ä¸­ç»“æœå°é›†åˆå°çš„æ”¾å…¥å†…å­˜ï¼Œè¿›è¡Œè¿æ¥æˆ–è€…ç§¯æ“ä½œï¼Œå¯ä»¥å‡å°ä¸­é—´ç»“æœã€‚</p></blockquote><ul><li><p><span class="math inline">\(L_2\)</span>ï¼Œ<strong>è¿æ¥ä¸ç§¯</strong>ï¼ˆå¹¶äº¤ï¼‰çš„<strong>ç»“åˆ</strong>å¾‹:</p><p>â€‹ è‹¥ <span class="math inline">\(E_1, E_2, E_3\)</span>æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œ<span class="math inline">\(F_1, {~F}_2\)</span>æ˜¯æ¡ä»¶ï¼Œåˆ™æœ‰: <span class="math display">\[\begin{aligned}(E_1 \underset{F_1}\bowtie E_2) \underset{F_2}\bowtie E_3 \equiv E_1\underset{F_1}\bowtie (E_2\underset{F_2}\bowtie E_3)\\(E_1 \bowtie E_2) \bowtie E_3 \equiv E_1 \bowtie(E_2 \bowtie E_3)\\(E_1 \times E_2) \times E_3 \equiv E_1 \times(E_2 \times E_3)\end{aligned}\]</span></p><blockquote><p>ç»“åˆå¾‹å’Œäº¤æ¢å¾‹è¯´æ˜ç»“æœä¸è¿ç®—é¡ºåºæ— å…³ï¼Œå¯ä»¥å°† <span class="math inline">\(E_1, E_2,\cdots ,E_n\)</span>ä¸­ç»“æœé›†åˆæ’åºï¼Œå‡åºæ”¾å…¥å†…å­˜ï¼Œè¿›è¡Œè¿æ¥æˆ–è€…ç§¯æ“ä½œï¼Œå¯ä»¥å‡å°ä¸­é—´ç»“æœã€‚</p></blockquote></li><li><p><span class="math inline">\(L_3\)</span>ï¼Œ<strong>æŠ•å½±</strong>ä¸²æ¥å¾‹ï¼ˆåŒå‘ä½¿ç”¨ï¼‰ï¼š</p><p>â€‹ è®¾å±æ€§é›† <span class="math inline">\(\{A_1,\cdots, A_{n}\} \subseteq\{B_1, \cdots, B_m\}\)</span>ï¼Œ$ E$ æ˜¯è¡¨è¾¾å¼ï¼Œåˆ™æœ‰: <span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(\Pi_{B_1, \cdots, B_m}(E)\right) \equiv\Pi_{A_1, \cdots, A_{n}}(E)\]</span></p><blockquote><p>ä»å·¦å¾€å³ä½¿ç”¨ï¼Œä¸¤éæ‰«æå˜ä¸ºä¸€éæ‰«æï¼Œå‡å°‘ IO æ¬¡æ•°ã€‚</p><p>ä»å³åˆ°å·¦ä½¿ç”¨ï¼Œå¯ä»¥ç”¨äºæ‰©å……ï¼Œä¾¿äºå°†æŠ•å½±åœ¨è¯­æ³•æ ‘ä¸­ä¸‹æ”¾ï¼Œå‡å°‘æ— å…³å±æ€§ã€‚</p></blockquote></li><li><p><span class="math inline">\(L_4\)</span>ï¼Œ<strong>é€‰æ‹©</strong>ä¸²æ¥å¾‹ï¼ˆåŒå‘ä½¿ç”¨ï¼‰ï¼š</p><p>â€‹ è‹¥ <span class="math inline">\(E\)</span> æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œ<span class="math inline">\(F_1, ~F_2\)</span> æ˜¯æ¡ä»¶ï¼Œåˆ™æœ‰: <span class="math display">\[\sigma_{F_1}\left(\sigma_{F_2}(E)\right) \equiv \sigma_{F_1 \wedgeF_2}(E)\]</span></p><blockquote><p>ç†ç”±å…¶å®åŒä¸Šï¼Œåªæ˜¯æ‰©å……çš„æ—¶å€™æ˜¯é€‰æ‹©ä¸‹æ”¾ã€‚</p></blockquote></li><li><p><span class="math inline">\(L_5\)</span>ï¼Œ<strong>é€‰æ‹©å’ŒæŠ•å½±</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><ul><li>è®¾æ¡ä»¶ <span class="math inline">\(F\)</span> åªæ¶‰åŠå±æ€§ <span class="math inline">\(\{A_1, \ldots, A_{n}\}\)</span>ï¼Œ<span class="math inline">\(E\)</span>æ˜¯å…³ç³»è¡¨è¾¾å¼ï¼Œåˆ™æœ‰:</li></ul><p><span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(\sigma_F(E)\right) \equiv\sigma_F\left(\Pi_{A_1,\cdots, A_{n}}(E)\right)\]</span></p><ul><li>æ›´ä¸€èˆ¬åœ°ï¼Œè‹¥ <span class="math inline">\(F\)</span> è¿˜æ¶‰åŠä¸å±äº<span class="math inline">\(\{A_1, . ., A_n\}\)</span> çš„å±æ€§ <span class="math inline">\(\{B_1, . ., B_m\}\)</span>ï¼Œåˆ™ï¼š</li></ul><p><span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(\sigma_F(E)\right) \equiv \Pi_{A_1,\cdots, A_{n}}\left(\sigma_F\left(\pi_{A_1,\cdots, A_{n}, B_1, \cdots,B_m}(E)\right)\right)\]</span></p></li><li><p><span class="math inline">\(L_6\)</span>ï¼Œ<strong>é€‰æ‹©å’Œç§¯</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾ <span class="math inline">\(E_1, E_2\)</span>æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼š</p><ul><li>è‹¥æ¡ä»¶ <span class="math inline">\(F\)</span> åªæ¶‰åŠ <span class="math inline">\(E_1\)</span> ä¸­çš„å±æ€§ï¼Œåˆ™æœ‰ï¼š</li></ul><p><span class="math display">\[\sigma_F\left(E_1 \times E_2\right) \equiv \sigma_F\left(E_1\right)\times E_2\]</span></p><ul><li>è‹¥ <span class="math inline">\(F=F_1 \wedge F_2, F_1, F_2\)</span>åˆ†åˆ«åªæ¶‰åŠ <span class="math inline">\(E_1, E_2\)</span> ä¸­å±æ€§,åˆ™æœ‰ï¼š</li></ul><p><span class="math display">\[\sigma_F\left(E_1 \times E_2\right) \equiv \sigma_{F_1}\left(E_1\right)\times \sigma_{F_2}\left(E_2\right)\]</span></p><ul><li>è‹¥ <span class="math inline">\(F=F_1 \wedge F_2, {~F}_1\)</span>åªæ¶‰åŠ <span class="math inline">\(E_1\)</span> ä¸­å±æ€§ï¼Œè€Œ <span class="math inline">\(F_2\)</span> æ¶‰åŠ <span class="math inline">\(E_1,E_2\)</span> ä¸­å±æ€§ï¼Œåˆ™æœ‰ï¼š</li></ul><p><span class="math display">\[\sigma_F\left(E_1 \times E_2\right) \equiv\sigma_{F_2}\left(\sigma_{F_1}\left(E_1\right) \times E_2\right)\]</span></p></li><li><p><span class="math inline">\(L_7\)</span>ï¼Œ<strong>æŠ•å½±å’Œç§¯</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾ <span class="math inline">\(E_1, E_2\)</span>ä¸ºä¸¤å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œ<span class="math inline">\(A_1, \cdots,A_{n}\)</span> æ˜¯å‡ºç°åœ¨ <span class="math inline">\(E_1\)</span> æˆ–<span class="math inline">\(E_2\)</span> ä¸­çš„ä¸€äº›å±æ€§ï¼Œå…¶ä¸­ <span class="math inline">\(B_1, \cdots, B_m\)</span> å‡ºç°åœ¨ <span class="math inline">\(E_1\)</span> ä¸­ï¼Œ<strong>å‰©ä½™çš„å±æ€§</strong> <span class="math inline">\(C_1, \cdots, C_k\)</span> å‡ºç°åœ¨ <span class="math inline">\(E_2\)</span> ä¸­ï¼Œåˆ™æœ‰: <span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(E_1 \times E_2\right) \equiv \Pi_{B_1,\cdots, B_m}\left(E_1\right) \times \Pi_{C_1, \cdots,C_k}\left(E_2\right)\]</span></p></li><li><p><span class="math inline">\(L_8\)</span>ï¼Œ<strong>é€‰æ‹©å’Œå¹¶</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾å…³ç³»ä»£æ•°è¡¨è¾¾å¼ <span class="math inline">\(E=E_1 \cup E_2,F\)</span> æ˜¯æ¡ä»¶ï¼Œåˆ™æœ‰: <span class="math display">\[\sigma_F\left(E_1 \cup E_2\right) \equiv \sigma_F\left(E_1\right) \cup\sigma_F\left(E_2\right)\]</span> &gt; æ­¤å®šç†è¦æ±‚ <span class="math inline">\(E_1, E_2\)</span>æ˜¯<strong>å¹¶ç›¸å®¹</strong>çš„ã€‚</p></li><li><p><span class="math inline">\(L_9\)</span>ï¼Œ<strong>é€‰æ‹©å’Œå·®</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾å…³ç³»ä»£æ•°è¡¨è¾¾å¼ <span class="math inline">\(E=E_1-E_2, F\)</span>æ˜¯æ¡ä»¶ï¼Œåˆ™æœ‰: <span class="math display">\[\sigma_F\left(E_1-E_2\right) \equiv\sigma_F\left(E_1\right)-\sigma_F\left(E_2\right)\]</span></p></li><li><p><span class="math inline">\(L_{10}\)</span>ï¼Œ<strong>æŠ•å½±å’Œå¹¶</strong>çš„<strong>äº¤æ¢</strong>å¾‹ï¼š</p><p>â€‹ è®¾å…³ç³»ä»£æ•°è¡¨è¾¾å¼ <span class="math inline">\(E=E_1 \cup E_2, A_1,\cdots, A_{n}\)</span> æ˜¯ <span class="math inline">\(E\)</span>ä¸­çš„ä¸€äº›å±æ€§ï¼Œåˆ™æœ‰: <span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(E_1 \cup E_2\right) \equiv \Pi_{A_1,\cdots, A_{n}}\left(E_1\right) \cup \pi_{A_1, \cdots,A_{n}}\left(E_2\right)\]</span></p><blockquote><p>å› ä¸ºæŠ•å½±ä¼šå»é‡ï¼Œ<strong>æŠ•å½±å’Œå·®</strong>çš„<strong>äº¤æ¢</strong>å¾‹æ˜¯ä¸æˆç«‹çš„ï¼Œå³ï¼š<span class="math display">\[\Pi_{A_1, \cdots, A_{n}}\left(E_1 - E_2\right) \not\equiv \Pi_{A_1,\cdots, A_{n}}\left(E_1\right) - \pi_{A_1, \cdots,A_{n}}\left(E_2\right)\]</span> ä¸€ä¸ªå¤§æ¦‚çš„ä¾‹å­ï¼š</p><p>â€‹ å‡è®¾ <span class="math inline">\(E_1\)</span> åªæœ‰ <span class="math inline">\(3\)</span> ä¸ªå…ƒç»„ï¼Œåœ¨å±æ€§ <span class="math inline">\({A_1, \cdots, A_{n}}\)</span> ä¸Šéƒ½ç›¸ç­‰ï¼Œ<span class="math inline">\(E_2\)</span> åªæœ‰ä¸€ä¸ªå…ƒç»„ï¼Œä¸ <span class="math inline">\(E_1\)</span> çš„ <span class="math inline">\(3\)</span> ä¸ªå…ƒç»„ä¹‹ä¸€ç›¸ç­‰ã€‚</p><ul><li><p>å…ˆå·®åæŠ•å½±ï¼š</p><p>â€‹ <span class="math inline">\(E_1-E_2\)</span> æœ‰ä¸¤ä¸ªå…ƒç»„ï¼Œå»é‡åæœ‰<span class="math inline">\(1\)</span> ä¸ªå…ƒç»„ã€‚</p></li><li><p>å…ˆæŠ•å½±åå·®ï¼š</p><p>â€‹ æŠ•å½±å <span class="math inline">\(E_1,E_2\)</span>éƒ½åªæœ‰ä¸€ä¸ªå…ƒç»„ï¼Œå·®è¿ç®—åç»“æœä¸ºç©ºï¼Œä¸å‰è€…ä¸ç­‰ä»·ã€‚</p></li></ul></blockquote></li><li><p>ä¼˜åŒ–ç®—æ³•æ‰§è¡Œæµç¨‹ï¼š</p><ul><li><p>ä¾æ®é€‰æ‹©ä¸²æ¥å¾‹ <span class="math inline">\(\sigma_{F_1}\left(\sigma_{F_2}(E)\right) \equiv\sigma_{F_1 \wedgeF_2}(E)\)</span>ï¼Œå¯¹äºå³è¾¹å½¢å¼çš„å…³ç³»è¡¨è¾¾å¼ï¼Œè½¬ä¸ºå·¦è¾¹ä¸²æ¥å½¢å¼ã€‚</p></li><li><p>å¯¹æ¯ä¸ªé€‰æ‹©å’ŒæŠ•å½±ï¼Œä¾æ®å®šç† <span class="math inline">\(L_4\)</span> è‡³ <span class="math inline">\(L_9\)</span>ï¼Œå°½å¯èƒ½æŠŠå®ƒä¸‹æ”¾ï¼ˆå¦‚æœä¸€ä¸ªæŠ•å½±æ˜¯å¯¹æŸè¡¨è¾¾å¼æ‰€æœ‰å±æ€§è¿›è¡Œçš„ï¼Œç›¸å½“äº<code>select *</code>ï¼Œåˆ™å»æ‰ï¼‰</p></li><li><p>ä¾æ®é€‰æ‹©ä¸²æ¥å¾‹å’ŒæŠ•å½±ä¸²æ¥å¾‹æŠŠä¸²æ¥çš„é€‰æ‹©å’ŒæŠ•å½±ç»„åˆä¸ºå•ä¸ªé€‰æ‹©ã€å•ä¸ªæŠ•å½±ã€‚</p><blockquote><p>ç¬”è€…æ„Ÿè§‰ä»¥ä¸Šä¿®æ”¹è¦å¤šæ¬¡ä½¿ç”¨ï¼Œç›´åˆ°ä¸èƒ½å†åº”ç”¨ä¸ºæ­¢ã€‚</p></blockquote></li><li><p>å¯¹ä¿®æ”¹åçš„è¯­æ³•æ ‘ï¼Œå°†å…¶å†…ç»“ç‚¹æŒ‰ä»¥ä¸‹æ–¹å¼<strong>åˆ†ç»„</strong>ï¼š</p><ul><li>æ¯ä¸ªäºŒå…ƒè¿ç®—ç»“ç‚¹ï¼ˆç§¯ã€å¹¶ã€å·®ã€è¿æ¥ç­‰ï¼‰å’Œå…¶æ‰€æœ‰<strong>ä¸€å…ƒè¿ç®—ç›´æ¥ç¥–å…ˆç»“ç‚¹</strong>æ”¾åœ¨ä¸€ç»„</li><li>å¯¹äºå…¶åä»£ç»“ç‚¹ï¼Œè‹¥åä»£ç»“ç‚¹æ˜¯ä¸€ä¸²<strong>ä¸€å…ƒè¿ç®—</strong>ä¸”<strong>ä»¥æ ‘å¶ä¸ºç»ˆç‚¹</strong>ï¼Œåˆ™å°†è¿™äº›ä¸€å…ƒè¿ç®—ç»“ç‚¹æ”¾åœ¨è¯¥ç»„ä¸­ã€‚</li><li>è‹¥åä»£èŠ‚ç‚¹æœ‰äºŒå…ƒè¿ç®—ç»“ç‚¹<strong>ç¬›å¡å„¿ç§¯</strong>ï¼Œåˆ™ä¸èƒ½å°†åä»£ç»“ç‚¹å½’å…¥è¯¥ç»„ã€‚</li><li>ç¬”è€…è®¤ä¸ºå¯èƒ½æ˜¯ä»å¶å­èŠ‚ç‚¹å‘ä¸Šåˆ†ç»„ï¼Œè¿™æ ·é‡åˆ°ä¸€ä¸ªäºŒå…ƒè¿ç®—èŠ‚ç‚¹å°±åšåˆ¤æ–­ï¼Œè¿™ä¸ªäºŒå…ƒèŠ‚ç‚¹å‘ä¸Šçš„ä¸€å…ƒè¿ç®—å½’ä¸ºä¸€ç»„ï¼Œå‘ä¸‹åˆ°å¶å­èŠ‚ç‚¹çš„è¿ç®—ä¹Ÿå½’ä¸ºè¿™ç»„ï¼Œç„¶åæ•´ä¸ªç»„å°±ç‹¬ç«‹æ‰§è¡Œï¼Œè¾“å‡ºä¸€ä¸ªç»“æœé›†åˆï¼Œç›¸å½“äºä¸€ä¸ªå¶å­èŠ‚ç‚¹äº†ã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li><li><p>è¯­æ³•æ ‘æ‰§è¡Œé¡ºåºä¸ºï¼š</p><p>â€‹ ä»¥æ¯ç»„ç»“ç‚¹ä¸ºä¸€æ­¥ï¼Œåä»£å…ˆæ‰§è¡Œï¼Œä»å¶å­æ‰§è¡Œåˆ°æ ¹ã€‚</p></li></ul></li></ul><h3 id="ä»£ä»·ä¼°è®¡">ä»£ä»·ä¼°è®¡ğŸ—¡</h3><ul><li><p>ç»Ÿè®¡ä¿¡æ¯ï¼š</p><ul><li><p><span class="math inline">\(T_R\)</span> æˆ– <span class="math inline">\(T(R)\)</span>ï¼š</p><p>â€‹ å…³ç³» <span class="math inline">\(R\)</span> çš„å…ƒç»„æ•°ç›®ã€‚</p></li><li><p><span class="math inline">\(V(A, R)\)</span>ï¼š</p><p>â€‹ <span class="math inline">\(R\)</span> ä¸­å±æ€§ <span class="math inline">\(A\)</span> å‡ºç°ä¸åŒå€¼çš„æ•°ç›®ï¼Œå³ <span class="math inline">\(\Pi_A(R)\)</span> çš„æ•°ç›®ã€‚</p><blockquote><p>PPT ä¸­ <span class="math inline">\(A,R\)</span>çš„é¡ºåºæ—¶å¸¸å‘ç”Ÿæ”¹å˜ï¼Œè¯¢é—®è€å¸ˆè¯´éƒ½å¯ä»¥ã€‚ä¹¦ä¸Šæ˜¯å±æ€§åœ¨å‰ï¼Œå…³ç³»ååœ¨åã€‚ä¸ºäº†ç»Ÿä¸€å†™æ³•ï¼Œä¸‹é¢å…¨éƒ¨é‡‡ç”¨ä¹¦æœ¬çš„å½¢å¼ï¼Œå› æ­¤å’ŒPPT å‡ ä¹éƒ½æ˜¯ç›¸åçš„ã€‚</p></blockquote></li></ul></li><li><p>ä¼°è®¡çš„ç›®æ ‡ï¼š</p><p>â€‹ ç»™å®šä¸€ä¸ªè¡¨è¾¾å¼ <span class="math inline">\(E\)</span>ï¼Œå¦‚ä½•ä¼°è®¡<span class="math inline">\(E\)</span> çš„å…ƒç»„æ•°ç›® <span class="math inline">\(T(E)\)</span>ã€‚</p></li><li><p>ä¼°ç®— <span class="math inline">\(\pi_A(R)\)</span> çš„å¤§å°ï¼š</p><blockquote><p>PPTï¼š</p><p>â€‹ <span class="math inline">\(T(\pi_A(R))=T(R)\)</span></p><p>ç¬”è€…è®¤ä¸ºåº”è¯¥æ˜¯ï¼š</p><p>â€‹ <span class="math inline">\(T(\pi_A(R))=V(A,R)\)</span></p><p>æŠ•å½±è¿ç®—å¹¶æœ«å‡å°‘è¡Œæ•°ï¼Œä½†å¯èƒ½æœ‰æ•ˆåœ°å‡å°‘äº†å­˜å‚¨ç»“æœå…³ç³»çš„<strong>å—æ•°</strong>ï¼ˆæ¯ä¸ªå…ƒç»„æ‰€å çš„å¤§å°å‡å°‘ï¼‰ã€‚</p></blockquote></li><li><p>ä¼°ç®—é€‰æ‹©è¿ç®— <span class="math inline">\(S= \sigma_{ A=c}(R)\)</span> çš„å¤§å°ï¼š</p><blockquote><p>ä¸¥è°¨ï¼š</p><p>â€‹ <span class="math inline">\(T(S)\)</span> ä»‹äº <span class="math inline">\([0,T(R)-V(A, R)+1]\)</span> ä¹‹é—´</p><p>åŸå› åˆ†æï¼š</p><ul><li>æœ€å°å€¼ä¸º <span class="math inline">\(0\)</span>ï¼Œå› ä¸ºå¯èƒ½å…³ç³» <span class="math inline">\(R\)</span> ä¸­çš„ <span class="math inline">\(A\)</span> å±æ€§ä¸å­˜åœ¨å€¼ä¸º <span class="math inline">\(c\)</span> çš„å…ƒç»„ã€‚</li><li>æœ€å¤§å€¼ä¸º <span class="math inline">\(T(R)-V(A, R)+1\)</span>ï¼Œå³å…³ç³»<span class="math inline">\(R\)</span> ä¸­çš„ <span class="math inline">\(A\)</span> å±æ€§å€¼ä¸ä¸º <span class="math inline">\(c\)</span> çš„å…ƒç»„æ•°ç›®éƒ½æ˜¯ <span class="math inline">\(1\)</span>ï¼Œå…±æœ‰ <span class="math inline">\(V(A,R)\)</span>ã€‚</li></ul><p>ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(T(S)=T(R) / V(A, R)\)</span>ï¼Œå³ <span class="math inline">\(A\)</span> å±æ€§ä¸åŒå€¼çš„å…ƒç»„æ•°ç›¸ç­‰ã€‚</p><p>æš´åŠ›ä¼°è®¡ï¼š</p><p>â€‹ ä¸çŸ¥é“ <span class="math inline">\(V(R,A)\)</span> æ—¶ï¼Œé»˜è®¤ä¸º <span class="math inline">\(10\)</span>ï¼Œå³ <span class="math inline">\(T(S) =T(R)/10\)</span>ã€‚</p></blockquote></li><li><p>ä¼°ç®—é€‰æ‹©è¿ç®— <span class="math inline">\(S=\sigma_{A&lt;c}(R)\)</span> çš„å¤§å°ï¼š</p><blockquote><p>ä¸¥è°¨ï¼š</p><p>â€‹ <span class="math inline">\(T(S)\)</span> ä»‹äº <span class="math inline">\(0\)</span> to <span class="math inline">\(T(R)\)</span> ä¹‹é—´</p><p>åˆ†æï¼š</p><ul><li>æœ€å°å€¼ <span class="math inline">\(0\)</span>å³ä¸å­˜åœ¨è¿™æ ·çš„å…ƒç»„ã€‚</li><li>æœ€å¤š <span class="math inline">\(T(R)\)</span>å³æ‰€æœ‰å…ƒç»„éƒ½æ»¡è¶³æ¡ä»¶ã€‚</li></ul><p>ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(T(S)=T(R) /2\)</span>ï¼Œåº”æœ‰ä¸€åŠçš„å…ƒç»„æ»¡è¶³æ¡ä»¶ã€‚</p><p>å®é™…å¸¸ç”¨ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(T(S)=T(R) / 3\)</span></p></blockquote></li><li><p>ä¼°ç®—é€‰æ‹©è¿ç®— <span class="math inline">\(S=\sigma_{A=10\quadand\quad B&lt;20}(R)\)</span> çš„å¤§å°</p><blockquote><p>ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(T(S)=T(R) /(V(R, A)^{*} 3)\)</span></p><p>åˆ†æï¼š</p><ul><li><span class="math inline">\(\sigma_{A=10\quad and\quadB&lt;20}(R)=\sigma_{B&lt;20}(\sigma_{A=10}(R))\)</span></li><li><span class="math inline">\(A=10\)</span>ï¼Œå¾—å‡º <span class="math inline">\(T(S)=T(R) / V(R, A)\)</span></li><li><span class="math inline">\(B&lt;20\)</span>ï¼Œå¾—å‡º <span class="math inline">\(T(S)=T(S) / 3\)</span></li></ul></blockquote></li><li><p>ä¼°ç®—é€‰æ‹©è¿ç®— <span class="math inline">\(S = \sigma_{C_1\quador\quad C_2}(R)\)</span> çš„å¤§å°ï¼š</p><blockquote><p>ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(\begin{aligned}T(S)={n}(1-(1-\frac{m_1}{n})(1-\frac{m_2}{n}))\end{aligned}\)</span></p><p>åˆ†æï¼š</p><ul><li><span class="math inline">\(R\)</span> æœ‰ <span class="math inline">\(n\)</span> ä¸ªå…ƒç»„ï¼Œå…¶ä¸­æœ‰ <span class="math inline">\(m_1\)</span> ä¸ªæ»¡è¶³ <span class="math inline">\(C_1\)</span>ï¼Œæœ‰ <span class="math inline">\(m_2\)</span> ä¸ªæ»¡è¶³ <span class="math inline">\(C_2\)</span>ã€‚</li><li><span class="math inline">\(\begin{aligned}(1-\frac{m_1}{n})\end{aligned}\)</span>æ˜¯ä¸æ»¡è¶³ <span class="math inline">\(C_1\)</span> çš„é‚£äº›å…ƒç»„ï¼Œ<span class="math inline">\(\begin{aligned}(1-\frac{m_2}{n})\end{aligned}\)</span>æ˜¯ä¸æ»¡è¶³ <span class="math inline">\(C_2\)</span> çš„é‚£äº›å…ƒç»„ã€‚</li><li>ä¸¤æ•°ä¹‹ç§¯æ˜¯ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç»„æ¦‚ç‡ï¼ˆè¿™é‡Œå¹¶ä¸ä¸¥è°¨ï¼‰ï¼Œ<span class="math inline">\(1\)</span>å‡å»è¿™ä¸ªç§¯å°±æ˜¯æ»¡è¶³æ¡ä»¶å…ƒç»„å‡ºç°çš„æ¦‚ç‡ã€‚</li></ul></blockquote></li><li><p>å‰ä¸€ç§ç±»å‹çš„ä¸¾ä¾‹ï¼Œä¼°è®¡é€‰æ‹©è¿ç®— <span class="math inline">\(S=\sigma_{A=10\quad or\quad B&lt;20} (R)\)</span>çš„å¤§å°ï¼š</p><blockquote><p>åˆ†æï¼š <span class="math display">\[\begin{gathered}n=T(R)=10000\\ V(R, A)=50 \\m_1=T(R) / V(R, A)=10000 / 50=200\\m_2=T(R) / 3=10000 / 3 \approx 3333\end{gathered}\]</span> å³æœ‰ <span class="math inline">\(m_1\)</span> ä¸ªæ»¡è¶³ <span class="math inline">\(C_1\)</span>ï¼Œæœ‰ <span class="math inline">\(m_2\)</span> ä¸ªæ»¡è¶³ <span class="math inline">\(C_2\)</span>ï¼Œ<span class="math inline">\(\begin{aligned}(1-\frac{m_1}{n})(1-\frac{m_2}{n})\end{aligned}\)</span>æ˜¯ä¸æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å…ƒç»„çš„æ¦‚ç‡ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š <span class="math display">\[T(S)=10000^{\star}(1-(1-200 / 10000)(1-3333 / 10000)) \approx 3466\]</span> ä¹Ÿå¯ä»¥ç®€å•ä¼°è®¡ä¸º <span class="math inline">\(T(S)=T(R) /3=10000 / 3 \approx 3333\)</span></p></blockquote></li><li><p>ä¼°ç®—è¿æ¥è¿ç®— <span class="math inline">\(S'=R(X, Y)\quad\text{Natural Join}\quad S(Y, Z)\)</span> çš„å¤§å°ï¼š</p><blockquote><p>ä¼°è®¡ï¼š</p><p>â€‹ <span class="math inline">\(\begin{aligned}T({S'})=\frac{T(R)T(S)}{\max(V(Y, R), V(Y, S))}\end{aligned}\)</span></p><p>åˆ†æï¼š</p><ul><li><p>å‡å®š <span class="math inline">\(V(Y, R)\ge V(Y, S), R\)</span>ä¸­å…ƒç»„ <span class="math inline">\(r\)</span> å’Œ <span class="math inline">\(S\)</span> ä¸­å…ƒç»„æœ‰ç›¸åŒ <span class="math inline">\(Y\)</span> å€¼çš„æ¦‚ç‡ <span class="math inline">\(=1/ V(Y,R)\)</span></p></li><li><p>å‡å®š <span class="math inline">\(V(Y, R)&lt;V(Y, S), R\)</span>ä¸­å…ƒç»„ <span class="math inline">\(r\)</span> å’Œ <span class="math inline">\(S\)</span> ä¸­å…ƒç»„æœ‰ç›¸åŒ <span class="math inline">\(Y\)</span> å€¼çš„æ¦‚ç‡ <span class="math inline">\(=1/ V(Y, S)\)</span></p></li><li><p>åˆ™ç¬›å¡å°”ç§¯åçš„å…³ç³»åœ¨ <span class="math inline">\(Y\)</span>ä¸Šç›¸ç­‰çš„æ¦‚ç‡ <span class="math inline">\(=1 / \max (V(R, Y), V(S,Y))\)</span></p></li><li><p>ç¬”è€…å°è¯•è§£é‡Šï¼š</p><ul><li><p>é¦–å…ˆå‡è®¾æ•°æ®æ˜¯å‡åŒ€åˆ†å¸ƒï¼Œå³å‡è®¾ä¸€ä¸ªå…³ç³» <span class="math inline">\(U\)</span> çš„ <span class="math inline">\(Y\)</span> å±æ€§ä¸­ï¼Œå…·æœ‰ç›¸åŒå±æ€§å€¼çš„å…ƒç»„æ•°å‡ä¸º<span class="math inline">\(x\)</span> ä¸ªï¼Œè¿™æ ·æ€»å…ƒç»„æ•°æ˜¯ <span class="math inline">\(x\times V(Y,U)\)</span>ã€‚</p></li><li><p><span class="math inline">\(R\)</span> å…³ç³»çš„æ€»å…ƒç»„æ•°ä¸º <span class="math inline">\(x_R\times V(Y,R)\)</span>ï¼Œ<span class="math inline">\(S\)</span> å…³ç³»çš„æ€»å…ƒç»„æ•°ä¸º <span class="math inline">\(x_S\times V(Y,S)\)</span>ã€‚</p></li><li><p>å‡è®¾ <span class="math inline">\(R.Y\subseteq S.Y,V(Y,R)&lt;V(Y,S)\)</span>ï¼Œå³ <span class="math inline">\(R\)</span> çš„<span class="math inline">\(Y\)</span> å±æ€§å€¼åœ¨ <span class="math inline">\(S\)</span> ä¸­å‡å­˜åœ¨ã€‚è¿™ä½¿å¾— <span class="math inline">\(R\)</span> çš„æ¯ä¸ªå…ƒç»„ï¼Œéƒ½èƒ½ç­‰å€¼è¿æ¥ <span class="math inline">\(x_S\)</span> ä¸ª <span class="math inline">\(S\)</span> çš„å…ƒç»„ã€‚</p></li><li><p>æ‰€ä»¥ <span class="math inline">\(R\times S\)</span> ä¸­ï¼Œæ»¡è¶³<span class="math inline">\(R.Y=S.Y\)</span> çš„å…ƒç»„æ•°ä¸º <span class="math inline">\(x_R\times V(Y,R)\timesx_S\)</span>ã€‚ç„¶åé™¤ä»¥æ€»å…ƒç»„æ•°å³å¯å¾—åˆ°æ¦‚ç‡ï¼ˆå…¶å®åˆ†å­å°±æ˜¯ä¼°è®¡å€¼ <span class="math inline">\(T(S')\)</span>ï¼‰ï¼š <span class="math display">\[\frac{x_R\times V(Y,R)\times x_S}{x_R\times V(Y,R)\times x_S \timesV(Y,S)}=\frac{1}{V(Y,S)}\]</span></p></li></ul></li><li><p>PPT ä¸Šçš„ä¾‹å­ <span class="math inline">\(T(R)=10000, T(S)=50000,V(R, Y)=500, V(S, Y)=1000\)</span>ï¼Œ</p><p>ä¼°è®¡ä¸º <span class="math inline">\(T(Sâ€™)=10000 * 50000 /1000=500000\)</span></p></li></ul></blockquote></li></ul><h2 id="æ•°æ®åº“äº‹åŠ¡å¤„ç†æŠ€æœ¯">æ•°æ®åº“äº‹åŠ¡å¤„ç†æŠ€æœ¯</h2><h3 id="äº‹åŠ¡çº¯å¤åˆ¶">äº‹åŠ¡ï¼ˆçº¯å¤åˆ¶ï¼‰</h3><ul><li><p>äº‹åŠ¡çš„å®šä¹‰ï¼š</p><ul><li>äº‹åŠ¡æ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›çš„æ§åˆ¶æ•°æ®æ“ä½œçš„ä¸€ç§æ‰‹æ®µã€‚</li><li>é€šè¿‡è¿™ä¸€æ‰‹æ®µï¼Œåº”ç”¨ç¨‹åºå‘˜å°†ä¸€ç³»åˆ—çš„æ•°æ®åº“æ“ä½œç»„åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ“ä½œå’Œæ§åˆ¶ï¼Œä»¥ä¾¿æ•°æ®åº“ç®¡ç†ç³»ç»Ÿèƒ½å¤Ÿæä¾›ä¸€è‡´æ€§çŠ¶æ€è½¬æ¢çš„ä¿è¯ã€‚</li></ul></li><li><p>äº‹åŠ¡çš„å®è§‚æ€§ï¼ˆåº”ç”¨ç¨‹åºå‘˜çœ‹åˆ°çš„äº‹åŠ¡ï¼‰ï¼š</p><p>â€‹ ä¸€ä¸ªå­˜å–æˆ–æ”¹å˜æ•°æ®åº“å†…å®¹çš„ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œæˆ–è€…è¯´ä¸€æ¡æˆ–å¤šæ¡ SQLè¯­å¥çš„ä¸€æ¬¡æ‰§è¡Œè¢«çœ‹ä½œä¸€ä¸ªäº‹åŠ¡ã€‚</p><blockquote><p>äº‹åŠ¡ä¸€èˆ¬æ˜¯ç”±åº”ç”¨ç¨‹åºå‘˜æå‡ºï¼Œå› æ­¤æœ‰å¼€å§‹å’Œç»“æŸï¼Œç»“æŸå‰éœ€è¦<strong>æäº¤æˆ–æ’¤æ¶ˆ</strong>ï¼ˆé€šè¿‡commit æˆ– rollback ç¡®è®¤çš„ï¼‰ã€‚</p></blockquote></li><li><p>äº‹åŠ¡çš„å¾®è§‚æ€§ï¼ˆDBMS çœ‹åˆ°çš„äº‹åŠ¡ï¼‰ï¼š</p><p>â€‹ å¯¹æ•°æ®åº“çš„ä¸€ç³»åˆ—åŸºæœ¬æ“ä½œï¼ˆè¯»ã€å†™ï¼‰çš„ä¸€ä¸ªæ•´ä½“æ€§æ‰§è¡Œã€‚</p></li><li><p>äº‹åŠ¡çš„å¹¶å‘æ‰§è¡Œï¼š</p><p>â€‹å¤šä¸ªäº‹åŠ¡ä»å®è§‚ä¸Šçœ‹æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œä½†å…¶å¾®è§‚ä¸Šçš„åŸºæœ¬æ“ä½œï¼ˆè¯»ã€å†™ï¼‰åˆ™å¯ä»¥æ˜¯äº¤å‰æ‰§è¡Œçš„ã€‚</p><blockquote><p>å¹¶å‘æ§åˆ¶å°±æ˜¯é€šè¿‡äº‹åŠ¡å¾®è§‚äº¤é”™æ‰§è¡Œæ¬¡åºçš„æ­£ç¡®å®‰æ’ï¼Œä¿è¯äº‹åŠ¡å®è§‚çš„ç‹¬ç«‹æ€§ã€å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ã€‚</p></blockquote></li><li><p>äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACID ç‰¹æ€§ğŸ—¡ï¼‰ï¼š</p><ul><li><p><strong>åŸå­æ€§</strong>ï¼ˆatomicityï¼‰ï¼š</p><p>â€‹äº‹åŠ¡çš„æ‰€æœ‰æ“ä½œåœ¨æ•°æ®åº“ä¸­<strong>è¦ä¹ˆå…¨éƒ¨æ­£ç¡®åæ˜ å‡ºæ¥ï¼Œè¦ä¹ˆå®Œå…¨ä¸åæ˜ </strong>ã€‚</p></li><li><p><strong>ä¸€è‡´æ€§</strong>ï¼ˆconsistencyï¼‰ï¼š</p><p>â€‹ä¿è¯äº‹åŠ¡çš„æ“ä½œçŠ¶æ€æ˜¯æ­£ç¡®çš„ï¼Œä¸èƒ½å‡ºç°ã€Œ<strong>ä¸¢å¤±ä¿®æ”¹ï¼Œä¸å¯é‡å¤è¯»ï¼Œè„è¯»</strong>ã€ä¸‰ç±»é”™è¯¯ï¼Œç”±éš”ç¦»æ€§ä¿è¯ã€‚</p><blockquote><ul><li><p>ä¸¢å¤±ä¿®æ”¹ï¼š</p><p>â€‹ æ“ä½œé¡ºåºæ˜¯ <span class="math inline">\(T_1\)</span> è¯»ï¼Œ<span class="math inline">\(T_2\)</span> è¯»ï¼Œ<span class="math inline">\(T_1\)</span> å†™ï¼Œ<span class="math inline">\(T_2\)</span> å†™ã€‚<span class="math inline">\(T_1\)</span> çš„ä¿®æ”¹å°±è¢« <span class="math inline">\(T_2\)</span> æ‰€è¦†ç›–äº†ï¼Œå³ä¸¢å¤±äº†ä¿®æ”¹ã€‚</p></li><li><p>ä¸å¯é‡å¤è¯»ï¼ˆç†åº”èƒ½å¤Ÿé‡å¤è¯»ï¼Œä½†æ˜¯ç°åœ¨ä¸èƒ½é‡å¤è¯»äº†ï¼ŒåŒä¸€äº‹åŠ¡ä¸¤æ¬¡è¯»æœŸé—´æœªä½œä¿®æ”¹ï¼Œä½†è¯»åˆ°çš„å†…å®¹å´ä¸åŒï¼‰ï¼š</p><p>â€‹ æ“ä½œé¡ºåºæ˜¯ <span class="math inline">\(T_1\)</span> è¯»ï¼Œ<span class="math inline">\(T_2\)</span> è¯»ï¼Œ<span class="math inline">\(T_2\)</span> å†™ï¼Œ<span class="math inline">\(T_1\)</span>å†è¯»ï¼Œå‘ç°ä¸ç¬¬ä¸€æ¬¡è¯»çš„æ•°æ®ä¸ä¸€è‡´ã€‚</p></li><li><p>è„è¯»ï¼š</p><p>â€‹ æ“ä½œé¡ºåºæ˜¯ <span class="math inline">\(T_2\)</span> è¯»ï¼Œ<span class="math inline">\(T_2\)</span> å†™ï¼Œ<span class="math inline">\(T_1\)</span> è¯»ï¼Œ<span class="math inline">\(T_2\)</span> å›æ»šï¼Œæ­¤æ—¶ <span class="math inline">\(T_1\)</span>è¯»åˆ°çš„æ˜¯å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œå›æ»šåè¿™ä¸ªæ•°æ®å·²ç»æ— æ•ˆäº†ï¼Œç§°ä¸ºè„æ•°æ®ã€‚</p></li></ul></blockquote></li><li><p><strong>éš”ç¦»æ€§</strong>ï¼ˆisolationï¼‰ï¼š</p><p>â€‹ å°½ç®¡å¤šä¸ªäº‹åŠ¡å¯èƒ½å¹¶å‘æ‰§è¡Œï¼Œä½†ç³»ç»Ÿä¿è¯ï¼Œå¯¹äºä»»ä½•ä¸€å¯¹äº‹åŠ¡ <span class="math inline">\(T_i\)</span> å’Œ <span class="math inline">\(T_j\)</span>ï¼Œåœ¨ <span class="math inline">\(T_i\)</span> çœ‹æ¥ï¼Œ<span class="math inline">\(T_j\)</span> æˆ–è€…åœ¨ <span class="math inline">\(T_i\)</span> å¼€å§‹ä¹‹å‰å·²ç»å®Œæˆæ‰§è¡Œï¼Œæˆ–è€…åœ¨ <span class="math inline">\(T_i\)</span>å®Œæˆä¹‹åå¼€å§‹æ‰§è¡Œã€‚å› æ­¤ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°ç³»ç»Ÿä¸­æœ‰å…¶ä»–äº‹åŠ¡åœ¨å¹¶å‘åœ°æ‰§è¡Œã€‚</p></li><li><p><strong>æŒä¹…æ€§</strong>ï¼ˆdurabilityï¼‰ï¼š</p><p>â€‹ä¸€ä¸ªäº‹åŠ¡æˆåŠŸå®Œæˆåï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ”¹å˜å¿…é¡»æ˜¯<strong>æ°¸ä¹…</strong>çš„ï¼Œå³ä½¿å‡ºç°ç³»ç»Ÿæ•…éšœã€‚</p></li></ul><blockquote><p>å¯ä»¥è¯´å…·æœ‰ ACID ç‰¹æ€§çš„è‹¥å¹²æ•°æ®åº“åŸºæœ¬æ“ä½œçš„ç»„åˆä½“è¢«ç§°ä¸ºäº‹åŠ¡ã€‚</p></blockquote></li></ul><h3 id="äº‹åŠ¡è°ƒåº¦">äº‹åŠ¡è°ƒåº¦</h3><ul><li><p>äº‹åŠ¡è°ƒåº¦æ¦‚å¿µï¼š</p><p>â€‹ä¸€ç»„äº‹åŠ¡çš„åŸºæœ¬æ­¥éª¤ï¼ˆè¯»ã€å†™ã€å…¶ä»–æ§åˆ¶æ“ä½œå¦‚åŠ é”ã€è§£é”ç­‰ï¼‰çš„ä¸€ç§æ‰§è¡Œé¡ºåºç§°ä¸ºå¯¹è¿™ç»„äº‹åŠ¡çš„ä¸€ä¸ªè°ƒåº¦ã€‚</p></li><li><p>å¹¶å‘è°ƒåº¦çš„æ­£ç¡®æ€§ï¼š</p><p>â€‹å¹¶å‘è°ƒåº¦ä¸‹æ‰€å¾—åˆ°çš„æ–°æ•°æ®åº“<strong>ç»“æœ</strong>ä¸åˆ†åˆ«ä¸²è¡Œåœ°è¿è¡Œè¿™äº›äº‹åŠ¡æ‰€å¾—çš„æ–°æ•°æ®åº“å®Œå…¨ä¸€è‡´ï¼Œè°ƒåº¦æ‰æ˜¯æ­£ç¡®çš„ï¼Œæ˜¯ç»“æœæ„ä¹‰ä¸Šçš„æ­£ç¡®ã€‚</p></li><li><p>å¯ä¸²è¡Œæ€§ï¼š</p><p>â€‹å¦‚æœä¸ç®¡æ•°æ®åº“åˆå§‹çŠ¶æ€å¦‚ä½•ï¼Œä¸€ä¸ªè°ƒåº¦å¯¹æ•°æ®åº“çŠ¶æ€çš„å½±å“éƒ½å’ŒæŸä¸ª<strong>ä¸²è¡Œè°ƒåº¦</strong>ç›¸åŒï¼Œåˆ™æˆ‘ä»¬è¯´è¿™ä¸ªè°ƒåº¦æ˜¯å¯ä¸²è¡ŒåŒ–çš„æˆ–å…·æœ‰å¯ä¸²è¡Œæ€§ã€‚</p><blockquote><p>å¯ä¸²è¡ŒåŒ–è°ƒåº¦ä¸€å®šæ˜¯æ­£ç¡®çš„å¹¶è¡Œè°ƒåº¦ï¼Œä½†æ­£ç¡®çš„å¹¶è¡Œè°ƒåº¦ï¼Œå´æœªå¿…éƒ½æ˜¯å¯ä¸²è¡ŒåŒ–çš„è°ƒåº¦ã€‚</p><p>å› ä¸ºå¹¶è¡Œè°ƒåº¦çš„æ­£ç¡®æ€§æ˜¯æŒ‡<strong>å†…å®¹ä¸Š</strong>ç»“æœæ­£ç¡®æ€§ï¼ˆç»“æœå¯¹å°±å¯¹äº†ï¼‰ï¼Œè€Œå¯ä¸²è¡Œæ€§æ˜¯æŒ‡<strong>å½¢å¼ä¸Š</strong>ç»“æœæ­£ç¡®æ€§ï¼Œä¾¿äºæ“ä½œã€‚</p></blockquote></li><li><p>ä¸€ç§ç®€å•çš„äº‹åŠ¡è°ƒåº¦çš„æ ‡è®°æ¨¡å‹ï¼š</p><ul><li><p><span class="math inline">\(r_T(A)\)</span>ï¼š</p><p>â€‹ äº‹åŠ¡ <span class="math inline">\(T\)</span> è¯» <span class="math inline">\(A\)</span>ã€‚</p></li><li><p><span class="math inline">\(w_T(A)\)</span>ï¼š</p><p>â€‹ äº‹åŠ¡ <span class="math inline">\(T\)</span> å†™ <span class="math inline">\(A\)</span>ã€‚</p></li></ul></li><li><p>å†²çªï¼š</p><ul><li><p>å¦‚æœè°ƒåº¦ä¸­ä¸¤ä¸ªåŠ¨ä½œçš„é¡ºåºäº¤æ¢ï¼Œè‹¥æ¶‰åŠçš„äº‹åŠ¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªäº‹åŠ¡çš„è¡Œä¸ºä¼šæ”¹å˜ï¼Œåˆ™ç§°è¿™ä¸¤ä¸ªåŠ¨ä½œ<strong>å†²çª</strong>ã€‚</p></li><li><p>æœ‰å†²çªçš„ä¸¤ä¸ªæ“ä½œæ˜¯ä¸èƒ½äº¤æ¢æ¬¡åºçš„ï¼Œæ²¡æœ‰å†²çªçš„ä¸¤ä¸ªäº‹åŠ¡æ˜¯å¯äº¤æ¢çš„</p></li><li><p>å‡ ç§å†²çªçš„æƒ…å†µï¼š</p><ul><li><strong>åŒä¸€äº‹åŠ¡</strong>çš„<strong>ä»»ä½•ä¸¤ä¸ªæ“ä½œ</strong>éƒ½æ˜¯å†²çªçš„ï¼š<span class="math display">\[r_i(X) ; w_i(Y) \quad w_i(X) ; r_i(Y)\]</span></li><li><strong>ä¸åŒäº‹åŠ¡</strong>å¯¹<strong>åŒä¸€å…ƒç´ </strong>çš„ä¸¤ä¸ª<strong>å†™</strong>æ“ä½œæ˜¯å†²çªçš„ï¼š<span class="math display">\[w_i(X) ; w_j(X)\]</span></li><li><strong>ä¸åŒäº‹åŠ¡</strong>å¯¹<strong>åŒä¸€å…ƒç´ </strong>çš„<strong>ä¸€è¯»ä¸€å†™</strong>æ“ä½œæ˜¯å†²çªçš„ï¼š<span class="math display">\[w_i(X) ; r_j(X) \quad r_i(X) ; w_j(X)\]</span></li></ul></li></ul></li><li><p>å†²çªå¯ä¸²è¡Œæ€§ï¼š</p><p>â€‹ä¸€ä¸ªè°ƒåº¦ï¼Œå¦‚æœé€šè¿‡<strong>äº¤æ¢</strong>ç›¸é‚»ä¸¤ä¸ª<strong>æ— å†²çª</strong>çš„æ“ä½œèƒ½å¤Ÿè½¬æ¢åˆ°æŸä¸€ä¸ª<strong>ä¸²è¡Œ</strong>çš„è°ƒåº¦ï¼ˆæ³¨æ„ä¸æ˜¯å¯ä¸²è¡Œï¼‰ï¼Œåˆ™ç§°æ­¤è°ƒåº¦ä¸º<strong>å†²çªå¯ä¸²è¡ŒåŒ–</strong>çš„è°ƒåº¦ã€‚</p><blockquote><p><strong>å†²çªå¯ä¸²è¡Œæ€§</strong>æ˜¯æ¯”<strong>å¯ä¸²è¡Œæ€§</strong>æ›´ä¸¥æ ¼çš„æ¦‚å¿µï¼Œå³<strong>å†²çªå¯ä¸²è¡Œæ€§</strong>æ˜¯<strong>å¯ä¸²è¡Œæ€§</strong>çš„å……åˆ†ä¸å¿…è¦æ¡ä»¶ã€‚</p><p>ä¾‹å­ï¼š</p><p>â€‹ <span class="math inline">\(w_1(Y) ; w_2(Y) ; w_2(X) ; w_1(X) ;w_3(X)\)</span> æ˜¯ä¸€ä¸ª<strong>å¯ä¸²è¡ŒåŒ–</strong>çš„è°ƒåº¦ï¼Œå› ä¸ºå®ƒä¸ä¸²è¡Œè°ƒåº¦<span class="math inline">\(w_1(Y) ; w_1(X) ; w_2(Y) ; w_2(X) ;w_3(X)\)</span> çš„ç»“æœç­‰ä»·ã€‚</p><p>â€‹ä½†æ˜¯å®ƒç›¸é‚»åŠ¨ä½œéƒ½æ˜¯å†²çªçš„ï¼Œä¸èƒ½äº¤æ¢å½¢æˆä¸²è¡Œè°ƒåº¦ï¼Œæ‰€ä»¥ä¸æ˜¯<strong>å†²çªå¯ä¸²è¡Œæ€§</strong>çš„è°ƒåº¦ã€‚</p></blockquote></li><li><p>å†²çªå¯ä¸²è¡Œæ€§åˆ¤åˆ«ç®—æ³•ï¼š</p><ul><li>æ„é€ ä¸€ä¸ªæœ‰å‘å›¾ï¼Œç»“ç‚¹æ˜¯æ¯ä¸€ä¸ªäº‹åŠ¡ <span class="math inline">\(T_i\)</span>ã€‚</li><li>å¦‚æœ <span class="math inline">\(T_i\)</span> çš„ä¸€ä¸ªæ“ä½œä¸ <span class="math inline">\(T_j\)</span> çš„ä¸€ä¸ªæ“ä½œå‘ç”Ÿå†²çªï¼Œä¸” <span class="math inline">\(T_i\)</span> åœ¨ <span class="math inline">\(T_j\)</span> å‰æ‰§è¡Œï¼Œåˆ™ç»˜åˆ¶ä¸€æ¡ç”± <span class="math inline">\(T_j\)</span> æŒ‡å‘ <span class="math inline">\(T_j\)</span> çš„æœ‰å‘è¾¹ï¼Œè¡¨ç¤º <span class="math inline">\(T_i\)</span> è¦åœ¨ <span class="math inline">\(T_j\)</span> å‰æ‰§è¡Œã€‚</li><li>å¦‚æœæ­¤æœ‰å‘å›¾æ²¡æœ‰ç¯ï¼Œåˆ™æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–çš„ã€‚</li></ul><blockquote><p>ä¾‹å­ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211116223739408.png"></div><p>ä¸è¾¹ä¸Šçš„å…ƒç´ æ— å…³ï¼Œåªè¦å­˜åœ¨ç¯å°±æ˜¯ä¸æ»¡è¶³å†²çªå¯ä¸²è¡Œçš„ã€‚</p></blockquote></li></ul><h3 id="é”">é”</h3><ul><li><p>é”çš„ç±»å‹ï¼š</p><ul><li><p>æ’ä»–é” Xï¼š</p><p>â€‹ åªæœ‰ä¸€ä¸ªäº‹åŠ¡èƒ½è¯»ã€å†™ï¼Œå…¶ä»–ä»»ä½•äº‹åŠ¡éƒ½ä¸èƒ½è¯»ã€å†™ã€‚</p></li><li><p>å…±äº«é” Sï¼š</p><p>â€‹ æ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥è¯»ï¼Œä½†ä»»ä½•äº‹åŠ¡éƒ½ä¸èƒ½å†™ã€‚</p></li><li><p>æ›´æ–°é” Uï¼š</p><p>â€‹ åˆå§‹è¯»ï¼Œä»¥åå¯å‡çº§ä¸ºå†™ã€‚</p></li><li><p>å¢é‡é” Iï¼ˆåé¢ä¸æ¶‰åŠï¼‰ï¼š</p><p>â€‹ å¢é‡æ›´æ–°ï¼ˆä¾‹å¦‚ <span class="math inline">\(A=A+x\)</span>ï¼‰åŒºåˆ†å¢é‡æ›´æ–°å’Œå…¶ä»–ç±»å‹çš„æ›´æ–°ã€‚</p></li></ul></li><li><p>ç›¸å®¹æ€§çŸ©é˜µï¼š</p><ul><li><p>å½“æŸäº‹åŠ¡å¯¹ä¸€æ•°æ®å¯¹è±¡<strong>æŒæœ‰ä¸€ç§é”</strong>æ—¶ï¼Œ<strong>å¦ä¸€äº‹åŠ¡</strong>å†ç”³è¯·å¯¹è¯¥å¯¹è±¡åŠ æŸä¸€ç±»å‹çš„é”ï¼Œæ˜¯å…è®¸ï¼ˆå¡«ã€Œæ˜¯ã€ï¼‰è¿˜æ˜¯ä¸å…è®¸ï¼ˆå¡«ã€Œå¦ã€ï¼‰ã€‚</p></li><li><p>æœ‰æ›´æ–°é”çš„æƒ…å†µï¼š</p><table><thead><tr class="header"><th style="text-align: center;"></th><th style="text-align: center;"></th><th style="text-align: center;">ç”³è¯·é”</th><th style="text-align: center;">ç”³è¯·é”</th><th style="text-align: center;">ç”³è¯·é”</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">å…±äº«é” S</td><td style="text-align: center;">æ’ä»–é” X</td><td style="text-align: center;">æ›´æ–°é” U</td></tr><tr class="even"><td style="text-align: center;">æŒæœ‰é”çš„æ¨¡å¼</td><td style="text-align: center;">å…±äº«é” S</td><td style="text-align: center;">æ˜¯</td><td style="text-align: center;">å¦</td><td style="text-align: center;">æ˜¯</td></tr><tr class="odd"><td style="text-align: center;">æŒæœ‰é”çš„æ¨¡å¼</td><td style="text-align: center;">æ’ä»–é” X</td><td style="text-align: center;">å¦</td><td style="text-align: center;">å¦</td><td style="text-align: center;">å¦</td></tr><tr class="even"><td style="text-align: center;">æŒæœ‰é”çš„æ¨¡å¼</td><td style="text-align: center;">æ›´æ–°é” U</td><td style="text-align: center;">å¦</td><td style="text-align: center;">å¦</td><td style="text-align: center;">å¦</td></tr></tbody></table></li></ul></li><li><p><strong>é”åè®®</strong>ï¼š</p><blockquote><p>ğŸ—¡é‡éš¾ç‚¹ï¼ŒPPTæ›´æ”¹äº†å¾ˆå¤šæ¬¡ï¼Œä¹Ÿç‰¹æ„é—®äº†è€å¸ˆå’ŒåŒå­¦ï¼Œå¸Œæœ›ä¸‹é¢ç†è§£æ˜¯æ­£ç¡®çš„ï¼Œè€ƒè¯•å¤§é¢˜é—®ä½¿ç”¨å“ªç§é”åè®®ï¼Œå¹¶è¯´æ˜ç†ç”±ã€‚</p></blockquote><ul><li><p>èƒŒæ™¯ï¼š</p><p>â€‹ä¸€å¼€å§‹å¹¶å‘æ§åˆ¶çš„æ—¶å€™ï¼Œè¯»å†™å®Œå…¨æ²¡æœ‰é”ï¼Œå¦‚æœä¸æ˜¯å¯ä¸²è¡ŒåŒ–è°ƒåº¦å°±ä¼šå‡ºé”™ã€‚</p></li><li><p><span class="math inline">\(0\)</span> çº§åè®®ï¼š</p><ul><li><p>æ‰€æœ‰å†™æ“ä½œéƒ½è¦åŠ æ’ä»–é”ï¼Œä½†æ’ä»–é”æ˜¯å†™å®Œå°±é‡Šæ”¾ï¼Œè€Œä¸æ˜¯ç›´åˆ°æäº¤äº‹åŠ¡æ‰é‡Šæ”¾ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117001704015.png"></div><blockquote><p>æ³¨æ„åœ¨æ’ä»–é”æœŸé—´æ˜¯å¯ä»¥è¯»çš„ï¼Œè¯»æ“ä½œå¹¶æ²¡æœ‰è¦æ±‚ä¸Šé”ï¼Œä¹Ÿå°±ä¸ä¼šå› ä¸ºç”³è¯·æœ‰å…³è¯»çš„é”è€Œé˜»å¡ã€‚</p></blockquote></li><li><p><strong>ä¸èƒ½é˜²æ­¢ä¸¢å¤±ä¿®æ”¹ï¼Œä¸å¯é‡å¤è¯»ï¼Œè„è¯»</strong>ä¸‰ç§ä¸ä¸€è‡´é”™è¯¯ï¼Œ<del>å®Œå…¨æ²¡ç”¨å±äºæ˜¯</del>ã€‚</p><blockquote><p>åˆ†æï¼š</p><ul><li><p>ä¸¢å¤±ä¿®æ”¹ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117000600586.png"></div></li><li><p>ä¸å¯é‡å¤è¯»ï¼š</p><div align="center"><p><img src="/img/blog/ds-note-images/image-20211117000728378.png"></p></div></li><li><p>è„è¯»ï¼š</p><div align="center"><p><img src="/img/blog/ds-note-images/image-20211117000704174.png"></p></div></li></ul></blockquote></li></ul></li><li><p><span class="math inline">\(1\)</span> çº§åè®®ï¼š</p><ul><li><p>æ‰€æœ‰å†™æ“ä½œéƒ½è¦åŠ æ’ä»–é”ï¼Œæ’ä»–é”ç›´åˆ°æäº¤äº‹åŠ¡æ‰é‡Šæ”¾ã€‚</p><div align="center"><p><img src="/img/blog/ds-note-images/image-20211117001725343.png"></p></div></li><li><p>å¯ä»¥<strong>é˜²æ­¢ä¸¢å¤±ä¿®æ”¹</strong>ï¼Œå› ä¸ºåœ¨åˆ«äººä¸èƒ½åœ¨ä½ æäº¤å‰è¿›è¡Œä¿®æ”¹ï¼ˆæœ‰å†™æ’ä»–é”ï¼‰ï¼Œè¿™æ ·ä½ çš„ä¿®æ”¹å°†å¯ä»¥ä¸€ç›´ä¿ç•™åˆ°æäº¤ã€‚</p></li><li><p>ä¸èƒ½é˜²æ­¢ä¸å¯é‡å¤è¯»å’Œè„è¯»ï¼Œç†ç”±å®Œå…¨åŒ <span class="math inline">\(0\)</span>çº§åè®®çš„å›¾ï¼Œå› ä¸ºå¯¹è¯»æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œä½ æ’ä»–é”å…³æˆ‘è¯»æ“ä½œä»€ä¹ˆäº‹ã€‚</p></li></ul></li><li><p><span class="math inline">\(2\)</span> çº§åè®®ï¼š</p><ul><li><p>æ‰€æœ‰å†™æ“ä½œåŒ <span class="math inline">\(1\)</span>çº§åè®®ï¼Œè¯»æ“ä½œè¦åŠ <strong>å…±äº«é”</strong>ï¼Œä½†å…±äº«é”æ˜¯è¯»å®Œå°±é‡Šæ”¾ï¼Œè€Œä¸æ˜¯ç›´åˆ°æäº¤äº‹åŠ¡æ‰é‡Šæ”¾ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117001833104.png"></div></li><li><p>å¯ä»¥<strong>é˜²æ­¢ä¸¢å¤±ä¿®æ”¹</strong>ï¼Œç†ç”±åŒ <span class="math inline">\(1\)</span> çº§åè®®ã€‚</p></li><li><p>å¯ä»¥<strong>é˜²æ­¢è„è¯»</strong>ï¼Œå› ä¸ºè¯»æ“ä½œéœ€è¦ç”³è¯·<strong>å…±äº«é”</strong>ï¼Œä½ èƒ½ç”³è¯·åˆ°å…±äº«é”ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå…ƒç´ æ²¡æœ‰è¢«ä¸Š<strong>æ’ä»–é”</strong>ï¼Œæ‰€ä»¥å°±ä¸ä¼šæœ‰å¯¹è¯¥å…ƒç´ çš„å†™æ“ä½œï¼Œé‚£ä¹ˆå³ä½¿æœ‰å›æ»šä¹Ÿå’Œè¯¥å…ƒç´ æ— å…³ã€‚</p></li><li><p><strong>ä¸èƒ½é˜²æ­¢ä¸å¯é‡å¤è¯»</strong>ï¼Œç†ç”±è§ä¸‹å›¾ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117002237934.png"></div></li></ul></li><li><p><span class="math inline">\(3\)</span> çº§åè®®ï¼š</p><ul><li><p>æ‰€æœ‰å†™æ“ä½œåŒ <span class="math inline">\(1\)</span>çº§åè®®ï¼Œè¯»æ“ä½œè¦åŠ <strong>å…±äº«é”</strong>ï¼Œç›´åˆ°æäº¤äº‹åŠ¡æ‰é‡Šæ”¾ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117002930381.png"></div></li><li><p><strong>é˜²æ­¢ä¸¢å¤±ä¿®æ”¹ï¼Œä¸å¯é‡å¤è¯»ï¼Œè„è¯»</strong>ã€‚</p><blockquote><p>ä¸å¯é‡å¤è¯»ç°è±¡ä¸ä¼šå‘ç”Ÿï¼Œå› ä¸ºä¸ä¼šå‡ºç°ä¸Šå›¾çš„å…±äº«é”é‡Šæ”¾åè¿˜å¯ä»¥è¢«åˆ«äººä¿®æ”¹ï¼Œä¸”æˆ‘å†è¯»çš„ç°è±¡ã€‚</p></blockquote></li></ul></li></ul></li><li><p>å°é”ç²’åº¦ï¼š</p><ul><li><p>å®šä¹‰ï¼š</p><p>â€‹ å°é”ç²’åº¦æ˜¯æŒ‡å°é”æ•°æ®å¯¹è±¡çš„å¤§å°ã€‚</p></li><li><p>ç²’åº¦å•ä½ï¼š</p><p>â€‹ å±æ€§å€¼ <span class="math inline">\(&lt;\)</span> å…ƒç»„ <span class="math inline">\(&lt;\)</span> å…ƒç»„é›†åˆ <span class="math inline">\(&lt;\)</span> æ•´ä¸ªå…³ç³» <span class="math inline">\(&lt;\)</span> æ•´ä¸ª DB</p></li><li><p>ç”±å‰å¾€åï¼š</p><p>â€‹ <strong>å¹¶å‘åº¦å°ï¼Œå°é”å¼€é”€å°</strong>ã€‚</p></li></ul></li><li><p>ä¸¤æ®µå°é”åè®®ï¼š</p><ul><li><p>æ¯ä¸ªäº‹åŠ¡åˆ†ä¸¤ä¸ªé˜¶æ®µæå‡ºåŠ é”å’Œè§£é”ç”³è¯·ã€‚</p><ol type="1"><li><p>å¢é•¿é˜¶æ®µï¼š</p><p>â€‹ äº‹åŠ¡å¯ä»¥è·å¾—é”ï¼Œä½†ä¸èƒ½é‡Šæ”¾é”ã€‚</p></li><li><p>ç¼©å‡é˜¶æ®µï¼š</p><p>â€‹ äº‹åŠ¡å¯ä»¥é‡Šæ”¾é”ï¼Œä½†ä¸èƒ½è·å¾—æ–°é”ã€‚</p></li></ol><blockquote><p>ç­‰ä»·äº PPT ä¸­çš„åŠ é”æ®µä¸­ä¸èƒ½æœ‰è§£é”æ“ä½œï¼Œè§£é”æ®µä¸­ä¸èƒ½æœ‰åŠ é”æ“ä½œã€‚</p><p>æ¯ä¸ªäº‹åŠ¡ä¸­æ‰€æœ‰<strong>å°é”</strong>è¯·æ±‚<strong>å…ˆäº</strong>ä»»ä½•ä¸€ä¸ª<strong>è§£é”</strong>è¯·æ±‚ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117100646462.png"></div></blockquote></li><li><p>å¯ä»¥ä¿è¯<strong>å†²çªå¯ä¸²è¡Œæ€§</strong>çš„ï¼Œä½†æ˜¯å¯èƒ½äº§ç”Ÿ<strong>æ­»é”</strong>ã€‚</p></li></ul></li></ul><h3 id="åŸºäºæ—¶é—´æˆ³çš„å¹¶å‘æ§åˆ¶æ–¹æ³•">åŸºäºæ—¶é—´æˆ³çš„å¹¶å‘æ§åˆ¶æ–¹æ³•ğŸ—¡</h3><ul><li><p>ä¸ç”¨é”å®ç°å¹¶å‘æ§åˆ¶ã€‚</p></li><li><p>æ—¶é—´æˆ³å®šä¹‰ï¼š</p><p>â€‹<strong>æ—¶é—´æˆ³</strong>æ˜¯ä¸€ç§åŸºäºæ—¶é—´çš„æ ‡å¿—ï¼Œå°†æŸä¸€æ—¶åˆ»è½¬æ¢æˆçš„ä¸€ä¸ªæ•°å€¼ï¼Œå…·æœ‰<strong>å”¯ä¸€æ€§å’Œé€’å¢æ€§</strong>ã€‚</p></li><li><p>åŸºæœ¬æ€æƒ³ï¼š</p><ul><li><p>äº‹åŠ¡ <span class="math inline">\(T\)</span>å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿå°†è¯¥æ—¶åˆ»ä½œä¸º <span class="math inline">\(T\)</span>çš„æ—¶é—´æˆ³ã€‚</p></li><li><p>æ—¶é—´æˆ³å¯ä»¥è¡¨å¾ä¸€ç³»åˆ—äº‹åŠ¡æ‰§è¡Œçš„<strong>å…ˆå</strong>æ¬¡åºï¼Œæ—¶é—´æˆ³å°çš„äº‹åŠ¡å…ˆæ‰§è¡Œï¼Œæ—¶é—´æˆ³å¤§çš„äº‹åŠ¡åæ‰§è¡Œï¼ˆä½†æ˜¯å®é™…ä¸Šæ˜¯äº¤å‰æ‰§è¡Œçš„ï¼‰ã€‚</p></li><li><p>å¼ºåˆ¶äº‹åŠ¡è°ƒåº¦<strong>ç­‰ä»·</strong>äºä¸€ä¸ªç‰¹å®šé¡ºåºï¼ˆå³æ—¶é—´æˆ³å‡åºï¼‰çš„<strong>ä¸²è¡Œ</strong>è°ƒåº¦ã€‚</p></li><li><p>å¯¹äºæ¯ä¸ªåŠ¨ä½œéƒ½è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ—¶é—´æˆ³ä¸Šçš„å†²çªï¼ˆä¿è¯æ—¶é—´æˆ³å°çš„å…ˆæ“ä½œï¼Œå¤§çš„åæ“ä½œï¼‰ï¼š</p><ul><li><p>å¦‚æ— å†²çªï¼Œäºˆä»¥æ‰§è¡Œï¼›</p></li><li><p>å¦‚æœ‰å†²çªï¼Œåˆ™æ’¤é”€è¿™ä¸ªåŠ¨ä½œå¯¹åº”çš„äº‹åŠ¡ï¼Œå¹¶é‡å¯è¯¥äº‹åŠ¡ï¼Œæ­¤æ—¶è¯¥äº‹åŠ¡è·å¾—äº†ä¸€ä¸ª<strong>æ›´å¤§</strong>çš„æ—¶é—´æˆ³ï¼Œå¯¹åº”çš„åŠ¨ä½œä½ç½®ä¼šå‘ç”Ÿæ”¹å˜ï¼Œé‡æ–°åšå†²çªåˆ¤æ–­ã€‚</p><blockquote><p>å›æ»š = æ’¤é”€ + é‡å¯</p></blockquote></li></ul></li><li><p>å†²çªç±»å‹ï¼š</p><ol type="1"><li>æ—¶é—´æˆ³å¤§çš„å…ˆå†™ï¼ˆè¯»ï¼‰ï¼Œæ—¶é—´æˆ³å°çš„åè¯»ï¼ˆå†™ï¼‰</li><li>æ—¶é—´æˆ³å¤§çš„å…ˆå†™ï¼Œæ—¶é—´æˆ³å°çš„åå†™</li></ol></li></ul></li><li><p>ç®€å•è°ƒåº¦ï¼š</p><ul><li><p>å¯¹ DB ä¸­çš„æ¯ä¸ªæ•°æ®å…ƒç´  <span class="math inline">\(x\)</span>ï¼Œç³»ç»Ÿä¿ç•™å…¶ä¸Šçš„æœ€å¤§æ—¶é—´æˆ³ï¼š</p><ul><li><p><span class="math inline">\(RT(x)\)</span>ï¼š<strong>è¯»</strong>è¿‡ <span class="math inline">\(x\)</span>çš„äº‹åŠ¡ä¸­<strong>æœ€å¤§çš„æ—¶é—´æˆ³</strong>ã€‚</p></li><li><p><span class="math inline">\(WT(x)\)</span>ï¼š</p><p>â€‹ <strong>å†™</strong>è¿‡ <span class="math inline">\(x\)</span>çš„äº‹åŠ¡ä¸­æœ€å¤§çš„æ—¶é—´æˆ³ã€‚</p></li></ul></li><li><p>äº‹åŠ¡çš„æ—¶é—´æˆ³ <span class="math inline">\(TS(T)\)</span></p></li><li><p>è¯» - å†™å¹¶å‘ï¼ˆå¯¹åº”è§£å†³å†²çªç±»å‹ <span class="math inline">\(1\)</span>ï¼‰ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(T\)</span> äº‹åŠ¡è¯» <span class="math inline">\(x\)</span>ï¼Œåˆ™æ¯”è¾ƒ <span class="math inline">\(TS(T)\)</span> ä¸ <span class="math inline">\(WT(x)\)</span>ï¼š</p><ul><li>è‹¥ <span class="math inline">\(TS(T) \ge WT(x)\)</span>ï¼ˆ<span class="math inline">\(T\)</span> åè¿›è¡Œï¼‰ï¼Œåˆ™å…è®¸ <span class="math inline">\(T\)</span> æ“ä½œï¼Œæ›´æ”¹ <span class="math inline">\(RT(x)\)</span> ä¸º <span class="math inline">\(\max\{RT(x),TS(T)\}\)</span></li><li>å¦åˆ™æœ‰å†²çªï¼Œ<span class="math inline">\(T\)</span> å›æ»šã€‚</li></ul></li><li><p>è‹¥ <span class="math inline">\(T\)</span> äº‹åŠ¡å†™ <span class="math inline">\(x\)</span>ï¼Œåˆ™æ¯”è¾ƒ <span class="math inline">\(TS(T)\)</span> ä¸ <span class="math inline">\(RT(x)\)</span>ï¼Œå…¶å®åŒæ—¶è¦è€ƒè™‘ã€Œå†™ -å†™ã€å¹¶å‘ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(TS(T) \ge RT(x)\)</span>ï¼ˆ<span class="math inline">\(T\)</span> åè¿›è¡Œï¼‰ï¼Œåˆ™å…è®¸ <span class="math inline">\(T\)</span> æ“ä½œï¼Œæ›´æ”¹ <span class="math inline">\(WT(x)\)</span> ä¸º <span class="math inline">\(TS(T)\)</span></p><blockquote><p>è¿™é‡Œä¸ PPT ä¸åŒï¼Œç¬”è€…è®¤ä¸º <span class="math inline">\(TS(T)\)</span>ä¸ä¼šæ¯” <span class="math inline">\(WT(x)\)</span>å°ï¼ˆå³å‰è€…ä¸€å®šæ›´å¤§ï¼‰ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå†™ - å†™å†²çªã€‚</p></blockquote></li><li><p>å¦åˆ™æœ‰å†²çªï¼Œ<span class="math inline">\(T\)</span>å›æ»šã€‚</p></li></ul></li></ul></li><li><p>å†™ - å†™å¹¶å‘ï¼ˆå¯¹åº”è§£å†³å†²çªç±»å‹ <span class="math inline">\(2\)</span>ï¼‰ï¼š</p><ul><li>è‹¥ <span class="math inline">\(T\)</span> äº‹åŠ¡å†™ <span class="math inline">\(x\)</span>ï¼Œåˆ™æ¯”è¾ƒ <span class="math inline">\(TS(T)\)</span> ä¸ <span class="math inline">\(WT(x)\)</span>ï¼š</li><li>è‹¥ <span class="math inline">\(TS(T) \ge WT(x)\)</span>ï¼Œåˆ™å…è®¸<span class="math inline">\(T\)</span> å†™ï¼Œå¹¶ä¸”æ›´æ”¹ <span class="math inline">\(WT(x)\)</span> ä¸º <span class="math inline">\(TS(T)\)</span> ï¼›</li><li>å¦åˆ™æœ‰å†²çªï¼Œ<span class="math inline">\(T\)</span>å›æ»šï¼ˆæˆ–è€…é‡‡ç”¨æ‰€è°“çš„<strong>æ‰˜é©¬æ–¯å†™</strong>è§„åˆ™ï¼Œç›´æ¥<strong>å¿½ç•¥</strong>è¿™ä¸ªå†™è€Œä¸æ˜¯å›æ»šæ•´ä¸ªäº‹åŠ¡ï¼Œåæ­£å®ƒå·²ç»è¢«æ—¶é—´æˆ³å¤§çš„å†™è¦†ç›–äº†ï¼‰ã€‚</li></ul></li><li><p>ä»¥ä¸Šç®€å•è°ƒåº¦ä¼šäº§ç”Ÿä¸¤ç§ä¸ä¸€è‡´é”™è¯¯ï¼ˆå³æ—¶é—´æˆ³å¹¶æ²¡æœ‰å¯¹è¿™ä¸¤ç§é”™è¯¯åŠ ä»¥é™åˆ¶ï¼Œåªæ˜¯æ¶ˆé™¤äº†<strong>ä¸å¯é‡å¤è¯»</strong>é”™è¯¯ï¼‰ï¼š</p><ul><li><p>è„è¯»ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117151647520.png"></div><p>â€‹ äº‹åŠ¡ <span class="math inline">\(T\)</span> è¯»å–äº†äº‹åŠ¡ <span class="math inline">\(U\)</span> æ²¡æäº¤çš„æ•°æ®ï¼Œåœ¨ <span class="math inline">\(U\)</span> å›æ»šåå°±å˜æˆäº†è„æ•°æ®ã€‚</p></li><li><p>ç±»ä¼¼ä¸¢å¤±ä¿®æ”¹çš„é”™è¯¯ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117152026245.png"></div><p><span class="math inline">\(T\)</span>çš„å†™åœ¨<strong>æ‰˜é©¬æ–¯å†™</strong>è§„åˆ™ä¸‹ï¼Œä¼šè¢«å¿½ç•¥ï¼Œä½†æ˜¯ <span class="math inline">\(U\)</span> ç»ˆæ­¢äº†ï¼Œå¯¼è‡´è°éƒ½æ²¡ç”¨å†™æˆ <span class="math inline">\(x\)</span>ã€‚è¿™ç§æƒ…å†µä¸‹ç†åº”<strong>ä¿ç•™ <span class="math inline">\(T\)</span> çš„å†™</strong>ã€‚</p></li></ul></li></ul></li><li><p>ä¼˜åŒ–åçš„æ—¶é—´æˆ³è°ƒåº¦ï¼š</p><ul><li><p><span class="math inline">\(WT(x),RT(x),TS(T)\)</span>ä¸ç®€å•è°ƒåº¦å®šä¹‰ç›¸åŒã€‚</p></li><li><p>å¢åŠ <strong>æäº¤ä½</strong> <span class="math inline">\(C(x)\)</span>ï¼š</p><ul><li><span class="math inline">\(C(x)=1\)</span> è¡¨æ˜æœ€è¿‘å†™ <span class="math inline">\(x\)</span>çš„äº‹åŠ¡ï¼ˆæ—¶é—´æˆ³è¾ƒå¤§ï¼‰å·²ç»<strong>æäº¤</strong>ï¼Œå°±ä¸ä¼šå‘ç”Ÿ<strong>å›æ»š</strong>ç°è±¡ã€‚</li><li><span class="math inline">\(C(x)\)</span>çš„æ„ä¹‰ï¼šå°†ä¸€äº›å¯èƒ½å¯¼è‡´è„è¯»å’Œä¸¢å¤±ä¿®æ”¹çš„æ“ä½œï¼Œ<strong>å»¶è¿Ÿ</strong>åˆ°ç¡®å®šæäº¤ï¼ˆæˆ–å›æ»šï¼‰åå†å¤„ç†ã€‚</li></ul></li><li><p>å¯¹æ¥è‡ªäº‹åŠ¡ <span class="math inline">\(T\)</span>çš„è¯»å†™è¯·æ±‚ï¼Œè°ƒåº¦å™¨å¯ä»¥ï¼š</p><ul><li>åŒæ„è¯·æ±‚</li><li>å›æ»š</li><li><strong>æ¨è¿Ÿ</strong>ï¼Œå¹¶åœ¨ä»¥åå†³å®šæ˜¯å›æ»šè¿˜æ˜¯è¦é‡æ–°åˆ¤æ–­ï¼ˆç®€å•è°ƒåº¦æ— æ­¤é¡¹é€‰æ‹©ï¼‰</li></ul></li><li><p>è‹¥ <span class="math inline">\(T\)</span> äº‹åŠ¡è¯» <span class="math inline">\(x\)</span>ï¼Œåˆ™æ¯”è¾ƒ <span class="math inline">\(TS(T)\)</span> ä¸ <span class="math inline">\(WT(x)\)</span>ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(TS(T) \ge WT(x)\)</span>ï¼ˆ<span class="math inline">\(T\)</span> åè¿›è¡Œï¼‰ï¼Œç†è®ºä¸Šåº”è¯¥å…è®¸ <span class="math inline">\(T\)</span> æ“ä½œï¼Œä½†è¦åˆ¤æ–­æœ€è¿‘çš„å†™æ˜¯å¦æäº¤ï¼š</p><ul><li><p><span class="math inline">\(C(x)=1\)</span>ï¼Œè¯´æ˜å·²æäº¤ï¼Œä¸ä¼šå›æ»šï¼ŒåŒæ„è¯·æ±‚ï¼Œå¯ä»¥æ”¾å¿ƒçš„è¯»ï¼Œä¸ä¼šæ˜¯è„æ•°æ®ã€‚æ›´æ”¹<span class="math inline">\(RT(x)\)</span> ä¸º <span class="math inline">\(\max\{RT(x),TS(T)\}\)</span></p></li><li><p>æ¨è¿Ÿ <span class="math inline">\(T\)</span> ç›´åˆ° <span class="math inline">\(C(x)=1\)</span> æˆ–å†™ <span class="math inline">\(x\)</span> çš„äº‹åŠ¡ç»ˆæ­¢</p><blockquote><p>å‰ä¸€ç§æƒ…å†µä»å¯ä»¥æ”¾å¿ƒè¯»ï¼Œåä¸€ç§æƒ…å†µå°±ä¸èƒ½è¯»äº†ï¼Œéœ€è¦å›æ»šã€‚</p></blockquote></li></ul></li><li><p>å¦åˆ™æœ‰å†²çªï¼Œ<span class="math inline">\(T\)</span>å›æ»šã€‚</p></li></ul></li><li><p>è‹¥ <span class="math inline">\(T\)</span> äº‹åŠ¡å†™ <span class="math inline">\(x\)</span>ï¼Œåˆ™æ¯”è¾ƒ <span class="math inline">\(TS(T),RT(x),WT(x)\)</span>ï¼Œå³åŒæ—¶è¦è€ƒè™‘ã€Œå†™ -è¯»ã€å’Œ ã€Œå†™ - å†™ã€å¹¶å‘ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(TS(T) \ge RT(x)\)</span> ä¸” <span class="math inline">\(TS(T) \ge WT(x)\)</span>ï¼Œåˆ™å…è®¸ <span class="math inline">\(T\)</span> æ“ä½œï¼Œæ›´æ”¹ <span class="math inline">\(WT(x)\)</span> ä¸º <span class="math inline">\(TS(T)\)</span>ã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(TS(T)\ge RT(x)\)</span>ï¼Œä½†æ˜¯<span class="math inline">\(TS(T)&lt;WT(x)\)</span>ï¼Œå°±è¦åˆ¤æ–­æ˜¯å¦å·²æäº¤</p><ul><li><p><span class="math inline">\(C(x)=1\)</span>ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ª <span class="math inline">\(x\)</span> çš„å†™å·²æäº¤ï¼Œåˆ™å¿½ç•¥ <span class="math inline">\(T\)</span> çš„å†™ï¼ˆæ‰˜é©¬æ–¯å†™è§„åˆ™ï¼‰ã€‚</p></li><li><p>å¦åˆ™æ¨è¿Ÿ <span class="math inline">\(T\)</span> ç›´åˆ° <span class="math inline">\(C(x)=1\)</span> æˆ–å†™ <span class="math inline">\(x\)</span> çš„äº‹åŠ¡ç»ˆæ­¢ã€‚</p><blockquote><p>å¦‚æœæ˜¯å‰ä¸€ç§æƒ…å†µå°±ä¼šå¿½ç•¥ <span class="math inline">\(T\)</span>çš„å†™ã€‚åä¸€ç§æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œæˆ‘è§‰å¾—ä¸èƒ½ç®€å•åœ°é€šè¿‡ <span class="math inline">\(T\)</span> çš„å†™è¯·æ±‚ï¼š</p><ul><li>å‡è®¾ç°åœ¨æœ‰äº‹åŠ¡ <span class="math inline">\(S_1,S_2,T\)</span>ï¼Œæ—¶é—´æˆ³æ’åºä¸º <span class="math inline">\(T&lt;S_1&lt;S_2\)</span>ï¼Œå†™ <span class="math inline">\(x\)</span> çš„é¡ºåºä¸º <span class="math inline">\(S_1,S_2,T\)</span>ã€‚æ­¤æ—¶ <span class="math inline">\(WT(x)=TS(S_2)\)</span>ï¼Œä¸” <span class="math inline">\(S_1\)</span> å·²æäº¤ï¼Œ<span class="math inline">\(S_2\)</span> æœªæäº¤ã€‚</li><li><span class="math inline">\(T\)</span>çš„å†™è¯·æ±‚ä¼šè¿›å…¥æ¨è¿Ÿåˆ¤æ–­ï¼Œå³ä½¿æœ€å <span class="math inline">\(S_2\)</span> å›æ»šäº†ï¼Œä½†æ˜¯ç”±äº <span class="math inline">\(S_1\)</span> çš„å†™å·²ç»æäº¤ï¼Œä¹Ÿåº”è¯¥å¿½ç•¥ <span class="math inline">\(T\)</span> çš„å†™ã€‚</li><li>PPT å¯¹è¿™ç§æƒ…å†µæ²¡æœ‰å¤„ç†åŠæ³•ï¼ˆå¦‚ä½•æ„ŸçŸ¥ <span class="math inline">\(S_1\)</span>çš„å­˜åœ¨ï¼‰ï¼Œæ‰€ä»¥è¿™åªæ˜¯ç¬”è€…çš„ä¸€ç§ç–‘æƒ‘ã€‚</li></ul></blockquote></li></ul></li><li><p>å¦åˆ™æœ‰å†²çªï¼Œ<span class="math inline">\(T\)</span>å›æ»šã€‚</p></li></ul></li><li><p>å‡è®¾è°ƒåº¦å™¨æ”¶åˆ°æäº¤ <span class="math inline">\(T\)</span>çš„è¯·æ±‚ï¼š</p><ul><li>å®ƒå¿…é¡»æ‰¾åˆ° <span class="math inline">\(T\)</span>æ‰€å†™çš„æ‰€æœ‰æ•°æ®åº“å…ƒç´  <span class="math inline">\(x\)</span>, å¹¶ç½® <span class="math inline">\(C(x)=1\)</span>ã€‚</li><li>ç­‰å¾… <span class="math inline">\(x\)</span>è¢«æäº¤çš„è¯»åŠ¨ä½œå¯ä»¥ç»§ç»­è¯»ï¼Œå†™åŠ¨ä½œè¦è¢«å¿½ç•¥ã€‚</li></ul></li><li><p>å‡è®¾è°ƒåº¦å™¨æ”¶åˆ°ç»ˆæ­¢ <span class="math inline">\(T\)</span>çš„è¯·æ±‚ï¼š</p><p>â€‹ ä»»ä½•ç­‰å¾… <span class="math inline">\(T\)</span> æ‰€å†™å…ƒç´  <span class="math inline">\(x\)</span> çš„äº‹åŠ¡åˆ¤æ–­è¿™ä¸€åŠ¨ä½œåœ¨ <span class="math inline">\(T\)</span> çš„å†™è¢«ç»ˆæ­¢åæ˜¯å¦åˆæ³•ã€‚</p><blockquote><p>å…·ä½“æ€ä¹ˆåˆ¤æ–­å°±åƒä¸Šé¢è¯´çš„ä¸€æ ·è¿˜ç¼ºå°‘ä¸€äº›ä¿¡æ¯ä½œä¸ºåˆ¤æ–­ä¾æ®ã€‚</p></blockquote></li></ul></li></ul><h3 id="åŸºäºæœ‰æ•ˆæ€§ç¡®è®¤çš„å¹¶å‘æ§åˆ¶æ–¹æ³•">åŸºäºæœ‰æ•ˆæ€§ç¡®è®¤çš„å¹¶å‘æ§åˆ¶æ–¹æ³•</h3><ul><li><p>åŸºæœ¬æ€æƒ³ï¼š</p><ul><li><p>äº‹åŠ¡åœ¨å¯åŠ¨æ—¶åˆ»è¢«èµ‹äºˆå”¯ä¸€çš„æ—¶é—´æˆ³ï¼Œä»¥ç¤ºå…¶å¯åŠ¨é¡ºåºã€‚</p></li><li><p>RS(T)ï¼š</p><p>â€‹ äº‹åŠ¡ T è¯»æ•°æ®çš„é›†åˆã€‚</p></li><li><p>WS(T)ï¼š</p><p>â€‹ äº‹åŠ¡ T å†™æ•°æ®çš„é›†åˆã€‚</p></li><li><p>äº‹åŠ¡åˆ†ä¸‰ä¸ªé˜¶æ®µè¿›è¡Œï¼š</p><ul><li><p>è¯»é˜¶æ®µï¼š</p><p>â€‹äº‹åŠ¡ä»æ•°æ®åº“ä¸­è¯»å–è¯»é›†åˆä¸­çš„<strong>æ‰€æœ‰å…ƒç´ </strong>ï¼Œåœ¨å…¶å±€éƒ¨åœ°å€ç©ºé—´<strong>è®¡ç®—</strong>å®ƒå°†è¦<strong>å†™</strong>çš„æ‰€æœ‰å€¼ã€‚</p></li><li><p>æœ‰æ•ˆæ€§ç¡®è®¤é˜¶æ®µï¼š</p><p>â€‹è°ƒåº¦å™¨é€šè¿‡æ¯”è¾ƒè¯¥äº‹åŠ¡ä¸<strong>å…¶å®ƒäº‹åŠ¡çš„è¯»å†™é›†åˆ</strong>æ¥ç¡®è®¤è¯¥äº‹åŠ¡çš„æœ‰æ•ˆæ€§ã€‚</p></li><li><p>å†™é˜¶æ®µï¼š</p><p>â€‹é€šè¿‡æœ‰æ•ˆæ€§ç¡®è®¤åï¼Œè¯¥äº‹åŠ¡ç«‹åˆ»å¾€æ•°æ®åº“ä¸­å†™å…¥å…¶å†™é›†åˆä¸­å…ƒç´ çš„å€¼ï¼ˆè¿™ä¸ªè¿‡ç¨‹è¦åˆ¤æ–­ã€Œè¯»- å†™ã€å’Œã€Œå†™ - å†™ã€å†²çªï¼‰ã€‚</p></li></ul></li><li><p>å¹¶å‘äº‹åŠ¡ä¸²è¡Œçš„é¡ºåºå³äº‹åŠ¡æœ‰æ•ˆæ€§ç¡®è®¤çš„é¡ºåºã€‚</p></li></ul></li><li><p>é›†åˆå®šä¹‰ï¼š</p><ul><li>START é›†åˆï¼š<ul><li>å·²ç»å¼€å§‹ä½†<strong>å°šæœªå®Œæˆæœ‰æ•ˆæ€§ç¡®è®¤</strong>çš„äº‹åŠ¡é›†åˆã€‚</li><li>å¯¹æ­¤é›†åˆä¸­çš„äº‹åŠ¡ï¼Œè°ƒåº¦å™¨ç»´æŠ¤ START(T)ï¼Œå³ T å¼€å§‹çš„æ—¶é—´ã€‚</li></ul></li><li>VAL é›†åˆï¼š<ul><li>å·²ç»<strong>ç¡®è®¤æœ‰æ•ˆæ€§</strong>ä½†<strong>å°šæœªå®Œæˆå†™é˜¶æ®µ</strong>å†™çš„äº‹åŠ¡ã€‚</li><li>å¯¹æ­¤é›†åˆä¸­çš„äº‹åŠ¡ï¼Œè°ƒåº¦å™¨ç»´æŠ¤ START(T) å’Œ VAL(T)ï¼Œå³ Tç¡®è®¤çš„æ—¶é—´ã€‚</li></ul></li><li>FIN é›†åˆï¼š<ul><li>å·²ç»<strong>å®Œæˆå†™é˜¶æ®µ</strong>çš„äº‹åŠ¡ã€‚</li><li>å¯¹æ­¤é›†åˆä¸­çš„äº‹åŠ¡ï¼Œè°ƒåº¦å™¨è®°å½• START(T)ï¼ŒVAL(T) å’Œ FIN(T)ï¼Œå³ Tå®Œæˆçš„æ—¶é—´ã€‚</li></ul></li></ul></li><li><p>æœ‰æ•ˆæ€§ç¡®è®¤è§„åˆ™</p><ul><li><p>è¯» - å†™å¹¶å‘ï¼š</p><p>â€‹ å¯¹äºæ‰€æœ‰<strong>å·²ç»è¿‡æœ‰æ•ˆæ€§ç¡®è®¤</strong>ï¼Œä¸”åœ¨ Tå¼€å§‹å‰<strong>æ²¡æœ‰å®Œæˆ</strong>çš„ Uï¼Œå³å¯¹äºæ»¡è¶³ FIN(U)&gt;START(T) çš„Uï¼Œæ£€æµ‹ RS(T) <span class="math inline">\(\cap\)</span> WS(U)æ˜¯å¦ä¸ºç©ºï¼š</p><ul><li>è‹¥ä¸ºç©ºï¼Œåˆ™ç¡®è®¤ Tã€‚</li><li>å¦åˆ™ï¼Œä¸äºˆç¡®è®¤ Tã€‚</li></ul></li><li><p>å†™ - å†™å¹¶å‘ï¼š</p><p>â€‹ å¯¹äºæ‰€æœ‰å·²ç»è¿‡æœ‰æ•ˆæ€§ç¡®è®¤ï¼Œä¸”åœ¨ T æœ‰æ•ˆæ€§ç¡®è®¤å‰æ²¡æœ‰å®Œæˆçš„Uï¼Œå³å¯¹äºæ»¡è¶³ FIN(U)&gt;VAL(T) çš„ Uï¼Œæ£€æµ‹ WS(T) <span class="math inline">\(\cap\)</span> WS(U) æ˜¯å¦ä¸ºç©ºï¼š</p><ul><li>è‹¥ä¸ºç©ºï¼Œåˆ™ç¡®è®¤ Tã€‚</li><li>å¦åˆ™ï¼Œä¸äºˆç¡®è®¤ Tã€‚</li></ul></li></ul></li><li><p>ä¾‹å­ï¼š</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117183843703.png"></div></li></ul><h2 id="æ•…éšœæ¢å¤">æ•…éšœæ¢å¤</h2><h3 id="æ•…éšœæ¢å¤çš„å®è§‚æ€è·¯">æ•…éšœæ¢å¤çš„å®è§‚æ€è·¯</h3><ul><li><p>æ•…éšœç±»å‹ï¼š</p><ul><li><p>äº‹åŠ¡æ•…éšœï¼š</p><p>â€‹æŸä¸€ä¸ªç¨‹åºï¼ˆäº‹åŠ¡ï¼‰è‡ªèº«è¿è¡Œé”™è¯¯æ‰€å¼•èµ·çš„æ•…éšœï¼Œå½±å“è¯¥ç¨‹åºï¼ˆäº‹åŠ¡ï¼‰æœ¬èº«ï¼Œåªéœ€è¦æ’¤é”€äº‹åŠ¡å’Œé‡åšäº‹åŠ¡æ¥è¿›è¡Œæ¢å¤ã€‚</p></li><li><p>ç³»ç»Ÿæ•…éšœï¼š</p><p>â€‹ç”±äºæ‰ç”µã€éæ­£å¸¸å…³æœºç­‰æ‰€å¼•èµ·çš„æ•…éšœã€‚å½±å“<strong>æ­£åœ¨è¿è¡Œçš„äº‹åŠ¡</strong>ä»¥åŠæ•°æ®åº“<strong>ç¼“å†²åŒº</strong>ï¼ˆæ•°æ®åº“ç¼“å†²åŒºæ¶‰åŠæ­£åœ¨è¿è¡Œå’Œå·²ç»è¿è¡Œçš„äº‹åŠ¡ï¼‰ã€‚</p></li><li><p>ä»‹è´¨æ•…éšœï¼š</p><p>â€‹ç”±äºä»‹è´¨ï¼ˆæ•°æ®åº“ï¼‰æŸåç­‰æ‰€å¼•èµ·çš„æ•…éšœã€‚å½±å“æ˜¯å…¨é¢çš„ï¼Œæ—¢å½±å“å†…å­˜ä¸­çš„æ•°æ®,åˆå½±å“ä»‹è´¨ä¸­å­˜å‚¨çš„æ•°æ®ã€‚</p></li></ul></li><li><p>æ•…éšœä¼šç ´åäº‹åŠ¡çš„åŸå­æ€§ï¼Œä¸€è‡´æ€§å’ŒæŒä¹…æ€§ã€‚</p><blockquote><p>éš”ç¦»æ€§å› ä¸ºæ•…éšœå‘ç”Ÿåä¸èƒ½æ‰§è¡Œäº‹åŠ¡ï¼Œäº‹åŠ¡è‚¯å®šæ˜¯è¶Šå°‘è¶Šä¸å®¹æ˜“ç ´åéš”ç¦»æ€§ã€‚</p></blockquote></li><li><p>æ•…éšœæ¢å¤æ„ä¹‰ï¼š</p><p>â€‹ æŠŠ DBç”±<strong>å½“å‰ä¸æ­£ç¡®çŠ¶æ€</strong>æ¢å¤åˆ°<strong>å·²çŸ¥æ­£ç¡®</strong>çš„æŸä¸€çŠ¶æ€ã€‚</p></li><li><p>éœ€è¦ä¿è¯äº‹åŠ¡çš„ï¼š</p><ul><li><p>åŸå­æ€§ï¼š</p><p>â€‹ äº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ½æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚</p></li><li><p>æŒä¹…æ€§ï¼š</p><p>â€‹å·²æäº¤çš„äº‹åŠ¡å¯¹æ•°æ®åº“äº§ç”Ÿçš„å½±å“æ˜¯æŒä¹…çš„ï¼ˆç¼“å†²åŒºå†…å®¹ä¿è¯å†™å›ç£ç›˜ï¼‰ï¼Œæœªæäº¤çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸åº”æœ‰å½±å“ï¼ˆç¼“å†²åŒºå†…å®¹ä¸èƒ½å½±å“ç£ç›˜ï¼‰ã€‚</p></li></ul></li><li><p>è¿è¡Œæ—¥å¿—ï¼š</p><ul><li><p>è¿è¡Œæ—¥å¿—æ˜¯ DBMSç»´æŠ¤çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä»¥æµæ°´æ–¹å¼è®°å½•äº†æ¯ä¸€ä¸ªäº‹åŠ¡å¯¹æ•°æ®åº“çš„æ¯ä¸€æ¬¡æ“ä½œåŠæ“ä½œé¡ºåºã€‚</p><blockquote><p>MOOC ä¸Šé¢˜ç›®è¯´ã€Œæ—¥å¿—æ–‡ä»¶æ˜¯ç”¨äºè®°å½•å¯¹æ•°æ®çš„æ‰€æœ‰æ›´æ–°æ“ä½œã€ã€‚</p></blockquote></li><li><p>è¿è¡Œæ—¥å¿—ç›´æ¥å†™å…¥ä»‹è´¨å­˜å‚¨ä¸Šï¼Œä¼šä¿æŒæ­£ç¡®æ€§ã€‚</p></li><li><p>å½“äº‹åŠ¡å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œæ—¶ï¼Œ<strong>å…ˆå†™è¿è¡Œæ—¥å¿—</strong>ã€‚å†™æˆåŠŸåï¼Œå†ä¸æ•°æ®åº“ç¼“å†²åŒºè¿›è¡Œä¿¡æ¯äº¤æ¢ã€‚</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117190515585.png"></div></li><li><p>ä¿å­˜ä¿¡æ¯ï¼š</p><ul><li>&lt; Start T &gt;ï¼Œè¡¨ç¤ºäº‹åŠ¡ T å·²ç»å¼€å§‹</li><li>&lt; Commit T &gt;ï¼Œè¡¨ç¤ºäº‹åŠ¡ T æˆåŠŸå®Œæˆ</li><li>&lt; Abort T &gt;ï¼Œäº‹åŠ¡ T æœªæˆåŠŸï¼Œè¢«ä¸­æ­¢</li><li>&lt; T, X, <span class="math inline">\(v_1\)</span> &gt; æˆ–è€… &lt;T, X, <span class="math inline">\(v_2\)</span> &gt; æˆ–è€… &lt; T, X,<span class="math inline">\(v_1\)</span>, <span class="math inline">\(v_2\)</span> &gt;ï¼ˆå¯¹åº” Undo å‹æ—¥å¿—ï¼ŒRedoå‹æ—¥å¿—ï¼ŒUndo/Redo å‹æ—¥å¿—ï¼‰</li><li>è¡¨ç¤ºäº‹åŠ¡ T æ”¹å˜äº†æ•°æ®åº“å…ƒç´  Xï¼ŒX åŸæ¥çš„å€¼ä¸º <span class="math inline">\(v_1\)</span>ï¼ˆX çš„æ—§å€¼ï¼‰ï¼ŒX æ–°çš„å€¼ä¸º <span class="math inline">\(v_2\)</span>ã€‚</li></ul></li></ul></li><li><p>äº‹åŠ¡æ•…éšœçš„æ¢å¤ï¼š</p><ul><li><p>äº‹åŠ¡æ•…éšœå¯é€šè¿‡é‡åšäº‹åŠ¡ï¼ˆRedoï¼‰å’Œæ’¤æ¶ˆäº‹åŠ¡ï¼ˆUndoï¼‰æ¥æ¢å¤ã€‚</p></li><li><p>é‡åšäº‹åŠ¡å¯ä¿è¯<strong>å·²æäº¤äº‹åŠ¡çš„æŒä¹…æ€§</strong>ï¼Œè€Œæ’¤é”€äº‹åŠ¡åˆ™æ¶ˆé™¤<strong>æœªæäº¤äº‹åŠ¡</strong>çš„å½±å“ã€‚</p><blockquote><p>å·²æäº¤äº‹åŠ¡çš„å†™æ•°æ®ï¼Œå¯èƒ½åªæ˜¯æ”¾åœ¨ç¼“å†²åŒºä¸­ï¼Œè¿˜æ²¡æœ‰å†™å…¥ç£ç›˜ï¼Œå½“å‘ç”Ÿæ•…éšœæ—¶å°†ä¸¢å¤±ä¿®æ”¹ã€‚æ‰€ä»¥å¿…é¡»é€šè¿‡Redo é‡æ–°æŠŠä¿®æ”¹å†™ç£ç›˜ã€‚</p></blockquote></li><li><p>DBMSåœ¨è¿è¡Œæ—¥å¿—ä¸­å®šæœŸè®¾ç½®åŠæ›´æ–°<strong>æ£€æŸ¥ç‚¹</strong>ï¼ˆcheckpointï¼‰ï¼š</p><ul><li>åœ¨æ£€æŸ¥ç‚¹æ—¶ï¼ŒDBMS å¼ºåˆ¶ä½¿ DB ç¼“å†²åŒºä¸­çš„å†…å®¹ä¸ DBä¸­çš„å†…å®¹ä¿æŒä¸€è‡´ï¼Œå³å°† DB ç¼“å†²åŒºæ›´æ–°çš„æ‰€æœ‰å†…å®¹å†™å› DB ä¸­ã€‚</li><li>ä¿è¯åœ¨æ£€æŸ¥ç‚¹ä¹‹å‰å†…å­˜ä¸­æ•°æ®ä¸ DBä¸­æ•°æ®æ˜¯<strong>ä¿æŒä¸€è‡´</strong>çš„ï¼Œå³æ£€æŸ¥ç‚¹<strong>ä¹‹å‰ç»“æŸ</strong>çš„äº‹åŠ¡ä¸éœ€è¦æ¢å¤ï¼ˆå·²ç»å†™å›DBï¼‰ã€‚</li><li>æ£€æŸ¥ç‚¹ä¹‹å<strong>ç»“æŸæˆ–å‘ç”Ÿ</strong>çš„äº‹åŠ¡éœ€è¦ä¾æ®<strong>è¿è¡Œæ—¥å¿—</strong>è¿›è¡Œæ¢å¤ï¼ˆä¸èƒ½ç¡®å®šæ˜¯å¦å†™å›DBï¼‰ï¼š<strong>æ•…éšœç‚¹å‰ç»“æŸçš„é‡åšï¼Œæ•…éšœç‚¹æ—¶åˆ»æœªç»“æŸçš„æ’¤æ¶ˆ</strong>ã€‚</li></ul><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117200855482.png"></div></li><li><p>é€šè¿‡å‰¯æœ¬å®ç°<strong>ä»‹è´¨æ•…éšœ</strong>æ¢å¤ï¼š</p><ul><li>åœ¨æŸä¸€æ—¶åˆ»ï¼ˆè½¬å‚¨ç‚¹ï¼‰ï¼Œå¯¹æ•°æ®åº“åœ¨å…¶ä»–ä»‹è´¨å­˜å‚¨ä¸Šäº§ç”Ÿçš„å¦ä¸€ä»½ç­‰åŒè®°å½•ï¼Œå³å‰¯æœ¬ã€‚</li><li>å½“ DBå‘ç”Ÿæ•…éšœæ—¶ç”¨å‰¯æœ¬æ›¿æ¢ï¼Œä¸”ç”±äºä»‹è´¨æ•…éšœå½±å“å¾ˆå¤§ï¼Œæ›¿æ¢åè¿˜éœ€è¦ä¾æ®<strong>è¿è¡Œæ—¥å¿—</strong>è¿›è¡Œæ¢å¤ã€‚</li><li>è½¬å‚¨ç‚¹çš„è®¾ç½®ï¼š<ul><li>è¿‡é¢‘ä¼šå½±å“ç³»ç»Ÿå·¥ä½œæ•ˆç‡ã€‚</li><li>è¿‡ç–ä¼šé€ æˆè¿è¡Œæ—¥å¿—è¿‡å¤§ï¼Œä¹Ÿå½±å“ç³»ç»Ÿè¿è¡Œæ€§èƒ½ï¼ˆè½¬å‚¨ç‚¹å‰çš„æ—¥å¿—ä¸éœ€è¦ä¿å­˜ï¼‰ã€‚</li><li>å¤‡ä»½è½¬å‚¨å‘¨æœŸä¸è¿è¡Œæ—¥å¿—çš„å¤§å°å¯†åˆ‡ç›¸å…³ï¼Œåˆç†è®¾ç½®ã€‚</li></ul></li></ul></li></ul></li></ul><h3 id="ç¼“å†²åŒº">ç¼“å†²åŒº</h3><ul><li><p>äº‹åŠ¡å’Œç¼“å†²åŒºçš„æ“ä½œï¼š</p><ul><li><p>READ(X,t)ï¼š</p><p>â€‹ å°†å…ƒç´  X è¯»åˆ°äº‹åŠ¡çš„<strong>å±€éƒ¨å˜é‡</strong> t ä¸­ã€‚</p></li><li><p>WRITE(X,t)ï¼š</p><p>â€‹ å°†äº‹åŠ¡å±€éƒ¨å˜é‡ t å†™å›å…ƒç´  Xã€‚</p></li><li><p>INPUT(X)ï¼š</p><p>â€‹ å°†å…ƒç´  X ä»ç£ç›˜è¯»å…¥åˆ°å†…å­˜ç¼“å†²åŒºä¸­ã€‚</p></li><li><p>OUTPUT(X)ï¼š</p><p>â€‹ å°†å…ƒç´  X ä»ç¼“å†²åŒºå†™<strong>å›åˆ°ç£ç›˜</strong>ä¸­ã€‚</p></li><li><p>COMMITï¼š</p><p>â€‹ äº‹åŠ¡æäº¤ã€‚</p></li><li><p>ABORTï¼š</p><p>â€‹ äº‹åŠ¡æ’¤é”€ã€‚</p></li></ul></li><li><p><strong>ç¼“å†²åŒºç­–ç•¥</strong>ğŸ¤ğŸ—¡ï¼š</p><ul><li><p>Forceï¼š</p><p>â€‹ ç¼“å†²åŒºä¸­çš„æ•°æ®æœ€æ™šåœ¨ commit çš„æ—¶å€™å†™å…¥ç£ç›˜ã€‚</p></li><li><p>No Forceï¼š</p><p>â€‹ ç¼“å†²åŒºä¸­çš„æ•°æ®å¯ä»¥ä¸€ç›´ä¿ç•™ï¼Œåœ¨ commit ä¹‹åè¿‡ä¸€æ®µæ—¶é—´å†å†™å…¥ç£ç›˜ã€‚</p><blockquote><p>å¦‚æœåœ¨ç³»ç»Ÿå´©æºƒçš„æ—¶å€™è¿˜æ²¡å†™å…¥åˆ°ç£ç›˜ï¼Œéœ€è¦ Redoã€‚</p></blockquote></li><li><p>Stealï¼š</p><p>â€‹ å…è®¸åœ¨äº‹åŠ¡ commit ä¹‹å‰æŠŠç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥ç£ç›˜ï¼ˆå…ˆå·å·å†™ä¸€ç‚¹ï¼‰ã€‚</p><blockquote><p>æ­¤æ—¶è‹¥ç³»ç»Ÿåœ¨ commitä¹‹å‰å´©æºƒæ—¶ï¼Œå·²ç»æœ‰æ•°æ®å†™å…¥åˆ°ç£ç›˜äº†ï¼Œè¦æ¢å¤åˆ°å´©æºƒå‰çš„çŠ¶æ€ï¼Œéœ€è¦Undoã€‚</p></blockquote></li><li><p>No Stealï¼š</p><p>â€‹ ä¸å…è®¸åœ¨äº‹åŠ¡ commit ä¹‹å‰æŠŠç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥ç£ç›˜ã€‚</p><blockquote><p>Steal/No Steal å…³å¿ƒçš„ç¼“å†²åŒºçš„æ•°æ®æœ€æ—©ä»€ä¹ˆæ—¶å€™å¼€å§‹å†™ç£ç›˜ã€‚</p><p>Force/No Force å…³å¿ƒçš„ç¼“å†²åŒºçš„æ•°æ®æœ€æ™šä»€ä¹ˆæ—¶å€™è¦å†™å›ç£ç›˜ã€‚</p></blockquote></li><li><p>å„ç§æ­é…çš„æ•ˆç‡å’Œç­–ç•¥æ¯”è¾ƒï¼š</p><p>â€‹ æœ€çµæ´»ä¸”å¸¸ç”¨ Steal + No Force</p><div data-align="center"><img src="/img/blog/ds-note-images/image-20211117201057674.png"></div></li></ul></li></ul><h3 id="ä¸‰ç§æ—¥å¿—ç±»å‹">ä¸‰ç§æ—¥å¿—ç±»å‹</h3><blockquote><p>è¿™ä¸€èŠ‚è€å¸ˆè®²çš„å¾ˆå¿«ï¼Œå¾ˆå¤šåœ°æ–¹å­˜åœ¨ç–‘æƒ‘ï¼ˆä¸ºä»€ä¹ˆè¦æ‰§è¡Œåˆ°å“ªä¸ªåœ°æ–¹ï¼Œæ£€æŸ¥ç‚¹å®é™…çš„ä½œç”¨ï¼‰éƒ½ä¸å¤ªæ¸…æ¥šï¼Œåªèƒ½ç›²ç›®æ¬è¿PPT äº†ğŸ˜«ã€‚</p></blockquote><ul><li><p>åˆ¤æ–­ç¡®å®šæ¯ä¸€ä¸ªäº‹åŠ¡æ˜¯å¦å·²å®Œæˆï¼š</p><ul><li><p>å·²å®Œæˆï¼ˆRedo å…³æ³¨çš„ï¼‰ï¼š</p><p>â€‹ &lt; START T &gt;<span class="math inline">\(\cdots\)</span>&lt;COMMIT T &gt;</p></li><li><p>æœªå®Œæˆï¼ˆUndo å…³æ³¨çš„ï¼‰ï¼š</p><ul><li>&lt; START T &gt;<span class="math inline">\(\cdots\)</span>&lt;ABORT T &gt;<br></li><li>&lt; START T &gt;<span class="math inline">\(\cdots\)</span></li></ul></li></ul></li><li><p>æ£€æŸ¥ç‚¹ç±»å‹ï¼š</p><ul><li>é™æ­¢æ£€æŸ¥ç‚¹ï¼š<ul><li>å‘¨æœŸæ€§åœ°å¯¹æ—¥å¿—è®¾ç½®æ£€æŸ¥ç‚¹ã€‚</li><li><strong>åœæ­¢æ¥å—</strong>æ–°çš„äº‹åŠ¡ï¼Œç­‰åˆ°æ‰€æœ‰å½“å‰æ´»è·ƒäº‹åŠ¡æäº¤æˆ–ç»ˆæ­¢ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­å†™å…¥äº†COMMIT æˆ– ABORT è®°å½•ã€‚</li><li>æœ€åå°†æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ï¼Œå†™å…¥æ—¥å¿—è®°å½• &lt; CKPT&gt;ï¼Œå¹¶å†æ¬¡åˆ·æ–°æ—¥å¿—ã€‚</li></ul></li><li>éé™æ­¢æ£€æŸ¥ç‚¹ï¼š<ul><li>åœ¨è®¾ç½®æ£€æŸ¥ç‚¹æ—¶ä¸å¿…å…³é—­ç³»ç»Ÿï¼Œ<strong>å…è®¸æ–°äº‹åŠ¡</strong>è¿›å…¥ã€‚</li><li>å†™å…¥ä¸€æ¡ &lt; START CKPT(<span class="math inline">\(T_1,\cdots,T_k\)</span>) &gt;ï¼Œå…¶ä¸­ <span class="math inline">\(T_1,\cdots,T_k\)</span>æ˜¯æ‰€æœ‰<strong>æ´»è·ƒçš„æœªç»“æŸ</strong>çš„äº‹åŠ¡ã€‚</li><li>ç»§ç»­æ­£å¸¸çš„æ“ä½œï¼Œç›´åˆ° <span class="math inline">\(T_1,\cdots,T_k\)</span> éƒ½å®Œæˆæ—¶ï¼Œå†™å…¥ &lt; ENDCKPT &gt;ã€‚</li></ul></li></ul></li><li><p>Undo å‹æ—¥å¿—ï¼š</p><ul><li><p>å¯¹åº” Steal + Force ç­–ç•¥</p></li><li><p>å¯¹äºä»»ä¸€äº‹åŠ¡ Tï¼ŒæŒ‰ä¸‹åˆ—é¡ºåºå‘ç£ç›˜è¾“å‡º T çš„æ—¥å¿—ä¿¡æ¯ï¼š</p><ul><li><p>é¦–å…ˆï¼Œ&lt; T, X, <span class="math inline">\(v\)</span> &gt;è¢«å†™åˆ°æ—¥å¿—ä¸­ï¼Œ<span class="math inline">\(v\)</span> ä¸º Xçš„æ—§å€¼ã€‚</p></li><li><p>å…¶æ¬¡ï¼ŒOUTPUT(X)</p></li><li><p>æœ€åï¼Œ&lt; COMMIT T &gt; æˆ– &lt; ABORT T &gt;è¢«å†™åˆ°æ—¥å¿—ä¸­</p><blockquote><p>å°†äº‹åŠ¡æ”¹å˜çš„<strong>æ‰€æœ‰æ•°æ®å†™åˆ°ç£ç›˜å‰</strong>ä¸èƒ½<strong>æäº¤</strong>è¯¥äº‹åŠ¡ã€‚</p></blockquote></li></ul></li><li><p>ğŸ—¡ä»æ—¥å¿—çš„å°¾éƒ¨å¼€å§‹æŒ‰æ—¥å¿—è®°å½•çš„ååºï¼Œå¤„ç†æ¯ä¸€æ—¥å¿—è®°å½•ï¼Œæ’¤é”€<strong>æœªå®Œæˆäº‹åŠ¡</strong>çš„æ‰€æœ‰ä¿®æ”¹ï¼Œå¤„ç†åˆ°æ£€æŸ¥ç‚¹ä¸ºæ­¢ã€‚</p></li><li><p>å¦‚æœæ˜¯åœ¨ &lt; COMMIT T &gt; åå‘ç”Ÿæ•…éšœï¼Œæ— éœ€å¯¹ T åšä»»ä½•å¤„ç†ï¼Œå› ä¸ºT å·²ç»å®Œæˆå®ƒè¦åšçš„æ‰€æœ‰åŠ¨ä½œäº†ï¼Œæ»¡è¶³åŸå­æ€§ã€‚</p></li><li><p>åä¹‹ï¼ŒT æ‰€æœ‰åŠ¨ä½œå¸¦æ¥çš„å½±å“éƒ½è¦æ’¤é”€æ‰ï¼Œé€šè¿‡ &lt; T, X, <span class="math inline">\(v\)</span> &gt; è¿˜åŸã€‚</p></li><li><p>å¯èƒ½é¢‘ç¹åœ°å†™ç£ç›˜ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</p></li></ul></li><li><p>Redo å‹æ—¥å¿—ï¼š</p><ul><li><p>å¯¹åº” No Steal + No Force ç­–ç•¥</p></li><li><p>å¯¹äºä»»ä¸€äº‹åŠ¡ Tï¼ŒæŒ‰ä¸‹åˆ—é¡ºåºå‘ç£ç›˜è¾“å‡º T çš„æ—¥å¿—ä¿¡æ¯ï¼š</p><ul><li><p>é¦–å…ˆï¼Œ&lt; T, X, <span class="math inline">\(v\)</span> &gt;è¢«å†™åˆ°æ—¥å¿—ä¸­ï¼Œ<span class="math inline">\(v\)</span> ä¸º Xçš„æ–°å€¼ã€‚</p></li><li><p>å…¶æ¬¡ï¼Œ&lt; COMMIT T &gt; æˆ– &lt; ABORT T&gt;è¢«å†™åˆ°æ—¥å¿—ä¸­</p></li><li><p>æœ€åï¼ŒOUTPUT(X)</p><blockquote><p>ä¸ Undo å†™å…¥æ—¥å¿—çš„é¡ºåºä¸ä¸€æ ·ã€‚</p></blockquote></li></ul></li><li><p>ä»æ—¥å¿—çš„èµ·å§‹ä½ç½®ï¼ˆæ£€æŸ¥ç‚¹ï¼‰å¼€å§‹æŒ‰æ—¥å¿—è®°å½•çš„æ­£åºå¤„ç†æ¯ä¸€æ—¥å¿—è®°å½•ï¼Œé‡åš<strong>å·²æäº¤äº‹åŠ¡</strong>çš„æ‰€æœ‰ä¿®æ”¹ã€‚</p><blockquote><p>åœ¨æ£€æŸ¥ç‚¹å¤„ï¼Œè¦å°†ä¹‹å‰æ‰€æœ‰å·²æäº¤çš„äº‹åŠ¡å†™å›ç£ç›˜ï¼ˆUndo ä¸ç”¨æ˜¯å› ä¸ºå®ƒçš„OUTPUT åœ¨æäº¤å‰åšå®Œï¼‰ã€‚</p></blockquote></li><li><p>å¦‚æœæ˜¯åœ¨ &lt; COMMIT T &gt; å‰å‘ç”Ÿæ•…éšœï¼Œæ— éœ€å¯¹ T åšä»»ä½•å¤„ç†ï¼Œå› ä¸ºT å¹¶æ²¡æœ‰å°†å½±å“å†™å…¥æ•°æ®åº“ï¼ˆOUTPUT è¿˜æ²¡æ‰§è¡Œï¼‰ã€‚</p></li><li><p>åä¹‹ï¼Œé€šè¿‡ &lt; T, X, <span class="math inline">\(v\)</span> &gt;æ›´æ–°æ•°æ®åº“ã€‚</p></li><li><p>æ•°æ®å¿…é¡»åœ¨ Commit åæ‰å¯è§ï¼Œçµæ´»æ€§å·®ã€‚</p></li></ul></li><li><p>Undo/Redo å‹æ—¥å¿—ï¼š</p><ul><li><p>å¯¹åº” Steal + No Force ç­–ç•¥</p></li><li><p>å¯¹äºä»»ä¸€äº‹åŠ¡ Tï¼ŒæŒ‰ä¸‹åˆ—é¡ºåºå‘ç£ç›˜è¾“å‡º T çš„æ—¥å¿—ä¿¡æ¯ï¼š</p><ul><li><p>é¦–å…ˆï¼Œ&lt; T, X, <span class="math inline">\(u\)</span>, <span class="math inline">\(v\)</span> &gt; è¢«å†™åˆ°æ—¥å¿—ä¸­ï¼Œ<span class="math inline">\(u\)</span> ä¸º X çš„æ—§å€¼ï¼Œ<span class="math inline">\(v\)</span> ä¸º X çš„æ–°å€¼ã€‚</p></li><li><p>ï¼ˆ&lt; COMMIT T &gt; æˆ– &lt; ABORT T &gt;ï¼‰æˆ– OUTPUT(X)è¢«å†™åˆ°æ—¥å¿—ä¸­</p></li><li><p>OUTPUT(X) æˆ–ï¼ˆ&lt; COMMIT T &gt; æˆ– &lt; ABORT T&gt;ï¼‰è¢«å†™åˆ°æ—¥å¿—ä¸­</p><blockquote><p>æ— æ‰€è°“ OUTPUT å’Œ COMMIT è°å…ˆå†™ï¼Œå¾ˆçµæ´»ã€‚</p></blockquote></li></ul></li><li><p>å…ˆ<strong>è‡ªåå‘å‰</strong>åœ°<strong>æ’¤é”€</strong>æ‰€æœ‰<strong>æœªæäº¤</strong>çš„äº‹åŠ¡ï¼Œå†<strong>è‡ªå‰å‘å</strong>åœ°<strong>é‡åš</strong>æ‰€æœ‰<strong>å·²æäº¤</strong>çš„äº‹åŠ¡ã€‚</p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>è¯¾ç¨‹ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hitsz</tag>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»Ÿç¬”è®°</title>
    <link href="/Operating_System.html"/>
    <url>/Operating_System.html</url>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯ HITsz æ“ä½œç³»ç»Ÿç¬”è®°ï¼Œ<a href="https://github.com/ailanxier/Operating-System-Note">æ¬¢è¿åˆ°æˆ‘çš„GitHub ä¸ŠæŸ¥çœ‹ï¼Œæœ‰ç¬”è®°è¯´æ˜å’Œæºç ï¼Œä½œä¸šå’Œå®éªŒæŠ¥å‘Š</a>ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©</p></blockquote><h2 id="è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°">è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°</h2><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹</p></blockquote><h3 id="æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µ">æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µ</h3><ul><li><p>æ“ä½œç³»ç»Ÿå®šä¹‰ï¼š</p><p>â€‹æ“ä½œç³»ç»Ÿæ˜¯æŒ‡æ§åˆ¶å’Œç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„<strong>ç¡¬ä»¶ä¸è½¯ä»¶èµ„æº</strong>ï¼Œåˆç†åœ°ç»„ç»‡ã€è°ƒåº¦è®¡ç®—æœºçš„<strong>å·¥ä½œä¸èµ„æºçš„åˆ†é…</strong>ï¼Œè¿›è€Œä¸ºç”¨æˆ·å’Œå…¶ä»–è½¯ä»¶æä¾›æ–¹ä¾¿<strong>æ¥å£ä¸ç¯å¢ƒ</strong>çš„<strong>ç¨‹åºé›†åˆ</strong>ã€‚æ“ä½œç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­<strong>æœ€åŸºæœ¬çš„ç³»ç»Ÿè½¯ä»¶</strong>ã€‚</p></li><li><p>æ“ä½œç³»ç»Ÿçš„<strong>åŸºæœ¬ç‰¹å¾</strong>ï¼š</p><ul><li><p>å¹¶å‘ï¼š</p><ul><li><strong>å¹¶å‘</strong>æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶<strong>åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿ</strong>ã€‚</li><li>æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§æ˜¯æŒ‡è®¡ç®—æœºç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤å®ƒå…·æœ‰å¤„ç†å’Œè°ƒåº¦å¤šä¸ªç¨‹åºåŒæ—¶æ‰§è¡Œçš„èƒ½åŠ›ã€‚</li><li><strong>å¼•å…¥è¿›ç¨‹çš„ç›®çš„æ˜¯ä½¿ç¨‹åºèƒ½å¹¶å‘æ‰§è¡Œ</strong>ã€‚</li></ul><blockquote><p>æ³¨æ„åŒä¸€æ—¶é—´é—´éš”ï¼ˆå¹¶å‘ï¼‰å’Œ<strong>åŒä¸€æ—¶åˆ»</strong>ï¼ˆå¹¶è¡Œï¼‰çš„åŒºåˆ«ï¼š</p><ul><li><p>å¹¶å‘ï¼š</p><ul><li>åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œä¸€æ®µæ—¶é—´å†…ï¼Œ<strong>å®è§‚ä¸Š</strong>æœ‰å¤šé“ç¨‹åºåœ¨åŒæ—¶æ‰§è¡Œã€‚</li><li>è€Œåœ¨æ¯ä¸ªæ—¶åˆ»ï¼Œå•å¤„ç†æœºç¯å¢ƒä¸‹å®é™…ä»…èƒ½æœ‰ä¸€é“ç¨‹åºæ‰§è¡Œã€‚</li><li>å› æ­¤å¾®è§‚ä¸Šè¿™äº›ç¨‹åºä»æ˜¯<strong>åˆ†æ—¶äº¤æ›¿æ‰§è¡Œ</strong>çš„ã€‚æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§æ˜¯é€šè¿‡<strong>åˆ†æ—¶</strong>å¾—ä»¥å®ç°çš„ã€‚</li></ul></li><li><p>å¹¶è¡Œï¼š</p><ul><li>å¹¶è¡Œæ€§æ˜¯æŒ‡ç³»ç»Ÿå…·æœ‰åŒæ—¶è¿›è¡Œè¿ç®—æˆ–æ“ä½œçš„ç‰¹æ€§ï¼Œåœ¨åŒä¸€æ—¶åˆ»èƒ½å®Œæˆä¸¤ç§æˆ–ä¸¤ç§ä»¥ä¸Šçš„å·¥ä½œã€‚</li><li>å¹¶è¡Œæ€§éœ€è¦æœ‰ç›¸å…³ç¡¬ä»¶çš„æ”¯æŒï¼Œå¦‚å¤š<strong>æµæ°´çº¿æˆ–å¤šå¤„ç†æœº</strong>ç¡¬ä»¶ç¯å¢ƒã€‚</li></ul></li></ul></blockquote></li><li><p>å…±äº«ï¼š</p><p>â€‹<strong>å…±äº«</strong>æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„èµ„æºå¯ä¾›å†…å­˜ä¸­å¤šä¸ª<strong>å¹¶å‘</strong>æ‰§è¡Œçš„è¿›ç¨‹å…±åŒä½¿ç”¨ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><p>äº’æ–¥å…±äº«æ–¹å¼ï¼š</p><p>â€‹ ä»…å½“è¿›ç¨‹ A è®¿é—®å®Œå¹¶é‡Šæ”¾è¯¥èµ„æºåï¼Œæ‰å…è®¸å¦ä¸€ä¸ªè¿›ç¨‹ Bå¯¹è¯¥èµ„æºè¿›è¡Œè®¿é—®ã€‚å³åœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®è¯¥èµ„æºï¼Œè¿™ç§èµ„æºç§°ä¸º<strong>ä¸´ç•Œèµ„æºæˆ–ç‹¬å èµ„æº</strong>ã€‚</p></li><li><p>åŒæ—¶è®¿é—®æ–¹å¼ï¼š</p><p>â€‹<strong>å®è§‚ä¸Š</strong>åœ¨ä¸€æ®µæ—¶é—´å†…å…è®¸å¤šä¸ªè¿›ç¨‹ã€ŒåŒæ—¶ã€è®¿é—®æŸäº›èµ„æºï¼Œ<strong>å¾®è§‚ä¸Š</strong>ã€Œè½®æµã€ï¼ˆäº¤æ›¿ï¼‰è®¿é—®ã€‚åŒæ—¶è®¿é—®çš„å…¸å‹èµ„æºæ˜¯<strong>ç£ç›˜è®¾å¤‡</strong>ã€‚</p></li></ul><blockquote><p>æ“ä½œç³»ç»Ÿ<strong>æœ€åŸºæœ¬çš„ç‰¹å¾</strong>æ˜¯<strong>å¹¶å‘å’Œå…±äº«</strong>ï¼Œä¸¤è€…äº’ä¸ºå­˜åœ¨æ¡ä»¶ã€‚</p></blockquote></li><li><p>è™šæ‹Ÿï¼š</p><p>â€‹<strong>è™šæ‹Ÿ</strong>æ˜¯æŒ‡æŠŠä¸€ä¸ªç‰©ç†ä¸Šçš„å®ä½“å˜ä¸ºè‹¥å¹²é€»è¾‘ä¸Šçš„å¯¹åº”ç‰©ï¼Œæœ‰ä»¥ä¸‹åº”ç”¨ï¼š</p><ul><li><p><strong>æ—¶åˆ†å¤ç”¨</strong>æŠ€æœ¯ï¼š</p><p>â€‹è™šæ‹Ÿå¤„ç†å™¨æŠ€æœ¯æ˜¯é€šè¿‡å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œé‡‡ç”¨è®©å¤šé“ç¨‹åº<strong>å¹¶å‘</strong>æ‰§è¡Œçš„æ–¹æ³•ï¼Œæ¥åˆ†æ—¶ä½¿ç”¨ä¸€ä¸ªå¤„ç†å™¨çš„ã€‚</p></li><li><p><strong>ç©ºåˆ†å¤ç”¨</strong>æŠ€æœ¯ï¼š</p><p>â€‹è™šæ‹Ÿå­˜å‚¨å™¨æŠ€æœ¯å°†ä¸€å°æœºå™¨çš„ç‰©ç†å­˜å‚¨å™¨å˜ä¸ºè™šæ‹Ÿå­˜å‚¨å™¨ï¼Œä»¥ä¾¿ä»é€»è¾‘ä¸Šæ‰©å……å­˜å‚¨å™¨çš„å®¹é‡ã€‚</p></li></ul></li><li><p>å¼‚æ­¥ï¼š</p><p>â€‹å¤šé“ç¨‹åºç¯å¢ƒå…è®¸å¤šä¸ªç¨‹åº<strong>å¹¶å‘</strong>æ‰§è¡Œï¼Œä½†ç”±äºèµ„æºæœ‰é™ï¼ˆèµ„æºç«äº‰ï¼‰ï¼Œè¿›ç¨‹çš„æ‰§è¡Œä»¥<strong>ä¸å¯é¢„çŸ¥</strong>çš„é€Ÿåº¦å‘å‰æ¨è¿›ï¼Œè¿™å°±æ˜¯<strong>è¿›ç¨‹çš„å¼‚æ­¥æ€§</strong>ã€‚</p></li></ul></li><li><p>æ“ä½œç³»ç»Ÿä½œä¸º<strong>è®¡ç®—æœºç³»ç»Ÿèµ„æº</strong>çš„ç®¡ç†è€…çš„åŠŸèƒ½ï¼š</p><ul><li>å¤„ç†æœºç®¡ç†ï¼š<ul><li>åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œ<strong>å¤„ç†æœºçš„åˆ†é…å’Œè¿è¡Œéƒ½ä»¥è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰ä¸ºåŸºæœ¬å•ä½</strong>ï¼Œå› è€Œå¯¹å¤„ç†æœºçš„ç®¡ç†å¯å½’ç»“ä¸ºå¯¹è¿›ç¨‹çš„ç®¡ç†ã€‚</li><li>å¹¶å‘æ˜¯æŒ‡åœ¨è®¡ç®—æœºå†…åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œå› æ­¤<strong>è¿›ç¨‹ä½•æ—¶åˆ›å»ºã€ä½•æ—¶æ’¤é”€ã€å¦‚ä½•ç®¡ç†ã€å¦‚ä½•é¿å…å†²çªã€åˆç†å…±äº«</strong>å°±æ˜¯è¿›ç¨‹ç®¡ç†çš„æœ€ä¸»è¦çš„ä»»åŠ¡ã€‚</li><li>è¿›ç¨‹ç®¡ç†çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬<strong>è¿›ç¨‹æ§åˆ¶ã€è¿›ç¨‹åŒæ­¥ã€è¿›ç¨‹é€šä¿¡ã€æ­»é”å¤„ç†ã€å¤„ç†æœºè°ƒåº¦</strong>ç­‰ã€‚</li></ul></li><li>å­˜å‚¨å™¨ç®¡ç†ï¼š<ul><li>å­˜å‚¨å™¨ç®¡ç†æ˜¯ä¸ºäº†ç»™å¤šé“ç¨‹åºçš„è¿è¡Œæä¾›è‰¯å¥½çš„ç¯å¢ƒï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨åŠæé«˜å†…å­˜çš„åˆ©ç”¨ç‡ã€‚</li><li>ä¸»è¦åŒ…æ‹¬<strong>å†…å­˜åˆ†é…ä¸å›æ”¶ã€åœ°å€æ˜ å°„ã€å†…å­˜ä¿æŠ¤ä¸å…±äº«å’Œå†…å­˜æ‰©å……</strong>ç­‰åŠŸèƒ½ã€‚</li></ul></li><li>æ–‡ä»¶ç®¡ç†ï¼š<ul><li>è®¡ç®—æœºä¸­çš„ä¿¡æ¯éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨çš„ï¼Œæ“ä½œç³»ç»Ÿä¸­è´Ÿè´£æ–‡ä»¶ç®¡ç†çš„éƒ¨åˆ†ç§°ä¸ºæ–‡ä»¶ç³»ç»Ÿã€‚</li><li>æ–‡ä»¶ç®¡ç†åŒ…æ‹¬<strong>æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†ã€ç›®å½•ç®¡ç†åŠæ–‡ä»¶è¯»å†™ç®¡ç†å’Œä¿æŠ¤</strong>ç­‰ï¼Œä½†ä¸å…³å¿ƒæ–‡ä»¶å…·ä½“å†…å®¹ï¼Œå¦‚ï¼šæºä»£ç ã€ç¼–è¯‘å™¨ã€‚</li></ul></li><li>è®¾å¤‡ç®¡ç†ï¼š<ul><li>è®¾å¤‡ç®¡ç†çš„ä¸»è¦ä»»åŠ¡æ˜¯å®Œæˆç”¨æˆ·çš„ I/Oè¯·æ±‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨å„ç§è®¾å¤‡ï¼Œå¹¶æé«˜è®¾å¤‡çš„åˆ©ç”¨ç‡ã€‚</li><li>ä¸»è¦åŒ…æ‹¬<strong>ç¼“å†²ç®¡ç†ã€è®¾å¤‡åˆ†é…ã€è®¾å¤‡å¤„ç†å’Œè™šæ‹Ÿè®¾å¤‡</strong>ç­‰åŠŸèƒ½ã€‚</li></ul></li></ul></li><li><p>æ“ä½œç³»ç»Ÿä½œä¸ºç”¨æˆ·ä¸è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿä¹‹é—´çš„<strong>æ¥å£</strong>ï¼ˆäº†è§£ï¼‰ï¼š</p><ul><li><p>å‘½ä»¤æ¥å£ï¼š</p><p>â€‹ ç”¨æˆ·åˆ©ç”¨è¿™äº›æ“ä½œå‘½ä»¤æ¥ç»„ç»‡å’Œæ§åˆ¶ä½œä¸šçš„æ‰§è¡Œï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><p>è”æœºå‘½ä»¤æ¥å£ï¼š</p><p>â€‹ã€Œé›‡ä¸»ã€è¯´ä¸€å¥è¯ï¼Œã€Œå·¥äººã€åšä¸€ä»¶äº‹ï¼Œå¹¶åšå‡ºåé¦ˆï¼Œè¿™å°±å¼ºè°ƒäº†äº¤äº’æ€§ã€‚</p></li><li><p>è„±æœºå‘½ä»¤æ¥å£ï¼š</p><p>â€‹ ã€Œé›‡ä¸»ã€æŠŠè¦ã€Œå·¥äººã€åšçš„äº‹å†™åœ¨æ¸…å•ä¸Šï¼Œã€Œå·¥äººã€æŒ‰ç…§æ¸…å•å‘½ä»¤é€æ¡å®Œæˆè¿™äº›äº‹ã€‚ç”¨æˆ·ä¸èƒ½ç›´æ¥å¹²é¢„ä½œä¸šçš„è¿è¡Œã€‚</p></li></ul></li><li><p>ç¨‹åºæ¥å£ï¼š</p><p>â€‹ç¨‹åºæ¥å£ç”±ä¸€ç»„<strong>ç³»ç»Ÿè°ƒç”¨ï¼ˆä¹Ÿç§°å¹¿ä¹‰æŒ‡ä»¤ï¼‰</strong>ç»„æˆã€‚ç”¨æˆ·é€šè¿‡åœ¨ç¨‹åºä¸­ä½¿ç”¨è¿™äº›<strong>ç³»ç»Ÿè°ƒç”¨</strong>æ¥è¯·æ±‚æ“ä½œç³»ç»Ÿä¸ºå…¶æä¾›æœåŠ¡ï¼Œå¦‚ä½¿ç”¨å„ç§å¤–éƒ¨è®¾å¤‡ã€ç”³è¯·åˆ†é…å’Œå›æ”¶å†…å­˜åŠå…¶ä»–å„ç§è¦æ±‚ã€‚</p><blockquote><p>å½“å‰æœ€ä¸ºæµè¡Œçš„æ˜¯å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ï¼Œå³å›¾å½¢æ¥å£ã€‚GUIæœ€ç»ˆæ˜¯é€šè¿‡è°ƒç”¨<strong>ç¨‹åºæ¥å£</strong>å®ç°çš„ï¼Œæ‰€è°ƒç”¨çš„ç³»ç»Ÿè°ƒç”¨å‘½ä»¤æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚</p></blockquote></li></ul></li></ul><h3 id="æ“ä½œç³»ç»Ÿçš„å‘å±•ä¸åˆ†ç±»ç†è§£">æ“ä½œç³»ç»Ÿçš„å‘å±•ä¸åˆ†ç±»ï¼ˆç†è§£ï¼‰</h3><ol type="1"><li><p>æ‰‹å·¥æ“ä½œé˜¶æ®µï¼ˆæ­¤é˜¶æ®µæ— æ“ä½œç³»ç»Ÿï¼‰ï¼š</p><ul><li><p>ç”¨æˆ·åœ¨è®¡ç®—æœºä¸Šç®—é¢˜çš„æ‰€æœ‰å·¥ä½œéƒ½è¦äººå·¥å¹²é¢„ï¼Œå¦‚ç¨‹åºçš„è£…å…¥ã€è¿è¡Œã€ç»“æœçš„è¾“å‡ºç­‰ã€‚</p></li><li><p>éšç€è®¡ç®—æœºç¡¬ä»¶çš„å‘å±•ï¼ŒäººæœºçŸ›ç›¾ï¼ˆé€Ÿåº¦å’Œèµ„æºåˆ©ç”¨ï¼‰è¶Šæ¥è¶Šå¤§</p></li></ul></li><li><p>æ‰¹å¤„ç†é˜¶æ®µï¼ˆæ“ä½œç³»ç»Ÿå¼€å§‹å‡ºç°ï¼‰ï¼š</p><blockquote><p>æ‰¹å¤„ç†ç³»ç»Ÿæ˜¯å®ç°ä½œä¸šè‡ªåŠ¨æ§åˆ¶è€Œ<strong>æ— é¡»äººå·¥å¹²é¢„</strong>çš„ç³»ç»Ÿã€‚</p></blockquote><ul><li><p><strong>å•é“æ‰¹å¤„ç†</strong>ç³»ç»Ÿï¼š</p><ul><li><p>ç³»ç»Ÿå¯¹ä½œä¸šçš„å¤„ç†æ˜¯æˆæ‰¹è¿›è¡Œçš„ï¼Œä½†å†…å­˜ä¸­å§‹ç»ˆä¿æŒä¸€é“ä½œä¸šã€‚</p></li><li><p>ç›®çš„æ˜¯ä¸ºäº†è§£å†³äººæœºçŸ›ç›¾åŠ CPU å’Œ I/O è®¾å¤‡é€Ÿç‡ä¸åŒ¹é…çš„çŸ›ç›¾</p></li><li><p>ä¸»è¦ç‰¹å¾ï¼š</p><ul><li><p>è‡ªåŠ¨æ€§ï¼š</p><p>â€‹åœ¨é¡ºåˆ©çš„æƒ…å†µä¸‹ï¼Œç£å¸¦ä¸Šçš„ä¸€æ‰¹ä½œä¸šèƒ½è‡ªåŠ¨åœ°é€ä¸ªè¿è¡Œï¼Œè€Œ<strong>æ— é¡»äººå·¥å¹²é¢„</strong>ã€‚</p></li><li><p>é¡ºåºæ€§ï¼š</p><p>â€‹ç£å¸¦ä¸Šçš„å„é“ä½œä¸š<strong>é¡ºåº</strong>åœ°è¿›å…¥å†…å­˜ï¼Œå„é“ä½œä¸šçš„å®Œæˆé¡ºåºä¸å®ƒä»¬è¿›å…¥å†…å­˜çš„é¡ºåºåœ¨æ­£å¸¸æƒ…å†µä¸‹åº”å®Œå…¨ç›¸åŒã€‚</p></li><li><p>å•é“æ€§ï¼š</p><p>â€‹å†…å­˜ä¸­ä»…æœ‰<strong>ä¸€é“</strong>ç¨‹åºè¿è¡Œï¼Œå³ç›‘ç£ç¨‹åºæ¯æ¬¡ä»ç£å¸¦ä¸Šåªè°ƒå…¥ä¸€é“ç¨‹åºè¿›å…¥å†…å­˜ã€‚</p></li></ul></li></ul></li><li><p><strong>å¤šé“æ‰¹å¤„ç†</strong>ç³»ç»Ÿï¼š</p><ul><li><p>å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶å…è®¸å®ƒä»¬åœ¨ CPUä¸­äº¤æ›¿åœ°è¿è¡Œï¼Œè¿™äº›ç¨‹åºå…±äº«ç³»ç»Ÿä¸­çš„å„ç§ç¡¬/è½¯ä»¶èµ„æºã€‚</p></li><li><p>å¤šé“ç¨‹åºè®¾è®¡çš„ç‰¹ç‚¹ï¼š</p><ul><li><p>å¤šé“ï¼š</p><p>â€‹ è®¡ç®—æœºå†…å­˜ä¸­åŒæ—¶å­˜æ”¾å¤šé“ç›¸äº’ç‹¬ç«‹çš„ç¨‹åºã€‚</p></li><li><p>å®è§‚ä¸Šå¹¶è¡Œï¼š</p><p>â€‹åŒæ—¶è¿›å…¥ç³»ç»Ÿçš„å¤šé“ç¨‹åºéƒ½å¤„äºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå³å®ƒä»¬å…ˆåå¼€å§‹å„è‡ªçš„è¿è¡Œï¼Œä½†éƒ½æœªè¿è¡Œå®Œæ¯•ã€‚</p></li><li><p>å¾®è§‚ä¸Šä¸²è¡Œï¼š</p><p>â€‹ å†…å­˜ä¸­çš„å¤šé“ç¨‹åºè½®æµå æœ‰ CPUï¼Œ<strong>äº¤æ›¿æ‰§è¡Œ</strong>ã€‚</p></li></ul></li></ul><blockquote><p>ä¼˜ç‚¹ï¼š</p><ul><li><p><strong>èµ„æºåˆ©ç”¨ç‡é«˜</strong>ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ã€‚</p></li><li><p>ç³»ç»Ÿ<strong>ååé‡å¤§</strong>ï¼ŒCPUå’Œå…¶ä»–èµ„æºä¿æŒã€Œå¿™ç¢Œã€çŠ¶æ€ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>ç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ã€‚</li><li>ä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·±çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚</li></ul></li></ul></blockquote></li></ul></li><li><p><strong>åˆ†æ—¶</strong>æ“ä½œç³»ç»Ÿï¼š</p><ul><li><p>åˆ†æ—¶æŠ€æœ¯æŒ‡æŠŠå¤„ç†å™¨çš„è¿è¡Œæ—¶é—´åˆ†æˆ<strong>å¾ˆçŸ­çš„æ—¶é—´ç‰‡</strong>ï¼ŒæŒ‰æ—¶é—´ç‰‡è½®æµæŠŠCPU åˆ†é…ç»™å„è”æœºä½œä¸šä½¿ç”¨ã€‚</p></li><li><p>è‹¥æŸä¸ªä½œä¸šåœ¨åˆ†é…ç»™å®ƒçš„æ—¶é—´ç‰‡å†…ä¸èƒ½å®Œæˆå…¶è®¡ç®—ï¼Œåˆ™è¯¥ä½œä¸šæš‚æ—¶åœæ­¢è¿è¡Œï¼ŒæŠŠå¤„ç†å™¨è®©ç»™å…¶ä»–ä½œä¸šä½¿ç”¨ï¼Œç­‰å¾…ä¸‹ä¸€è½®å†ç»§ç»­è¿è¡Œã€‚</p></li><li><p>ç”±äºè®¡ç®—æœºé€Ÿåº¦å¾ˆå¿«ï¼Œä½œä¸šè¿è¡Œè½®è½¬å¾—ä¹Ÿå¾ˆå¿«ï¼Œå› æ­¤ç»™æ¯ä¸ªç”¨æˆ·çš„æ„Ÿè§‰å°±åƒæ˜¯è‡ªå·±<strong>ç‹¬å </strong>ä¸€å°è®¡ç®—æœºã€‚</p></li><li><p>å¤šé“æ‰¹å¤„ç†æ˜¯å®ç°ä½œä¸šè‡ªåŠ¨æ§åˆ¶è€Œæ— é¡»äººå·¥å¹²é¢„çš„ç³»ç»Ÿï¼Œè€Œåˆ†æ—¶ç³»ç»Ÿæ˜¯å®ç°<strong>äººæœºäº¤äº’</strong>çš„ç³»ç»Ÿã€‚</p></li><li><p>åˆ†æ—¶ç³»ç»Ÿçš„ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li><p><strong>åŒæ—¶æ€§ï¼ˆå¤šè·¯æ€§ï¼‰</strong>ï¼š</p><p>â€‹æŒ‡å…è®¸å¤šä¸ªç»ˆç«¯ç”¨æˆ·åŒæ—¶ä½¿ç”¨ä¸€å°è®¡ç®—æœºï¼Œå³ä¸€å°è®¡ç®—æœºä¸è‹¥å¹²å°ç»ˆç«¯ç›¸è¿æ¥ï¼Œç»ˆç«¯ä¸Šçš„è¿™äº›ç”¨æˆ·å¯ä»¥åŒæ—¶æˆ–åŸºæœ¬åŒæ—¶ä½¿ç”¨è®¡ç®—æœºã€‚</p></li><li><p><strong>äº¤äº’æ€§</strong>ï¼š</p><p>â€‹ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°ä¸ç³»ç»Ÿè¿›è¡Œäººæœºå¯¹è¯ï¼Œå³ç”¨æˆ·é€šè¿‡ç»ˆç«¯é‡‡ç”¨äººæœºå¯¹è¯çš„æ–¹å¼ç›´æ¥æ§åˆ¶ç¨‹åºè¿è¡Œï¼Œä¸åŒç¨‹åºè¿›è¡Œäº¤äº’ã€‚</p></li><li><p><strong>ç‹¬ç«‹æ€§</strong>ï¼š</p><p>â€‹ç³»ç»Ÿä¸­å¤šä¸ªç”¨æˆ·å¯ä»¥å½¼æ­¤ç‹¬ç«‹åœ°è¿›è¡Œæ“ä½œï¼Œ<strong>äº’ä¸å¹²æ‰°</strong>ï¼Œå•ä¸ªç”¨æˆ·æ„Ÿè§‰ä¸åˆ°åˆ«äººä¹Ÿåœ¨ä½¿ç”¨è¿™å°è®¡ç®—æœºï¼Œå¥½åƒåªæœ‰è‡ªå·±å•ç‹¬ä½¿ç”¨è¿™å°è®¡ç®—æœºä¸€æ ·ã€‚</p></li><li><p><strong>åŠæ—¶æ€§</strong>ï¼š</p><p>â€‹ç”¨æˆ·è¯·æ±‚èƒ½åœ¨å¾ˆçŸ­æ—¶é—´å†…è·å¾—å“åº”ã€‚åˆ†æ—¶ç³»ç»Ÿé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬æ–¹å¼ä½¿ä¸€å°è®¡ç®—æœºåŒæ—¶ä¸ºå¤šä¸ªç»ˆç«¯æœåŠ¡ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„åŠæ—¶å“åº”æ„Ÿåˆ°æ»¡æ„ã€‚</p></li></ul></li></ul></li><li><p>å®æ—¶æ“ä½œç³»ç»Ÿï¼š</p><ul><li><p>ä¸ºäº†èƒ½åœ¨æŸä¸ªæ—¶é—´é™åˆ¶å†…å®ŒæˆæŸäº›ç´§æ€¥ä»»åŠ¡è€Œ<strong>ä¸éœ€è¦æ—¶é—´ç‰‡æ’é˜Ÿ</strong>ï¼Œè¯ç”Ÿäº†å®æ—¶æ“ä½œç³»ç»Ÿã€‚</p></li><li><p>è¿™é‡Œçš„æ—¶é—´é™åˆ¶å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ul><li>è‹¥æŸä¸ªåŠ¨ä½œå¿…é¡»<strong>ç»å¯¹åœ°åœ¨è§„å®šçš„æ—¶åˆ»</strong>ï¼ˆæˆ–è§„å®šçš„æ—¶é—´èŒƒå›´ï¼‰å‘ç”Ÿï¼Œåˆ™ç§°ä¸º<strong>ç¡¬å®æ—¶</strong>ç³»ç»Ÿï¼Œå¦‚é£è¡Œå™¨çš„é£è¡Œè‡ªåŠ¨<strong>æ§åˆ¶</strong>ç³»ç»Ÿï¼Œè¿™ç±»ç³»ç»Ÿå¿…é¡»æä¾›ç»å¯¹ä¿è¯ï¼Œè®©æŸä¸ªç‰¹å®šçš„åŠ¨ä½œåœ¨è§„å®šçš„æ—¶é—´å†…å®Œæˆã€‚</li><li>è‹¥èƒ½å¤Ÿæ¥å—<strong>å¶å°”</strong>è¿åæ—¶é—´è§„å®šä¸”ä¸ä¼šå¼•èµ·ä»»ä½•æ°¸ä¹…æ€§çš„æŸå®³ï¼Œåˆ™ç§°ä¸º<strong>è½¯å®æ—¶</strong>ç³»ç»Ÿï¼Œå¦‚<strong>é£æœºè®¢ç¥¨ç³»ç»Ÿ</strong>ã€é“¶è¡Œç®¡ç†ç³»ç»Ÿã€‚</li></ul></li><li><p>åœ¨å®æ—¶æ“ä½œç³»ç»Ÿçš„æ§åˆ¶ä¸‹ï¼Œè®¡ç®—æœºç³»ç»Ÿæ¥æ”¶åˆ°å¤–éƒ¨ä¿¡å·ååŠæ—¶è¿›è¡Œå¤„ç†ï¼Œå¹¶åœ¨ä¸¥æ ¼çš„æ—¶é™å†…å¤„ç†å®Œæ¥æ”¶çš„äº‹ä»¶ã€‚</p><blockquote><p>å®æ—¶ç³»ç»Ÿå¿…é¡»èƒ½è¶³å¤ŸåŠæ—¶åœ°å¤„ç†æŸäº›ç´§æ€¥çš„å¤–éƒ¨äº‹ä»¶ï¼Œå› æ­¤æ™®éç”¨é«˜ä¼˜å…ˆçº§ï¼Œå¹¶ç”¨ã€Œå¯æŠ¢å ã€æ¥ç¡®ä¿å®æ—¶å¤„ç†ã€‚</p></blockquote></li><li><p>å®æ—¶æ“ä½œç³»ç»Ÿçš„ä¸»è¦ç‰¹ç‚¹æ˜¯<strong>åŠæ—¶æ€§å’Œå¯é æ€§</strong>ï¼Œå…è®¸ä»¥ã€Œæµªè´¹ã€ä¸€äº›èµ„æºä¸ºä»£ä»·ã€‚</p></li></ul></li><li><p>ç½‘ç»œæ“ä½œç³»ç»Ÿå’Œåˆ†å¸ƒå¼è®¡ç®—æœºç³»ç»Ÿ</p></li><li><p>ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿ</p></li></ol><h3 id="æ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒ">æ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒ</h3><h4 id="å†…æ ¸æ€å’Œç”¨æˆ·æ€">å†…æ ¸æ€å’Œç”¨æˆ·æ€</h4><ul><li><p>è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œé€šå¸¸ CPU æ‰§è¡Œä¸¤ç§ä¸åŒæ€§è´¨çš„ç¨‹åºï¼š</p><ul><li>æ“ä½œç³»ç»Ÿ<strong>å†…æ ¸ç¨‹åº</strong></li><li>ç”¨æˆ·è‡ªç¼–ç¨‹åºï¼ˆ ç®€ç§°ã€Œ<strong>åº”ç”¨ç¨‹åº</strong>ã€ï¼‰</li><li>å‰è€…æ˜¯åè€…çš„ç®¡ç†è€…</li></ul></li><li><p>å› æ­¤ã€Œç®¡ç†ç¨‹åºã€ï¼ˆå³å†…æ ¸ç¨‹åºï¼‰å¯ä»¥æ‰§è¡Œä¸€äº›<strong>ç‰¹æƒæŒ‡ä»¤</strong>ï¼Œè€Œã€Œè¢«ç®¡ç†ç¨‹åºã€ï¼ˆå³ç”¨æˆ·è‡ªç¼–ç¨‹åºï¼‰å‡ºäºå®‰å…¨è€ƒè™‘ä¸èƒ½æ‰§è¡Œè¿™äº›æŒ‡ä»¤ã€‚</p></li><li><p>ç‰¹æƒæŒ‡ä»¤æ˜¯æŒ‡è®¡ç®—æœºä¸­ä¸å…è®¸ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„æŒ‡ä»¤ï¼Œå¦‚ <strong>I/OæŒ‡ä»¤ï¼Œç½®ä¸­æ–­æŒ‡ä»¤ï¼Œå­˜å–ç”¨äºå†…å­˜ä¿æŠ¤çš„å¯„å­˜å™¨ï¼Œé€ç¨‹åºçŠ¶æ€å­—åˆ°ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨</strong>ç­‰çš„æŒ‡ä»¤ã€‚</p></li><li><p>åœ¨å…·ä½“å®ç°ä¸Šï¼Œå°† CPUçš„çŠ¶æ€åˆ’åˆ†ä¸º<strong>ç”¨æˆ·æ€ï¼ˆç›®æ€ï¼‰å’Œæ ¸å¿ƒæ€ï¼ˆåˆç§°ç®¡æ€ã€å†…æ ¸æ€ï¼‰</strong>ã€‚</p></li><li><p>æ“ä½œç³»ç»Ÿçš„å†…æ ¸æ„æˆï¼š</p><ul><li>ä¸<strong>ç¡¬ä»¶</strong>å…³è”è¾ƒç´§å¯†çš„æ¨¡å—ï¼Œå¦‚<strong>æ—¶é’Ÿç®¡ç†ã€ä¸­æ–­å¤„ç†ã€è®¾å¤‡é©±åŠ¨</strong>ç­‰å¤„äºæœ€ä½å±‚</li><li>ä¸<strong>è¿è¡Œé¢‘ç‡</strong>è¾ƒé«˜çš„ç¨‹åºï¼Œå¦‚<strong>è¿›ç¨‹ç®¡ç†ã€å­˜å‚¨å™¨ç®¡ç†å’Œè®¾å¤‡ç®¡ç†</strong>ã€‚</li><li>è¿™ä¸¤éƒ¨åˆ†å†…å®¹çš„æŒ‡ä»¤æ“ä½œå·¥ä½œåœ¨<strong>æ ¸å¿ƒæ€</strong>ã€‚</li></ul><blockquote><p>æ³¨æ„é€‰æ‹©é¢˜ä¸­ã€Œæ‰§è¡Œã€å’Œã€Œå‘ç”Ÿã€çš„åŒºåˆ«ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211210220654769.png" alt="image-20211210220654769" style="zoom:100%;"></div><div data-align="center"><img src=" /img/blog/os-note-images/image-20211210224855348.png"></div></blockquote></li><li><p>æ“ä½œç³»ç»Ÿçš„å†…æ ¸çš„å†…å®¹ï¼š</p><ul><li><p><strong>æ—¶é’Ÿç®¡ç†</strong>ï¼š</p><ul><li>åœ¨è®¡ç®—æœºçš„å„ç§éƒ¨ä»¶ä¸­ï¼Œæ—¶é’Ÿæ˜¯æœ€å…³é”®çš„è®¾å¤‡ã€‚</li><li>æ—¶é’Ÿçš„ç¬¬ä¸€åŠŸèƒ½æ˜¯è®¡æ—¶ã€‚</li><li>ç¬¬äºŒåŠŸèƒ½æ˜¯é€šè¿‡æ—¶é’Ÿä¸­æ–­çš„ç®¡ç†ï¼Œå¯ä»¥å®ç°<strong>è¿›ç¨‹çš„åˆ‡æ¢</strong>ã€‚</li></ul><blockquote><p>ä¾‹å¦‚ï¼š</p><ul><li><p>åœ¨åˆ†æ—¶æ“ä½œç³»ç»Ÿä¸­é‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼Œåœ¨å®æ—¶ç³»ç»Ÿä¸­æŒ‰æˆªæ­¢æ—¶é—´æ§åˆ¶è¿è¡Œã€‚</p></li><li><p>åœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­é€šè¿‡æ—¶é’Ÿç®¡ç†æ¥è¡¡é‡ä¸€ä¸ªä½œä¸šçš„è¿è¡Œç¨‹åº¦ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211210232945020.png"></div></li></ul></blockquote></li><li><p><strong>ä¸­æ–­æœºåˆ¶</strong>ï¼š</p><ul><li>å¼•å…¥ä¸­æ–­æŠ€æœ¯çš„åˆè¡·æ˜¯<strong>æé«˜å¤šé“ç¨‹åºè¿è¡Œç¯å¢ƒä¸­ CPUçš„åˆ©ç”¨ç‡</strong>ï¼Œè€Œä¸”ä¸»è¦æ˜¯é’ˆå¯¹å¤–éƒ¨è®¾å¤‡çš„ã€‚</li><li>åæ¥é€æ­¥æˆä¸ºæ“ä½œç³»ç»Ÿå„é¡¹æ“ä½œçš„åŸºç¡€ã€‚ä¾‹å¦‚ï¼Œé”®ç›˜æˆ–é¼ æ ‡ä¿¡æ¯çš„è¾“å…¥ã€è¿›ç¨‹çš„ç®¡ç†å’Œè°ƒåº¦ã€ç³»ç»ŸåŠŸèƒ½çš„è°ƒç”¨ã€è®¾å¤‡é©±åŠ¨ã€æ–‡ä»¶è®¿é—®ç­‰ã€‚</li><li>å¯ä»¥è¯´ï¼Œç°ä»£æ“ä½œç³»ç»Ÿæ˜¯é ä¸­æ–­é©±åŠ¨çš„è½¯ä»¶ã€‚</li><li>ä¸­æ–­æœºåˆ¶ä¸­ï¼Œåªæœ‰ä¸€å°éƒ¨åˆ†åŠŸèƒ½å±äº<strong>å†…æ ¸</strong>ï¼Œå®ƒä»¬<strong>è´Ÿè´£ä¿æŠ¤å’Œæ¢å¤ä¸­æ–­ç°åœºçš„ä¿¡æ¯</strong>ï¼Œè½¬ç§»æ§åˆ¶æƒåˆ°ç›¸å…³çš„å¤„ç†ç¨‹åºã€‚</li><li>è¿™æ ·å¯ä»¥å‡å°‘ä¸­æ–­çš„å¤„ç†æ—¶é—´ï¼Œæé«˜ç³»ç»Ÿçš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ã€‚</li></ul></li><li><p><strong>åŸè¯­</strong>ï¼š</p><ul><li><p>åŸè¯­å®šä¹‰ï¼š</p><p>â€‹æŒ‰å±‚æ¬¡ç»“æ„è®¾è®¡çš„æ“ä½œç³»ç»Ÿï¼Œåº•å±‚æ˜¯ä¸€äº›å¯è¢«è°ƒç”¨çš„å…¬ç”¨å°ç¨‹åºï¼Œå®ƒä»¬å„è‡ªå®Œæˆä¸€ä¸ªè§„å®šçš„æ“ä½œï¼Œç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>å¤„äºæ“ä½œç³»ç»Ÿçš„<strong>æœ€ä½å±‚</strong>ï¼Œæ˜¯æœ€æ¥è¿‘ç¡¬ä»¶çš„éƒ¨åˆ†ã€‚</li><li>è¿™äº›ç¨‹åºçš„è¿è¡Œå…·æœ‰<strong>åŸå­æ€§</strong>ï¼Œå…¶æ“ä½œåªèƒ½ä¸€æ°”å‘µæˆï¼ˆä¸»è¦ä»ç³»ç»Ÿå®‰å…¨æ€§å’Œä¾¿äºç®¡ç†è€ƒè™‘ï¼‰ã€‚</li><li>è¿™äº›ç¨‹åºçš„è¿è¡Œæ—¶é—´éƒ½è¾ƒçŸ­ï¼Œè€Œä¸”è°ƒç”¨é¢‘ç¹ã€‚</li></ul><p>é€šå¸¸æŠŠå…·æœ‰è¿™äº›ç‰¹ç‚¹çš„<strong>ç¨‹åº</strong>ç§°ä¸º<strong>åŸè¯­ï¼ˆAtomicOperationï¼‰</strong>ã€‚</p><blockquote><p>å®šä¹‰åŸè¯­çš„ç›´æ¥æ–¹æ³•æ˜¯<strong>å…³é—­ä¸­æ–­</strong>ï¼Œè®©å…¶æ‰€æœ‰åŠ¨ä½œä¸å¯åˆ†å‰²åœ°å®Œæˆåå†<strong>æ‰“å¼€ä¸­æ–­</strong>ã€‚</p><p>ç³»ç»Ÿä¸­çš„<strong>è®¾å¤‡é©±åŠ¨ã€CPUåˆ‡æ¢ã€è¿›ç¨‹é€šä¿¡</strong>ç­‰åŠŸèƒ½ä¸­çš„éƒ¨åˆ†æ“ä½œéƒ½å¯å®šä¹‰ä¸ºåŸè¯­ï¼Œä½¿å®ƒä»¬æˆä¸ºå†…æ ¸çš„ç»„æˆéƒ¨åˆ†ã€‚</p></blockquote></li></ul></li><li><p><strong>ç³»ç»Ÿæ§åˆ¶çš„æ•°æ®ç»“æ„åŠå¤„ç†</strong>ï¼š</p><p>â€‹ç³»ç»Ÿä¸­ç”¨æ¥ç™»è®°çŠ¶æ€ä¿¡æ¯çš„æ•°æ®ç»“æ„å¾ˆå¤šï¼Œå¦‚<strong>ä½œä¸šæ§åˆ¶å—ã€è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ã€è®¾å¤‡æ§åˆ¶å—ã€å„ç±»é“¾è¡¨ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ç¼“å†²åŒºã€ç©ºé—²åŒºç™»è®°è¡¨ã€å†…å­˜åˆ†é…è¡¨</strong>ç­‰ã€‚ä¸ºäº†å®ç°æœ‰æ•ˆçš„ç®¡ç†ï¼Œç³»ç»Ÿéœ€è¦ä¸€äº›åŸºæœ¬çš„æ“ä½œï¼Œå¸¸è§çš„æ“ä½œæœ‰ä»¥ä¸‹3 ç§ï¼š</p><ul><li><p><strong>è¿›ç¨‹</strong>ç®¡ç†ï¼š</p><p>â€‹ è¿›ç¨‹çŠ¶æ€ç®¡ç†ã€è¿›ç¨‹è°ƒåº¦å’Œåˆ†æ´¾ã€åˆ›å»ºä¸æ’¤é”€è¿›ç¨‹æ§åˆ¶å—ç­‰ã€‚</p></li><li><p><strong>å­˜å‚¨å™¨</strong>ç®¡ç†ï¼š</p><p>â€‹ å­˜å‚¨å™¨çš„ç©ºé—´åˆ†é…å’Œå›æ”¶ã€å†…å­˜ä¿¡æ¯ä¿æŠ¤ç¨‹åºã€ä»£ç å¯¹æ¢ç¨‹åºç­‰ã€‚</p></li><li><p><strong>è®¾å¤‡</strong>ç®¡ç†ï¼š</p><p>â€‹ ç¼“å†²åŒºç®¡ç†ã€è®¾å¤‡åˆ†é…å’Œå›æ”¶ç­‰ã€‚</p></li></ul></li></ul><blockquote><p>æ ¸å¿ƒæ€æŒ‡ä»¤å®é™…ä¸ŠåŒ…æ‹¬<strong>ç³»ç»Ÿè°ƒç”¨ç±»æŒ‡ä»¤å’Œä¸€äº›é’ˆå¯¹æ—¶é’Ÿã€ä¸­æ–­å’ŒåŸè¯­</strong>çš„æ“ä½œæŒ‡ä»¤ã€‚</p></blockquote></li></ul><h4 id="ä¸­æ–­">ä¸­æ–­</h4><ul><li><p>ä¸­æ–­ï¼ˆå¤–ä¸­æ–­ï¼‰å’Œå¼‚å¸¸ï¼ˆå†…ä¸­æ–­ï¼‰æ¦‚å¿µï¼š</p><ul><li><p>ç³»ç»Ÿä¸å…è®¸ç”¨æˆ·ç¨‹åºå®ç°æ ¸å¿ƒæ€çš„åŠŸèƒ½ï¼Œè€Œå®ƒä»¬åˆå¿…é¡»ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œå°±å¾—é€šè¿‡ä¸­æ–­æˆ–å¼‚å¸¸å®ç°ã€‚</p></li><li><p>ä¸­æ–­ï¼ˆInterruptionï¼‰ä¹Ÿç§°<strong>å¤–ä¸­æ–­</strong>ï¼ŒæŒ‡æ¥è‡ª CPU<strong>æ‰§è¡ŒæŒ‡ä»¤ä»¥å¤–</strong>çš„äº‹ä»¶çš„å‘ç”Ÿï¼Œå¦‚<strong>å¤–è®¾è¯·æ±‚æˆ–äººä¸ºå¹²é¢„</strong>ã€‚</p></li><li><p>å¼‚å¸¸ï¼ˆExceptionï¼‰ä¹Ÿç§°<strong>å†…ä¸­æ–­</strong>ã€ä¾‹å¤–æˆ–é™·å…¥ï¼ˆtrapï¼‰ï¼ŒæŒ‡æºè‡ªCPU<strong>æ‰§è¡ŒæŒ‡ä»¤å†…éƒ¨</strong>çš„äº‹ä»¶ï¼Œå¦‚ç¨‹åºçš„éæ³•æ“ä½œç <strong>åœ°å€è¶Šç•Œã€ç®—æœ¯æº¢å‡ºã€è™šå­˜ç³»ç»Ÿçš„ç¼ºé¡µåŠä¸“é—¨çš„é™·å…¥æŒ‡ä»¤</strong>ç­‰å¼•èµ·çš„äº‹ä»¶ã€‚</p></li></ul><blockquote><p>å¯¹å¼‚å¸¸çš„å¤„ç†ä¸€èˆ¬è¦ä¾èµ–äºå½“å‰ç¨‹åºçš„è¿è¡Œç°åœºï¼Œè€Œä¸”<strong>å¼‚å¸¸ä¸èƒ½è¢«å±è”½</strong>ï¼Œä¸€æ—¦å‡ºç°åº”ç«‹å³å¤„ç†ã€‚</p><p>æ‰€è°“ã€Œç¼ºé¡µä¸­æ–­ã€å±äº<strong>å¼‚å¸¸</strong>ï¼Œåœ¨è€ƒç ”é¢˜ä¸­ï¼Œè®¤ä¸ºã€ã€Œè®¿å­˜æ—¶ç¼ºé¡µã€å±äºä¸­æ–­ã€è¿™å¥è¯æ˜¯é”™è¯¯çš„ã€‚</p></blockquote></li><li><p>ä¸­æ–­å¤„ç†è¿‡ç¨‹ï¼š</p><ul><li><p><strong>å…³ä¸­æ–­</strong>ï¼š</p><ul><li>CPUå“åº”ä¸­æ–­åï¼Œé¦–å…ˆè¦ä¿æŠ¤ç¨‹åºçš„ç°åœºçŠ¶æ€ï¼Œåœ¨<strong>ä¿æŠ¤ç°åœº</strong>çš„è¿‡ç¨‹ä¸­ï¼ŒCPU<strong>ä¸åº”å“åº”æ›´é«˜çº§ä¸­æ–­æºçš„ä¸­æ–­è¯·æ±‚</strong>ã€‚</li><li>è‹¥ç°åœºä¿å­˜ä¸å®Œæ•´ï¼Œåœ¨ä¸­æ–­æœåŠ¡ç¨‹åºç»“æŸåï¼Œä¹Ÿå°±ä¸èƒ½æ­£ç¡®åœ°æ¢å¤å¹¶ç»§ç»­æ‰§è¡Œç°è¡Œç¨‹åºã€‚</li></ul></li><li><p><strong>ä¿å­˜æ–­ç‚¹</strong>ï¼š</p><p>â€‹ä¸ºä¿è¯ä¸­æ–­æœåŠ¡ç¨‹åºæ‰§è¡Œå®Œæ¯•åèƒ½æ­£ç¡®åœ°è¿”å›åˆ°åŸæ¥çš„ç¨‹åºï¼Œå¿…é¡»å°†åŸæ¥çš„ç¨‹åºçš„æ–­ç‚¹ï¼ˆå³<strong>ç¨‹åºè®¡æ•°å™¨PC</strong>ï¼‰ä¿å­˜èµ·æ¥ã€‚</p></li><li><p><strong>ä¸­æ–­æœåŠ¡ç¨‹åºå¯»å€</strong>ï¼š</p><p>â€‹ å…¶å®è´¨æ˜¯å–å‡º<strong>ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€</strong>é€å…¥ç¨‹åºè®¡æ•°å™¨PCã€‚</p><blockquote><p>ä¸Šé¢ä¸‰æ­¥æ˜¯åœ¨ CPUè¿›å…¥ä¸­æ–­å‘¨æœŸåï¼Œç”±<strong>ç¡¬ä»¶è‡ªåŠ¨ï¼ˆä¸­æ–­éšæŒ‡ä»¤ï¼‰</strong>å®Œæˆçš„ã€‚</p><p>ä¸‹é¢å‡ æ­¥ç”±ä¸­æ–­æœåŠ¡ç¨‹åºå®Œæˆã€‚</p></blockquote></li><li><p><strong>ä¿å­˜ç°åœºå’Œå±è”½å­—</strong>ï¼š</p><p>â€‹è¿›å…¥ä¸­æ–­æœåŠ¡ç¨‹åºåï¼Œé¦–å…ˆè¦ä¿å­˜ç°åœºï¼Œç°åœºä¿¡æ¯ä¸€èˆ¬æ˜¯æŒ‡<strong>ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨PSWR</strong> å’ŒæŸäº›é€šç”¨å¯„å­˜å™¨çš„å†…å®¹ã€‚</p></li><li><p><strong>å¼€ä¸­æ–­</strong>ï¼š</p><p>â€‹ å…è®¸<strong>æ›´é«˜çº§ä¸­æ–­</strong>è¯·æ±‚å¾—åˆ°å“åº”ã€‚</p></li><li><p>æ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åºï¼š</p><p>â€‹ è¿™æ˜¯ä¸­æ–­è¯·æ±‚çš„ç›®çš„ã€‚</p></li><li><p><strong>å…³ä¸­æ–­</strong>ï¼š</p><p>â€‹ ä¿è¯åœ¨<strong>æ¢å¤ç°åœºå’Œå±è”½å­—æ—¶ä¸è¢«ä¸­æ–­</strong>ã€‚</p></li><li><p><strong>æ¢å¤ç°åœºå’Œå±è”½å­—</strong>ï¼š</p><p>â€‹ å°†ç°åœºå’Œå±è”½å­—æ¢å¤åˆ°åŸæ¥çš„çŠ¶æ€ã€‚</p></li><li><p><strong>å¼€ä¸­æ–­ã€ä¸­æ–­è¿”å›</strong>ï¼š</p><p>â€‹ä¸­æ–­æœåŠ¡ç¨‹åºçš„<strong>æœ€åä¸€æ¡æŒ‡ä»¤é€šå¸¸æ˜¯ä¸€æ¡ä¸­æ–­è¿”å›æŒ‡ä»¤</strong>ï¼Œä½¿å…¶è¿”å›åˆ°åŸç¨‹åºçš„<strong>æ–­ç‚¹</strong>å¤„ï¼Œä»¥ä¾¿ç»§ç»­æ‰§è¡ŒåŸç¨‹åºã€‚</p></li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20210914134821154.png"></div><blockquote><p>â€‹ æ˜“é”™ç‚¹ï¼š</p><p>â€‹ ç”±<strong>ç¡¬ä»¶</strong>è‡ªåŠ¨ä¿å­˜è¢«ä¸­æ–­ç¨‹åºçš„æ–­ç‚¹ï¼ˆå³ç¨‹åºè®¡æ•°å™¨PCï¼‰ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211210233357503.png"></div></blockquote></li></ul><h4 id="ç³»ç»Ÿè°ƒç”¨">ç³»ç»Ÿè°ƒç”¨</h4><ul><li><p>ç³»ç»Ÿè°ƒç”¨æ˜¯æŒ‡ç”¨æˆ·åœ¨ç¨‹åºä¸­<strong>è°ƒç”¨</strong>æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„ä¸€äº›<strong>å­åŠŸèƒ½</strong>ï¼Œç³»ç»Ÿè°ƒç”¨å¯è§†ä¸ºç‰¹æ®Šçš„å…¬å…±å­ç¨‹åºã€‚</p></li><li><p>ç³»ç»Ÿä¸­çš„å„ç§<strong>å…±äº«èµ„æº</strong>éƒ½ç”±æ“ä½œç³»ç»Ÿç»Ÿä¸€æŒç®¡ï¼Œå› æ­¤åœ¨ç”¨æˆ·ç¨‹åºä¸­ï¼Œå‡¡æ˜¯ä¸èµ„æºæœ‰å…³çš„æ“ä½œï¼ˆå¦‚<strong>å­˜å‚¨åˆ†é…ã€è¿›è¡ŒI/Oä¼ è¾“åŠç®¡ç†æ–‡ä»¶</strong>ç­‰ï¼‰ï¼Œéƒ½å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ–¹å¼å‘æ“ä½œç³»ç»Ÿ<strong>æå‡ºæœåŠ¡è¯·æ±‚</strong>ï¼Œå¹¶ç”±æ“ä½œç³»ç»Ÿ<strong>ä»£</strong>ä¸ºå®Œæˆã€‚</p></li><li><p>è¿™äº›ç³»ç»Ÿè°ƒç”¨æŒ‰åŠŸèƒ½å¤§è‡´å¯åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ã€‚</p><ul><li><p>è®¾å¤‡ç®¡ç†ï¼š</p><p>â€‹ å®Œæˆ<strong>è®¾å¤‡çš„è¯·æ±‚æˆ–é‡Šæ”¾ï¼Œä»¥åŠè®¾å¤‡å¯åŠ¨</strong>ç­‰åŠŸèƒ½ã€‚</p></li><li><p>æ–‡ä»¶ç®¡ç†ï¼š</p><p>â€‹ å®Œæˆæ–‡ä»¶çš„<strong>è¯»ã€å†™ã€åˆ›å»ºåŠåˆ é™¤</strong>ç­‰åŠŸèƒ½ã€‚</p></li><li><p>è¿›ç¨‹æ§åˆ¶ï¼š</p><p>â€‹ å®Œæˆè¿›ç¨‹çš„<strong>åˆ›å»ºã€æ’¤é”€ã€é˜»å¡åŠå”¤é†’</strong>ç­‰åŠŸèƒ½ã€‚</p></li><li><p>è¿›ç¨‹é€šä¿¡ï¼š</p><p>â€‹ å®Œæˆ<strong>è¿›ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’æˆ–ä¿¡å·ä¼ é€’</strong>ç­‰åŠŸèƒ½ã€‚</p></li><li><p>å†…å­˜ç®¡ç†ï¼š</p><p>â€‹å®Œæˆå†…å­˜çš„<strong>åˆ†é…ã€å›æ”¶ä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠå§‹å€</strong>ç­‰åŠŸèƒ½ã€‚</p></li></ul></li></ul><blockquote><p>æ“ä½œç³»ç»Ÿçš„<strong>è¿è¡Œç¯å¢ƒ</strong>å°±å¯ä»¥ç†è§£ä¸ºï¼š</p><ul><li>ç”¨æˆ·é€šè¿‡æ“ä½œç³»ç»Ÿè¿è¡Œ<strong>ä¸Šå±‚ç¨‹åº</strong>ï¼ˆå¦‚ç³»ç»Ÿæä¾›çš„å‘½ä»¤è§£é‡Šç¨‹åºæˆ–ç”¨æˆ·è‡ªç¼–ç¨‹åºï¼‰ï¼Œè€Œè¿™ä¸ªä¸Šå±‚ç¨‹åºçš„è¿è¡Œä¾èµ–äºæ“ä½œç³»ç»Ÿçš„åº•å±‚ç®¡ç†ç¨‹åºæä¾›æœåŠ¡æ”¯æŒã€‚</li><li>å½“éœ€è¦ç®¡ç†ç¨‹åºæœåŠ¡æ—¶ï¼Œç³»ç»Ÿåˆ™é€šè¿‡<strong>ç¡¬ä»¶ä¸­æ–­æœºåˆ¶è¿›å…¥æ ¸å¿ƒæ€</strong>ï¼Œè¿è¡Œç®¡ç†ç¨‹åº</li><li>å½“ç¨‹åºè¿è¡Œå‡ºç°<strong>å¼‚å¸¸</strong>æƒ…å†µæ—¶ï¼Œä¹Ÿä¼šè¢«åŠ¨åœ°éœ€è¦ç®¡ç†ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ—¶å°±é€šè¿‡<strong>å¼‚å¸¸å¤„ç†</strong>æ¥è¿›å…¥æ ¸å¿ƒæ€ï¼ˆ<strong>trapæŒ‡ä»¤åœ¨ç”¨æˆ·æ€æ‰§è¡Œ</strong>ï¼‰ã€‚ç®¡ç†ç¨‹åºè¿è¡Œç»“æŸæ—¶ï¼Œç”¨æˆ·ç¨‹åºéœ€è¦ç»§ç»­è¿è¡Œï¼Œæ­¤æ—¶é€šè¿‡ç›¸åº”çš„ä¿å­˜çš„ç¨‹åºç°åœºï¼Œé€€å‡ºä¸­æ–­å¤„ç†ç¨‹åºæˆ–å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œè¿”å›æ–­ç‚¹å¤„ç»§ç»­æ‰§è¡Œã€‚</li></ul><p>ä¸€äº›ç”±<strong>ç”¨æˆ·æ€</strong>è½¬å‘<strong>æ ¸å¿ƒæ€</strong>çš„ä¾‹å­ï¼š +ç”¨æˆ·ç¨‹åºè¦æ±‚æ“ä½œç³»ç»Ÿçš„æœåŠ¡ï¼Œå³<strong>ç³»ç»Ÿè°ƒç”¨</strong>ã€‚ +å‘ç”Ÿä¸€æ¬¡<strong>ä¸­æ–­</strong>ã€‚ + ç”¨æˆ·ç¨‹åºä¸­äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯çŠ¶æ€ã€‚ +ç”¨æˆ·ç¨‹åºä¸­ä¼å›¾æ‰§è¡Œä¸€æ¡ç‰¹æƒæŒ‡ä»¤ï¼ˆéœ€è¦<strong>è®¿ç®¡ä¸­æ–­</strong>ï¼Œè®¿ç®¡æŒ‡ä»¤ä¸æ˜¯ç‰¹æƒæŒ‡ä»¤ï¼‰ã€‚+ä»æ ¸å¿ƒæ€è½¬å‘ç”¨æˆ·æ€ç”±ä¸€æ¡æŒ‡ä»¤å®ç°ï¼Œè¿™æ¡æŒ‡ä»¤æ˜¯<strong>ç‰¹æƒå‘½ä»¤</strong>ï¼Œä¸€èˆ¬æ˜¯ä¸­æ–­è¿”å›æŒ‡ä»¤ã€‚</p><p>æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„<strong>è¿‡ç¨‹</strong>å¦‚ä¸‹ï¼š</p><ol type="1"><li>æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å…ˆä¼ é€’ç³»ç»Ÿè°ƒç”¨å‚æ•°</li><li>åœ¨<strong>ç”¨æˆ·æ€</strong>æ‰§è¡Œ<strong>é™·å…¥æŒ‡ä»¤</strong>ï¼Œå°†ç”¨æˆ·æ€è½¬æ¢ä¸ºå†…æ ¸æ€ï¼Œå¹¶å°†è¿”å›åœ°å€å‹å…¥å †æ ˆä»¥å¤‡åç”¨</li><li>CPU æ‰§è¡Œç›¸åº”çš„å†…æ ¸æ€æœåŠ¡ç¨‹åº</li><li>æœ€åè¿”å›ç”¨æˆ·æ€</li></ol></blockquote><h3 id="å¤§å†…æ ¸å®å†…æ ¸å’Œå¾®å†…æ ¸">å¤§å†…æ ¸ï¼ˆå®å†…æ ¸ï¼‰å’Œå¾®å†…æ ¸</h3><ul><li><strong>å¤§å†…æ ¸</strong>ç³»ç»Ÿå°†æ“ä½œç³»ç»Ÿçš„<strong>ä¸»è¦åŠŸèƒ½æ¨¡å—</strong>éƒ½ä½œä¸ºä¸€ä¸ªç´§å¯†è”ç³»çš„æ•´ä½“è¿è¡Œåœ¨<strong>æ ¸å¿ƒæ€</strong>ï¼Œä»è€Œä¸ºåº”ç”¨æä¾›<strong>é«˜æ€§èƒ½</strong>çš„ç³»ç»ŸæœåŠ¡ã€‚</li><li>å› ä¸ºå„ç®¡ç†æ¨¡å—ä¹‹é—´<strong>å…±äº«ä¿¡æ¯</strong>ï¼Œèƒ½æœ‰æ•ˆåˆ©ç”¨ç›¸äº’ä¹‹é—´çš„æœ‰æ•ˆç‰¹æ€§ï¼Œæ‰€ä»¥å…·æœ‰æ— å¯æ¯”æ‹Ÿçš„æ€§èƒ½ä¼˜åŠ¿ã€‚</li><li>ä¸ºè§£å†³æ“ä½œç³»ç»Ÿçš„å†…æ ¸ä»£ç éš¾ä»¥ç»´æŠ¤çš„é—®é¢˜ï¼Œæå‡ºäº†<strong>å¾®å†…æ ¸</strong>çš„ä½“ç³»ç»“æ„ã€‚å®ƒå°†å†…æ ¸ä¸­<strong>æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼ˆå¦‚è¿›ç¨‹ç®¡ç†ç­‰ï¼‰ä¿ç•™åœ¨å†…æ ¸</strong>ï¼Œè€Œå°†é‚£äº›ä¸éœ€è¦åœ¨æ ¸å¿ƒæ€æ‰§è¡Œçš„åŠŸèƒ½ç§»åˆ°<strong>ç”¨æˆ·æ€</strong>æ‰§è¡Œï¼Œä»è€Œé™ä½äº†å†…æ ¸çš„<strong>è®¾è®¡å¤æ‚æ€§</strong>ã€‚</li><li>é‚£äº›ç§»å‡ºå†…æ ¸çš„æ“ä½œç³»ç»Ÿä»£ç æ ¹æ®åˆ†å±‚çš„åŸåˆ™è¢«åˆ’åˆ†æˆè‹¥å¹²æœåŠ¡ç¨‹åºï¼Œå®ƒä»¬çš„æ‰§è¡Œç›¸äº’ç‹¬ç«‹ï¼Œ<strong>äº¤äº’åˆ™éƒ½å€ŸåŠ©äºå¾®å†…æ ¸è¿›è¡Œé€šä¿¡</strong>ã€‚</li><li>å¾®å†…æ ¸ç»“æ„æœ‰æ•ˆåœ°åˆ†ç¦»äº†å†…æ ¸ä¸æœåŠ¡ã€æœåŠ¡ä¸æœåŠ¡ï¼Œä½¿å¾—å®ƒä»¬ä¹‹é—´çš„æ¥å£æ›´åŠ æ¸…æ™°ï¼Œç»´æŠ¤çš„ä»£ä»·å¤§å¤§é™ä½ï¼Œå„éƒ¨åˆ†å¯ä»¥ç‹¬ç«‹åœ°ä¼˜åŒ–å’Œæ¼”è¿›ï¼Œä»è€Œä¿è¯äº†æ“ä½œç³»ç»Ÿçš„<strong>å¯é æ€§</strong>ã€‚</li><li>å¾®å†…æ ¸ç»“æ„çš„æœ€å¤§é—®é¢˜æ˜¯<strong>æ€§èƒ½é—®é¢˜</strong>ï¼Œå› ä¸ºéœ€è¦é¢‘ç¹åœ°åœ¨æ ¸å¿ƒæ€å’Œç”¨æˆ·æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ“ä½œç³»ç»Ÿçš„æ‰§è¡Œå¼€é”€åå¤§ã€‚</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20210914200748917.png" alt="image-20210914200748917" style="zoom:100%;"></div><h2 id="è¿›ç¨‹ç®¡ç†">è¿›ç¨‹ç®¡ç†</h2><h3 id="è¿›ç¨‹çš„æ¦‚å¿µå’Œç‰¹å¾">è¿›ç¨‹çš„æ¦‚å¿µå’Œç‰¹å¾</h3><blockquote><p>æ¥è‡ªã€Šç‹é“ã€‹</p></blockquote><ul><li><p>è¿›ç¨‹çš„æ¦‚å¿µï¼š</p><ul><li><p>åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œå…è®¸å¤šä¸ª<strong>ç¨‹åº</strong>å¹¶å‘æ‰§è¡Œï¼Œæ­¤æ—¶å®ƒä»¬å°†<strong>å¤±å»å°é—­æ€§ï¼Œå¹¶å…·æœ‰é—´æ–­æ€§åŠä¸å¯å†ç°æ€§</strong>çš„ç‰¹å¾ã€‚</p></li><li><p>ä¸ºæ­¤å¼•å…¥äº†<strong>è¿›ç¨‹</strong>ï¼ˆProcessï¼‰çš„æ¦‚å¿µï¼Œä»¥ä¾¿æ›´å¥½åœ°æè¿°å’Œæ§åˆ¶ç¨‹åºçš„å¹¶å‘æ‰§è¡Œï¼Œå®ç°æ“ä½œç³»ç»Ÿçš„<strong>å¹¶å‘æ€§å’Œå…±äº«æ€§</strong>ï¼ˆæœ€åŸºæœ¬çš„ä¸¤ä¸ªç‰¹æ€§ï¼‰ã€‚</p></li><li><p>ä¸ºäº†ä½¿å‚ä¸å¹¶å‘æ‰§è¡Œçš„ç¨‹åºï¼ˆå«æ•°æ®ï¼‰èƒ½<strong>ç‹¬ç«‹åœ°è¿è¡Œ</strong>ï¼Œå¿…é¡»ä¸ºä¹‹é…ç½®ä¸€ä¸ªä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œç§°ä¸º<strong>è¿›ç¨‹æ§åˆ¶å—</strong>ï¼ˆProcessControl Blockï¼ŒPCBï¼‰ã€‚</p></li><li><p>ç³»ç»Ÿåˆ©ç”¨ PCBæ¥æè¿°è¿›ç¨‹çš„<strong>åŸºæœ¬æƒ…å†µå’Œè¿è¡ŒçŠ¶æ€</strong>ï¼Œè¿›è€Œæ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ã€‚</p></li><li><p>ç›¸åº”åœ°ï¼Œç”±<strong>ç¨‹åºæ®µã€ç›¸å…³æ•°æ®æ®µå’Œ PCB</strong>ä¸‰éƒ¨åˆ†æ„æˆäº†<strong>è¿›ç¨‹æ˜ åƒï¼ˆè¿›ç¨‹å®ä½“ï¼‰</strong>ã€‚</p></li><li><p>æ‰€è°“åˆ›å»ºè¿›ç¨‹ï¼Œ<strong>å®è´¨ä¸Šæ˜¯åˆ›å»ºè¿›ç¨‹æ˜ åƒä¸­çš„PCB</strong>ï¼›è€Œæ’¤é”€è¿›ç¨‹ï¼Œå®è´¨ä¸Šæ˜¯æ’¤é”€è¿›ç¨‹çš„ PCBã€‚</p><blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>è¿›ç¨‹æ˜ åƒæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹åˆ™æ˜¯åŠ¨æ€çš„</strong>ã€‚</p><p>æ³¨æ„ï¼šPCB æ˜¯<strong>è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—</strong>ã€‚</p></blockquote></li></ul></li><li><p>è¿›ç¨‹çš„å…¸å‹å®šä¹‰ï¼š</p><ul><li><p>è¿›ç¨‹æ˜¯<strong>ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹</strong>ã€‚</p></li><li><p>è¿›ç¨‹æ˜¯<strong>ä¸€ä¸ªç¨‹åºåŠå…¶æ•°æ®åœ¨å¤„ç†æœºä¸Šé¡ºåºæ‰§è¡Œ</strong>æ—¶æ‰€å‘ç”Ÿçš„æ´»åŠ¨ã€‚</p></li><li><p>è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„<strong>ç¨‹åº</strong>åœ¨ä¸€ä¸ª<strong>æ•°æ®</strong>é›†åˆä¸Šè¿è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œ<strong>èµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½</strong>ã€‚</p><blockquote><p>è¿›ç¨‹æ˜¯<strong>è¿›ç¨‹å®ä½“çš„è¿è¡Œè¿‡ç¨‹</strong>ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼ˆåŸºæœ¬å•ä½ï¼‰ã€‚</p><p>è¿›ç¨‹æ˜¯ç”±å¤šé“ç¨‹åºçš„å¹¶å‘æ‰§è¡Œè€Œå¼•å‡ºçš„ï¼Œå®ƒå’Œç¨‹åºæ˜¯ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„æ¦‚å¿µã€‚</p></blockquote></li></ul></li><li><p>è¿›ç¨‹çš„ç‰¹å¾ï¼ˆç†è§£ï¼‰ï¼š</p><blockquote><p>è¿›ç¨‹çš„åŸºæœ¬ç‰¹å¾æ˜¯å¯¹æ¯”<strong>å•ä¸ªç¨‹åºçš„é¡ºåºæ‰§è¡Œ</strong>æå‡ºçš„ï¼Œä¹Ÿæ˜¯å¯¹è¿›ç¨‹ç®¡ç†æå‡ºçš„åŸºæœ¬è¦æ±‚ã€‚</p></blockquote><ul><li><p><strong>åŠ¨æ€æ€§</strong>ï¼š</p><p>â€‹è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œå®ƒæœ‰ç€åˆ›å»ºã€æ´»åŠ¨ã€æš‚åœã€ç»ˆæ­¢ç­‰è¿‡ç¨‹ï¼Œå…·æœ‰ä¸€å®šçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯<strong>åŠ¨æ€åœ°äº§ç”Ÿã€å˜åŒ–å’Œæ¶ˆäº¡</strong>çš„ã€‚</p><blockquote><p>åŠ¨æ€æ€§æ˜¯è¿›ç¨‹<strong>æœ€åŸºæœ¬</strong>çš„ç‰¹å¾ã€‚</p></blockquote></li><li><p><strong>å¹¶å‘æ€§</strong>ï¼š</p><p>â€‹æŒ‡<strong>å¤šä¸ªè¿›ç¨‹å®ä½“</strong>åŒæ—¶å­˜äºå†…å­˜ä¸­ï¼Œèƒ½åœ¨ä¸€æ®µæ—¶é—´å†…åŒæ—¶è¿è¡Œã€‚</p><blockquote><p>å¹¶å‘æ€§æ˜¯è¿›ç¨‹çš„é‡è¦ç‰¹å¾ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿçš„é‡è¦ç‰¹å¾ã€‚å¼•å…¥è¿›ç¨‹çš„ç›®çš„å°±æ˜¯ä½¿ç¨‹åºèƒ½ä¸å…¶ä»–è¿›ç¨‹çš„ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œä»¥æé«˜<strong>èµ„æºåˆ©ç”¨ç‡</strong>ã€‚</p></blockquote></li><li><p><strong>ç‹¬ç«‹æ€§</strong>ï¼š</p><p>â€‹æŒ‡è¿›ç¨‹å®ä½“æ˜¯ä¸€ä¸ªèƒ½ç‹¬ç«‹è¿è¡Œã€ç‹¬ç«‹è·å¾—èµ„æºå’Œç‹¬ç«‹æ¥å—è°ƒåº¦çš„<strong>åŸºæœ¬å•ä½</strong>ã€‚å‡¡æœªå»ºç«‹PCB çš„ç¨‹åºï¼Œéƒ½ä¸èƒ½ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å•ä½å‚ä¸è¿è¡Œã€‚</p></li><li><p><strong>å¼‚æ­¥æ€§</strong>ï¼š</p><p>â€‹ç”±äºè¿›ç¨‹çš„ç›¸äº’<strong>åˆ¶çº¦</strong>ï¼Œä½¿å¾—è¿›ç¨‹å…·æœ‰æ‰§è¡Œçš„<strong>é—´æ–­æ€§</strong>ï¼Œå³è¿›ç¨‹æŒ‰<strong>å„è‡ªç‹¬ç«‹çš„ã€ä¸å¯é¢„çŸ¥</strong>çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚</p><blockquote><p>å¼‚æ­¥æ€§ä¼šå¯¼è‡´æ‰§è¡Œç»“æœçš„<strong>ä¸å¯å†ç°æ€§</strong>ï¼Œä¸ºæ­¤åœ¨æ“ä½œç³»ç»Ÿä¸­å¿…é¡»é…ç½®ç›¸åº”çš„è¿›ç¨‹åŒæ­¥æœºåˆ¶ã€‚</p></blockquote></li><li><p><strong>ç»“æ„æ€§</strong>ï¼š</p><p>â€‹ æ¯ä¸ªè¿›ç¨‹éƒ½é…ç½®ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å— PCB å¯¹å…¶è¿›è¡Œæè¿°ã€‚</p><blockquote><p>ä»ç»“æ„ä¸Šçœ‹ï¼Œ<strong>è¿›ç¨‹å®ä½“</strong>ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯è¿›ç¨‹ï¼‰æ˜¯ç”±<strong>ç¨‹åºæ®µã€æ•°æ®æ®µå’ŒPCB</strong> ä¸‰éƒ¨åˆ†ç»„æˆçš„ã€‚</p></blockquote></li></ul></li><li><p><strong>è¿›ç¨‹å’Œç¨‹åº</strong>çš„åŒºåˆ«ï¼š</p><ul><li><p><strong>æœ¬è´¨åŒºåˆ«</strong>ï¼š</p><ul><li>è¿›ç¨‹æ˜¯<strong>åŠ¨æ€</strong>çš„ï¼›ç¨‹åºæ˜¯<strong>é™æ€</strong>çš„ã€‚</li><li>è¿›ç¨‹æ˜¯ç¨‹åºåŠå…¶æ•°æ®åœ¨è®¡ç®—æœºä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€çš„æ¦‚å¿µã€‚</li></ul></li><li><p>å®šä¹‰ä¸åŒï¼š</p><p>â€‹è¿›ç¨‹æ˜¯ç¨‹åºå¤„ç†æ•°æ®çš„<strong>è¿‡ç¨‹</strong>ï¼›ç¨‹åºæ˜¯ä¸€ç»„<strong>æŒ‡ä»¤çš„æœ‰åºé›†åˆ</strong>ã€‚</p><blockquote><p>è¿›ç¨‹çš„è¿è¡Œå®ä½“æ˜¯ç¨‹åºï¼Œç¦»å¼€ç¨‹åºçš„è¿›ç¨‹æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰ã€‚</p></blockquote></li><li><p>ç»„æˆä¸åŒï¼š</p><p>â€‹ä»é™æ€è§’åº¦çœ‹ï¼Œè¿›ç¨‹æ˜¯ç”±ç¨‹åºã€æ•°æ®å’Œè¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä¸‰éƒ¨åˆ†ç»„æˆçš„ï¼›ç¨‹åºåˆ™æ˜¯ä¸€ç»„ä»£ç çš„é›†åˆã€‚</p></li><li><p>ç”Ÿå‘½å‘¨æœŸä¸åŒï¼š</p><p>â€‹è¿›ç¨‹æ˜¯åŠ¨æ€åœ°åˆ›å»ºå’Œæ¶ˆäº¡çš„ï¼Œå…·æœ‰<strong>ä¸€å®šçš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œæ˜¯æš‚æ—¶å­˜åœ¨çš„ï¼›ç¨‹åºåˆ™æ˜¯ä¸€ç»„ä»£ç çš„é›†åˆï¼Œæ˜¯æ°¸ä¹…å­˜åœ¨çš„ï¼Œå¯é•¿æœŸä¿å­˜ã€‚</p></li><li><p>å¯¹åº”å…³ç³»ä¸åŒï¼š</p><p>â€‹ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæˆ–å‡ ä¸ªç¨‹åºï¼Œä¸€ä¸ªç¨‹åºä¹Ÿå¯æ„æˆå¤šä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å¯åˆ›å»ºè¿›ç¨‹ï¼Œè€Œç¨‹åºä¸å¯èƒ½å½¢æˆæ–°çš„ç¨‹åºã€‚</p></li></ul><blockquote><p>ä»¥ä¸‹ä¸‰ç‚¹æ¥è‡ª CSAPP</p></blockquote></li><li><p>é€»è¾‘æ§åˆ¶æµï¼š</p><ul><li><p>å³ä½¿åœ¨ç³»ç»Ÿä¸­é€šå¸¸æœ‰è®¸å¤šå…¶ä»–ç¨‹åºåœ¨è¿è¡Œï¼Œè¿›ç¨‹ä¹Ÿå¯ä»¥å‘æ¯ä¸ªç¨‹åºæä¾›ä¸€ç§å‡è±¡ï¼Œå¥½åƒå®ƒåœ¨<strong>ç‹¬å </strong>åœ°ä½¿ç”¨å¤„ç†å™¨ã€‚</p></li><li><p>ç”¨è°ƒè¯•å™¨å•æ­¥æ‰§è¡Œç¨‹åºï¼Œä¼šå¾—åˆ°ä¸€ç³»åˆ—çš„<strong>ç¨‹åºè®¡æ•°å™¨</strong>ï¼ˆPCï¼‰çš„å€¼ï¼Œè¿™äº›å€¼å”¯ä¸€åœ°å¯¹åº”äºåŒ…å«åœ¨ç¨‹åºçš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ä¸­çš„æŒ‡ä»¤ï¼Œæˆ–æ˜¯åŒ…å«åœ¨è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥åˆ°ç¨‹åºçš„å…±äº«å¯¹è±¡ä¸­çš„æŒ‡ä»¤ã€‚è¿™ä¸ªPC å€¼çš„åºåˆ—å«åš<strong>é€»è¾‘æ§åˆ¶æµ</strong>ï¼Œæˆ–è€…ç®€ç§°é€»è¾‘æµã€‚</p><blockquote><p>è€ƒè™‘ä¸€ä¸ªè¿è¡Œç€ä¸‰ä¸ªè¿›ç¨‹çš„ç³»ç»Ÿï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å¤„ç†å™¨çš„ä¸€ä¸ªç‰©ç†æ§åˆ¶æµè¢«åˆ†æˆäº†ä¸‰ä¸ªé€»è¾‘æµï¼Œæ¯ä¸ªè¿›ç¨‹ä¸€ä¸ªã€‚æ¯ä¸ªç«–ç›´çš„æ¡è¡¨ç¤ºä¸€ä¸ªè¿›ç¨‹çš„é€»è¾‘æµçš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸‰ä¸ªé€»è¾‘æµçš„çš„å…³ç³»æ˜¯ï¼š</p><ul><li>A å’Œ B æ˜¯<strong>å¹¶å‘</strong>æ‰§è¡Œçš„ï¼ŒA å’Œ Cä¹Ÿæ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼ˆå¦‚æœä¸¤ä¸ªé€»è¾‘æµåœ¨<strong>å®è§‚æ—¶é—´ä¸Šæœ‰é‡å </strong>ï¼Œåˆ™ç§°è¿™ä¸¤ä¸ªè¿›ç¨‹æ˜¯å¹¶å‘çš„ï¼‰ã€‚</li><li>B å’Œ C æ˜¯<strong>é¡ºåº</strong>æ‰§è¡Œçš„ã€‚</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20210923133153304.png" alt="image-20210923133153304" style="zoom:100%;"></div></blockquote></li></ul></li><li><p>ç§æœ‰åœ°å€ç©ºé—´ï¼š</p><ul><li><p><strong>è¿›ç¨‹</strong>ä¹Ÿä¸ºæ¯ä¸ª<strong>ç¨‹åº</strong>æä¾›ä¸€ç§å‡è±¡ï¼Œå¥½åƒå®ƒ<strong>ç‹¬å </strong>åœ°ä½¿ç”¨<strong>ç³»ç»Ÿåœ°å€ç©ºé—´</strong>ã€‚</p></li><li><p>è¿›ç¨‹ä¸ºæ¯ä¸ªç¨‹åºæä¾›å®ƒè‡ªå·±çš„ç§æœ‰åœ°å€ç©ºé—´ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå’Œè¿™ä¸ªç©ºé—´ä¸­æŸä¸ªåœ°å€ç›¸å…³è”çš„é‚£ä¸ªå†…å­˜å­—èŠ‚æ˜¯ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹è¯»æˆ–è€…å†™çš„ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œè¿™ä¸ªåœ°å€ç©ºé—´æ˜¯ç§æœ‰çš„ã€‚</p></li><li><p>å°½ç®¡å’Œæ¯ä¸ªç§æœ‰åœ°å€ç©ºé—´ç›¸å…³è”çš„å†…å­˜çš„å†…å®¹ä¸€èˆ¬æ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯æ¯ä¸ªè¿™æ ·çš„ç©ºé—´éƒ½æœ‰ç›¸åŒçš„é€šç”¨ç»“æ„ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210923134902422.png"></div></li></ul></li><li><p>ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼š</p><ul><li>æ“ä½œç³»ç»Ÿå†…æ ¸ä½¿ç”¨ä¸€ç§ç§°ä¸º<strong>ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>çš„è¾ƒé«˜å±‚å½¢å¼çš„<strong>å¼‚å¸¸æ§åˆ¶æµ</strong>æ¥å®ç°å¤šä»»åŠ¡</li><li>å†…æ ¸ä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŒä¸€ä¸ªä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ï¼Œä¸Šä¸‹æ–‡å°±æ˜¯<strong>å†…æ ¸é‡æ–°å¯åŠ¨ä¸€ä¸ªè¢«æŠ¢å çš„è¿›ç¨‹</strong>æ‰€éœ€çš„çŠ¶æ€ã€‚</li><li>å®ƒç”±ä¸€äº›<strong>å¯¹è±¡çš„å€¼</strong>ç»„æˆï¼Œè¿™äº›å¯¹è±¡åŒ…æ‹¬<strong>é€šç”¨ç›®çš„å¯„å­˜å™¨ã€æµ®ç‚¹å¯„å­˜å™¨ã€ç¨‹åºè®¡æ•°å™¨ã€ç”¨æˆ·æ ˆã€çŠ¶æ€å¯„å­˜å™¨ã€å†…æ ¸æ ˆå’Œå„ç§å†…æ ¸æ•°æ®ç»“æ„</strong>ï¼Œæ¯”å¦‚æè¿°åœ°å€ç©ºé—´çš„<strong>é¡µè¡¨</strong>ã€åŒ…å«æœ‰å…³å½“å‰è¿›ç¨‹ä¿¡æ¯çš„<strong>è¿›ç¨‹è¡¨</strong>ï¼Œä»¥åŠåŒ…å«è¿›ç¨‹å·²æ‰“å¼€<strong>æ–‡ä»¶çš„ä¿¡æ¯çš„æ–‡ä»¶è¡¨</strong>ã€‚</li><li>åœ¨è¿›ç¨‹æ‰§è¡Œçš„æŸäº›æ—¶åˆ»ï¼Œå†…æ ¸å¯ä»¥å†³å®š<strong>æŠ¢å å½“å‰è¿›ç¨‹</strong>ï¼Œå¹¶é‡å¯ä¸€ä¸ªå…ˆå‰è¢«æŠ¢å äº†çš„è¿›ç¨‹ã€‚è¿™ç§å†³ç­–å°±å«åš<strong>è°ƒåº¦</strong>ï¼Œæ˜¯ç”±å†…æ ¸ä¸­ç§°ä¸º<strong>è°ƒåº¦å™¨</strong>çš„ä»£ç å¤„ç†çš„ã€‚</li><li>åœ¨å†…æ ¸è°ƒåº¦äº†ä¸€ä¸ªæ–°çš„è¿›ç¨‹è¿è¡Œåï¼Œå®ƒå°±æŠ¢å å½“å‰è¿›ç¨‹ï¼Œå¹¶ä½¿ç”¨ä¸€ç§ç§°ä¸º<strong>ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æœºåˆ¶</strong>æ¥å°†<strong>æ§åˆ¶</strong>è½¬ç§»åˆ°æ–°çš„è¿›ç¨‹ï¼š<ul><li><strong>ä¿å­˜</strong>å½“å‰è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ã€‚</li><li><strong>æ¢å¤</strong>æŸä¸ªå…ˆå‰è¢«æŠ¢å çš„è¿›ç¨‹è¢«ä¿å­˜çš„ä¸Šä¸‹æ–‡ã€‚</li><li>å°†æ§åˆ¶ä¼ é€’ç»™è¿™ä¸ªæ–°æ¢å¤çš„è¿›ç¨‹ã€‚</li></ul></li><li>å½“å†…æ ¸ä»£è¡¨ç”¨æˆ·æ‰§è¡Œ<strong>ç³»ç»Ÿè°ƒç”¨</strong>æ—¶ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å¦‚æœç³»ç»Ÿè°ƒç”¨å› ä¸ºç­‰å¾…æŸä¸ªäº‹ä»¶å‘ç”Ÿè€Œé˜»å¡ï¼Œé‚£ä¹ˆå†…æ ¸å¯ä»¥è®©å½“å‰è¿›ç¨‹ä¼‘çœ ï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚</li></ul></li></ul><h3 id="è¿›ç¨‹çš„çŠ¶æ€ä¸è½¬æ¢">è¿›ç¨‹çš„çŠ¶æ€ä¸è½¬æ¢</h3><blockquote><p>æ¥è‡ªã€Šç‹é“ã€‹</p></blockquote><ul><li><p>çŠ¶æ€æè¿°ï¼š</p><p>â€‹è¿›ç¨‹åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ï¼Œç”±äºç³»ç»Ÿä¸­å„è¿›ç¨‹ä¹‹é—´çš„<strong>ç›¸äº’åˆ¶çº¦å…³ç³»</strong>åŠç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒçš„å˜åŒ–ï¼Œä½¿å¾—è¿›ç¨‹çš„çŠ¶æ€ä¹Ÿåœ¨ä¸æ–­åœ°å‘ç”Ÿå˜åŒ–ï¼ˆ<strong>ä¸€ä¸ªè¿›ç¨‹ä¼šç»å†è‹¥å¹²ä¸åŒçŠ¶æ€</strong>ï¼‰ã€‚é€šå¸¸è¿›ç¨‹æœ‰ä»¥ä¸‹<span class="math inline">\(5\)</span> ç§çŠ¶æ€ï¼Œå‰ <span class="math inline">\(3\)</span> ç§æ˜¯è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€ã€‚</p><ul><li><p>è¿è¡Œæ€ï¼š</p><p>â€‹è¿›ç¨‹æ­£åœ¨å¤„ç†æœºä¸Šè¿è¡Œã€‚åœ¨<strong>å•å¤„ç†æœºç¯å¢ƒ</strong>ä¸‹ï¼Œæ¯ä¸ªæ—¶åˆ»æœ€å¤šåªæœ‰<strong>ä¸€ä¸ª</strong>è¿›ç¨‹å¤„äºè¿è¡Œæ€ã€‚</p></li><li><p>å°±ç»ªæ€ï¼š</p><p>â€‹è¿›ç¨‹è·å¾—äº†<strong>é™¤å¤„ç†æœºå¤–çš„ä¸€åˆ‡æ‰€éœ€èµ„æº</strong>ï¼Œä¸€æ—¦å¾—åˆ°å¤„ç†æœºï¼Œä¾¿å¯ç«‹å³è¿è¡Œã€‚ç³»ç»Ÿä¸­å¤„äºå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹å¯èƒ½æœ‰å¤šä¸ªï¼Œé€šå¸¸å°†å®ƒä»¬æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç§°ä¸ºå°±ç»ªé˜Ÿåˆ—ã€‚</p><blockquote><p>ä¸å¯èƒ½æ‰€æœ‰è¿›ç¨‹éƒ½å¤„äºå°±ç»ªæ€</p></blockquote></li><li><p>é˜»å¡æ€ï¼ˆç­‰å¾…æ€ï¼‰ï¼š</p><p>â€‹è¿›ç¨‹æ­£åœ¨<strong>ç­‰å¾…æŸä¸€äº‹ä»¶</strong>è€Œæš‚åœè¿è¡Œï¼Œå¦‚ç­‰å¾…<strong>æŸèµ„æºä¸ºå¯ç”¨</strong>ï¼ˆä¸åŒ…æ‹¬å¤„ç†æœºï¼‰æˆ–ç­‰å¾…<strong>è¾“å…¥/è¾“å‡ºå®Œæˆ</strong>ã€‚å³ä½¿å¤„ç†æœºç©ºé—²ï¼Œè¯¥è¿›ç¨‹ä¹Ÿä¸èƒ½è¿è¡Œã€‚</p></li><li><p>åˆ›å»ºæ€ï¼š</p><p>â€‹ è¿›ç¨‹æ­£åœ¨è¢«åˆ›å»ºï¼Œå°šæœªè½¬åˆ°å°±ç»ªæ€ã€‚</p><blockquote><p>åˆ›å»ºè¿›ç¨‹é€šå¸¸éœ€è¦å¤šä¸ªæ­¥éª¤ï¼š</p><ol type="1"><li><strong>ç”³è¯·ä¸€ä¸ªç©ºç™½çš„ PCB</strong>ï¼Œ<strong>å¹¶å‘ PCBä¸­å¡«å†™ä¸€äº›æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹çš„ä¿¡æ¯</strong></li><li>ç”±ç³»ç»Ÿä¸ºè¯¥è¿›ç¨‹<strong>åˆ†é…è¿è¡Œæ—¶æ‰€å¿…éœ€çš„èµ„æº</strong></li><li>æŠŠè¯¥è¿›ç¨‹è½¬å…¥å°±ç»ªæ€</li></ol></blockquote></li><li><p>ç»“æŸæ€ï¼š</p><p>â€‹è¿›ç¨‹æ­£ä»ç³»ç»Ÿä¸­æ¶ˆå¤±ï¼Œå¯èƒ½æ˜¯<strong>è¿›ç¨‹æ­£å¸¸ç»“æŸæˆ–å…¶ä»–åŸå› ä¸­æ–­é€€å‡ºè¿è¡Œ</strong>ã€‚è¿›ç¨‹éœ€è¦ç»“æŸè¿è¡Œæ—¶ï¼Œç³»ç»Ÿé¦–å…ˆå¿…é¡»å°†è¯¥è¿›ç¨‹ç½®ä¸ºç»“æŸæ€ï¼Œç„¶åè¿›ä¸€æ­¥å¤„ç†èµ„æºé‡Šæ”¾å’Œå›æ”¶ç­‰å·¥ä½œã€‚</p></li></ul></li><li><p>çŠ¶æ€è½¬æ¢ï¼š</p><ul><li><p>å°±ç»ªæ€ <span class="math inline">\(\to\)</span> è¿è¡Œæ€ï¼š</p><p>â€‹å¤„äºå°±ç»ªæ€çš„è¿›ç¨‹è¢«è°ƒåº¦åï¼Œè·å¾—<strong>å¤„ç†æœºèµ„æºï¼ˆåˆ†æ´¾å¤„ç†æœºæ—¶é—´ç‰‡ï¼‰</strong>ï¼Œäºæ˜¯è¿›ç¨‹ç”±å°±ç»ªæ€è½¬æ¢ä¸ºè¿è¡Œæ€ã€‚</p></li><li><p>è¿è¡Œæ€ <span class="math inline">\(\to\)</span> å°±ç»ªæ€ï¼š</p><ul><li>å¤„äºè¿è¡Œæ€çš„è¿›ç¨‹åœ¨<strong>æ—¶é—´ç‰‡</strong>ç”¨å®Œåï¼Œä¸å¾—ä¸è®©å‡ºå¤„ç†æœºï¼Œä»è€Œè¿›ç¨‹ç”±è¿è¡Œæ€è½¬æ¢ä¸ºå°±ç»ªæ€ã€‚</li><li>åœ¨<strong>å¯æŠ¢å </strong>çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œå½“æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹å°±ç»ªæ—¶ï¼Œç¨‹åºå°†æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹è½¬æ¢ä¸ºå°±ç»ªæ€ï¼Œè®©æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹æ‰§è¡Œã€‚</li></ul></li><li><p>è¿è¡Œæ€ <span class="math inline">\(\to\)</span> é˜»å¡æ€ï¼š</p><p>â€‹è¿›ç¨‹è¯·æ±‚<strong>æŸä¸€èµ„æºï¼ˆå¦‚å¤–è®¾ï¼‰çš„ä½¿ç”¨å’Œåˆ†é…æˆ–ç­‰å¾…æŸä¸€äº‹ä»¶çš„å‘ç”Ÿï¼ˆå¦‚I/O æ“ä½œçš„å®Œæˆï¼‰</strong>æ—¶ï¼Œå®ƒå°±ä»è¿è¡Œæ€è½¬æ¢ä¸ºé˜»å¡æ€ã€‚</p></li><li><p>é˜»å¡æ€ <span class="math inline">\(\to\)</span> å°±ç»ªæ€ï¼š</p><p>â€‹ è¿›ç¨‹ç­‰å¾…çš„äº‹ä»¶åˆ°æ¥æ—¶ï¼Œå¦‚ I/Oæ“ä½œç»“æŸæˆ–ä¸­æ–­ç»“æŸæ—¶ï¼Œä¸­æ–­å¤„ç†ç¨‹åºå¿…é¡»æŠŠç›¸åº”è¿›ç¨‹çš„çŠ¶æ€ç”±é˜»å¡æ€è½¬æ¢ä¸ºå°±ç»ªæ€ã€‚</p></li></ul></li></ul><h3 id="è¿›ç¨‹æ§åˆ¶">è¿›ç¨‹æ§åˆ¶</h3><blockquote><p>æ¥è‡ªã€Šç‹é“ã€‹</p><p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸€èˆ¬æŠŠè¿›ç¨‹æ§åˆ¶ç”¨çš„ç¨‹åºæ®µç§°ä¸º<strong>åŸè¯­</strong>ï¼ŒåŸè¯­çš„ç‰¹ç‚¹æ˜¯æ‰§è¡ŒæœŸé—´<strong>ä¸å…è®¸ä¸­æ–­</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„åŸºæœ¬å•ä½ã€‚</p></blockquote><ul><li><p>è¿›ç¨‹çš„åˆ›å»ºï¼š</p><ul><li><p>å…è®¸ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºå¦ä¸€ä¸ªè¿›ç¨‹ã€‚æ­¤æ—¶åˆ›å»ºè€…ç§°ä¸º<strong>çˆ¶è¿›ç¨‹</strong>ï¼Œè¢«åˆ›å»ºçš„è¿›ç¨‹ç§°ä¸ºå­è¿›ç¨‹ã€‚</p></li><li><p>å­è¿›ç¨‹å¯ä»¥<strong>ç»§æ‰¿çˆ¶è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æº</strong>ã€‚å½“å­è¿›ç¨‹è¢«æ’¤é”€æ—¶ï¼Œåº”å°†å…¶ä»çˆ¶è¿›ç¨‹é‚£é‡Œè·å¾—çš„èµ„æº<strong>å½’è¿˜</strong>ç»™çˆ¶è¿›ç¨‹ã€‚</p></li><li><p>åœ¨æ’¤é”€çˆ¶è¿›ç¨‹æ—¶ï¼Œå¿…é¡»åŒæ—¶æ’¤é”€å…¶æ‰€æœ‰çš„å­è¿›ç¨‹ã€‚</p></li><li><p>æ“ä½œç³»ç»Ÿåˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼ˆåˆ›å»ºåŸè¯­ï¼‰ï¼š</p><ul><li><p>ä¸ºæ–°è¿›ç¨‹åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„<strong>è¿›ç¨‹æ ‡è¯†å·</strong>ï¼Œå¹¶ç”³è¯·ä¸€ä¸ªç©ºç™½çš„PCBï¼ˆPCB æ˜¯æœ‰é™çš„ï¼‰ã€‚è‹¥ PCB ç”³è¯·å¤±è´¥ï¼Œåˆ™åˆ›å»ºå¤±è´¥ã€‚</p></li><li><p>ä¸ºè¿›ç¨‹åˆ†é…èµ„æºï¼Œä¸ºæ–°è¿›ç¨‹çš„<strong>ç¨‹åºå’Œæ•°æ®åŠç”¨æˆ·æ ˆåˆ†é…å¿…è¦çš„å†…å­˜ç©ºé—´</strong>ï¼ˆåœ¨PCB ä¸­ä½“ç°ï¼‰ã€‚</p><blockquote><p>è‹¥èµ„æºä¸è¶³ï¼ˆå¦‚å†…å­˜ç©ºé—´ï¼‰ï¼Œåˆ™å¹¶ä¸æ˜¯åˆ›å»ºå¤±è´¥ï¼Œè€Œæ˜¯å¤„äºé˜»å¡æ€ï¼Œç­‰å¾…å†…å­˜èµ„æºã€‚</p></blockquote></li><li><p>åˆå§‹åŒ–PCBï¼Œä¸»è¦åŒ…æ‹¬åˆå§‹åŒ–<strong>æ ‡å¿—ä¿¡æ¯</strong>ã€<strong>å¤„ç†æœºçŠ¶æ€ä¸æ§åˆ¶ä¿¡æ¯</strong>ï¼Œä»¥åŠè®¾ç½®<strong>è¿›ç¨‹çš„ä¼˜å…ˆçº§</strong>ç­‰ã€‚</p></li><li><p>è‹¥è¿›ç¨‹å°±ç»ªé˜Ÿåˆ—èƒ½å¤Ÿæ¥çº³æ–°è¿›ç¨‹ï¼Œåˆ™å°†æ–°è¿›ç¨‹æ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è¢«è°ƒåº¦è¿è¡Œã€‚</p></li></ul><blockquote><div data-align="center"><img src=" /img/blog/os-note-images/image-20211213151050037.png"></div></blockquote></li></ul></li><li><p>è¿›ç¨‹çš„ç»ˆæ­¢:</p><ul><li><p>å¼•èµ·è¿›ç¨‹ç»ˆæ­¢çš„äº‹ä»¶ä¸»è¦æœ‰ï¼š</p><ul><li><p>æ­£å¸¸ç»“æŸï¼š</p><p>â€‹ è¡¨ç¤ºè¿›ç¨‹çš„ä»»åŠ¡å·²å®Œæˆå¹¶å‡†å¤‡é€€å‡ºè¿è¡Œã€‚</p></li><li><p>å¼‚å¸¸ç»“æŸï¼š</p><p>â€‹è¡¨ç¤ºè¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œå‘ç”Ÿäº†æŸç§å¼‚å¸¸äº‹ä»¶ï¼Œä½¿ç¨‹åºæ— æ³•ç»§ç»­è¿è¡Œï¼Œå¦‚å­˜å‚¨åŒºè¶Šç•Œã€ä¿æŠ¤é”™ã€éæ³•æŒ‡ä»¤ã€ç‰¹æƒæŒ‡ä»¤é”™ã€è¿è¡Œè¶…æ—¶ã€ç®—æœ¯è¿ç®—é”™ã€I/Oæ•…éšœç­‰ã€‚</p></li><li><p>å¤–ç•Œå¹²é¢„ï¼š</p><p>â€‹æŒ‡è¿›ç¨‹åº”å¤–ç•Œçš„è¯·æ±‚è€Œç»ˆæ­¢è¿è¡Œï¼Œå¦‚<strong>æ“ä½œå‘˜æˆ–æ“ä½œç³»ç»Ÿå¹²é¢„</strong>ã€<strong>çˆ¶è¿›ç¨‹è¯·æ±‚</strong>å’Œ<strong>çˆ¶è¿›ç¨‹ç»ˆæ­¢</strong>ã€‚</p></li></ul></li><li><p>æ“ä½œç³»ç»Ÿç»ˆæ­¢è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼ˆæ’¤é”€åŸè¯­ï¼‰ï¼š</p><ul><li>æ ¹æ®è¢«ç»ˆæ­¢è¿›ç¨‹çš„æ ‡è¯†ç¬¦ï¼Œ<strong>æ£€ç´¢PCB</strong>ï¼Œä»ä¸­è¯»å‡ºè¯¥è¿›ç¨‹çš„çŠ¶æ€ã€‚</li><li>è‹¥è¢«ç»ˆæ­¢è¿›ç¨‹å¤„äºæ‰§è¡ŒçŠ¶æ€ï¼Œç«‹å³ç»ˆæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå°†<strong>å¤„ç†æœºèµ„æº</strong>åˆ†é…ç»™å…¶ä»–è¿›ç¨‹ã€‚</li><li>è‹¥è¯¥è¿›ç¨‹è¿˜æœ‰å­å­™è¿›ç¨‹ï¼Œåˆ™<strong>åº”å°†å…¶æ‰€æœ‰å­å­™è¿›ç¨‹ç»ˆæ­¢</strong>ã€‚</li><li>å°†è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºï¼Œæˆ–<strong>å½’è¿˜</strong>ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œæˆ–å½’è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚</li><li>å°†è¯¥ PCB ä»æ‰€åœ¨é˜Ÿåˆ—ï¼ˆé“¾è¡¨ï¼‰ä¸­åˆ é™¤ã€‚</li></ul></li></ul></li><li><p>è¿›ç¨‹çš„é˜»å¡å’Œå”¤é†’ï¼š</p><ul><li><p>æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œç”±äºæœŸå¾…çš„æŸäº›äº‹ä»¶æœªå‘ç”Ÿï¼Œå¦‚<strong>è¯·æ±‚ç³»ç»Ÿèµ„æºå¤±è´¥</strong>ã€<strong>ç­‰å¾…æŸç§æ“ä½œçš„å®Œæˆ</strong>ã€æ–°æ•°æ®å°šæœªåˆ°è¾¾æˆ–æ— æ–°å·¥ä½œå¯åšç­‰ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œé˜»å¡åŸè¯­ï¼ˆBlockï¼‰ï¼Œä½¿è‡ªå·±ç”±è¿è¡Œæ€å˜ä¸º<strong>é˜»å¡æ€</strong>ã€‚</p><blockquote><p>è¿›ç¨‹çš„é˜»å¡æ˜¯è¿›ç¨‹è‡ªèº«çš„ä¸€ç§<strong>ä¸»åŠ¨è¡Œä¸º</strong>ï¼Œä¹Ÿå› æ­¤åªæœ‰å¤„äº<strong>è¿è¡Œæ€</strong>çš„è¿›ç¨‹ï¼ˆè·å¾—CPUï¼‰ï¼Œæ‰å¯èƒ½å°†å…¶è½¬ä¸ºé˜»å¡æ€ã€‚</p></blockquote></li><li><p>é˜»å¡åŸè¯­çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>æ‰¾åˆ°å°†è¦è¢«é˜»å¡è¿›ç¨‹çš„æ ‡è¯†å·å¯¹åº”çš„ PCBã€‚</p></li><li><p>è‹¥è¯¥è¿›ç¨‹ä¸ºè¿è¡Œæ€ï¼Œåˆ™<strong>ä¿æŠ¤å…¶ç°åœº</strong>ï¼Œå°†å…¶çŠ¶æ€è½¬ä¸ºé˜»å¡æ€ï¼Œåœæ­¢è¿è¡Œã€‚</p></li><li><p>æŠŠè¯¥ PCBæ’å…¥ç›¸åº”äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå°†å¤„ç†æœºèµ„æºè°ƒåº¦ç»™å…¶ä»–å°±ç»ªè¿›ç¨‹ã€‚</p><blockquote><p>å½“è¢«é˜»å¡è¿›ç¨‹æ‰€æœŸå¾…çš„äº‹ä»¶å‡ºç°æ—¶ï¼Œå¦‚å®ƒæ‰€å¯åŠ¨çš„ I/Oæ“ä½œå·²å®Œæˆæˆ–å…¶æ‰€æœŸå¾…çš„æ•°æ®å·²åˆ°è¾¾ï¼Œç”±<strong>æœ‰å…³è¿›ç¨‹</strong>ï¼ˆæ¯”å¦‚ï¼Œé‡Šæ”¾è¯¥I/Oè®¾å¤‡çš„è¿›ç¨‹ï¼Œæˆ–æä¾›æ•°æ®çš„è¿›ç¨‹ï¼‰è°ƒç”¨<strong>å”¤é†’åŸè¯­</strong>ï¼ˆWakeupï¼‰ï¼Œå°†ç­‰å¾…è¯¥äº‹ä»¶çš„è¿›ç¨‹å”¤é†’ã€‚</p><p>å”¤é†’åŸè¯­çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>åœ¨è¯¥äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç›¸åº”è¿›ç¨‹çš„ PCB.</li><li>å°†å…¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­ç§»å‡ºï¼Œå¹¶ç½®å…¶çŠ¶æ€ä¸ºå°±ç»ªæ€ã€‚</li><li>æŠŠè¯¥ PCB æ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è°ƒåº¦ç¨‹åºè°ƒåº¦ã€‚</li><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒBlock åŸè¯­å’Œ WakeupåŸè¯­æ˜¯ä¸€å¯¹ä½œç”¨åˆšå¥½ç›¸åçš„åŸè¯­ï¼Œå¿…é¡»æˆå¯¹ä½¿ç”¨ã€‚</li><li>Block åŸè¯­æ˜¯ç”±è¢«é˜»å¡è¿›ç¨‹<strong>è‡ªæˆ‘è°ƒç”¨</strong>å®ç°çš„ï¼Œè€Œ WakeupåŸè¯­åˆ™æ˜¯ç”±ä¸€ä¸ªä¸è¢«å”¤é†’è¿›ç¨‹åˆä½œæˆ–è¢«å…¶ä»–ç›¸å…³çš„<strong>è¿›ç¨‹è°ƒç”¨</strong>å®ç°çš„ã€‚</li></ul></blockquote></li></ul></li></ul></li><li><p>è¿›ç¨‹åˆ‡æ¢ï¼š</p><blockquote><p>å¯¹äºé€šå¸¸çš„è¿›ç¨‹è€Œè¨€ï¼Œå…¶åˆ›å»ºã€æ’¤é”€åŠè¦æ±‚ç”±ç³»ç»Ÿè®¾å¤‡å®Œæˆçš„ I/Oæ“ä½œï¼Œéƒ½æ˜¯åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨è€Œè¿›å…¥å†…æ ¸ï¼Œå†ç”±<strong>å†…æ ¸ä¸­çš„ç›¸åº”å¤„ç†ç¨‹</strong>åºäºˆä»¥å®Œæˆçš„ã€‚</p><p>è¿›ç¨‹åˆ‡æ¢åŒæ ·æ˜¯åœ¨å†…æ ¸çš„æ”¯æŒä¸‹å®ç°çš„ï¼Œå› æ­¤å¯ä»¥è¯´ï¼Œä»»ä½•è¿›ç¨‹éƒ½æ˜¯åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸çš„æ”¯æŒä¸‹è¿è¡Œçš„ï¼Œæ˜¯ä¸å†…æ ¸ç´§å¯†ç›¸å…³çš„ã€‚</p></blockquote><p>è¿›ç¨‹åˆ‡æ¢æ˜¯æŒ‡å¤„ç†æœºä»ä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œè½¬åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸Šè¿è¡Œï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>è¿›ç¨‹çš„è¿è¡Œç¯å¢ƒäº§ç”Ÿäº†å®è´¨æ€§çš„å˜åŒ–</strong>ã€‚è¿›ç¨‹åˆ‡æ¢çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ä¿å­˜<strong>å¤„ç†æœºä¸Šä¸‹æ–‡</strong>ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨å’Œå…¶ä»–å¯„å­˜å™¨ã€‚</li><li><strong>æ›´æ–° PCB ä¿¡æ¯</strong>ã€‚</li><li>æŠŠè¿›ç¨‹çš„ PCB ç§»å…¥ç›¸åº”çš„é˜Ÿåˆ—ï¼Œå¦‚å°±ç»ªã€åœ¨æŸäº‹ä»¶é˜»å¡ç­‰é˜Ÿåˆ—ã€‚</li><li>é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œå¹¶æ›´æ–°å…¶ PCB.</li><li>æ›´æ–°<strong>å†…å­˜ç®¡ç†</strong>çš„æ•°æ®ç»“æ„ï¼ˆå¯èƒ½è¦åˆ·æ–° TLBä¹‹ç±»çš„ï¼‰ã€‚</li><li><strong>æ¢å¤</strong>å¤„ç†æœºä¸Šä¸‹æ–‡ã€‚</li></ul></li></ul><h3 id="è¿›ç¨‹-unix-ä»£ç ">è¿›ç¨‹ Unix ä»£ç </h3><blockquote><p>æ¥è‡ª PPT å’Œ CSAPP</p></blockquote><ul><li><p>è·å–è¿›ç¨‹ IDï¼š</p><p>â€‹ æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ­£æ•°ï¼ˆéé›¶ï¼‰è¿›ç¨‹ IDï¼ˆPIDï¼‰ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">pid_t</span> <span class="hljs-title">getpid</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;  <span class="hljs-comment">/* è¿”å›è°ƒç”¨è¿›ç¨‹çš„PID */</span><br><span class="hljs-function"><span class="hljs-keyword">pid_t</span> <span class="hljs-title">getppid</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>; <span class="hljs-comment">/* è¿”å›è°ƒç”¨è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ PID */</span><br></code></pre></td></tr></tbody></table></figure></li><li><p><code>exit</code> ç»ˆæ­¢è¿›ç¨‹:</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* exit å‡½æ•°ä»¥ status é€€å‡ºçŠ¶æ€æ¥ç»ˆæ­¢è¿›ç¨‹ã€‚æ­£å¸¸ç»“æŸæ—¶è¿”å› 0 , é”™è¯¯æ—¶è¿”å›é 0 å€¼*/</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">exit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> status)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li><li><p><code>fork()</code> åˆ›å»ºè¿›ç¨‹ï¼š</p><ul><li><p>å­è¿›ç¨‹å¾—åˆ°ä¸çˆ¶è¿›ç¨‹<strong>ç”¨æˆ·çº§è™šæ‹Ÿåœ°å€ç©ºé—´</strong>ç›¸åŒçš„ï¼ˆä½†æ˜¯<strong>ç‹¬ç«‹</strong>çš„ï¼‰ä¸€ä»½<strong>å‰¯æœ¬</strong>ï¼ŒåŒ…æ‹¬<strong>ä»£ç å’Œæ•°æ®æ®µã€å †ã€å…±äº«åº“ä»¥åŠç”¨æˆ·æ ˆ</strong>ã€‚</p></li><li><p>å­è¿›ç¨‹è¿˜è·å¾—ä¸çˆ¶è¿›ç¨‹ä»»ä½•æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦ç›¸åŒçš„å‰¯æœ¬ï¼Œè¿™å°±æ„å‘³ç€å½“çˆ¶è¿›ç¨‹è°ƒç”¨<code>fork()</code>æ—¶ï¼Œå­è¿›ç¨‹å¯ä»¥è¯»å†™çˆ¶è¿›ç¨‹ä¸­æ‰“å¼€çš„ä»»ä½•<strong>æ–‡ä»¶</strong>ã€‚</p></li><li><p>çˆ¶è¿›ç¨‹å’Œæ–°åˆ›å»ºçš„å­è¿›ç¨‹ä¹‹é—´<strong>æœ€å¤§çš„åŒºåˆ«</strong>åœ¨äºå®ƒä»¬æœ‰<strong>ä¸åŒçš„PID</strong>ã€‚</p></li><li><p><code>fork()</code>å‡½æ•°åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå´ä¼šè¿”å›ä¸¤æ¬¡ã€‚ä¸€æ¬¡æ˜¯åœ¨è°ƒç”¨è¿›ç¨‹ï¼ˆçˆ¶è¿›ç¨‹ï¼‰ä¸­ï¼Œä¸€æ¬¡æ˜¯åœ¨æ–°åˆ›å»ºçš„å­è¿›ç¨‹ä¸­ï¼š</p><ul><li>åœ¨<strong>çˆ¶è¿›ç¨‹</strong>ä¸­ï¼Œ<code>fork()</code> è¿”å›å­è¿›ç¨‹çš„PIDã€‚</li><li>åœ¨<strong>å­è¿›ç¨‹</strong>ä¸­ï¼Œ<code>fork()</code> è¿”å› <span class="math inline">\(0\)</span>ã€‚å› ä¸ºå­è¿›ç¨‹çš„ PIDæ€»æ˜¯<strong>ä¸ºéé›¶</strong>ï¼Œè¿”å›å€¼å°±æä¾›ä¸€ä¸ªæ˜ç¡®çš„æ–¹æ³•æ¥<strong>åˆ†è¾¨</strong>ç¨‹åºæ˜¯åœ¨çˆ¶è¿›ç¨‹è¿˜æ˜¯åœ¨å­è¿›ç¨‹ä¸­æ‰§è¡Œã€‚</li></ul><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fork</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li><li><p>å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹å¹¶å‘æ‰§è¡Œã€‚</p></li><li><p>è¿›ç¨‹å›¾ï¼š</p><blockquote><p>æœ‰å‘è¾¹ <span class="math inline">\(a\to b\)</span> è¡¨ç¤º <span class="math inline">\(a\)</span> åœ¨ <span class="math inline">\(b\)</span> å‰æ‰§è¡Œã€‚</p></blockquote><p>å¯¹äºä»£ç ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{<br>Fork();<br>Fork(); <br><span class="hljs-built_in">printf</span> (<span class="hljs-string">"hello\n"</span>); <br><span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>}<br></code></pre></td></tr></tbody></table></figure><p>å…¶è¿›ç¨‹å›¾ä¸ºï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210923190042191.png"></div></li></ul></li><li><p>è¿›ç¨‹å›æ”¶ï¼š</p><ul><li><p>å½“ä¸€ä¸ªè¿›ç¨‹ç”±äºæŸç§åŸå› ç»ˆæ­¢æ—¶ï¼Œå†…æ ¸å¹¶ä¸æ˜¯ç«‹å³æŠŠå®ƒä»ç³»ç»Ÿä¸­æ¸…é™¤ï¼Œè€Œæ˜¯è¢«ä¿æŒåœ¨ä¸€ç§<strong>å·²ç»ˆæ­¢</strong>çš„çŠ¶æ€ä¸­ï¼Œç›´åˆ°è¢«å®ƒçš„<strong>çˆ¶è¿›ç¨‹å›æ”¶</strong>ã€‚</p></li><li><p>å½“çˆ¶è¿›ç¨‹å›æ”¶å·²ç»ˆæ­¢çš„å­è¿›ç¨‹æ—¶ï¼Œå†…æ ¸å°†å­è¿›ç¨‹çš„<strong>é€€å‡ºçŠ¶æ€</strong>ä¼ é€’ç»™çˆ¶è¿›ç¨‹ï¼Œç„¶åæŠ›å¼ƒå·²ç»ˆæ­¢çš„è¿›ç¨‹ï¼Œä»æ­¤æ—¶å¼€å§‹ï¼Œè¯¥è¿›ç¨‹å°±ä¸å­˜åœ¨äº†ã€‚</p></li><li><p>ä¸€ä¸ªç»ˆæ­¢äº†ä½†è¿˜æœªè¢«å›æ”¶çš„è¿›ç¨‹ç§°ä¸º<strong>åƒµæ­»è¿›ç¨‹</strong>ã€‚</p></li><li><p>å¦‚æœä¸€ä¸ªçˆ¶è¿›ç¨‹ç»ˆæ­¢äº†ï¼Œå†…æ ¸ä¼šå®‰æ’ <strong>initè¿›ç¨‹</strong>æˆä¸ºå®ƒçš„å­¤å„¿è¿›ç¨‹çš„<strong>å…»çˆ¶</strong>ã€‚</p></li><li><p>init è¿›ç¨‹çš„ PID ä¸º <span class="math inline">\(1\)</span>ï¼Œæ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ç”±<strong>å†…æ ¸</strong>åˆ›å»ºçš„ï¼Œå®ƒä¸ä¼šç»ˆæ­¢ï¼Œæ˜¯<strong>æ‰€æœ‰è¿›ç¨‹çš„ç¥–å…ˆ</strong>ã€‚</p></li><li><p>å¦‚æœçˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶å®ƒçš„åƒµæ­»å­è¿›ç¨‹å°±ç»ˆæ­¢äº†ï¼Œé‚£ä¹ˆå†…æ ¸ä¼šå®‰æ’ initè¿›ç¨‹å»å›æ”¶å®ƒä»¬ã€‚</p></li><li><p>å³ä½¿åƒµæ­»å­è¿›ç¨‹æ²¡æœ‰è¿è¡Œï¼Œå®ƒä»¬ä»ç„¶<strong>æ¶ˆè€—</strong>ç³»ç»Ÿçš„å†…å­˜èµ„æºã€‚</p></li><li><p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡è°ƒç”¨ <code>waitpid</code>å‡½æ•°æ¥ç­‰å¾…å®ƒçš„å­è¿›ç¨‹ç»ˆæ­¢æˆ–è€…åœæ­¢ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">pid_t</span> <span class="hljs-title">waitpid</span><span class="hljs-params">(<span class="hljs-keyword">pid_t</span> pid, <span class="hljs-keyword">int</span> *statusp, <span class="hljs-keyword">int</span> options)</span></span>;<br></code></pre></td></tr></tbody></table></figure><ul><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼ˆå½“ <code>options = 0</code>æ—¶ï¼‰ï¼Œ<code>waitpid</code><strong>æŒ‚èµ·è°ƒç”¨è¿›ç¨‹</strong>çš„æ‰§è¡Œï¼Œç›´åˆ°å®ƒçš„ç­‰å¾…é›†åˆä¸­çš„<strong>ä¸€ä¸ªå­è¿›ç¨‹</strong>ç»ˆæ­¢ã€‚</p></li><li><p>å¦‚æœç­‰å¾…é›†åˆä¸­çš„<strong>ä¸€ä¸ªè¿›ç¨‹</strong>åœ¨åˆšè°ƒç”¨çš„æ—¶åˆ»å°±å·²ç»ç»ˆæ­¢äº†ï¼Œé‚£ä¹ˆ<code>waitpid</code> å°±<strong>ç«‹å³è¿”å›</strong>ã€‚</p></li><li><p><code>waitpid</code> è¿”å›å¯¼è‡´ <code>waitpid</code>è¿”å›çš„<strong>å·²ç»ˆæ­¢å­è¿›ç¨‹çš„PID</strong>ã€‚å·²ç»ˆæ­¢çš„å­è¿›ç¨‹å·²ç»è¢«å›æ”¶ï¼Œå†…æ ¸ä¼šä»ç³»ç»Ÿä¸­åˆ é™¤æ‰å®ƒçš„æ‰€æœ‰ç—•è¿¹ã€‚</p><blockquote><p>å¦‚æœ<code>pid &gt; 0</code>ï¼Œé‚£ä¹ˆç­‰å¾…é›†åˆå°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­è¿›ç¨‹ï¼Œå®ƒçš„è¿›ç¨‹ IDç­‰äº pidã€‚ å¦‚æœ<code>pid = -1</code>ï¼Œé‚£ä¹ˆç­‰å¾…é›†åˆå°±æ˜¯ç”±<strong>çˆ¶è¿›ç¨‹æ‰€æœ‰çš„å­è¿›ç¨‹</strong>ç»„æˆçš„ã€‚</p></blockquote></li><li><p>è°ƒç”¨ <code>wait(&amp;status)</code> ç­‰ä»·äºè°ƒç”¨<code>waitpid(-1, &amp;status, 0)</code>ã€‚</p></li></ul><blockquote><p>å¸¸ç”¨å†™æ³•æ€»ç»“ï¼š</p><ul><li><p>å¾ªç¯å›æ”¶å¹¶ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹ç»“æŸï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">while</span> ((pid = waitpid(<span class="hljs-number">-1</span>, &amp;status, <span class="hljs-number">0</span>)) &gt; <span class="hljs-number">0</span>)<br></code></pre></td></tr></tbody></table></figure></li><li><p>å¾ªç¯å›æ”¶å½“å‰æ‰€æœ‰å·²ç»“æŸçš„å­è¿›ç¨‹ï¼Œä¸ç­‰å¾…ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">while</span> (waitpid(<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, WNOHANG) &gt; <span class="hljs-number">0</span>)<br></code></pre></td></tr></tbody></table></figure><blockquote><p><code>WNOHANG</code>ï¼š</p><ul><li>å¦‚æœç­‰å¾…é›†åˆä¸­çš„ä»»ä½•å­è¿›ç¨‹éƒ½è¿˜æ²¡æœ‰ç»ˆæ­¢ï¼Œé‚£ä¹ˆå°±ç«‹å³è¿”å›ï¼ˆè¿”å›å€¼ä¸º<span class="math inline">\(0\)</span>ï¼‰ã€‚</li><li>ä¹‹å‰é»˜è®¤çš„è¡Œä¸ºï¼ˆ<code>option = 0</code>ï¼‰æ˜¯æŒ‚èµ·è°ƒç”¨è¿›ç¨‹ï¼Œç›´åˆ°æœ‰å­è¿›ç¨‹ç»ˆæ­¢ã€‚</li><li>å¯ä»¥ç”¨æ¥<strong>å›æ”¶åå°å­è¿›ç¨‹ä»»åŠ¡</strong>ã€‚</li></ul></blockquote></li></ul></blockquote></li></ul></li><li><p>è¿›ç¨‹ä¼‘çœ ï¼ˆæŒ‚èµ·ï¼‰ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> secs)</span></span>;<br></code></pre></td></tr></tbody></table></figure><ul><li><p>å¦‚æœè¯·æ±‚çš„æ—¶é—´é‡å·²ç»åˆ°äº†ï¼Œ<code>sleep</code> è¿”å›<code>0</code>ï¼Œå¦åˆ™è¿”å›è¿˜å‰©ä¸‹çš„è¦ä¼‘çœ çš„ç§’æ•°ï¼ˆå¦‚æœå› ä¸º<code>sleep</code> å‡½æ•°è¢«ä¸€ä¸ªä¿¡å·ä¸­æ–­è€Œè¿‡æ—©åœ°è¿”å›ï¼‰ã€‚</p></li><li><p><code>pause</code>å‡½æ•°è®©è°ƒç”¨å‡½æ•°ä¼‘çœ ï¼Œç›´åˆ°è¯¥è¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªä¿¡å·ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pause</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>åŠ è½½å¹¶è¿è¡Œç¨‹åºï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">execve</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filename, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *argv[], <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *envp[])</span></span>;<br></code></pre></td></tr></tbody></table></figure><ul><li><code>execve()</code> å‡½æ•°åŠ è½½å¹¶è¿è¡Œå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶<code>filename</code>ï¼Œä¸”å¸¦å‚æ•°åˆ—è¡¨ <code>argv</code> å’Œç¯å¢ƒå˜é‡åˆ—è¡¨<code>envp</code>ã€‚</li><li>åªæœ‰å½“å‡ºç°é”™è¯¯æ—¶ï¼Œä¾‹å¦‚æ‰¾ä¸åˆ° <code>filename</code> æˆ–<code>execve()</code> æ‰ä¼šè¿”å›åˆ°è°ƒç”¨ç¨‹åºã€‚</li><li><code>execve()</code> è°ƒç”¨ä¸€æ¬¡å¹¶ä»ä¸è¿”å›ã€‚</li><li>å‚æ•°åˆ—è¡¨æ˜¯å¦‚å›¾æ‰€ç¤ºï¼š<ul><li><code>argv</code> å˜é‡æŒ‡å‘ä¸€ä¸ªä»¥ <code>null</code>ç»“å°¾çš„æŒ‡é’ˆæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ã€‚<code>argv[0]</code>æ˜¯<strong>å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶</strong>çš„åå­—ã€‚</li><li><code>envp</code> å˜é‡æŒ‡å‘ä¸€ä¸ªä»¥ <code>null</code>ç»“å°¾çš„æŒ‡é’ˆæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªç¯å¢ƒå˜é‡å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªä¸²éƒ½æ˜¯å½¢å¦‚<code>"name=value"</code> çš„åå­— - å€¼å¯¹ã€‚</li></ul></li><li><code>execve()</code>å‡½æ•°åœ¨å½“å‰è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­åŠ è½½å¹¶è¿è¡Œä¸€ä¸ª<strong>æ–°çš„ç¨‹åº</strong>ï¼Œè¦†ç›–å½“å‰è¿›ç¨‹çš„<strong>åœ°å€ç©ºé—´</strong>ï¼Œä½†å¹¶æ²¡æœ‰åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ã€‚</li></ul></li></ul><h3 id="è¿›ç¨‹çš„ç»„ç»‡">è¿›ç¨‹çš„ç»„ç»‡</h3><blockquote><p>è¿›ç¨‹æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œå•ä½ï¼Œä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œ<strong>èµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½</strong>ã€‚å®ƒç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­æœ€æ ¸å¿ƒçš„æ˜¯<strong>è¿›ç¨‹æ§åˆ¶å—</strong>ï¼ˆPCBï¼‰</p></blockquote><ul><li>è¿›ç¨‹æ§åˆ¶å—ï¼š<ul><li><p>è¿›ç¨‹åˆ›å»ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¸ºå®ƒæ–°å»ºä¸€ä¸ªPCBï¼Œè¯¥ç»“æ„ä¹‹åå¸¸é©»<strong>å†…å­˜</strong>ï¼Œä»»æ„æ—¶åˆ»éƒ½å¯ä»¥å­˜å–ï¼Œå¹¶åœ¨è¿›ç¨‹ç»“æŸæ—¶åˆ é™¤ã€‚</p></li><li><p>PCBæ˜¯è¿›ç¨‹å®ä½“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯<strong>è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—</strong>ã€‚</p></li><li><p>è¿›ç¨‹æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿé€šè¿‡å…¶ PCBäº†è§£è¿›ç¨‹çš„ç°è¡Œ<strong>çŠ¶æ€ä¿¡æ¯</strong>ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œæ§åˆ¶å’Œç®¡ç†ï¼›è¿›ç¨‹ç»“æŸæ—¶ï¼Œç³»ç»Ÿæ”¶å›å…¶PCBï¼Œè¯¥è¿›ç¨‹éšä¹‹æ¶ˆäº¡ã€‚</p></li><li><p>æ“ä½œç³»ç»Ÿé€šè¿‡ PCB è¡¨æ¥ç®¡ç†å’Œæ§åˆ¶è¿›ç¨‹ï¼š</p><ul><li>å½“æ“ä½œç³»ç»Ÿæ¬²<strong>è°ƒåº¦</strong>æŸè¿›ç¨‹è¿è¡Œæ—¶ï¼Œè¦ä»è¯¥è¿›ç¨‹çš„ PCBä¸­æŸ¥å‡ºå…¶<strong>ç°è¡ŒçŠ¶æ€åŠä¼˜å…ˆçº§</strong>ã€‚</li><li>åœ¨è°ƒåº¦åˆ°æŸè¿›ç¨‹åï¼Œè¦æ ¹æ®å…¶ PCBä¸­æ‰€ä¿å­˜çš„å¤„ç†æœºçŠ¶æ€ä¿¡æ¯ï¼Œè®¾ç½®è¯¥è¿›ç¨‹<strong>æ¢å¤è¿è¡Œçš„ç°åœº</strong>ï¼Œå¹¶æ ¹æ®å…¶PCB ä¸­çš„ç¨‹åºå’Œæ•°æ®çš„å†…å­˜å§‹å€ï¼Œæ‰¾åˆ°å…¶ç¨‹åºå’Œæ•°æ®ã€‚</li><li>è¿›ç¨‹åœ¨<strong>è¿è¡Œ</strong>è¿‡ç¨‹ä¸­ï¼Œå½“éœ€è¦å’Œä¸ä¹‹åˆä½œçš„è¿›ç¨‹å®ç°<strong>åŒæ­¥ã€é€šä¿¡æˆ–è®¿é—®æ–‡ä»¶</strong>æ—¶ï¼Œä¹Ÿéœ€è¦è®¿é—®PCBã€‚</li><li>å½“è¿›ç¨‹ç”±äºæŸç§åŸå› è€Œ<strong>æš‚åœ</strong>è¿è¡Œæ—¶ï¼Œåˆéœ€å°†å…¶æ–­ç‚¹çš„å¤„ç†æœºç¯å¢ƒä¿å­˜åœ¨PCB ä¸­ã€‚</li><li>å¯è§ï¼Œåœ¨è¿›ç¨‹çš„æ•´ä¸ªç”Ÿå‘½æœŸä¸­ï¼Œç³»ç»Ÿæ€»æ˜¯é€šè¿‡ PCBå¯¹è¿›ç¨‹è¿›è¡Œæ§åˆ¶çš„ï¼Œäº¦å³ç³»ç»Ÿå”¯æœ‰é€šè¿‡è¿›ç¨‹çš„ PCBæ‰èƒ½æ„ŸçŸ¥åˆ°è¯¥è¿›ç¨‹çš„å­˜åœ¨ã€‚</li></ul><blockquote><p>ä¸‹è¡¨æ˜¯ä¸€ä¸ª PCB çš„å®ä¾‹ã€‚</p></blockquote></li></ul></li></ul><table><thead><tr class="header"><th style="text-align: center;">è¿›ç¨‹æè¿°ä¿¡æ¯</th><th style="text-align: center;">è¿›ç¨‹æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯</th><th style="text-align: center;">èµ„æºåˆ†é…æ¸…å•</th><th style="text-align: center;">å¤„ç†æœºç›¸å…³ä¿¡æ¯</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆPIDï¼‰</td><td style="text-align: center;">è¿›ç¨‹å½“å‰çŠ¶æ€</td><td style="text-align: center;">ä»£ç æ®µæŒ‡é’ˆ</td><td style="text-align: center;">é€šç”¨å¯„å­˜å™¨å€¼</td></tr><tr class="even"><td style="text-align: center;">ç”¨æˆ·æ ‡è¯†ç¬¦ï¼ˆUIDï¼‰</td><td style="text-align: center;">è¿›ç¨‹ä¼˜å…ˆçº§</td><td style="text-align: center;">æ•°æ®æ®µæŒ‡é’ˆ</td><td style="text-align: center;">åœ°å€å¯„å­˜å™¨å€¼</td></tr><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;">ä»£ç è¿è¡Œå…¥å£åœ°å€</td><td style="text-align: center;">å †æ ˆæ®µæŒ‡é’ˆ</td><td style="text-align: center;">æ§åˆ¶å¯„å­˜å™¨å€¼</td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;">ç¨‹åºçš„å¤–å­˜åœ°å€</td><td style="text-align: center;">æ–‡ä»¶æè¿°ç¬¦</td><td style="text-align: center;">æ ‡å¿—å¯„å­˜å™¨å€¼</td></tr><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;">è¿›å…¥å†…å­˜æ—¶é—´</td><td style="text-align: center;">é”®ç›˜</td><td style="text-align: center;">çŠ¶æ€å­—</td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;">å¤„ç†æœºå ç”¨æ—¶æœº</td><td style="text-align: center;">é¼ æ ‡</td><td style="text-align: center;"></td></tr><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;">ä¿¡å·é‡ä½¿ç”¨</td><td style="text-align: center;"></td><td style="text-align: center;"></td></tr></tbody></table><ul><li><p>ç¨‹åºæ®µï¼š</p><p>â€‹ ç¨‹åºæ®µå°±æ˜¯èƒ½è¢«è¿›ç¨‹è°ƒåº¦ç¨‹åºè°ƒåº¦åˆ° CPUæ‰§è¡Œçš„ç¨‹åºä»£ç æ®µã€‚æ³¨æ„ï¼Œ<strong>ç¨‹åºå¯è¢«å¤šä¸ªè¿›ç¨‹å…±äº«</strong>ï¼Œå³å¤šä¸ªè¿›ç¨‹å¯ä»¥è¿è¡ŒåŒä¸€ä¸ªç¨‹åºã€‚</p></li><li><p>æ•°æ®æ®µï¼š</p><p>â€‹ä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®æ®µï¼Œå¯ä»¥æ˜¯è¿›ç¨‹å¯¹åº”çš„ç¨‹åºåŠ å·¥å¤„ç†çš„åŸå§‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¨‹åºæ‰§è¡Œæ—¶äº§ç”Ÿçš„ä¸­é—´æˆ–æœ€ç»ˆç»“æœã€‚</p></li></ul><h3 id="è¿›ç¨‹é—´é€šä¿¡">è¿›ç¨‹é—´é€šä¿¡</h3><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹</p><p>è¿›ç¨‹é€šä¿¡æ˜¯æŒ‡è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ã€‚<span class="math inline">\(PV\)</span>æ“ä½œæ˜¯ä½çº§é€šä¿¡æ–¹å¼ï¼Œé«˜çº§é€šä¿¡æ–¹å¼æ˜¯æŒ‡ä»¥<strong>è¾ƒé«˜çš„æ•ˆç‡</strong>ä¼ è¾“å¤§é‡æ•°æ®çš„é€šä¿¡æ–¹å¼ã€‚</p></blockquote><p>é«˜çº§é€šä¿¡æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç±»:</p><ul><li><p>å…±äº«å­˜å‚¨ï¼š</p><ul><li><p>åœ¨é€šä¿¡çš„è¿›ç¨‹ä¹‹é—´å­˜åœ¨ä¸€å—å¯ç›´æ¥è®¿é—®çš„<strong>å…±äº«ç©ºé—´</strong>ï¼Œé€šè¿‡å¯¹è¿™ç‰‡å…±äº«ç©ºé—´è¿›è¡Œå†™/è¯»æ“ä½œå®ç°è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ã€‚</p></li><li><p>åœ¨å¯¹å…±äº«ç©ºé—´è¿›è¡Œå†™/è¯»æ“ä½œæ—¶ï¼Œéœ€è¦ä½¿ç”¨<strong>åŒæ­¥äº’æ–¥å·¥å…·</strong>ï¼ˆå¦‚<span class="math inline">\(P\)</span> æ“ä½œã€<span class="math inline">\(V\)</span>æ“ä½œï¼‰ï¼Œå¯¹å…±äº«ç©ºé—´çš„å†™/è¯»è¿›è¡Œæ§åˆ¶ã€‚</p></li><li><p>å…±äº«å­˜å‚¨åˆåˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>ä½çº§æ–¹å¼çš„å…±äº«æ˜¯åŸºäº<strong>æ•°æ®ç»“æ„</strong>çš„å…±äº«ã€‚</li><li>é«˜çº§æ–¹å¼çš„å…±äº«åˆ™æ˜¯åŸºäº<strong>å­˜å‚¨åŒº</strong>çš„å…±äº«ã€‚</li></ul></li><li><p>æ“ä½œç³»ç»Ÿåªè´Ÿè´£ä¸ºé€šä¿¡è¿›ç¨‹æä¾›å¯å…±äº«ä½¿ç”¨çš„<strong>å­˜å‚¨ç©ºé—´å’ŒåŒæ­¥äº’æ–¥å·¥å…·</strong>ï¼Œè€Œæ•°æ®äº¤æ¢åˆ™ç”±ç”¨æˆ·è‡ªå·±å®‰æ’è¯»/å†™æŒ‡ä»¤å®Œæˆã€‚</p><blockquote><p>æ³¨æ„ï¼Œç”¨æˆ·è¿›ç¨‹ç©ºé—´ä¸€èˆ¬éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œè¿›ç¨‹è¿è¡ŒæœŸé—´ä¸€èˆ¬ä¸èƒ½è®¿é—®å…¶ä»–è¿›ç¨‹çš„ç©ºé—´ï¼Œåªèƒ½é€šè¿‡å…±äº«ç©ºé—´é—´æ¥è®¿é—®ï¼Œ<strong>ä¸èƒ½é€šè¿‡å…¨å±€å˜é‡å…±äº«</strong>ã€‚</p><p>è¦æƒ³è®©ä¸¤ä¸ªç”¨æˆ·è¿›ç¨‹å…±äº«ç©ºé—´ï¼Œå¿…é¡»é€šè¿‡ç‰¹æ®Šçš„ç³»ç»Ÿè°ƒç”¨å®ç°ï¼Œè€Œè¿›ç¨‹å†…çš„çº¿ç¨‹æ˜¯è‡ªç„¶å…±äº«è¿›ç¨‹ç©ºé—´çš„ã€‚</p></blockquote></li></ul></li><li><p>æ¶ˆæ¯ä¼ é€’ï¼š</p><ul><li><p>åœ¨æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹é—´çš„æ•°æ®äº¤æ¢æ˜¯ä»¥<strong>æ ¼å¼åŒ–çš„æ¶ˆæ¯ï¼ˆMessageï¼‰ä¸ºå•ä½</strong>çš„ã€‚</p></li><li><p>è‹¥é€šä¿¡çš„è¿›ç¨‹ä¹‹é—´ä¸å­˜åœ¨å¯ç›´æ¥è®¿é—®çš„å…±äº«ç©ºé—´ï¼Œåˆ™å¿…é¡»åˆ©ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¶ˆæ¯ä¼ é€’æ–¹æ³•å®ç°è¿›ç¨‹é€šä¿¡ã€‚</p></li><li><p>è¿›ç¨‹é€šè¿‡ç³»ç»Ÿæä¾›çš„<strong>å‘é€æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ä¸¤ä¸ªåŸè¯­</strong>è¿›è¡Œæ•°æ®äº¤æ¢ã€‚</p></li><li><p>æœ‰ä¸¤ç§é€šä¿¡æ–¹å¼ï¼š</p><ul><li><p>ç›´æ¥é€šä¿¡æ–¹å¼ï¼š</p><p>â€‹å‘é€è¿›ç¨‹ç›´æ¥æŠŠæ¶ˆæ¯å‘é€ç»™æ¥æ”¶è¿›ç¨‹ï¼Œå¹¶å°†å®ƒæŒ‚åœ¨æ¥æ”¶è¿›ç¨‹çš„<strong>æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—</strong>ä¸Šï¼Œæ¥æ”¶è¿›ç¨‹ä»æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—ä¸­å–å¾—æ¶ˆæ¯ã€‚</p></li><li><p>é—´æ¥é€šä¿¡æ–¹å¼ï¼š</p><p>â€‹å‘é€è¿›ç¨‹æŠŠæ¶ˆæ¯å‘é€åˆ°æŸä¸ª<strong>ä¸­é—´å®ä½“</strong>ï¼Œæ¥æ”¶è¿›ç¨‹ä»ä¸­é—´å®ä½“å–å¾—æ¶ˆæ¯ã€‚</p><blockquote><p>è¿™ç§ä¸­é—´å®ä½“ä¸€èˆ¬ç§°ä¸ºä¿¡ç®±ï¼Œè¿™ç§é€šä¿¡æ–¹å¼åˆç§°ä¿¡ç®±é€šä¿¡æ–¹å¼ã€‚è¯¥é€šä¿¡æ–¹å¼å¹¿æ³›åº”ç”¨äºè®¡ç®—æœºç½‘ç»œï¼Œç›¸åº”çš„é€šä¿¡ç³»ç»Ÿç§°ä¸ºç”µå­é‚®ä»¶ç³»ç»Ÿã€‚</p></blockquote></li></ul></li></ul></li><li><p>ç®¡é“é€šä¿¡ï¼š</p><ul><li><p>æ‰€è°“ã€Œ<strong>ç®¡é“</strong>ã€ï¼Œæ˜¯æŒ‡ç”¨äºè¿æ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä»¥å®ç°å®ƒä»¬ä¹‹é—´çš„é€šä¿¡çš„ä¸€ä¸ª<strong>å…±äº«æ–‡ä»¶</strong>ï¼Œåˆåpipe æ–‡ä»¶ã€‚</p></li><li><p>å‘ç®¡é“ï¼ˆå…±äº«æ–‡ä»¶ï¼‰æä¾›è¾“å…¥çš„å‘é€è¿›ç¨‹ï¼ˆå³å†™è¿›ç¨‹ï¼‰ï¼Œä»¥å­—ç¬¦æµå½¢å¼å°†å¤§é‡çš„æ•°æ®é€å…¥ï¼ˆå†™ï¼‰ç®¡é“ã€‚</p></li><li><p>è€Œæ¥æ”¶ç®¡é“è¾“å‡ºçš„æ¥æ”¶è¿›ç¨‹ï¼ˆå³è¯»è¿›ç¨‹ï¼‰åˆ™ä»ç®¡é“ä¸­æ¥æ”¶ï¼ˆè¯»ï¼‰æ•°æ®ã€‚</p></li><li><p>ä¸ºäº†åè°ƒåŒæ–¹çš„é€šä¿¡ï¼Œç®¡é“æœºåˆ¶å¿…é¡»æä¾›ä»¥ä¸‹ä¸‰æ–¹é¢çš„åè°ƒèƒ½åŠ›ï¼š</p><ul><li><p><strong>äº’æ–¥</strong>ï¼š</p><p>â€‹ ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨å¯¹ pipe è¿›è¡Œè¯»/å†™æ“ä½œæ—¶ï¼Œå¦ä¸€è¿›ç¨‹å¿…é¡»ç­‰å¾…ã€‚</p></li><li><p><strong>åŒæ­¥</strong>ï¼š</p><ul><li>å½“å†™ï¼ˆè¾“å…¥ï¼‰è¿›ç¨‹æŠŠä¸€å®šæ•°é‡çš„æ•°æ®å†™å…¥ pipeåï¼Œä¾¿å»ç¡çœ ç­‰å¾…ï¼Œç›´åˆ°è¯»ï¼ˆè¾“å‡ºï¼‰è¿›ç¨‹å–èµ°æ•°æ®å°†å…¶å”¤é†’ã€‚</li><li>å½“è¯»è¿›ç¨‹è¯»ä¸€ç©ºpipeï¼Œä¹Ÿåº”ç¡çœ ç­‰å¾…ï¼Œç›´è‡³å†™è¿›ç¨‹å°†æ•°æ®å†™å…¥ç®¡é“ï¼Œæ‰å°†å…¶å”¤é†’ã€‚</li></ul></li><li><p><strong>ç¡®å®šå¯¹æ–¹çš„å­˜åœ¨</strong>ï¼š</p><p>â€‹åªæœ‰ç¡®å®šå¯¹æ–¹å·²å­˜åœ¨æ—¶ï¼Œæ‰èƒ½è¿›è¡Œç®¡é“é€šä¿¡ï¼Œå¦åˆ™ä¼šé€ æˆå› å¯¹æ–¹ä¸å­˜åœ¨è€Œæ— é™æœŸç­‰å¾…ã€‚</p></li></ul></li><li><p>ä»æœ¬è´¨ä¸Šè¯´ï¼Œç®¡é“ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ï¼Œä½†å®ƒåˆå’Œä¸€èˆ¬çš„æ–‡ä»¶æœ‰æ‰€ä¸åŒï¼Œç®¡é“å¯ä»¥å…‹æœä½¿ç”¨æ–‡ä»¶è¿›è¡Œé€šä¿¡çš„ä¸¤ä¸ªé—®é¢˜ï¼Œå…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š</p><ul><li><p>é™åˆ¶ç®¡é“çš„å¤§å°ï¼š</p><ul><li>å®é™…ä¸Šï¼Œç®¡é“æ˜¯ä¸€ä¸ª<strong>å›ºå®šå¤§å°çš„ç¼“å†²åŒº</strong>ï¼Œåœ¨ Linuxä¸­ï¼Œè¯¥ç¼“å†²åŒºçš„å¤§å°ä¸º <span class="math inline">\(4\rm~KB\)</span>ï¼Œè¿™ä½¿å¾—å®ƒçš„å¤§å°ä¸åƒæ–‡ä»¶é‚£æ ·ä¸åŠ æ£€éªŒåœ°å¢é•¿ã€‚</li><li>ä½¿ç”¨å•ä¸ªå›ºå®šç¼“å†²åŒºä¹Ÿä¼šå¸¦æ¥é—®é¢˜ï¼Œæ¯”å¦‚åœ¨å†™ç®¡é“æ—¶å¯èƒ½å˜æ»¡ã€‚</li><li>è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œéšåå¯¹ç®¡é“çš„ <code>write()</code>è°ƒç”¨å°†é»˜è®¤åœ°è¢«<strong>é˜»å¡</strong>ï¼Œç­‰å¾…æŸäº›æ•°æ®è¢«è¯»å–ï¼Œä»¥ä¾¿è…¾å‡ºè¶³å¤Ÿçš„ç©ºé—´ä¾›<code>write()</code> è°ƒç”¨å†™ã€‚</li></ul></li><li><p>è¯»è¿›ç¨‹ä¹Ÿå¯èƒ½å·¥ä½œå¾—æ¯”å†™è¿›ç¨‹å¿«ï¼š</p><ul><li>å½“æ‰€æœ‰å½“å‰è¿›ç¨‹æ•°æ®å·²è¢«è¯»å–æ—¶ï¼Œç®¡é“å˜ç©ºã€‚</li><li>è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œä¸€ä¸ªéšåçš„ <code>read()</code>è°ƒç”¨å°†é»˜è®¤åœ°è¢«é˜»å¡ï¼Œç­‰å¾…æŸäº›æ•°æ®è¢«å†™å…¥ï¼Œè¿™è§£å†³äº† <code>read()</code>è°ƒç”¨è¿”å›æ–‡ä»¶ç»“æŸçš„é—®é¢˜ã€‚</li></ul><blockquote><p>ä»ç®¡é“è¯»æ•°æ®æ˜¯ä¸€æ¬¡æ€§æ“ä½œï¼Œæ•°æ®ä¸€æ—¦è¢«è¯»å–ï¼Œå®ƒå°±ä»ç®¡é“ä¸­è¢«æŠ›å¼ƒï¼Œé‡Šæ”¾ç©ºé—´ä»¥ä¾¿å†™æ›´å¤šçš„æ•°æ®ã€‚</p><p>ç®¡é“åªèƒ½é‡‡ç”¨<strong>åŠåŒå·¥é€šä¿¡</strong>ï¼Œå³æŸä¸€æ—¶åˆ»åªèƒ½å•å‘ä¼ è¾“ï¼Œã€ŒåŒå‘æ•°æ®ä¼ è¾“ã€æ˜¯é”™è¯¯çš„è¯´æ³•ã€‚è¦å®ç°çˆ¶å­è¿›ç¨‹åŒæ–¹äº’åŠ¨é€šä¿¡ï¼Œéœ€è¦å®šä¹‰ä¸¤ä¸ªç®¡é“ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211211224246093.png"></div></blockquote></li></ul></li></ul></li></ul><h3 id="å¼‚å¸¸æ§åˆ¶æµ">å¼‚å¸¸æ§åˆ¶æµ</h3><blockquote><p>æ•´ç†è‡ª PPT å’Œ CSAPPï¼Œä»¥ CSAPP çš„é¡ºåºæè¿°</p></blockquote><h4 id="å¼‚å¸¸æ§åˆ¶æµæ¦‚å¿µ">å¼‚å¸¸æ§åˆ¶æµæ¦‚å¿µ</h4><ul><li><p>æ§åˆ¶æµå®šä¹‰ï¼š</p><p>â€‹ ä»å¼€æœºåˆ°ç»“æŸè¿è¡Œï¼Œ<strong>ä¸€ä¸ª</strong> CPUæ‰€ä½œçš„ä»…ä»…æ˜¯è¯»å–å¹¶ä¸”æ‰§è¡Œï¼ˆæˆ–è€…è¯´æ˜¯è§£é‡Šï¼‰<strong>ä¸€è¿ä¸²çš„æŒ‡ä»¤</strong>ï¼Œåœ¨æŸä¸ªæ—¶åˆ»åªä¼š<strong>è¿è¡Œä¸€æ¡æŒ‡ä»¤</strong>ï¼Œè¿™æ ·ä¸€ä¸ªæŒ‡ä»¤çš„è¿è¡Œåºåˆ—å°±æ˜¯CPU çš„<strong>æ§åˆ¶æµ</strong>ã€‚</p></li><li><p>å¼‚å¸¸æ§åˆ¶æµå®šä¹‰ï¼š</p><p>â€‹ç°ä»£ç³»ç»Ÿé€šè¿‡ä½¿æ§åˆ¶æµå‘ç”Ÿçªå˜æ¥å¯¹è¿™äº›æƒ…å†µåšå‡ºååº”ï¼Œè¿™äº›çªå˜ç§°ä¸º<strong>å¼‚å¸¸æ§åˆ¶æµ</strong>ï¼ˆExceptionalControl Flowï¼ŒECFï¼‰ã€‚</p></li><li><p>å¼‚å¸¸å®šä¹‰ï¼š</p><ul><li>å¼‚å¸¸æ˜¯å¼‚å¸¸æ§åˆ¶æµçš„ä¸€ç§<strong>å½¢å¼</strong>ï¼Œå®ƒä¸€éƒ¨åˆ†ç”±<strong>ç¡¬ä»¶</strong>å®ç°ï¼Œä¸€éƒ¨åˆ†ç”±<strong>æ“ä½œç³»ç»Ÿ</strong>å®ç°ã€‚</li><li>å¼‚å¸¸å“åº”æŸäº›äº‹ä»¶ï¼ˆå³å¤„ç†å™¨çŠ¶æ€æ›´æ”¹ï¼‰ï¼Œè¿›è€Œå°†æ§åˆ¶æƒè½¬ç§»åˆ° <strong>OSå†…æ ¸</strong>ã€‚</li></ul></li><li><p>å¼‚å¸¸å¤„ç†ï¼š</p><ul><li><p>ç³»ç»Ÿä¸­å¯èƒ½çš„æ¯ç§ç±»å‹çš„å¼‚å¸¸éƒ½åˆ†é…äº†ä¸€ä¸ª<strong>å”¯ä¸€çš„éè´Ÿæ•´æ•°çš„å¼‚å¸¸å·</strong>ï¼š</p><ul><li><p>ç”±<strong>å¤„ç†å™¨çš„è®¾è®¡è€…</strong>åˆ†é…çš„å·ç ï¼š</p><p>â€‹ åŒ…æ‹¬è¢«é›¶é™¤ã€ç¼ºé¡µã€å†…å­˜è®¿é—®è¿ä¾‹ã€æ–­ç‚¹ä»¥åŠç®—æœ¯è¿ç®—æº¢å‡ºã€‚</p></li><li><p>ç”±<strong>æ“ä½œç³»ç»Ÿå†…æ ¸</strong>ï¼ˆæ“ä½œç³»ç»Ÿå¸¸é©»å†…å­˜çš„éƒ¨åˆ†ï¼‰çš„<strong>è®¾è®¡è€…</strong>åˆ†é…çš„å·ç ï¼š</p><p>â€‹ åŒ…æ‹¬<strong>ç³»ç»Ÿè°ƒç”¨</strong>å’Œæ¥è‡ªå¤–éƒ¨ I/O è®¾å¤‡çš„ä¿¡å·ã€‚</p></li></ul></li><li><p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œå½“å¤„ç†å™¨æ£€æµ‹åˆ°æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå®ƒå°±ä¼šé€šè¿‡ä¸€å¼ å«åš<strong>å¼‚å¸¸è¡¨</strong>çš„è·³è½¬è¡¨ï¼Œè¿›è¡Œä¸€ä¸ªé—´æ¥è¿‡ç¨‹è°ƒç”¨ï¼ˆå¼‚å¸¸ï¼‰ï¼Œåˆ°ä¸€ä¸ªä¸“é—¨è®¾è®¡ç”¨æ¥å¤„ç†è¿™ç±»äº‹ä»¶çš„æ“ä½œç³»ç»Ÿå­ç¨‹åºï¼ˆ<strong>å¼‚å¸¸å¤„ç†ç¨‹åº</strong>ï¼‰ï¼Œå½“å¼‚å¸¸å¤„ç†ç¨‹åºå®Œæˆå¤„ç†åï¼Œæ ¹æ®å¼•èµ·å¼‚å¸¸çš„äº‹ä»¶çš„ç±»å‹ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹<span class="math inline">\(3\)</span> ç§æƒ…å†µä¸­çš„ä¸€ç§ï¼š</p><ul><li>å¤„ç†ç¨‹åºå°†æ§åˆ¶è¿”å›ç»™å½“å‰æŒ‡ä»¤ <span class="math inline">\(I_{curr}\)</span>ï¼Œå³å½“äº‹ä»¶å‘ç”Ÿæ—¶<strong>æ­£åœ¨æ‰§è¡Œ</strong>çš„æŒ‡ä»¤ã€‚</li><li>å¤„ç†ç¨‹åºå°†æ§åˆ¶è¿”å›ç»™ <span class="math inline">\(I_{next}\)</span>ï¼Œå³å¦‚æœæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸å°†ä¼šæ‰§è¡Œçš„<strong>ä¸‹ä¸€æ¡</strong>æŒ‡ä»¤ã€‚</li><li>å¤„ç†ç¨‹åº<strong>ç»ˆæ­¢</strong>è¢«ä¸­æ–­çš„ç¨‹åºã€‚</li></ul></li><li><p>å¼‚å¸¸ç±»ä¼¼äºè¿‡ç¨‹è°ƒç”¨ï¼Œä½†æ˜¯æœ‰ä¸€äº›é‡è¦çš„ä¸åŒä¹‹å¤„ï¼š</p><ul><li><p>å…¥æ ˆå†…å®¹ä¸åŒï¼š</p><ul><li>è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œåœ¨è·³è½¬åˆ°å¤„ç†ç¨‹åºä¹‹å‰ï¼Œå¤„ç†å™¨å°†è¿”å›åœ°å€å‹å…¥æ ˆä¸­ã€‚</li><li>æ ¹æ®å¼‚å¸¸çš„ç±»å‹ï¼Œè¿”å›åœ°å€è¦ä¹ˆæ˜¯å½“å‰æŒ‡ä»¤ï¼Œè¦ä¹ˆæ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</li><li>å¤„ç†å™¨ä¹ŸæŠŠä¸€äº›é¢å¤–çš„<strong>å¤„ç†å™¨çŠ¶æ€</strong>å‹åˆ°æ ˆé‡Œï¼Œåœ¨å¤„ç†ç¨‹åºè¿”å›æ—¶ï¼Œé‡æ–°å¼€å§‹æ‰§è¡Œè¢«ä¸­æ–­çš„ç¨‹åºä¼šéœ€è¦è¿™äº›çŠ¶æ€ã€‚</li></ul></li><li><p>å…¥çš„æ ˆä¸åŒï¼š</p><p>â€‹å¦‚æœæ§åˆ¶ä»ç”¨æˆ·ç¨‹åºè½¬ç§»åˆ°å†…æ ¸ï¼Œæ‰€æœ‰è¿™äº›é¡¹ç›®éƒ½è¢«å‹åˆ°<strong>å†…æ ¸æ ˆ</strong>ä¸­ï¼Œè€Œä¸æ˜¯å‹åˆ°ç”¨æˆ·æ ˆä¸­ã€‚</p></li><li><p>æƒé™ä¸åŒï¼š</p><p>â€‹å¼‚å¸¸å¤„ç†ç¨‹åºè¿è¡Œåœ¨å†…æ ¸æ¨¡å¼ä¸‹ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯¹æ‰€æœ‰çš„ç³»ç»Ÿèµ„æºéƒ½æœ‰å®Œå…¨çš„è®¿é—®æƒé™ã€‚</p></li></ul></li></ul></li><li><p>å¼‚å¸¸ç±»åˆ«ï¼š</p><ul><li>å±æ€§æ¦‚æ‹¬ï¼š</li></ul></li></ul><table><thead><tr class="header"><th style="text-align: center;">ç±»åˆ«</th><th style="text-align: center;">åŸå› </th><th style="text-align: center;">å¼‚æ­¥/åŒæ­¥</th><th style="text-align: center;">è¿”å›è¡Œä¸º</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">ä¸­æ–­ï¼ˆInterruptï¼‰</td><td style="text-align: center;">æ¥è‡ª I/O è®¾å¤‡çš„ä¿¡å·</td><td style="text-align: center;">å¼‚æ­¥</td><td style="text-align: center;">æ€»æ˜¯è¿”å›åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤</td></tr><tr class="even"><td style="text-align: center;">é™·é˜±ï¼ˆTrapï¼‰</td><td style="text-align: center;">æœ‰æ„çš„å¼‚å¸¸</td><td style="text-align: center;">åŒæ­¥</td><td style="text-align: center;">æ€»æ˜¯è¿”å›åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤</td></tr><tr class="odd"><td style="text-align: center;">æ•…éšœï¼ˆFaultï¼‰</td><td style="text-align: center;">æ½œåœ¨çš„å¯æ¢å¤çš„é”™è¯¯</td><td style="text-align: center;">åŒæ­¥</td><td style="text-align: center;">è¿”å›åˆ°å½“å‰æŒ‡ä»¤æˆ–ç»ˆæ­¢</td></tr><tr class="even"><td style="text-align: center;">ç»ˆæ­¢ï¼ˆAbortï¼‰</td><td style="text-align: center;">ä¸å¯æ¢å¤çš„é”™è¯¯</td><td style="text-align: center;">åŒæ­¥</td><td style="text-align: center;">ä¸ä¼šè¿”å›</td></tr></tbody></table><ul><li><p>ä¸­æ–­ï¼š</p><ul><li><p>ä¸­æ–­æ˜¯<strong>å¼‚æ­¥</strong>å‘ç”Ÿçš„ï¼Œæ˜¯æ¥è‡ªå¤„ç†å™¨å¤–éƒ¨çš„ I/Oè®¾å¤‡çš„ä¿¡å·çš„ç»“æœã€‚</p></li><li><p>ç¡¬ä»¶ä¸­æ–­<strong>ä¸æ˜¯ç”±ä»»ä½•ä¸€æ¡ä¸“é—¨çš„æŒ‡ä»¤</strong>é€ æˆçš„ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´å®ƒæ˜¯å¼‚æ­¥çš„ã€‚</p></li><li><p>ç¡¬ä»¶ä¸­æ–­çš„å¼‚å¸¸å¤„ç†ç¨‹åºå¸¸å¸¸ç§°ä¸º<strong>ä¸­æ–­å¤„ç†ç¨‹åº</strong>ã€‚</p></li><li><p>é€šè¿‡è®¾ç½® CPU çš„<strong>ä¸­æ–­å¼•è„š</strong>æ¥è§¦å‘ã€‚</p><blockquote><p>å…¶ä»–ä¸‰ç±»åŒæ­¥å¼‚å¸¸ä¹Ÿå«æ•…éšœæŒ‡ä»¤ã€‚</p></blockquote></li></ul></li><li><p>é™·é˜±ï¼š</p><ul><li>é™·é˜±æ˜¯<strong>æœ‰æ„çš„</strong>å¼‚å¸¸ï¼Œæ˜¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„ç»“æœã€‚</li><li>å°±åƒä¸­æ–­å¤„ç†ç¨‹åºä¸€æ ·ï¼Œé™·é˜±å¤„ç†ç¨‹åºå°†æ§åˆ¶è¿”å›åˆ°<strong>ä¸‹ä¸€æ¡æŒ‡ä»¤</strong>ã€‚</li><li>é™·é˜±æœ€é‡è¦çš„ç”¨é€”æ˜¯åœ¨<strong>ç”¨æˆ·ç¨‹åºå’Œå†…æ ¸</strong>ä¹‹é—´æä¾›ä¸€ä¸ªåƒè¿‡ç¨‹ä¸€æ ·çš„<strong>æ¥å£</strong>ï¼Œå«åš<strong>ç³»ç»Ÿè°ƒç”¨</strong>ã€‚</li><li>ç³»ç»Ÿè°ƒç”¨è¿è¡Œåœ¨å†…æ ¸æ¨¡å¼ä¸­ï¼Œå†…æ ¸æ¨¡å¼å…è®¸ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼Œå¹¶è®¿é—®å®šä¹‰åœ¨å†…æ ¸ä¸­çš„æ ˆã€‚</li></ul></li><li><p>æ•…éšœï¼š</p><ul><li><p>æ•…éšœç”±é”™è¯¯æƒ…å†µå¼•èµ·ï¼Œå®ƒ<strong>å¯èƒ½</strong>èƒ½å¤Ÿè¢«æ•…éšœå¤„ç†ç¨‹åºä¿®æ­£ã€‚</p></li><li><p>å½“æ•…éšœå‘ç”Ÿæ—¶ï¼Œå¤„ç†å™¨å°†æ§åˆ¶è½¬ç§»ç»™<strong>æ•…éšœå¤„ç†ç¨‹åº</strong>ã€‚</p></li><li><p>å¦‚æœå¤„ç†ç¨‹åºèƒ½å¤Ÿä¿®æ­£è¿™ä¸ªé”™è¯¯æƒ…å†µï¼Œå®ƒå°±å°†æ§åˆ¶è¿”å›åˆ°å¼•èµ·æ•…éšœçš„æŒ‡ä»¤ï¼Œä»è€Œ<strong>é‡æ–°æ‰§è¡Œ</strong>å®ƒã€‚</p></li><li><p>å¦åˆ™ï¼Œå¤„ç†ç¨‹åºè¿”å›åˆ°å†…æ ¸ä¸­çš„ abortä¾‹ç¨‹ï¼Œ<strong>ç»ˆæ­¢</strong>å¼•èµ·æ•…éšœçš„åº”ç”¨ç¨‹åºã€‚</p><blockquote><p><strong>ç¼ºé¡µ</strong>å’Œ<strong>æ— æ•ˆçš„å†…å­˜å¼•ç”¨</strong>ï¼ˆè¶Šç•Œï¼‰ä¼šå¼•å‘æ•…éšœã€‚</p></blockquote></li></ul></li><li><p>ç»ˆæ­¢ï¼š</p><p>â€‹ç»ˆæ­¢æ˜¯ä¸å¯æ¢å¤çš„è‡´å‘½é”™è¯¯é€ æˆçš„ç»“æœï¼Œé€šå¸¸æ˜¯ä¸€äº›<strong>ç¡¬ä»¶é”™è¯¯</strong>ã€‚</p></li></ul><h4 id="ä¿¡å·">ä¿¡å·</h4><ul><li><p>ä¿¡å·å®šä¹‰ï¼š</p><ul><li>ä¿¡å·æ˜¯<strong>å†…æ ¸</strong>å‘å‡ºçš„ä¸€ä¸ªæ¶ˆæ¯ï¼Œç”¨æ¥é€šçŸ¥è¿›ç¨‹ï¼Œç³»ç»Ÿä¸­å‘ç”Ÿäº†æŸç§ç±»å‹çš„äº‹ä»¶ã€‚</li><li>ä¿¡å·ä»<strong>å†…æ ¸å‘å¾€è¿›ç¨‹</strong>ï¼ˆæœ‰æ—¶ä¿¡å·çš„å‘é€æ˜¯ç”±å¦ä¸€ä¸ª<strong>è¿›ç¨‹å‘èµ·</strong>çš„ï¼‰ã€‚</li><li>æ¯ä¸€ç§ä¿¡å·éƒ½ç”¨ä¸€ä¸ªæ•´æ•° ID æ¥è¡¨ç¤ºã€‚</li><li>é€šå¸¸æƒ…å†µä¸‹åªæœ‰ä¿¡å· ID ä¼šè¢«å‘é€ç»™è¿›ç¨‹ã€‚</li><li>ä½¿ç”¨ä¿¡å·çš„ä¸¤ä¸ªä¸»è¦ç›®çš„ä¸ºï¼š<ul><li>é€šçŸ¥è¿›ç¨‹æŸç§ç‰¹æ®Šçš„äº‹ä»¶å‘ç”Ÿäº†ï¼ˆæ¯”å¦‚ä¸€äº›ä½å±‚çš„<strong>ç¡¬ä»¶å¼‚å¸¸</strong>ï¼‰ã€‚</li><li>è¿«ä½¿è¿›ç¨‹<strong>æ‰§è¡Œä¿¡å·å¤„ç†ç¨‹åº</strong>ã€‚</li></ul></li></ul></li><li><p>è¿›ç¨‹ç»„ï¼š</p><ul><li><p>æ¯ä¸ªè¿›ç¨‹éƒ½<strong>åªå±äºä¸€ä¸ªè¿›ç¨‹ç»„</strong>ï¼Œè¿›ç¨‹ç»„æ˜¯ç”±ä¸€ä¸ªæ­£æ•´æ•°è¿›ç¨‹ç»„ID æ¥æ ‡è¯†çš„ã€‚<code>getpgrp</code> å‡½æ•°è¿”å›å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ç»„ IDï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">pid_t</span> <span class="hljs-title">getpgrp</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">pid_t</span> <span class="hljs-title">getpgid</span><span class="hljs-params">(<span class="hljs-keyword">pid_t</span> pid)</span></span>; <span class="hljs-comment">/* è¿”å› ID ä¸º pid çš„è¿›ç¨‹çš„ç»„ ID */</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>é»˜è®¤å­è¿›ç¨‹å’Œå®ƒçš„<strong>çˆ¶è¿›ç¨‹</strong>åŒå±äºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡å®šè¿›ç¨‹çš„è¿›ç¨‹ç»„ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* å°†è¿›ç¨‹ pid çš„è¿›ç¨‹ç»„æ”¹ä¸º pgid,è‹¥æˆåŠŸåˆ™ä¸º 0,è‹¥é”™è¯¯åˆ™ä¸º -1 */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">setpgid</span> <span class="hljs-params">(<span class="hljs-keyword">pid_t</span> pidï¼Œ<span class="hljs-keyword">pid_t</span> pgid)</span></span><br><span class="hljs-function"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-function">* å¦‚æœ pid æ˜¯ 0,é‚£ä¹ˆå°±ä½¿ç”¨å½“å‰è°ƒç”¨è¿›ç¨‹çš„ PID</span></span><br><span class="hljs-comment"><span class="hljs-function">* å¦‚æœ pgid æ˜¯ 0,é‚£ä¹ˆå°±ç”¨ pid æŒ‡å®šçš„è¿›ç¨‹çš„ PID ä½œä¸ºè¿›ç¨‹ç»„ ID</span></span><br><span class="hljs-comment"><span class="hljs-function">* ä¾‹å¦‚ï¼š</span></span><br><span class="hljs-comment"><span class="hljs-function">* å¦‚æœå½“å‰è°ƒç”¨è¿›ç¨‹ PID ä¸º 15213,é‚£ä¹ˆ setpgid(0ï¼Œ0) ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„,</span></span><br><span class="hljs-comment"><span class="hljs-function">* å…¶è¿›ç¨‹ç»„çš„ ID æ˜¯ 15213,å¹¶ä¸”æŠŠè¿›ç¨‹ 15213 åŠ å…¥åˆ°è¿™ä¸ªæ–°çš„è¿›ç¨‹ç»„ä¸­ã€‚</span></span><br><span class="hljs-comment"><span class="hljs-function">*/</span></span><br></code></pre></td></tr></tbody></table></figure></li><li><p><code>kill</code> å‡½æ•°ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kill</span><span class="hljs-params">(<span class="hljs-keyword">pid_t</span> pidï¼Œ<span class="hljs-keyword">int</span> sig)</span></span><br><span class="hljs-function"><span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="hljs-function">* pid &gt; 0ï¼šå‘é€ä¿¡å· sig ç»™è¿›ç¨‹ pid </span></span><br><span class="hljs-comment"><span class="hljs-function">* pid = 0ï¼šå‘é€ä¿¡å· sig ç»™è°ƒç”¨è¿›ç¨‹çš„è¿›ç¨‹ç»„å†…çš„æ‰€æœ‰è¿›ç¨‹åŒ…æ‹¬å…¶è‡ªèº«</span></span><br><span class="hljs-comment"><span class="hljs-function">* pid &lt; 0ï¼šå‘é€ä¿¡å· sig ç»™è¿›ç¨‹ç»„ |pid| (pidçš„ç»å¯¹å€¼) å†…çš„æ‰€æœ‰è¿›ç¨‹</span></span><br><span class="hljs-comment"><span class="hljs-function">*/</span></span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ç”¨ <code>/bin/kill</code> ç¨‹åºå‘é€ä¿¡å·ï¼š</p><ul><li><code>/bin/kill</code> ç¨‹åºå¯ä»¥å‘å¦å¤–çš„è¿›ç¨‹å‘é€ä»»æ„çš„ä¿¡å·ã€‚</li><li>å‘½ä»¤ <code>linux&gt;/bin/kill -9 15213</code> å‘é€ä¿¡å·<code>9(SIGKILL)</code> ç»™è¿›ç¨‹ <code>15213</code>ã€‚</li><li>ä¸€ä¸ªä¸ºè´Ÿçš„ PID ä¼šå¯¼è‡´ä¿¡å·è¢«å‘é€åˆ°è¿›ç¨‹ç»„ PID ä¸­çš„æ¯ä¸ªè¿›ç¨‹ã€‚</li></ul></li></ul><blockquote><p>ä¼ é€ä¸€ä¸ªä¿¡å·åˆ°ç›®çš„è¿›ç¨‹æ˜¯ç”±å‘é€ä¿¡å·å’Œæ¥æ”¶ä¿¡å·å®Œæˆã€‚</p></blockquote></li><li><p><strong>å‘é€ä¿¡å·</strong>ï¼š</p><ul><li><p>å†…æ ¸é€šè¿‡æ›´æ–°ç›®çš„<strong>è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸ªçŠ¶æ€</strong>ï¼Œå‘é€ä¸€ä¸ªä¿¡å·ç»™ç›®çš„è¿›ç¨‹ã€‚</p></li><li><p>å‘é€ä¿¡å·å¯ä»¥æœ‰å¦‚ä¸‹ä¸¤ç§åŸå› ï¼š</p><ul><li>å†…æ ¸æ£€æµ‹åˆ°ä¸€ä¸ª<strong>ç³»ç»Ÿäº‹ä»¶</strong>ï¼Œæ¯”å¦‚é™¤é›¶é”™è¯¯æˆ–è€…å­è¿›ç¨‹ç»ˆæ­¢ã€‚</li><li>ä¸€ä¸ªè¿›ç¨‹è°ƒç”¨äº† <code>kill</code>å‡½æ•°ï¼Œæ˜¾å¼åœ°è¦æ±‚å†…æ ¸å‘é€ä¸€ä¸ªä¿¡å·ç»™ç›®çš„è¿›ç¨‹ã€‚</li></ul></li><li><p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å‘é€ä¿¡å·ç»™å®ƒ<strong>è‡ªå·±</strong>ã€‚</p></li></ul></li><li><p><strong>æ¥æ”¶ä¿¡å·</strong>ï¼š</p><ul><li><p>å½“ç›®çš„è¿›ç¨‹è¢«å†…æ ¸<strong>å¼ºè¿«</strong>ä»¥æŸç§æ–¹å¼å¯¹ä¿¡å·çš„å‘é€<strong>åšå‡ºååº”</strong>æ—¶ï¼Œå®ƒå°±æ¥æ”¶äº†ä¿¡å·ã€‚</p></li><li><p>å½“å†…æ ¸æŠŠ<strong>è¿›ç¨‹ <span class="math inline">\(p\)</span></strong>ä»<strong>å†…æ ¸æ¨¡å¼åˆ‡æ¢åˆ°ç”¨æˆ·æ¨¡å¼</strong>æ—¶ï¼ˆä¾‹å¦‚ï¼Œä»ç³»ç»Ÿè°ƒç”¨è¿”å›æˆ–æ˜¯å®Œæˆäº†ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ï¼Œå®ƒä¼šæ£€æŸ¥è¿›ç¨‹<span class="math inline">\(p\)</span>çš„<strong>æœªè¢«é˜»å¡çš„å¾…å¤„ç†ä¿¡å·</strong>çš„é›†åˆï¼ˆpending &amp;~blockedï¼‰ï¼š</p><ul><li>å¦‚æœè¿™ä¸ªé›†åˆ<strong>ä¸ºç©º</strong>ï¼ˆé€šå¸¸æƒ…å†µä¸‹ï¼‰ï¼Œé‚£ä¹ˆå†…æ ¸å°†æ§åˆ¶ä¼ é€’åˆ°è¿›ç¨‹<span class="math inline">\(p\)</span>çš„é€»è¾‘æ§åˆ¶æµä¸­çš„<strong>ä¸‹ä¸€æ¡æŒ‡ä»¤</strong> <span class="math inline">\(I_{next }\)</span>ã€‚</li><li>å¦‚æœé›†åˆæ˜¯<strong>éç©º</strong>çš„ï¼Œé‚£ä¹ˆå†…æ ¸é€‰æ‹©é›†åˆä¸­çš„æŸä¸ªä¿¡å·<span class="math inline">\(k\)</span>ï¼ˆé€šå¸¸æ˜¯æœ€å°çš„ <span class="math inline">\(k\)</span>ï¼‰ï¼Œå¹¶ä¸”å¼ºåˆ¶è¿›ç¨‹ <span class="math inline">\(p\)</span> æ¥æ”¶ä¿¡å· <span class="math inline">\(k\)</span>ï¼Œæ”¶åˆ°è¿™ä¸ªä¿¡å·ä¼šè§¦å‘è¿›ç¨‹é‡‡å–æŸç§è¡Œä¸ºã€‚</li><li>å®Œæˆè¿™ä¸€è¡Œä¸ºåå°†è¯¥ä½æ¸…é›¶ï¼Œç„¶åé‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°é›†åˆä¸ºç©ºï¼ŒæŠŠæ§åˆ¶ä¼ é€’å›<span class="math inline">\(p\)</span>çš„é€»è¾‘æ§åˆ¶æµä¸­çš„<strong>ä¸‹ä¸€æ¡</strong>æŒ‡ä»¤ <span class="math inline">\(I_{next }\)</span>ã€‚</li><li>æ¯ä¸ªä¿¡å·ç±»å‹éƒ½æœ‰ä¸€ä¸ªé¢„å®šä¹‰çš„é»˜è®¤è¡Œä¸ºï¼Œæ˜¯ä¸‹é¢ä¸­çš„ä¸€ç§:<ul><li>è¿›ç¨‹ç»ˆæ­¢ã€‚</li><li>è¿›ç¨‹ç»ˆæ­¢å¹¶<strong>è½¬å‚¨å†…å­˜</strong>ã€‚</li><li>è¿›ç¨‹<strong>åœæ­¢ï¼ˆæŒ‚èµ·ï¼‰</strong>ç›´åˆ°è¢« SIGCONT ä¿¡å·é‡å¯ã€‚</li><li>è¿›ç¨‹<strong>å¿½ç•¥</strong>è¯¥ä¿¡å·ã€‚</li></ul></li></ul></li><li><p>è®¾ç½®ä¿¡å·å¤„ç†ç¨‹åºï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">sighandler_t</span> <span class="hljs-title">signal</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signum, <span class="hljs-keyword">sighandler_t</span> handler)</span></span>;<br></code></pre></td></tr></tbody></table></figure><p><code>signal</code> å‡½æ•°å¯ä»¥é€šè¿‡ä¸‹åˆ—ä¸‰ç§æ–¹æ³•ä¹‹ä¸€æ¥æ”¹å˜å’Œä¿¡å·<code>signum</code> ç›¸å…³è”çš„è¡Œä¸ºï¼š</p><ul><li>å¦‚æœ <code>handler</code> æ˜¯ <code>SIG-IGN</code>ï¼Œé‚£ä¹ˆå¿½ç•¥ç±»å‹ä¸º<code>signum</code> çš„ä¿¡å·ã€‚</li><li>å¦‚æœ <code>handler</code> æ˜¯ <code>SIG-DFL</code>ï¼Œé‚£ä¹ˆç±»å‹ä¸º<code>signum</code> çš„ä¿¡å·è¡Œä¸ºæ¢å¤ä¸ºé»˜è®¤è¡Œä¸ºã€‚</li><li>å¦åˆ™ï¼Œ<code>handler</code>å°±æ˜¯ç”¨æˆ·å®šä¹‰çš„å‡½æ•°çš„åœ°å€ï¼Œè¿™ä¸ªå‡½æ•°è¢«ç§°ä¸ºä¿¡å·å¤„ç†ç¨‹åºï¼Œåªè¦è¿›ç¨‹æ¥æ”¶åˆ°ä¸€ä¸ªç±»å‹ä¸º<code>signum</code> çš„ä¿¡å·ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªç¨‹åºã€‚</li><li>å½“ä¸€ä¸ªè¿›ç¨‹æ•è·äº†ä¸€ä¸ªç±»å‹ä¸º <span class="math inline">\(k\)</span>çš„ä¿¡å·æ—¶ï¼Œä¼šè°ƒç”¨ä¸ºä¿¡å· <span class="math inline">\(k\)</span>è®¾ç½®çš„å¤„ç†ç¨‹åºã€‚</li></ul></li></ul></li><li><p>å¾…å¤„ç†ä¿¡å·ï¼š</p><ul><li>ä¸€ä¸ªå‘å‡ºè€Œæ²¡æœ‰è¢«æ¥æ”¶çš„ä¿¡å·å«åš<strong>å¾…å¤„ç†ä¿¡å·</strong>ã€‚</li><li>åœ¨ä»»ä½•æ—¶åˆ»ï¼Œ<strong>ä¸€ç§ç±»å‹è‡³å¤šåªä¼šæœ‰ä¸€ä¸ª</strong>å¾…å¤„ç†ä¿¡å·ã€‚</li><li>å¦‚æœä¸€ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ª<strong>ç±»å‹ä¸º <span class="math inline">\(k\)</span>çš„å¾…å¤„ç†ä¿¡å·</strong>ï¼Œé‚£ä¹ˆä»»ä½•æ¥ä¸‹æ¥å‘é€åˆ°è¿™ä¸ªè¿›ç¨‹çš„ç±»å‹ä¸º <span class="math inline">\(k\)</span>çš„ä¿¡å·<strong>éƒ½ä¸ä¼šæ’é˜Ÿç­‰å¾…</strong>ï¼Œè€Œæ˜¯è¢«ç®€å•åœ°ä¸¢å¼ƒã€‚</li></ul></li><li><p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥<strong>æœ‰é€‰æ‹©æ€§åœ°é˜»å¡</strong>æ¥æ”¶æŸç§ä¿¡å·ã€‚å½“ä¸€ç§ä¿¡å·è¢«é˜»å¡æ—¶ï¼Œå®ƒä»å¯ä»¥è¢«ä¼ é€ï¼Œä½†æ˜¯å®ƒä¸ä¼šè¢«æ¥æ”¶ï¼Œç›´åˆ°è¿›ç¨‹å–æ¶ˆå¯¹è¿™ç§ä¿¡å·çš„é˜»å¡ã€‚</p><ul><li>ä¸€ä¸ªå¾…å¤„ç†ä¿¡å·æœ€å¤šåªèƒ½è¢«æ¥æ”¶ä¸€æ¬¡ã€‚</li><li>å†…æ ¸ä¸ºæ¯ä¸ªè¿›ç¨‹åœ¨ pending<strong>æŒ‚èµ·ä½å‘é‡</strong>ä¸­ç»´æŠ¤ç€<strong>å¾…å¤„ç†ä¿¡å·</strong>çš„é›†åˆï¼Œè€Œåœ¨blocked<strong>é˜»å¡ä½å‘é‡</strong>ä¸­ç»´æŠ¤ç€è¢«<strong>é˜»å¡</strong>çš„ä¿¡å·é›†åˆã€‚</li><li>åªè¦<strong>ä¼ é€</strong>äº†ä¸€ä¸ªç±»å‹ä¸º <span class="math inline">\(k\)</span> çš„ä¿¡å·ï¼Œå†…æ ¸å°±ä¼š<strong>è®¾ç½®</strong>pending ä¸­çš„ç¬¬ <span class="math inline">\(k\)</span> ä½ã€‚</li><li>åªè¦<strong>æ¥æ”¶</strong>äº†ä¸€ä¸ªç±»å‹ä¸º <span class="math inline">\(k\)</span> çš„ä¿¡å·ï¼Œå†…æ ¸å°±ä¼š<strong>æ¸…é™¤</strong>pending ä¸­çš„ç¬¬ <span class="math inline">\(k\)</span> ä½ã€‚</li></ul></li><li><p>é˜»å¡ä¿¡å·ï¼š</p><ul><li><p><strong>éšå¼</strong>é˜»å¡æœºåˆ¶ï¼š</p><p>â€‹å†…æ ¸é»˜è®¤é˜»å¡ä»»ä½•å½“å‰å¤„ç†ç¨‹åº<strong>æ­£åœ¨å¤„ç†ä¿¡å·ç±»å‹</strong>çš„å¾…å¤„ç†çš„ä¿¡å·ã€‚</p></li><li><p><strong>æ˜¾å¼</strong>é˜»å¡æœºåˆ¶ï¼š</p><p>â€‹ åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ <code>sigprocmask</code>å‡½æ•°å’Œå®ƒçš„è¾…åŠ©å‡½æ•°ï¼Œæ˜ç¡®åœ°é˜»å¡å’Œè§£é™¤é˜»å¡é€‰å®šçš„ä¿¡å·ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* sigset_t ç±»å‹å…¶å®æ˜¯å’Œ pending å’Œ blocked ç›¸åŒçš„ä½å‘é‡ï¼Œæ¯ä¸€ä½è¡¨ç¤ºä¸€ä¸ªä¿¡å· */</span><br><span class="hljs-comment">/* å¦‚æœæˆåŠŸåˆ™ä¸º 0ï¼Œè‹¥å‡ºé”™åˆ™ä¸º -1 */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigemptyset</span><span class="hljs-params">(<span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>)</span></span>;  <span class="hljs-comment">/* åˆå§‹åŒ– set ä¸ºç©ºé›†åˆ */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigfillset</span><span class="hljs-params">(<span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>)</span></span>;  <span class="hljs-comment">/* æŠŠæ¯ä¸ªä¿¡å·éƒ½æ·»åŠ åˆ° set ä¸­ */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigaddset</span><span class="hljs-params">(<span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>, <span class="hljs-keyword">int</span> signum)</span></span>; <span class="hljs-comment">/* æŠŠæŒ‡å®šçš„ä¿¡å· signum æ·»åŠ åˆ° e */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigdelset</span><span class="hljs-params">(<span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>, <span class="hljs-keyword">int</span> signum)</span></span>; <span class="hljs-comment">/* ä» set ä¸­åˆ é™¤æŒ‡å®šçš„ä¿¡å· signum */</span><br><br><span class="hljs-comment">/* </span><br><span class="hljs-comment">*  å¦‚æœ how = SIG_BLOCK,åˆ™è¡¨ç¤ºå°† set ä¸­çš„ä¿¡å·å…¨éƒ¨æ·»åŠ åˆ° blocked ä¸­,å³é˜»å¡ set ä¸­çš„å…¨éƒ¨ä¿¡å· </span><br><span class="hljs-comment">*  å°† blocked ä½å‘é‡ä¹‹å‰çš„å€¼ä¿å­˜åœ¨ oldset ä¸­,é€šè¿‡ sigprocmask(SIG_SETMASK, &amp;oldset, NULL); è¿˜åŸ</span><br><span class="hljs-comment">*/</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigprocmask</span><span class="hljs-params">(<span class="hljs-keyword">int</span> how, <span class="hljs-keyword">const</span> <span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>, <span class="hljs-keyword">sigset_t</span> *oldset)</span></span>;  <br><br><br><span class="hljs-comment">/* è‹¥ signum æ˜¯ set çš„æˆå‘˜åˆ™ä¸º 1ï¼Œå¦‚æœä¸æ˜¯åˆ™ä¸º 0ï¼Œè‹¥å‡ºé”™åˆ™ä¸º -1 */</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sigismember</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">sigset_t</span> *<span class="hljs-built_in">set</span>, <span class="hljs-keyword">int</span> signum)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul><h4 id="ç¼–å†™ä¿¡å·å¤„ç†è¦æ³¨æ„çš„é—®é¢˜">ç¼–å†™ä¿¡å·å¤„ç†è¦æ³¨æ„çš„é—®é¢˜</h4><blockquote><p>å­˜åœ¨çš„é—®é¢˜ï¼š</p><p>â€‹ä¿¡å·å¤„ç†ç¨‹åºä¸ä¸»ç¨‹åº<strong>å¹¶å‘</strong>è¿è¡Œï¼Œå…±äº«åŒæ ·çš„å…¨å±€å˜é‡ï¼Œå› æ­¤å¯èƒ½ä¸ä¸»ç¨‹åºå’Œå…¶ä»–å¤„ç†ç¨‹åºäº’ç›¸å¹²æ‰°ã€‚</p></blockquote><ul><li><p><strong>å®‰å…¨çš„ä¿¡å·å¤„ç†</strong>ï¼š</p><ul><li><p><span class="math inline">\(G0\)</span>ï¼š</p><p>â€‹ å¤„ç†ç¨‹åºå°½å¯èƒ½åœ°<strong>ç®€å•</strong>ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼š</p><ul><li>å¤„ç†ç¨‹åºå¯èƒ½åªæ˜¯ç®€å•åœ°è®¾ç½®å…¨å±€æ ‡å¿—å¹¶ç«‹å³è¿”å›</li><li>æ‰€æœ‰ä¸<strong>æ¥æ”¶ä¿¡å·</strong>ç›¸å…³çš„å¤„ç†éƒ½ç”±<strong>ä¸»ç¨‹åº</strong>æ‰§è¡Œï¼Œ<strong>å¤„ç†ç¨‹åº</strong>åªå‘¨æœŸæ€§åœ°<strong>æ£€æŸ¥</strong>ï¼ˆå¹¶é‡ç½®ï¼‰è¿™ä¸ªæ ‡å¿—ã€‚</li></ul></blockquote></li><li><p><span class="math inline">\(G1\)</span>ï¼š</p><p>â€‹ åœ¨å¤„ç†ç¨‹åºä¸­åªè°ƒç”¨<strong>å¼‚æ­¥ä¿¡å·å®‰å…¨</strong>çš„å‡½æ•°ï¼š</p><ul><li>æ˜¯<strong>å¯é‡å…¥</strong>çš„ï¼Œå‚è§ <a href="#å¯é‡å…¥æ€§">åæ–‡</a>ã€‚</li><li><strong>ä¸èƒ½è¢«ä¿¡å·å¤„ç†ç¨‹åºä¸­æ–­</strong>ã€‚</li></ul><blockquote><p>ä¿¡å·å¤„ç†ç¨‹åºä¸­äº§ç”Ÿ<strong>è¾“å‡º</strong>å”¯ä¸€å®‰å…¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨<code>write</code> å‡½æ•°ã€‚ç‰¹åˆ«åœ°ï¼Œè°ƒç”¨ <code>printf</code> æˆ–<code>sprintf</code> æ˜¯<strong>ä¸å®‰å…¨</strong>çš„ã€‚</p><p>ä¸€äº›å®‰å…¨çš„å‡½æ•°ï¼Œç§°ä¸º SIOï¼ˆå®‰å…¨çš„I/Oï¼‰åŒ…ï¼Œå¯ä»¥ç”¨æ¥åœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­æ‰“å°ç®€å•çš„æ¶ˆæ¯ã€‚</p></blockquote></li><li><p><span class="math inline">\(G2\)</span>ï¼š</p><p>â€‹ <strong>ä¿å­˜å’Œæ¢å¤</strong> <code>errno</code>ã€‚</p><ul><li>è®¸å¤š Linux å¼‚æ­¥ä¿¡å·å®‰å…¨çš„å‡½æ•°éƒ½ä¼šåœ¨<strong>å‡ºé”™è¿”å›æ—¶è®¾ç½®</strong><code>errno</code>ã€‚</li><li>åœ¨å¤„ç†ç¨‹åºä¸­è°ƒç”¨è¿™æ ·çš„å‡½æ•°å¯èƒ½ä¼šå¹²æ‰°<strong>ä¸»ç¨‹åºä¸­å…¶ä»–ä¾èµ–</strong>äº<code>errno</code> çš„éƒ¨åˆ†ã€‚</li><li>è§£å†³æ–¹æ³•æ˜¯åœ¨è¿›å…¥å¤„ç†ç¨‹åºæ—¶æŠŠ <code>errno</code>ä¿å­˜åœ¨ä¸€ä¸ª<strong>å±€éƒ¨å˜é‡</strong>ä¸­ï¼Œåœ¨å¤„ç†ç¨‹åºè¿”å›å‰æ¢å¤å®ƒã€‚</li><li>æ³¨æ„ï¼Œåªæœ‰åœ¨å¤„ç†ç¨‹åºè¦è¿”å›æ—¶æ‰æœ‰æ­¤å¿…è¦ã€‚å¦‚æœå¤„ç†ç¨‹åºè°ƒç”¨<code>exit</code> ç»ˆæ­¢è¯¥è¿›ç¨‹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦è¿™æ ·åšäº†ã€‚</li><li>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å±€éƒ¨ <code>errno</code>ï¼Œæ˜¯å¤šçº¿ç¨‹å®‰å…¨çš„ã€‚</li></ul></li><li><p><span class="math inline">\(G3\)</span>ï¼š</p><p>â€‹<strong>é˜»å¡</strong>æ‰€æœ‰çš„ä¿¡å·ï¼Œä¿æŠ¤å¯¹<strong>å…±äº«å…¨å±€æ•°æ®ç»“æ„</strong>çš„è®¿é—®ã€‚</p></li><li><p><span class="math inline">\(G4\)</span>ï¼š</p><p>â€‹ ç”¨ <code>volatile</code> å£°æ˜<strong>å…¨å±€å˜é‡</strong>ã€‚</p><blockquote><p>ç”¨ <code>volatile</code>ç±»å‹é™å®šç¬¦æ¥å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šç¼“å­˜å®ƒã€‚ç”¨å¤„åœ¨äºï¼š</p><ul><li>å¯¹äºä¸€ä¸ªä¸»ç¨‹åºå’Œä¿¡å·å¤„ç†ç¨‹åºå…±äº«çš„å˜é‡ <span class="math inline">\(x\)</span>ï¼Œå¦‚æœä¸»ç¨‹åºæ²¡æœ‰å¯¹è¯¥å˜é‡è¿›è¡Œå†™æ“ä½œï¼Œå®ƒçš„å€¼å¯¹äºç¼–è¯‘å™¨æ¥è¯´å°±åƒä¸€ä¸ªå®šå€¼</li><li>æ­¤æ—¶ï¼Œä¸€ä¸ªä¼˜åŒ–ç¼–è¯‘å™¨ä¼šè®¤ä¸ºä½¿ç”¨ç¼“å­˜åœ¨å¯„å­˜å™¨ä¸­çš„å‰¯æœ¬æ¥æ»¡è¶³å¯¹ <span class="math inline">\(x\)</span>çš„æ¯æ¬¡ä½¿ç”¨æ˜¯å¾ˆå®‰å…¨çš„ï¼Œä½†æ˜¯å®é™…ä¸Šä¿¡å·å¤„ç†ç¨‹åºæœ‰å¯èƒ½æ”¹å˜ <span class="math inline">\(x\)</span>ã€‚</li><li>å¦‚æœè¿™æ ·ï¼Œä¸»ç¨‹åºå¯èƒ½æ°¸è¿œéƒ½æ— æ³•çœ‹åˆ°å¤„ç†ç¨‹åºæ›´æ–°è¿‡çš„å€¼ã€‚ä½¿ç”¨<code>volatile</code> ç±»å‹å°±å¯ä»¥å¼ºåˆ¶è®©ç¼–è¯‘å™¨ä¸å¯¹ <span class="math inline">\(x\)</span> è¿›è¡Œç¼“å­˜ä¼˜åŒ–ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><p><code>volatile int x;</code></p><p>å¼ºè¿«ç¼–è¯‘å™¨æ¯æ¬¡åœ¨ä»£ç ä¸­å¼•ç”¨ <code>x</code> æ—¶ï¼Œéƒ½è¦ä»å†…å­˜ä¸­è¯»å–<code>x</code> çš„å€¼ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå’Œå…¶ä»–æ‰€æœ‰å…±äº«æ•°æ®ç»“æ„ä¸€æ ·ï¼Œåº”è¯¥æš‚æ—¶é˜»å¡ä¿¡å·ï¼Œä¿æŠ¤æ¯æ¬¡å¯¹å…¨å±€å˜é‡çš„è®¿é—®ã€‚</p></blockquote></li><li><p><span class="math inline">\(G5\)</span>ï¼š</p><p>â€‹ ç”¨ <code>sig_atomict_t</code> å£°æ˜æ ‡å¿—ã€‚</p><blockquote><p>åœ¨å¸¸è§çš„å¤„ç†ç¨‹åºè®¾è®¡ä¸­ï¼Œå¤„ç†ç¨‹åºä¼šå†™<strong>å…¨å±€æ ‡å¿—</strong>æ¥è®°å½•æ”¶åˆ°äº†ä¿¡å·ã€‚</p><p>ä¸»ç¨‹åºå‘¨æœŸæ€§åœ°<strong>è¯»</strong>è¿™ä¸ªæ ‡å¿—ï¼Œå“åº”ä¿¡å·ï¼Œå†<strong>æ¸…é™¤</strong>ï¼ˆå†™ï¼‰è¯¥æ ‡å¿—ã€‚</p><p>å¯¹äºé€šè¿‡è¿™ç§æ–¹å¼æ¥å…±äº«çš„æ ‡å¿—ï¼ŒC æä¾›ä¸€ç§æ•´å½¢æ•°æ®ç±»å‹<code>sig_atomic_t</code>ï¼Œå¯¹å®ƒçš„è¯»å’Œå†™ä¿è¯ä¼šæ˜¯åŸå­çš„ï¼ˆä¸å¯ä¸­ æ–­ï¼‰ã€‚</p><p>å¯¹å¤šæ¡æŒ‡ä»¤å®ç°çš„ <code>flag++</code> å’Œ<code>flag = flag + 10</code>ä¸é€‚ç”¨ã€‚</p></blockquote></li></ul></li><li><p>æ­£ç¡®çš„ä¿¡å·å¤„ç†ï¼š</p><ul><li>ä¿¡å·çš„ä¸€ä¸ªä¸ç›´è§‰ä¸ç¬¦çš„æ–¹é¢æ˜¯æœªå¤„ç†çš„ä¿¡å·æ˜¯<strong>ä¸æ’é˜Ÿ</strong>çš„ã€‚</li><li>å› ä¸º pendingä½å‘é‡ä¸­æ¯ç§ç±»å‹çš„ä¿¡å·åªå¯¹åº”æœ‰ä¸€ä½ï¼Œæ‰€ä»¥æ¯ç§ç±»å‹æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæœªå¤„ç†çš„ä¿¡å·ã€‚</li><li>æ‰€ä»¥è¦æ³¨æ„ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæœªå¤„ç†åœ°ä¿¡å·å°±è¡¨æ˜<strong>è‡³å°‘æœ‰ä¸€ä¸ª</strong>ä¿¡å·åˆ°è¾¾äº†ã€‚</li></ul></li><li><p>å¯ç§»æ¤çš„ä¿¡å·å¤„ç†</p></li></ul><h3 id="cpu-è°ƒåº¦">CPU è°ƒåº¦</h3><blockquote><p>æ•´ç†è‡ª PPTï¼Œã€Šç‹é“ã€‹å’Œã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹</p></blockquote><h4 id="cpu-è°ƒåº¦æ¦‚å¿µ">CPU è°ƒåº¦æ¦‚å¿µ</h4><ul><li><p>åœ¨å¤šé“ç¨‹åºç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹çš„æ•°é‡å¾€å¾€å¤šäºå¤„ç†æœºçš„ä¸ªæ•°ã€‚</p></li><li><p>CPU è°ƒåº¦æ˜¯å¯¹ CPUå¹¶è¡Œåˆ†é…ï¼Œå³ä»å°±ç»ªé˜Ÿåˆ—ä¸­æŒ‰ç…§ä¸€å®šçš„ç®—æ³•ï¼ˆå…¬å¹³ã€é«˜æ•ˆï¼‰é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹å¹¶å°† CPUåˆ†é…ç»™å®ƒè¿è¡Œï¼Œä»¥å®ç°è¿›ç¨‹å¹¶å‘åœ°æ‰§è¡Œã€‚</p></li><li><p>CPUè°ƒåº¦æ˜¯å¤šé“ç¨‹åºæ“ä½œç³»ç»Ÿçš„åŸºç¡€ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè®¾è®¡çš„æ ¸å¿ƒé—®é¢˜è¿›ç¨‹è°ƒåº¦ã€‚</p></li><li><p>éµå¾ªçš„åŸåˆ™ï¼š</p><p>â€‹ <strong>èµ„æºé«˜æ•ˆï¼Œå…¬å¹³åˆç†</strong>ï¼ˆä¸¤è€…å¯èƒ½å­˜åœ¨å†²çªï¼‰ã€‚</p></li><li><p>CPU - I/O æ‰§è¡Œå‘¨æœŸï¼š</p><ul><li>ç¨‹åºä»£ç å¯ä»¥åˆ†ä¸ºè®¡ç®—ç±»ä»£ç å’Œ I/O ç±»ä»£ç ã€‚</li><li>è¿›ç¨‹æ‰§è¡Œè¿‡ç¨‹ç”± CPU æ‰§è¡Œå’Œ I/O ç­‰å¾…å‘¨æœŸç»„æˆ CPU åŒºé—´å’Œ I/OåŒºé—´ã€‚</li><li>CPU çº¦æŸå‹ï¼ˆå¯†é›†ï¼‰ç¨‹åºä»¥è®¡ç®—ä¸ºä¸»ï¼ŒCPU åŒºé—´è¾ƒå¤šï¼Œè¿˜ä¼šæœ‰å°‘é‡é•¿çš„ CPUåŒºé—´ã€‚</li><li>I/O çº¦æŸå‹ç¨‹åºä»¥ I/O ä¸ºä¸»ï¼Œä½†é…åˆ I/O å¤„ç†æœ‰å¤§é‡çŸ­çš„ CPU åŒºé—´ã€‚</li><li>è¿›ç¨‹é€šå¸¸å…·æœ‰<strong>å¤§é‡çŸ­ CPU åŒºé—´å’Œå°‘é‡é•¿ CPU åŒºé—´</strong>ã€‚</li></ul></li><li><p>è¿›ç¨‹è°ƒåº¦æ–¹å¼ï¼š</p><blockquote><p>æ•´ç†è‡ªã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹</p><p>è¿›ç¨‹è°ƒåº¦çš„æ—¶æœºï¼š</p><ol type="1"><li>å½“ä¸€ä¸ªè¿›ç¨‹ä»<strong>è¿è¡Œ</strong>çŠ¶æ€åˆ‡æ¢åˆ°<strong>é˜»å¡</strong>çŠ¶æ€æ—¶ï¼ˆä¾‹å¦‚ï¼ŒI/Oè¯·æ±‚ï¼Œæˆ– <code>wait</code> è°ƒç”¨ä»¥ä¾¿ç­‰å¾…ä¸€ä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢ï¼‰</li><li>å½“ä¸€ä¸ªè¿›ç¨‹<strong>ç»ˆæ­¢</strong>æ—¶</li><li>å½“ä¸€ä¸ªè¿›ç¨‹ä»<strong>è¿è¡Œ</strong>çŠ¶æ€åˆ‡æ¢åˆ°<strong>å°±ç»ª</strong>çŠ¶æ€æ—¶ï¼ˆä¾‹å¦‚ï¼Œå½“å‡ºç°æ—¶é’Ÿä¸­æ–­æ—¶ï¼Œç¬”è€…æ„Ÿè§‰è¿™ä¸ªæ›´åƒè°ƒåº¦åçš„ç»“æœ<span class="">ğŸ˜’</span>ï¼‰</li><li>å½“ä¸€ä¸ªè¿›ç¨‹ä»<strong>é˜»å¡</strong>çŠ¶æ€åˆ‡æ¢åˆ°<strong>å°±ç»ª</strong>çŠ¶æ€æ—¶ï¼ˆä¾‹å¦‚ï¼ŒI/Oå®Œæˆï¼‰</li></ol></blockquote><ul><li><p>éå‰¥å¤ºè°ƒåº¦æ–¹å¼ï¼Œåˆç§°<strong>éæŠ¢å æ–¹å¼</strong>ï¼š</p><ul><li><p>ä»…å‘ç”Ÿåœ¨æƒ…å†µ <span class="math inline">\(1,2\)</span>ã€‚å³ä¸€æ—¦æŸä¸ªè¿›ç¨‹åˆ†é…åˆ°CPUï¼Œè¯¥è¿›ç¨‹å°±ä¼šä¸€ç›´ä½¿ç”¨CPUï¼Œç›´åˆ°å®ƒ<strong>ç»ˆæ­¢æˆ–åˆ‡æ¢åˆ°é˜»å¡</strong>çŠ¶æ€ã€‚</p></li><li><p>å½“ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨ CPUä¸Šæ‰§è¡Œæ—¶ï¼Œå³ä½¿æœ‰æŸä¸ªæ›´ä¸ºé‡è¦çš„è¿›ç¨‹è¿›å…¥<strong>å°±ç»ªé˜Ÿåˆ—</strong>ï¼Œä»ç„¶è®©æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹<strong>ç»§ç»­æ‰§è¡Œ</strong>ï¼Œç›´åˆ°è¯¥è¿›ç¨‹<strong>ç»ˆæ­¢æˆ–åˆ‡æ¢åˆ°é˜»å¡</strong>çŠ¶æ€æ—¶ï¼Œæ‰æŠŠCPU åˆ†é…ç»™æ›´ä¸ºé‡è¦çš„è¿›ç¨‹ã€‚</p><blockquote><p>ä¼˜ç‚¹ï¼š</p><p>â€‹å®ç°ç®€å•ã€ç³»ç»Ÿå¼€é”€å°ï¼Œé€‚ç”¨äºå¤§å¤šæ•°çš„<strong>æ‰¹å¤„ç†ç³»ç»Ÿ</strong>ï¼Œä½†å®ƒä¸èƒ½ç”¨äº<strong>åˆ†æ—¶ç³»ç»Ÿå’Œå¤§å¤šæ•°çš„å®æ—¶ç³»ç»Ÿ</strong>ã€‚</p></blockquote></li></ul></li><li><p>å‰¥å¤ºè°ƒåº¦æ–¹å¼ï¼Œåˆç§°<strong>æŠ¢å æ–¹å¼</strong>ï¼š</p><ul><li><p>å¯ä»¥å‘ç”Ÿåœ¨æƒ…å†µ <span class="math inline">\(1,2,3,4\)</span>ã€‚</p></li><li><p>å½“ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨ CPUä¸Šæ‰§è¡Œæ—¶ï¼Œè‹¥æœ‰æ›´é‡è¦çš„è¿›ç¨‹éœ€è¦è¿›å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œåˆ™<strong>ç«‹å³æš‚åœ</strong>æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå°†CPU åˆ†é…ç»™è¿™ä¸ªæ›´ä¸ºé‡è¦çš„è¿›ç¨‹ã€‚</p><blockquote><p>é‡‡ç”¨å‰¥å¤ºå¼çš„è°ƒåº¦ï¼Œå¯¹<strong>æé«˜ç³»ç»Ÿååç‡å’Œå“åº”æ•ˆç‡</strong>éƒ½æœ‰æ˜æ˜¾çš„å¥½å¤„ã€‚</p><p>ä½†ã€Œå‰¥å¤ºã€ä¸æ˜¯ä¸€ç§ä»»æ„æ€§è¡Œä¸ºï¼Œå¿…é¡»éµå¾ªä¸€å®šçš„åŸåˆ™ï¼Œä¸»è¦æœ‰<strong>ä¼˜å…ˆæƒã€çŸ­è¿›ç¨‹ä¼˜å…ˆå’Œæ—¶é—´ç‰‡åŸåˆ™</strong>ç­‰ã€‚</p></blockquote></li></ul></li></ul></li></ul><h4 id="è°ƒåº¦çš„åŸºæœ¬å‡†åˆ™">è°ƒåº¦çš„åŸºæœ¬å‡†åˆ™</h4><ul><li><p>CPU åˆ©ç”¨ç‡ï¼š</p><p>â€‹ CPU æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­æœ€é‡è¦å’Œæ˜‚è´µçš„èµ„æºä¹‹ä¸€ï¼Œæ‰€ä»¥åº”å°½å¯èƒ½ä½¿ CPUä¿æŒã€Œå¿™ã€çŠ¶æ€ï¼Œä½¿è¿™ä¸€èµ„æºåˆ©ç”¨ç‡æœ€é«˜ã€‚</p></li><li><p>ç³»ç»Ÿååé‡ï¼š</p><p>â€‹ è¡¨ç¤º<strong>å•ä½æ—¶é—´å†… CPU å®Œæˆä½œä¸šçš„æ•°é‡</strong>ã€‚</p><blockquote><ul><li><strong>é•¿ä½œä¸š</strong>éœ€è¦æ¶ˆè€—çš„å¤„ç†æœºæ—¶é—´è¾ƒ<strong>é•¿</strong>ï¼Œå› æ­¤ä¼š<strong>é™ä½</strong>ç³»ç»Ÿçš„ååé‡ã€‚</li><li><strong>çŸ­ä½œä¸š</strong>éœ€è¦æ¶ˆè€—çš„å¤„ç†æœºæ—¶é—´è¾ƒ<strong>çŸ­</strong>ï¼Œå› æ­¤èƒ½<strong>æé«˜</strong>ç³»ç»Ÿçš„ååé‡ã€‚</li><li><strong>è°ƒåº¦ç®—æ³•å’Œæ–¹å¼</strong>çš„ä¸åŒï¼Œä¹Ÿä¼šå¯¹ç³»ç»Ÿçš„ååé‡äº§ç”Ÿè¾ƒå¤§çš„å½±å“ã€‚</li><li>ç³»ç»Ÿååé‡å¤§ <span class="math inline">\(\Leftrightarrow\)</span>CPU ä½¿ç”¨ç‡é«˜ <span class="math inline">\(+\)</span>ä¸Šä¸‹æ–‡åˆ‡æ¢ä»£ä»·å°</li></ul></blockquote></li><li><p>å‘¨è½¬æ—¶é—´ï¼š</p><p>â€‹ å‘¨è½¬æ—¶é—´æ˜¯æŒ‡<strong>ä»ä½œä¸šæäº¤åˆ°ä½œä¸šå®Œæˆ</strong>æ‰€ç»å†çš„æ—¶é—´ã€‚</p><blockquote><ul><li><p>ä½œä¸šçš„å‘¨è½¬æ—¶é—´å¯ç”¨å…¬å¼è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p>â€‹ å‘¨è½¬æ—¶é—´ <span class="math inline">\(=\)</span> ä½œä¸šå®Œæˆæ—¶é—´ <span class="math inline">\(-\)</span> ä½œä¸šæäº¤æ—¶é—´</p></li><li><p><strong>å¹³å‡å‘¨è½¬æ—¶é—´</strong>æ˜¯æŒ‡å¤šä¸ªä½œä¸šå‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ï¼š</p><p>â€‹ å¹³å‡å‘¨è½¬æ—¶é—´ <span class="math inline">\(=\)</span>ï¼ˆä½œä¸š <span class="math inline">\(1\)</span> çš„å‘¨è½¬æ—¶é—´ <span class="math inline">\(+\cdots+\)</span> ä½œä¸š <span class="math inline">\(n\)</span> çš„å‘¨è½¬æ—¶é—´ï¼‰/ <span class="math inline">\(n\)</span></p></li></ul></blockquote></li><li><p>ç­‰å¾…æ—¶é—´ï¼š</p><p>â€‹ç­‰å¾…æ—¶é—´æŒ‡<strong>è¿›ç¨‹å¤„äºç­‰å¤„ç†æœºçŠ¶æ€çš„æ—¶é—´ä¹‹å’Œ</strong>ï¼Œç­‰å¾…æ—¶é—´è¶Šé•¿ï¼Œç”¨æˆ·æ»¡æ„åº¦è¶Šä½ã€‚</p><blockquote><ul><li><p>CPU è°ƒåº¦ç®—æ³•å®é™…ä¸Šå¹¶<strong>ä¸å½±å“ä½œä¸šæ‰§è¡Œæˆ– I/Oæ“ä½œ</strong>çš„æ—¶é—´ï¼Œåªå½±å“ä½œä¸šåœ¨å°±ç»ªé˜Ÿåˆ—ä¸­<strong>ç­‰å¾…</strong>æ‰€èŠ±çš„æ—¶é—´ã€‚</p></li><li><p>å› æ­¤è¡¡é‡ä¸€ä¸ªè°ƒåº¦ç®—æ³•çš„ä¼˜åŠ£ï¼Œå¸¸å¸¸åªéœ€è€ƒå¯Ÿç­‰å¾…æ—¶é—´ã€‚</p></li></ul></blockquote></li><li><p>å“åº”æ—¶é—´ï¼š</p><p>â€‹å“åº”æ—¶é—´æŒ‡ä»<strong>ç”¨æˆ·æäº¤è¯·æ±‚åˆ°ç³»ç»Ÿé¦–æ¬¡äº§ç”Ÿå“åº”</strong>æ‰€ç”¨çš„æ—¶é—´ã€‚</p><blockquote><p>åœ¨äº¤äº’å¼ç³»ç»Ÿä¸­ï¼Œå‘¨è½¬æ—¶é—´ä¸å¯èƒ½æ˜¯æœ€å¥½çš„è¯„ä»·å‡†åˆ™ï¼Œä¸€èˆ¬é‡‡ç”¨å“åº”æ—¶é—´ä½œä¸ºè¡¡é‡è°ƒåº¦ç®—æ³•çš„é‡è¦å‡†åˆ™ä¹‹ä¸€ã€‚</p><p>ä»ç”¨æˆ·è§’åº¦æ¥çœ‹ï¼Œè°ƒåº¦ç­–ç•¥åº”å°½é‡é™ä½å“åº”æ—¶é—´ï¼Œä½¿å“åº”æ—¶é—´å¤„åœ¨ç”¨æˆ·èƒ½æ¥å—çš„èŒƒå›´ä¹‹å†…ã€‚</p></blockquote></li></ul><blockquote><p>å…¬å¹³æ€§ï¼š</p><p>â€‹ åˆç†åˆ†é… CPUï¼Œä½¿å®ƒå°½å¯èƒ½çš„ã€Œå¿™ã€ã€‚</p><p>çŸ›ç›¾ï¼š</p><ul><li><p>å“åº”æ—¶é—´çŸ­å’Œå…¬å¹³æ€§ä¹‹é—´çš„çŸ›ç›¾ï¼š</p><p>â€‹ <strong>å“åº”æ—¶é—´çŸ­</strong> <span class="math inline">\(\Rightarrow\)</span><strong>å‰å°</strong>ä»»åŠ¡çš„<strong>ä¼˜å…ˆçº§é«˜ </strong><span class="math inline">\(\Rightarrow\)</span><strong>åå°ä»»åŠ¡</strong>å¾—ä¸åˆ° CPU</p></li><li><p>ååé‡å’Œå“åº”æ—¶é—´ä¹‹é—´çš„çŸ›ç›¾ï¼š</p><p>â€‹ ååé‡å¤§ <span class="math inline">\(\Rightarrow\)</span>ä¸Šä¸‹æ–‡åˆ‡æ¢ä»£ä»·å°ï¼ˆå°½é‡å°‘åˆ‡æ¢ï¼‰ <span class="math inline">\(\Rightarrow\)</span> æ—¶é—´ç‰‡å¤§ <span class="math inline">\(\Rightarrow\)</span> å“åº”æ—¶é—´é•¿</p></li></ul></blockquote><h4 id="è°ƒåº¦ç®—æ³•">è°ƒåº¦ç®—æ³•</h4><ul><li><p>å…ˆåˆ°å…ˆæœåŠ¡ï¼ˆFirst - Come First - Servedï¼ŒFCFSï¼‰è°ƒåº¦ï¼š</p><p>â€‹ è°ƒåº¦çš„é¡ºåºå°±æ˜¯ä»»åŠ¡åˆ°è¾¾å°±ç»ªé˜Ÿåˆ—çš„é¡ºåºã€‚</p><blockquote><p>å®ç°ç®€å•ï¼Œä½†ç¼ºç‚¹ä¸ºï¼š</p><ul><li><p>å¹³å‡ç­‰å¾…æ—¶é—´å¾€å¾€å¾ˆé•¿ï¼Œæ˜¯éæŠ¢å çš„ã€‚</p></li><li><p>çœ‹ä¼¼å…¬å¹³ï¼Œå®åˆ™å¯¹<strong>é•¿ä½œä¸š</strong>æ¯”è¾ƒæœ‰åˆ©ï¼Œä½†å¯¹çŸ­ä½œä¸šä¸åˆ©ï¼ˆç›¸å¯¹SJF è°ƒåº¦å’Œé«˜å“åº”æ¯”ï¼‰</p><blockquote><p>ä¸€ä¸ªå…ˆåˆ°çš„é•¿ä½œä¸šä¼šè®©çŸ­ä½œä¸šç­‰å¾…æ—¶é—´è¿‡é•¿ã€‚</p></blockquote></li></ul><p>æœ‰åˆ©äº <strong>CPU ç¹å¿™å‹</strong>ä½œä¸šï¼Œè€Œä¸åˆ©äº I/O ç¹å¿™å‹ä½œä¸š</p></blockquote></li><li><p>æœ€çŸ­ä½œä¸šä¼˜å…ˆï¼ˆShortest - Job - Firstï¼ŒSJFï¼‰è°ƒåº¦ï¼š</p><ul><li><p>éæŠ¢å å¼ï¼š</p><p>â€‹ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–è‹¥å¹²<strong>ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­</strong>çš„ä½œä¸šï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜è¿è¡Œã€‚</p></li><li><p><strong>æŠ¢å </strong> SJFè°ƒåº¦ï¼Œåˆç§°<strong>æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ</strong>ï¼ˆShortest - Remaining - Time- Firstï¼ŒSRTFï¼‰è°ƒåº¦ï¼š</p><p>â€‹ä¼šæŠ¢å å½“å‰è¿è¡Œè¿›ç¨‹ï¼Œæ¯æ¬¡<strong>æ–°è¿›ç¨‹åˆ°æ¥æˆ–è€…å½“å‰è¿›ç¨‹ç»“æŸ</strong>æ—¶åˆ¤æ–­æ˜¯å¦æŠ¢å å½“å‰è¿›ç¨‹ã€‚</p></li></ul><blockquote><p>åœ¨æ‰§è¡Œæ—¶é—´ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œå¹³å‡ç­‰å¾…æ—¶é—´ã€å¹³å‡å‘¨è½¬æ—¶é—´æœ€å°‘ã€‚</p><p>ç¼ºç‚¹ï¼š</p><ul><li>å¯¹<strong>é•¿ä½œä¸š</strong>ä¸åˆ©ï¼Œå¯¼è‡´ã€Œé¥¥é¥¿ã€</li><li>å®Œå…¨æœªè€ƒè™‘ä½œä¸šçš„<strong>ç´§è¿«ç¨‹åº¦</strong></li><li>è¿è¡Œæ—¶é—´ä¸º<strong>ä¼°è®¡å€¼</strong>ï¼Œå¹¶ä¸èƒ½åæ˜ çœŸå®è¿è¡Œæ—¶é—´ï¼Œå®é™…ä¸Šå¯èƒ½åšä¸åˆ°æœ€çŸ­ä½œä¸šä¼˜å…ˆ</li></ul></blockquote><ul><li><p>ä½¿ç”¨é¢„æµ‹ç®—æ³•æ”¹è¿›ï¼š</p><ul><li><p>å¯ä»¥è®¤ä¸ºä¸‹ä¸€ä¸ª CPU æ‰§è¡Œçš„é•¿åº¦ä¸ä»¥å‰çš„ç›¸ä¼¼ã€‚</p></li><li><p>ä¸‹æ¬¡ <span class="math inline">\(\mathrm{CPU}\)</span>æ‰§è¡Œé€šå¸¸é¢„æµ‹ä¸ºä»¥å‰ <span class="math inline">\(\mathrm{CPU}\)</span>æ‰§è¡Œçš„æµ‹é‡é•¿åº¦çš„<strong>æŒ‡æ•°å¹³å‡</strong>ã€‚</p></li><li><p>è®¾ <span class="math inline">\(t_{n}\)</span> ä¸ºç¬¬ <span class="math inline">\(n\)</span> ä¸ª <span class="math inline">\(\mathrm{CPU}\)</span> æ‰§è¡Œé•¿åº¦ï¼Œè®¾ <span class="math inline">\(\tau_{n+1}\)</span> ä¸ºä¸‹æ¬¡ <span class="math inline">\(\mathrm{CPU}\)</span> æ‰§è¡Œé¢„æµ‹å€¼ã€‚å› æ­¤ï¼Œå¯¹äº <span class="math inline">\(\alpha, 0 \leqslant \alpha \leqslant1\)</span>ï¼Œå®šä¹‰ <span class="math display">\[\tau_{n+1}=\alpha t_{n}+(1-\alpha) \tau_{n}\]</span> <span class="math inline">\(t_{n}\)</span>åŒ…æ‹¬<strong>æœ€è¿‘ä¿¡æ¯</strong>ï¼Œè€Œ <span class="math inline">\(\tau_{n}\)</span>å­˜å‚¨äº†<strong>è¿‡å»å†å²</strong>ï¼Œå‚æ•° <span class="math inline">\(\alpha\)</span>æ§åˆ¶æœ€è¿‘å’Œè¿‡å»å†å²åœ¨é¢„æµ‹ä¸­çš„<strong>æƒé‡</strong>ã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(\alpha=0\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(\tau_{n+1}=\tau_{n}\)</span>ï¼Œæœ€è¿‘ä¿¡æ¯æ²¡æœ‰å½±å“ã€‚</p></li><li><p>å¦‚æœ <span class="math inline">\(\alpha=1\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(\tau_{n+1}=\)</span> <span class="math inline">\(t_{n}\)</span>ï¼Œåªæœ‰æœ€è¿‘ <span class="math inline">\(\mathrm{CPU}\)</span> æ‰§è¡Œæ‰é‡è¦ã€‚</p></li><li><p>é€šå¸¸å– <span class="math inline">\(\alpha=\)</span> <span class="math inline">\(1 /2\)</span>ï¼Œè®¤ä¸ºæœ€è¿‘ä¿¡æ¯å’Œè¿‡å»å†å²åŒæ ·é‡è¦ã€‚åˆå§‹å€¼ <span class="math inline">\(\tau_{0}\)</span>å¯ä½œä¸ºå¸¸é‡æˆ–ç³»ç»Ÿçš„æ€»ä½“å¹³å‡å€¼ã€‚</p></li></ul></li></ul></li><li><p>ä¼˜å…ˆçº§è°ƒåº¦ï¼ˆSJF çš„ä¸€èˆ¬åŒ–ï¼‰ï¼š</p><ul><li>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ª<strong>ä¼˜å…ˆçº§</strong>ä¸å…¶å…³è”ï¼Œè€Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹ä¼šåˆ†é…åˆ°CPUã€‚</li><li>è¿›ç¨‹ä¼˜å…ˆçº§çš„è®¾ç½®å¯ä»¥å‚ç…§ä»¥ä¸‹åŸåˆ™ï¼š<ul><li><strong>ç³»ç»Ÿè¿›ç¨‹</strong> <span class="math inline">\(&gt;\)</span>ç”¨æˆ·è¿›ç¨‹ã€‚ç³»ç»Ÿè¿›ç¨‹ä½œä¸ºç³»ç»Ÿçš„ç®¡ç†è€…ï¼Œåº”æ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</li><li><strong>äº¤äº’å‹è¿›ç¨‹</strong> <span class="math inline">\(&gt;\)</span> éäº¤äº’å‹è¿›ç¨‹ï¼ˆå‰å°è¿›ç¨‹ <span class="math inline">\(&gt;\)</span>åå°è¿›ç¨‹ï¼‰ã€‚åœ¨<strong>å‰å°è¿è¡Œ</strong>çš„æ­£åœ¨å’Œç”¨æˆ·äº¤äº’çš„è¿›ç¨‹åº”<strong>æ›´å¿«å¾—åˆ°å“åº”</strong>ï¼Œå› æ­¤éœ€è¦æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</li><li><strong>I/O å‹</strong>è¿›ç¨‹ <span class="math inline">\(&gt;\)</span> è®¡ç®—å‹è¿›ç¨‹ã€‚I/O å‹è¿›ç¨‹æ˜¯æŒ‡ä¼šé¢‘ç¹ä½¿ç”¨I/O è®¾å¤‡çš„è¿›ç¨‹ï¼Œè€Œè®¡ç®—å‹è¿›ç¨‹æ˜¯é‚£äº›é¢‘ç¹ä½¿ç”¨ CPU çš„è¿›ç¨‹ã€‚I/Oè®¾å¤‡ï¼ˆå¦‚æ‰“å°æœºï¼‰çš„å¤„ç†é€Ÿåº¦è¦æ¯” CPU æ…¢å¾—å¤šï¼Œå› æ­¤è‹¥å°† I/Oå‹è¿›ç¨‹çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå°±å¯ä»¥è®© I/Oè®¾å¤‡<strong>è¶Šæ—©å¼€å§‹å·¥ä½œ</strong>ï¼Œè¿›è€Œæå‡ç³»ç»Ÿçš„<strong>æ•´ä½“æ•ˆç‡</strong>ã€‚</li></ul></li><li>ä¼šå¯¼è‡´æŸäº›ä½ä¼˜å…ˆçº§è¿›ç¨‹å¤„äº<strong>é¥¥é¥¿</strong>çŠ¶æ€ï¼Œä¸èƒ½è¿è¡Œï¼Œå¯ä»¥ç”¨<strong>è€åŒ–</strong>æŠ€æœ¯é€æ¸å¢åŠ åœ¨ç³»ç»Ÿä¸­ç­‰å¾…å¾ˆé•¿æ—¶é—´çš„è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li></ul></li><li><p>ï¼ˆæ—¶é—´ç‰‡ï¼‰è½®è¯¢ï¼ˆè½®è½¬ï¼‰è°ƒåº¦ï¼ˆRound - Robinï¼ŒRRï¼‰ï¼š</p><ul><li><p>æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ä¸»è¦é€‚ç”¨äº<strong>åˆ†æ—¶ç³»ç»Ÿ</strong>ã€‚</p><blockquote><p><a href="#æ“ä½œç³»ç»Ÿçš„å‘å±•ä¸åˆ†ç±»ï¼ˆç†è§£ï¼‰">åˆ†æ—¶ç³»ç»Ÿ</a>ä¸­ï¼Œå¤šä¸ªç”¨æˆ·åˆ†äº«ä½¿ç”¨åŒä¸€å°è®¡ç®—æœºã€‚</p></blockquote></li><li><p>ç³»ç»Ÿå°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰<strong>åˆ°è¾¾æ—¶é—´çš„å…ˆå</strong>æ¬¡åºæ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿›ç¨‹è°ƒåº¦ç¨‹åºæ€»æ˜¯é€‰æ‹©<strong>å°±ç»ªé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹</strong>æ‰§è¡Œï¼Œå³<strong>å…ˆæ¥å…ˆæœåŠ¡</strong>çš„åŸåˆ™ï¼Œä½†<strong>ä»…èƒ½è¿è¡Œä¸€ä¸ªæ—¶é—´ç‰‡</strong>ã€‚</p></li><li><p>åœ¨ä½¿ç”¨å®Œä¸€ä¸ªæ—¶é—´ç‰‡åï¼Œè¿›ç¨‹å³ä½¿æœªå®Œæˆè¿è¡Œï¼Œä¹Ÿå¿…é¡»é‡Šæ”¾å‡º CPUç»™ä¸‹ä¸€ä¸ª<strong>å°±ç»ª</strong>çš„è¿›ç¨‹ï¼Œç„¶åè¿”å›åˆ°å°±ç»ªé˜Ÿåˆ—çš„<strong>æœ«å°¾</strong>é‡æ–°æ’é˜Ÿï¼Œç­‰å€™å†æ¬¡è¿è¡Œã€‚</p></li><li><p>æ—¶é—´ç‰‡çš„å¤§å°å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“å¾ˆå¤§ï¼š</p><ul><li>è‹¥æ—¶é—´ç‰‡è¶³å¤Ÿå¤§ï¼Œä»¥è‡³äºæ‰€æœ‰è¿›ç¨‹éƒ½èƒ½<strong>åœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…æ‰§è¡Œå®Œæ¯•</strong>ï¼Œåˆ™æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•å°±é€€åŒ–ä¸º<strong>å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•</strong>ã€‚</li><li>è‹¥æ—¶é—´ç‰‡å¾ˆå°ï¼Œåˆ™ CPUå°†åœ¨è¿›ç¨‹é—´è¿‡äºé¢‘ç¹åœ°åˆ‡æ¢ï¼Œä½¿å¤„ç†æœºçš„<strong>å¼€é”€å¢å¤§</strong>ï¼Œè€ŒçœŸæ­£ç”¨äºè¿è¡Œç”¨æˆ·è¿›ç¨‹çš„æ—¶é—´å°†å‡å°‘ã€‚</li></ul></li><li><p>æ—¶é—´ç‰‡çš„é•¿çŸ­é€šå¸¸ç”±ä»¥ä¸‹å› ç´ ç¡®å®šï¼š</p><ul><li>ç³»ç»Ÿçš„<strong>å“åº”æ—¶é—´</strong></li><li><strong>å°±ç»ªé˜Ÿåˆ—</strong>ä¸­çš„<strong>è¿›ç¨‹æ•°ç›®</strong></li><li>ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›</li></ul></li></ul></li><li><p>å¤šçº§ï¼ˆåé¦ˆï¼‰é˜Ÿåˆ—è°ƒåº¦ï¼š</p><ul><li><p>è®¾ç½®å¤šä¸ª<strong>å°±ç»ªé˜Ÿåˆ—</strong>ï¼Œå¹¶ä¸ºå„ä¸ªé˜Ÿåˆ—èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§ï¼Œç¬¬<span class="math inline">\(1\)</span> çº§é˜Ÿåˆ—çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œç¬¬ <span class="math inline">\(2\)</span>çº§é˜Ÿåˆ—æ¬¡ä¹‹ï¼Œå…¶ä½™é˜Ÿåˆ—çš„ä¼˜å…ˆçº§é€æ¬¡é™ä½ã€‚</p></li><li><p>ä¼˜å…ˆçº§è¶Šä½çš„é˜Ÿåˆ—è¿è¡Œæ—¶é—´ç‰‡è¶Šå¤§ï¼Œè®©é•¿ä½œä¸šåœ¨ä½ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸­å¾—åˆ°æ›´é•¿æ—¶é—´çš„æ‰§è¡Œã€‚</p></li><li><p>å°†ä»»åŠ¡æŒ‰ç…§ä¼˜å…ˆçº§åˆ†ä¸ºå¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡ä»ä¼˜å…ˆçº§æœ€é«˜çš„é˜Ÿåˆ—é€‰æ‹©ä»»åŠ¡ã€‚</p></li><li><p>å…è®¸è¿›ç¨‹åœ¨é˜Ÿåˆ—ä¹‹é—´ç§»åŠ¨ï¼Œæ ¹æ®ä¸åŒ CPUæ‰§è¡Œçš„ç‰¹ç‚¹æ¥åŒºåˆ†è¿›ç¨‹ã€‚å¦‚æœè¿›ç¨‹ä½¿ç”¨è¿‡å¤šçš„ CPUæ—¶é—´ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«ç§»åˆ°æ›´ä½çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚è¿™ç§æ–¹æ¡ˆå°† <strong>I/Oå¯†é›†å‹å’Œäº¤äº’è¿›ç¨‹æ”¾åœ¨æ›´é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—</strong>ä¸Šã€‚</p><blockquote><p>ã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹æåŠï¼š</p><p>â€‹ã€Œåœ¨è¾ƒä½ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ç­‰å¾…è¿‡é•¿çš„è¿›ç¨‹ä¼šè¢«ç§»åˆ°æ›´é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆè€åŒ–ï¼‰ã€</p><p>å…·ä½“å®ç°å¹¶æ²¡æœ‰ç»™å‡ºä¾‹å­ï¼Œå…¶ä»–ä¹¦ä¹Ÿæ²¡æœ‰å‡ºç°ç±»ä¼¼ç†è§£</p></blockquote></li><li><div data-align="center"><img src=" /img/blog/os-note-images/image-20211012132640554.png"></div><ul><li><p>æœ€å…ˆæ‰§è¡Œé˜Ÿåˆ— <span class="math inline">\(0\)</span> çš„ä»»åŠ¡ï¼Œé˜Ÿåˆ—<span class="math inline">\(0\)</span> ä¸º<strong>ç©º</strong>æ—¶æ‰æ‰§è¡Œé˜Ÿåˆ—<span class="math inline">\(1\)</span>ï¼Œä¾æ­¤ç±»æ¨ã€‚</p></li><li><p>åˆ°è¾¾é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œä¼š<strong>æŠ¢å </strong>ä½ä¼˜å…ˆçº§é˜Ÿåˆ—çš„ä»»åŠ¡ã€‚</p></li><li><p>ä¸€ä¸ªæ–°è¿›ç¨‹è¿›å…¥å†…å­˜åï¼Œé¦–å…ˆå°†å®ƒæ”¾å…¥é˜Ÿåˆ— <span class="math inline">\(0\)</span> çš„æœ«å°¾ï¼ŒæŒ‰ FCFSåŸåˆ™æ’é˜Ÿç­‰å¾…è°ƒåº¦ã€‚å½“è½®åˆ°è¯¥è¿›ç¨‹æ‰§è¡Œæ—¶ï¼Œå¦‚å®ƒèƒ½åœ¨è¯¥æ—¶é—´ç‰‡å†…å®Œæˆï¼Œä¾¿å¯å‡†å¤‡æ’¤ç¦»ç³»ç»Ÿï¼›å¦åˆ™å°†è¯¥è¿›ç¨‹è½¬å…¥é˜Ÿåˆ—<span class="math inline">\(1\)</span> çš„æœ«å°¾ã€‚</p></li></ul></li><li><p>ç»¼åˆäº†å‰å‡ ç§è°ƒåº¦ç®—æ³•çš„ä¼˜ç‚¹ï¼š</p><ul><li><strong>çŸ­ä½œä¸šä¼˜å…ˆ</strong>ã€‚</li><li><strong>å‘¨è½¬æ—¶é—´è¾ƒçŸ­</strong>ã€‚</li><li>ç»è¿‡å‰é¢å‡ ä¸ªé˜Ÿåˆ—å¾—åˆ°éƒ¨åˆ†æ‰§è¡Œï¼Œé•¿æ‰¹å¤„ç†ä½œä¸šä¸ä¼šé•¿æœŸå¾—ä¸åˆ°å¤„ç†ã€‚</li></ul></li></ul></li><li><p>å½©ç¥¨è°ƒåº¦ï¼š</p><ul><li>ä¿è¯æ¯ä¸ªä»»åŠ¡éƒ½è·å¾—<strong>ä¸€å®šæ¯”ä¾‹çš„ CPU æ—¶é—´</strong>ã€‚</li><li>å½©ç¥¨æ•°è¡¨ç¤ºäº†ä»»åŠ¡åº”è¯¥æ¥å—åˆ°çš„èµ„æºä»½é¢</li><li>å½©ç¥¨æ•°ç™¾åˆ†æ¯”è¡¨ç¤ºäº†å…¶æ‰€å æœ‰çš„ç³»ç»Ÿèµ„æºä»½é¢ï¼Œéšç€è¿è¡Œæ—¶é—´çš„å¢åŠ ï¼Œä»»åŠ¡å¾—åˆ°çš„CPU æ—¶é—´æ¯”ä¾‹ä¼šè¶Šæ¥è¿‘è¯¥ç™¾åˆ†æ¯”ã€‚</li></ul></li></ul><h3 id="cpu-ä¼˜åŒ–">CPU ä¼˜åŒ–</h3><blockquote><p>æ•´ç†è‡ª PPT å’Œ CSAPP</p></blockquote><h4 id="cpu-ä¼˜åŒ–è¦æ±‚å’Œå½±å“å› ç´ ">CPU ä¼˜åŒ–è¦æ±‚å’Œå½±å“å› ç´ </h4><ul><li><p>ç¼–å†™é«˜æ•ˆç¨‹åºè¦æ±‚ï¼š</p><ul><li>é€‰æ‹©é€‚å½“çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ã€‚</li><li>è®©ç¼–è¯‘å™¨èƒ½å¤Ÿæœ‰æ•ˆä¼˜åŒ–ï¼ˆç¼–å†™<strong>ç¼–è¯‘å™¨å‹å¥½</strong>çš„ä»£ç ï¼‰ï¼š<ul><li>ç¼–å†™ç¨‹åºæ–¹å¼ä¸­çœ‹ä¸Šå»åªæ˜¯ä¸€ç‚¹å°å°çš„å˜åŠ¨ï¼Œéƒ½ä¼šå¼•èµ·ç¼–è¯‘å™¨ä¼˜åŒ–æ–¹å¼å¾ˆå¤§çš„å˜åŒ–ã€‚</li><li>åœ¨ç¨‹åºçš„<strong>å¯è¯»æ€§</strong>æ¨¡å—æ€§ä¸<strong>è¿è¡Œé€Ÿåº¦</strong>ä¹‹é—´åšå‡ºæƒè¡¡ã€‚</li></ul></li></ul></li><li><p>ç¼–è¯‘å™¨ä¼šå—åˆ°ã€Œå¦¨ç¢ä¼˜åŒ–çš„å› ç´ ã€çš„å½±å“ï¼š</p><ul><li><p>æ½œåœ¨çš„<strong>å†…å­˜åˆ«å</strong>ä½¿ç”¨ï¼š</p><p>â€‹ ä¸åŒçš„æŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªä½ç½®ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun1</span><span class="hljs-params">(<span class="hljs-keyword">long</span> *xp, <span class="hljs-keyword">long</span> *yp)</span> </span>{<br>*xp += *yp; <br>*xp += *yp<br>}<br><span class="hljs-keyword">void</span> fun2(<span class="hljs-keyword">long</span> *xp, <span class="hljs-keyword">long</span> *yp) {<br>*xp += <span class="hljs-number">2</span>* *yp; <br>}<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* fun2 è¯»å†™æ¬¡æ•°æ¯” fun1 å°‘,çœ‹èµ·æ¥åŠŸèƒ½ä¸€æ ·,ä½†å½“ yp å’Œ xp æŒ‡å‘åŒä¸€å†…å­˜å•å…ƒæ—¶,ç»“æœä¼šä¸åŒ</span><br><span class="hljs-comment">* æˆ‘ä»¬å¸Œæœ›ç¼–è¯‘å™¨å¯ä»¥å°† fun1 ä¼˜åŒ–æˆ fun2,ä½†æ˜¯ç¼–è¯‘å™¨è¦è¿›è¡Œå®‰å…¨çš„ä¼˜åŒ–,æ‰€ä»¥å¿…é¡»å‡è®¾å­˜åœ¨ä¸Šé¢è¿™ç§ç‰¹æ®Šæƒ…å†µ,æ•…å¦¨ç¢äº†ä¼˜åŒ–ã€‚</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>æ½œåœ¨çš„<strong>å‡½æ•°å‰¯ä½œç”¨</strong>ï¼š</p><p>â€‹ å¯èƒ½ä¿®æ”¹äº†å…¨å±€ç¨‹åºçŠ¶æ€</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">long</span> counter=<span class="hljs-number">0</span>;      <span class="hljs-comment">//å…¨å±€å˜é‡</span><br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-title">f</span><span class="hljs-params">()</span> </span>{<br><span class="hljs-keyword">return</span> counter++; <br>}<br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-title">fun1</span><span class="hljs-params">()</span> </span>{<br><span class="hljs-keyword">return</span> f()+f()+f()+f();<br>} <br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-title">fun2</span><span class="hljs-params">()</span> </span>{<br><span class="hljs-keyword">return</span> <span class="hljs-number">4</span>*f();    <span class="hljs-comment">// ä¸ fun1 åœ¨è¯¥æƒ…å†µä¸‹ä¸ç­‰æ•ˆ,å¦¨ç¢ç¼–è¯‘å™¨ä¼˜åŒ–</span><br>}<br><span class="hljs-comment">// å†…è”å‡½æ•°æ›¿æ¢ fun1,å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€</span><br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-title">fun1inline</span><span class="hljs-params">()</span> </span>{<br><span class="hljs-keyword">long</span> t=counter++; <br>    t+=counter++;<br>t+=counter++; <br>    t+=counter++; <br>    <span class="hljs-keyword">return</span> t;<br>}<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>ç¼–è¯‘å™¨ä¼˜åŒ–é€‰é¡¹ï¼š</p><ul><li><code>-Og</code> ä½¿ç”¨ä¸€ç»„åŸºæœ¬çš„ä¼˜åŒ–ã€‚</li><li><code>-O1</code> æœ‰é™çš„ä¿å®ˆçš„ä¼˜åŒ–ã€‚</li><li><code>-O2</code> é€‚ä¸­çš„ä¼˜åŒ–ï¼Œå¯¹å¤§å¤šæ•°é¡¹ç›®æ¥è¯´ï¼Œæ˜¯å¯æ¥å—çš„æ ‡å‡†ã€‚</li><li><code>-O3</code>æ›´æ¿€è¿›çš„ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½ï¼Œå¢åŠ è§„æ¨¡ï¼Œè°ƒè¯•å·¥å…·æ›´éš¾è°ƒè¯•ã€‚</li></ul></li><li><p>æ¯å…ƒç´ çš„å‘¨æœŸï¼ˆCycles Per Elementï¼ŒCPEï¼‰ï¼š</p><p>â€‹ç”¨æ¥è¯„ä»·å¾ªç¯æ€§èƒ½ï¼Œå¹¶ä¸æ˜¯å®é™…ä¸Šä¸€ä¸ªå…ƒç´ å ç”¨çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œæ˜¯ä¸ªå¹³å‡æŒ‡æ ‡ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">psum1</span><span class="hljs-params">(<span class="hljs-keyword">float</span> a[], <span class="hljs-keyword">float</span> p[], <span class="hljs-keyword">long</span> n)</span> </span>{<br><span class="hljs-keyword">long</span> i; <br>    p[<span class="hljs-number">0</span>] = a[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; n; i++) <br>        p[i] = p[i-l] + a[i];<br>}<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">psum2</span><span class="hljs-params">(<span class="hljs-keyword">float</span> a[], <span class="hljs-keyword">float</span> p[], <span class="hljs-keyword">long</span> n)</span> </span>{<br><span class="hljs-keyword">long</span> i;<br>    p[<span class="hljs-number">0</span>] = a[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; n<span class="hljs-number">-1</span>; i+=<span class="hljs-number">2</span>) { <br>        p[i] = p[i<span class="hljs-number">-1</span>] + a[i]; <br>        p[i+l] = p[i] + a[i+l]; <br>    }<br><span class="hljs-comment">/* For even n, finish remaining element */</span><br>    <span class="hljs-keyword">if</span> (i &lt; n)<br>        p[i] = p[i-l] + a[i]; <br>}<br></code></pre></td></tr></tbody></table></figure><ul><li><code>psum2</code> ä½¿ç”¨äº†å¾ªç¯å±•å¼€çš„æŠ€æœ¯ï¼ŒCPE æ¯” <code>psum1</code>è¦ä½ï¼Œå³æ¯ä¸ªå…ƒç´ éœ€è¦çš„æ—¶é’Ÿå‘¨æœŸæ•°è¦æ¯” <code>psum1</code>è¦å°‘ï¼Œæ•ˆç‡æ›´é«˜ã€‚</li><li><span class="math inline">\(T(\)</span> è¿è¡Œæ—¶é—´ <span class="math inline">\() = CPE\times n ~+\)</span> åŸºæœ¬çš„å‘¨æœŸå¼€é”€</li></ul></li></ul><h4 id="åˆ©ç”¨æŒ‡ä»¤çº§å¹¶è¡Œè¿›è¡Œä¼˜åŒ–">åˆ©ç”¨æŒ‡ä»¤çº§å¹¶è¡Œè¿›è¡Œä¼˜åŒ–</h4><blockquote><p>å…¶å®æ²¡å¤ªæ‡‚è¿™äº›æ•°æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Œæ„Ÿè§‰ä¸æ€ä¹ˆèƒ½è€ƒï¼Œå¬è¯´æœ‰çš„ç­ç›´æ¥æ²¡è®²<span class="">ğŸ˜¢</span></p></blockquote><ul><li><p>ç°ä»£è®¡ç®—æœºçš„è®¾è®¡ï¼š</p><ul><li>ç¡¬ä»¶å¯ä»¥<strong>å¹¶è¡Œæ‰§è¡Œ</strong>å¤šä¸ªæŒ‡ä»¤ï¼ˆæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œä¹±åºï¼‰ã€‚</li><li>æ€§èƒ½å—<strong>æ•°æ®ä¾èµ–</strong>çš„é™åˆ¶ã€‚</li><li>ç®€å•çš„è½¬æ¢å¯ä»¥å¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½æ”¹è¿›ï¼š<ul><li>ç¼–è¯‘å™¨é€šå¸¸æ— æ³•è¿›è¡Œè¿™äº›è½¬æ¢ã€‚</li><li>æµ®ç‚¹è¿ç®—ç¼ºä¹ç»“åˆæ€§å’Œå¯åˆ†é…æ€§ã€‚</li></ul></li></ul></li><li><p>è¶…æ ‡é‡å®šä¹‰ï¼š</p><p>â€‹<strong>è¶…æ ‡é‡</strong>æŒ‡å¯ä»¥åœ¨æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œè€Œä¸”æ˜¯ä¹±åºçš„ï¼ˆæŒ‡ä»¤æ‰§è¡Œçš„é¡ºåºä¸å®ƒä»¬åœ¨æœºå™¨çº§ç¨‹åºä¸­çš„é¡ºåºå¯èƒ½ä¸ä¸€æ ·ï¼‰ã€‚</p></li><li><p>åè¯å®šä¹‰ï¼š</p><blockquote><p>Haswell æ¶æ„çš„ CPU å„æ¨¡å—æ•°é‡ï¼š</p><ul><li><span class="math inline">\(2\)</span> ä¸ªåŠ è½½åŠŸèƒ½æ¨¡å—</li><li><span class="math inline">\(1\)</span> ä¸ªå­˜å‚¨</li><li><span class="math inline">\(4\)</span> ä¸ªæ•´æ•°è¿ç®—</li><li><span class="math inline">\(2\)</span> ä¸ªæµ®ç‚¹ä¹˜æ³•è¿ç®—</li><li><span class="math inline">\(1\)</span> ä¸ªæµ®ç‚¹åŠ æ³•</li><li><span class="math inline">\(1\)</span> ä¸ªæµ®ç‚¹é™¤æ³•</li></ul></blockquote><ul><li><p>å»¶è¿Ÿï¼š</p><p>â€‹ <strong>å®Œæˆè¿ç®—</strong>æ‰€éœ€è¦çš„æ—¶é’Ÿå‘¨æœŸæ€»æ•°ã€‚</p></li><li><p>å‘å°„æ—¶é—´ï¼š</p><p>â€‹<strong>è¿ç»­åŒç±»å‹è¿ç®—</strong>ä¹‹é—´é—´éš”<strong>æœ€å°å‘¨æœŸæ•°</strong>ã€‚å‘å°„ä¸º<span class="math inline">\(1\)</span>æ„å‘³ç€åŒç±»è¿ç®—é—´ä¸ç”¨ç­‰å¾…ã€‚</p></li><li><p>å®¹é‡ï¼š</p><p>â€‹èƒ½å¤Ÿ<strong>æ‰§è¡Œè¯¥è¿ç®—çš„åŠŸèƒ½å•å…ƒæ•°é‡</strong>ï¼Œå³åŒæ—¶èƒ½å‘å°„å¤šå°‘è¿™æ ·è¿ç®—ã€‚</p></li><li><p>å»¶è¿Ÿç•Œé™ï¼š</p><p>â€‹ ä¸€ç§è¿ç®—çš„å»¶è¿Ÿä¸º <span class="math inline">\(n\)</span>ï¼Œæ„å‘³ç€éœ€è¦<span class="math inline">\(n\)</span>ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œè¿™ç§è¿ç®—ï¼Œå½“<strong>é¡ºåºæ‰§è¡Œ</strong>æ—¶ï¼Œæ— è®ºæ€æ ·ä¼˜åŒ–ï¼Œå…¶CPE çš„ä¸‹é™ä¸ä¼šä½äºå»¶è¿Ÿç•Œé™ã€‚</p></li><li><p>ååé‡ç•Œé™ï¼š</p><p>â€‹ CPEçš„<strong>æœ€å°ç•Œé™</strong>ï¼Œå‡è®¾æ‰§è¡ŒæŸç§è¿ç®—çš„åŠŸèƒ½å•å…ƒï¼ˆ<strong>å®¹é‡</strong>ï¼‰æœ‰<span class="math inline">\(k\)</span>ä¸ªï¼ˆè¿˜è¦å—é™äº<strong>åœ°å€åŠ è½½å•å…ƒæ•°é‡</strong>ï¼‰ï¼Œå…¶<strong>å‘å°„</strong>ä¸º<span class="math inline">\(n\)</span>ï¼Œåˆ™<strong>ååé‡ç•Œé™</strong>ä¸º<span class="math inline">\(\begin{aligned}\frac{n}{k}\end{aligned}\)</span>ã€‚</p><blockquote><p>è¿™é‡Œå¿½ç•¥å»¶è¿Ÿï¼Œå…¶å®æ˜¯å½“å»¶è¿Ÿä¸º <span class="math inline">\(1\)</span>ç®—ï¼Œè¿™æ ·ç¼©æ”¾å¯ä»¥è®©è¿™ä¸ªå€¼æˆä¸ºçœŸæ­£çš„æé™ï¼Œæ— è®ºæ€ä¹ˆä¼˜åŒ–ï¼ŒCPEéƒ½ä¸å¯èƒ½æ¯”ååé‡ç•Œé™å°ã€‚</p></blockquote><figure><img src="/img/blog/os-note-images/image-20211012222645387.png" alt="image-20211012222645387"><figcaption aria-hidden="true">image-20211012222645387</figcaption></figure></li></ul></li><li><p>è¿ç®—é‡ç»„ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun1</span><span class="hljs-params">()</span></span>{<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; limit; i++) <br>        x = x OP d[i];<br>}<br><br><span class="hljs-comment">// 2*1</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun2</span><span class="hljs-params">()</span></span>{<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; limit; i+=<span class="hljs-number">2</span>) <br>        x = (x OP d[i]) OP d[i+<span class="hljs-number">1</span>];<br>}<br><br><span class="hljs-comment">// 2*1a</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun3</span><span class="hljs-params">()</span></span>{<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; limit; i+=<span class="hljs-number">2</span>) <br>        x = x OP (d[i] OP d[i+<span class="hljs-number">1</span>]); <span class="hljs-comment">// æ¶ˆé™¤äº†ä¸€ä¸ªæ•°æ®ä¾èµ–,å¯ä»¥æå‰ç®— d[i] OP d[i+1],å®ç°å¹¶è¡Œ</span><br>}<br><br><span class="hljs-comment">// 2*2</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun4</span><span class="hljs-params">()</span></span>{<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; limit; i+=<span class="hljs-number">2</span>) <br>        x0 = x0 OP d[i],<br>        x1 = x1 OP d[i+<span class="hljs-number">1</span>];<br>}<br></code></pre></td></tr></tbody></table></figure></li></ul><table><thead><tr class="header"><th style="text-align: center;">æ–¹æ³•</th><th style="text-align: center;">æ•´æ•°</th><th style="text-align: center;">æ•´æ•°</th><th style="text-align: center;">æµ®ç‚¹æ•°</th><th style="text-align: center;">æµ®ç‚¹æ•°</th><th style="text-align: center;">ä¼˜åŒ–åŸå› </th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">æ“ä½œ</td><td style="text-align: center;"><span class="math inline">\(+\)</span></td><td style="text-align: center;"><span class="math inline">\(\times\)</span></td><td style="text-align: center;"><span class="math inline">\(+\)</span></td><td style="text-align: center;"><span class="math inline">\(\times\)</span></td><td style="text-align: center;"></td></tr><tr class="even"><td style="text-align: center;"><code>fun1</code></td><td style="text-align: center;"><span class="math inline">\(1.27\)</span></td><td style="text-align: center;"><span class="math inline">\(3.01\)</span></td><td style="text-align: center;"><span class="math inline">\(3.01\)</span></td><td style="text-align: center;"><span class="math inline">\(5.01\)</span></td><td style="text-align: center;"></td></tr><tr class="odd"><td style="text-align: center;"><code>fun2(2*1)</code></td><td style="text-align: center;"><span class="math inline">\(1.01\)</span></td><td style="text-align: center;"><span class="math inline">\(3.01\)</span></td><td style="text-align: center;"><span class="math inline">\(3.01\)</span></td><td style="text-align: center;"><span class="math inline">\(5.01\)</span></td><td style="text-align: center;">æ•´æ•°åŠ æ³•å‡å°‘äº†å¾ªç¯å¼€é”€ï¼ˆä¸€æ¬¡å¾ªç¯ä¹Ÿéœ€è¦ä¸€æ¬¡æ•´æ•°åŠ æ³•ï¼‰ï¼Œ<br>ä½†æ˜¯å’Œå…¶ä»–è¿ç®—ä¸€æ ·ä¸èƒ½çªç ´<strong>å»¶è¿Ÿç•Œé™</strong></td></tr><tr class="even"><td style="text-align: center;"><code>fun3(2*1a)</code></td><td style="text-align: center;"><span class="math inline">\(1.01\)</span></td><td style="text-align: center;"><span class="math inline">\(1.51\)</span></td><td style="text-align: center;"><span class="math inline">\(1.51\)</span></td><td style="text-align: center;"><span class="math inline">\(2.51\)</span></td><td style="text-align: center;">è¿™é‡Œæ•´æ•°åŠ æ³•å¹¶æ²¡æœ‰å¾—åˆ°ä¼˜åŒ–ï¼Œ<br>çŒœæƒ³ç¼–è¯‘å™¨åªç”¨åˆ°äº†ä¸€ä¸ªæ•´æ•°åŠ åŠŸèƒ½æ¨¡å—ï¼Œ<br>æ‰€ä»¥å¯¹äºå»¶è¿Ÿä¸º<span class="math inline">\(1\)</span> çš„æ•´æ•°åŠ æ²¡æœ‰æå‡</td></tr><tr class="odd"><td style="text-align: center;"><code>fun4(2*2)</code></td><td style="text-align: center;"><span class="math inline">\(0.81\)</span></td><td style="text-align: center;"><span class="math inline">\(1.51\)</span></td><td style="text-align: center;"><span class="math inline">\(1.51\)</span></td><td style="text-align: center;"><span class="math inline">\(2.51\)</span></td><td style="text-align: center;">ç”¨åˆ°äº† <span class="math inline">\(2\)</span>ä¸ªæ•´æ•°åŠ åŠŸèƒ½æ¨¡å—ï¼Œ<br>å…¶ä»–æ“ä½œå› ä¸ºå¾ªç¯å¼€é”€ï¼Œå»¶è¿Ÿå’Œæ•°æ®ä¾èµ–çš„é—®é¢˜ï¼Œ<br>åœ¨å•ä¸ªåŠŸèƒ½æ¨¡å—æ—¶å·²è¾¾åˆ°æ€§èƒ½æé™</td></tr><tr class="even"><td style="text-align: center;">å»¶è¿Ÿç•Œé™</td><td style="text-align: center;"><span class="math inline">\(1.00\)</span></td><td style="text-align: center;"><span class="math inline">\(3.00\)</span></td><td style="text-align: center;"><span class="math inline">\(3.00\)</span></td><td style="text-align: center;"><span class="math inline">\(5.00\)</span></td><td style="text-align: center;"></td></tr><tr class="odd"><td style="text-align: center;">ååé‡ç•Œé™</td><td style="text-align: center;"><span class="math inline">\(0.50\)</span></td><td style="text-align: center;"><span class="math inline">\(1.00\)</span></td><td style="text-align: center;"><span class="math inline">\(1.00\)</span></td><td style="text-align: center;"><span class="math inline">\(0.50\)</span></td><td style="text-align: center;"></td></tr></tbody></table><ul><li><p>è¾¾åˆ°æŸæ“ä½œçš„ååé‡ç•Œé™æ‰€è¦æ±‚çš„<strong>å¾ªç¯å±•å¼€å› </strong>å­ï¼š</p><p>â€‹è¾¾åˆ°æ—¶ï¼Œè¦ä¿æŒæ‰§è¡Œè¯¥æ“ä½œçš„æ‰€æœ‰åŠŸèƒ½å•å…ƒçš„<strong>æµæ°´çº¿éƒ½æ˜¯æ»¡</strong>çš„ï¼ˆå³å‘å°„ä¸º<span class="math inline">\(1\)</span>ï¼‰ï¼Œå¯¹å»¶è¿Ÿä¸º <span class="math inline">\(L\)</span>ï¼Œå®¹é‡ä¸º <span class="math inline">\(C\)</span> çš„æ“ä½œè€Œè¨€ï¼Œå¾ªç¯å±•å¼€å› å­æ»¡è¶³ <span class="math inline">\(k\ge CL\)</span>ã€‚</p></li></ul><h2 id="çº¿ç¨‹">çº¿ç¨‹</h2><h3 id="çº¿ç¨‹æ¦‚å¿µ">çº¿ç¨‹æ¦‚å¿µ</h3><blockquote><p>æ•´ç†è‡ª PPTï¼ŒCSAPP å’Œã€Šç‹é“ã€‹</p></blockquote><h4 id="çº¿ç¨‹ä¸è¿›ç¨‹">çº¿ç¨‹ä¸è¿›ç¨‹</h4><blockquote><p>å¼•å…¥è¿›ç¨‹çš„ç›®çš„æ˜¯æ›´å¥½åœ°ä½¿å¤šé“ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡ã€‚</p></blockquote><ul><li><p>å¼•å…¥çº¿ç¨‹çš„ç›®çš„æ˜¯<strong>å‡å°ç¨‹åºåœ¨å¹¶å‘æ‰§è¡Œæ—¶æ‰€ä»˜å‡ºçš„æ—¶ç©ºå¼€é”€</strong>ï¼Œæé«˜æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‚</p></li><li><p>çº¿ç¨‹å¯ç†è§£ä¸ºã€Œè½»é‡çº§è¿›ç¨‹ã€ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºæœ¬çš„ CPUæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œæµçš„<strong>æœ€å°å•å…ƒ</strong>ï¼Œç”±çº¿ç¨‹IDã€ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨é›†åˆå’Œå †æ ˆç»„æˆã€‚</p><blockquote><p>çº¿ç¨‹åŒ…å« CPU ç°åœºï¼Œå¯ä»¥ç‹¬ç«‹æ‰§è¡Œç¨‹åº</p></blockquote></li><li><p>çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¢«<strong>ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½</strong>ï¼Œæ˜¯è¿›ç¨‹å†…ä¸€ä¸ª<strong>ç›¸å¯¹ç‹¬ç«‹çš„å¯è°ƒåº¦çš„æ‰§è¡Œå•å…ƒ</strong>ã€‚</p></li><li><p>çº¿ç¨‹è‡ªå·±ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹å„¿åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä½†å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹<strong>å…±äº«è¿›ç¨‹</strong>æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚</p></li><li><p>ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œ<strong>åŒä¸€è¿›ç¨‹</strong>ä¸­çš„<strong>å¤šä¸ªçº¿ç¨‹</strong>ä¹‹é—´å¯ä»¥<strong>å¹¶å‘</strong>æ‰§è¡Œã€‚</p></li><li><p>ç”±äºçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’åˆ¶çº¦ï¼Œè‡´ä½¿çº¿ç¨‹åœ¨è¿è¡Œä¸­å‘ˆç°å‡º<strong>é—´æ–­æ€§</strong>ï¼Œä¹Ÿæœ‰å°±ç»ªã€é˜»å¡å’Œè¿è¡Œä¸‰ç§åŸºæœ¬çŠ¶æ€ã€‚</p></li><li><p>å¼•å…¥çº¿ç¨‹åï¼Œè¿›ç¨‹åªä½œä¸ºé™¤ CPUå¤–çš„<strong>ç³»ç»Ÿèµ„æºçš„åˆ†é…å•å…ƒ</strong>ï¼Œè€Œçº¿ç¨‹åˆ™ä½œä¸º<strong>å¤„ç†æœºçš„åˆ†é…å•å…ƒ</strong>ã€‚</p></li><li><p>ç”±äºä¸€ä¸ªè¿›ç¨‹å†…éƒ¨æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œè‹¥çº¿ç¨‹çš„åˆ‡æ¢å‘ç”Ÿåœ¨åŒä¸€ä¸ªè¿›ç¨‹å†…éƒ¨ï¼Œåˆ™åªéœ€è¦<strong>å¾ˆå°‘çš„æ—¶ç©ºå¼€é”€</strong>ã€‚</p></li></ul><blockquote><p>è¿›ç¨‹ä¸çº¿ç¨‹çš„æ¯”è¾ƒï¼š</p><ul><li><p>è°ƒåº¦ï¼š</p><ul><li>åœ¨ä¼ ç»Ÿçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œæ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½éƒ½æ˜¯è¿›ç¨‹ã€‚</li><li>åœ¨å¼•å…¥çº¿ç¨‹çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œ<strong>çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½</strong>ï¼Œ<strong>è¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½</strong>ã€‚</li><li>åœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ä¸ä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ã€‚</li><li><strong>åœ¨ä¸åŒè¿›ç¨‹ä¸­è¿›è¡Œçº¿ç¨‹åˆ‡æ¢ï¼Œå¦‚ä»ä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ—¶ï¼Œä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢</strong>ã€‚</li></ul><blockquote><p>ç”±äºæœ‰äº†çº¿ç¨‹ï¼Œçº¿ç¨‹åˆ‡æ¢æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‘ç”Ÿè¿›ç¨‹åˆ‡æ¢ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸å‘ç”Ÿè¿›ç¨‹åˆ‡æ¢ï¼Œå¹³æ‘Šä¸‹æ¥<strong>æ¯æ¬¡åˆ‡æ¢æ‰€éœ€çš„å¼€é”€å°±å˜å°</strong>äº†ï¼Œå› æ­¤èƒ½å¤Ÿè®©æ›´å¤šçš„çº¿ç¨‹å‚ä¸å¹¶å‘ï¼Œè€Œä¸ä¼šå½±å“åˆ°<strong>å“åº”æ—¶é—´</strong>ç­‰é—®é¢˜ã€‚</p></blockquote></li><li><p>æ‹¥æœ‰èµ„æºï¼š</p><p>â€‹ä¸è®ºæ˜¯ä¼ ç»Ÿæ“ä½œç³»ç»Ÿè¿˜æ˜¯è®¾æœ‰çº¿ç¨‹çš„æ“ä½œç³»ç»Ÿï¼Œ<strong>è¿›ç¨‹</strong>éƒ½æ˜¯<strong>æ‹¥æœ‰èµ„æº</strong>ï¼ˆèµ„æºåˆ†é…ï¼‰çš„åŸºæœ¬å•ä½ï¼Œè€Œçº¿ç¨‹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼ˆåªæœ‰ä¸€ç‚¹å¿…è¦çš„èµ„æºï¼‰ï¼Œä½†çº¿ç¨‹å¯ä»¥è®¿é—®å…¶éš¶å±è¿›ç¨‹çš„ç³»ç»Ÿèµ„æºã€‚</p><blockquote><p>è‹¥çº¿ç¨‹ä¹Ÿæ˜¯æ‹¥æœ‰èµ„æºçš„å•ä½ï¼Œåˆ™åˆ‡æ¢çº¿ç¨‹å°±éœ€è¦è¾ƒå¤§çš„æ—¶ç©ºå¼€é”€ï¼Œçº¿ç¨‹è¿™ä¸ªæ¦‚å¿µçš„æå‡ºå°±æ²¡æœ‰æ„ä¹‰ã€‚</p></blockquote></li><li><p>å¹¶å‘æ€§ï¼š</p><p>â€‹åœ¨å¼•å…¥çº¿ç¨‹çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ä»…è¿›ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œè€Œä¸”<strong>å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¹Ÿå¯ä»¥å¹¶å‘æ‰§è¡Œ</strong>ï¼Œä»è€Œä½¿æ“ä½œç³»ç»Ÿå…·æœ‰æ›´å¥½çš„å¹¶å‘æ€§ï¼Œæé«˜äº†ç³»ç»Ÿçš„ååé‡ã€‚</p></li><li><p>ç³»ç»Ÿå¼€é”€ï¼š</p><ul><li>ç”±äºåˆ›å»ºæˆ–æ’¤é”€<strong>è¿›ç¨‹</strong>æ—¶ï¼Œç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€I/Oè®¾å¤‡ç­‰ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿæ‰€ä»˜å‡ºçš„å¼€é”€è¿œå¤§äºåˆ›å»ºæˆ–æ’¤é”€çº¿ç¨‹æ—¶çš„å¼€é”€ã€‚</li><li>åœ¨è¿›è¡Œè¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠå½“å‰æ‰§è¡Œè¿›ç¨‹ CPU ç¯å¢ƒçš„ä¿å­˜åŠæ–°è°ƒåº¦åˆ°è¿›ç¨‹ CPUç¯å¢ƒçš„è®¾ç½®ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢æ—¶<strong>åªéœ€ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨å†…å®¹</strong>ï¼Œå¼€é”€å¾ˆå°ã€‚</li><li>ç”±äºåŒä¸€è¿›ç¨‹å†…çš„å¤šä¸ªçº¿ç¨‹<strong>å…±äº«</strong>è¿›ç¨‹çš„<strong>åœ°å€ç©ºé—´</strong>ï¼Œå› æ­¤è¿™äº›<strong>çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ä¸é€šä¿¡</strong>éå¸¸å®¹æ˜“å®ç°ï¼Œç”šè‡³æ— é¡»æ“ä½œç³»ç»Ÿçš„å¹²é¢„ã€‚</li></ul></li><li><p>åœ°å€ç©ºé—´å’Œå…¶ä»–èµ„æºï¼ˆå¦‚æ‰“å¼€çš„æ–‡ä»¶ï¼‰ï¼š</p><p>â€‹è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼ŒåŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹é—´å…±äº«è¿›ç¨‹çš„èµ„æºï¼ŒæŸè¿›ç¨‹å†…çš„çº¿ç¨‹å¯¹äºå…¶ä»–è¿›ç¨‹ä¸å¯è§ã€‚</p></li><li><p>é€šä¿¡æ–¹é¢ï¼š</p><p>â€‹è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰éœ€è¦è¿›ç¨‹åŒæ­¥å’Œäº’æ–¥æ‰‹æ®µçš„è¾…åŠ©ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œè€Œçº¿ç¨‹é—´å¯ä»¥ç›´æ¥è¯»/å†™è¿›ç¨‹æ•°æ®æ®µï¼ˆå¦‚å…¨å±€å˜é‡ï¼‰æ¥è¿›è¡Œé€šä¿¡ã€‚</p></li><li><p>å…³ç³»ï¼š</p><ul><li>çº¿ç¨‹ä¸åƒè¿›ç¨‹é‚£æ ·ï¼Œä¸æ˜¯æŒ‰ç…§ä¸¥æ ¼çš„çˆ¶å­å±‚æ¬¡æ¥ç»„ç»‡çš„ã€‚</li><li>å’Œä¸€ä¸ªè¿›ç¨‹ç›¸å…³çš„çº¿ç¨‹ç»„æˆä¸€ä¸ª<strong>å¯¹ç­‰ï¼ˆçº¿ç¨‹ï¼‰æ± </strong>ï¼Œç‹¬ç«‹äºå…¶ä»–çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹ã€‚</li><li><strong>ä¸»çº¿ç¨‹</strong>å’Œå…¶ä»–çº¿ç¨‹çš„åŒºåˆ«ä»…åœ¨äºå®ƒæ€»æ˜¯è¿›ç¨‹ä¸­ç¬¬ä¸€ä¸ªè¿è¡Œçš„çº¿ç¨‹ã€‚</li><li>å¯¹ç­‰ï¼ˆçº¿ç¨‹ï¼‰æ± æ¦‚å¿µçš„ä¸»è¦å½±å“æ˜¯ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ€æ­»å®ƒçš„ä»»ä½•å¯¹ç­‰çº¿ç¨‹ï¼Œæˆ–è€…ç­‰å¾…å®ƒçš„ä»»æ„å¯¹ç­‰çº¿ç¨‹ç»ˆæ­¢ï¼Œéƒ½èƒ½è¯»å†™ç›¸åŒçš„å…±äº«æ•°æ®ã€‚</li></ul></li></ul></blockquote><h3 id="çº¿ç¨‹çš„å®ç°æ–¹å¼ç†è§£">çº¿ç¨‹çš„å®ç°æ–¹å¼ï¼ˆç†è§£ï¼‰</h3><ul><li><p>çº¿ç¨‹çš„å®ç°åˆ†ä¸ºä¸¤ç±»ï¼š</p><p>â€‹ <strong>ç”¨æˆ·çº§çº¿ç¨‹</strong>ï¼ˆUser-LevelThreadï¼ŒULTï¼‰å’Œ<strong>å†…æ ¸çº§çº¿ç¨‹</strong>ï¼ˆKernel-LevelThreadï¼ŒKLTï¼‰ï¼Œå†…æ ¸çº§çº¿ç¨‹åˆç§°<strong>å†…æ ¸æ”¯æŒçš„çº¿ç¨‹</strong>ã€‚</p></li><li><p>ç”¨æˆ·çº§çº¿ç¨‹ï¼š</p><ul><li>æœ‰å…³çº¿ç¨‹ç®¡ç†ï¼ˆçº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢ç­‰ï¼‰çš„æ‰€æœ‰å·¥ä½œéƒ½ç”±<strong>åº”ç”¨ç¨‹åº</strong>å®Œæˆï¼Œå†…æ ¸æ„è¯†ä¸åˆ°çº¿ç¨‹çš„å­˜åœ¨ã€‚</li><li>åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä½¿ç”¨çº¿ç¨‹åº“è®¾è®¡æˆ<strong>å¤šçº¿ç¨‹ç¨‹åº</strong>ã€‚</li><li>åº”ç”¨ç¨‹åºä»<strong>å•çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰</strong>å¼€å§‹ï¼Œåœ¨è¯¥çº¿ç¨‹ä¸­å¼€å§‹è¿è¡Œï¼Œåœ¨å…¶è¿è¡Œçš„ä»»ä½•æ—¶åˆ»ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨çº¿ç¨‹åº“ä¸­çš„æ´¾ç”Ÿä¾‹ç¨‹åˆ›å»ºä¸€ä¸ªåœ¨ç›¸åŒè¿›ç¨‹ä¸­è¿è¡Œçš„<strong>æ–°çº¿ç¨‹ï¼ˆå¯¹ç­‰çº¿ç¨‹ï¼‰</strong>ã€‚</li></ul></li><li><p>å†…æ ¸çº§çº¿ç¨‹ï¼š</p><ul><li>åœ¨å†…æ ¸çº§çº¿ç¨‹ä¸­ï¼Œçº¿ç¨‹ç®¡ç†çš„æ‰€æœ‰å·¥ä½œç”±å†…æ ¸å®Œæˆï¼Œåº”ç”¨ç¨‹åºæ²¡æœ‰è¿›è¡Œçº¿ç¨‹ç®¡ç†çš„ä»£ç ï¼Œåªæœ‰ä¸€ä¸ªåˆ°å†…æ ¸çº§çº¿ç¨‹çš„ç¼–ç¨‹æ¥å£ã€‚</li><li>å†…æ ¸ä¸ºè¿›ç¨‹åŠå…¶å†…éƒ¨çš„æ¯ä¸ªçº¿ç¨‹ç»´æŠ¤ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè°ƒåº¦ä¹Ÿåœ¨å†…æ ¸åŸºäºçº¿ç¨‹æ¶æ„çš„åŸºç¡€ä¸Šå®Œæˆã€‚</li></ul></li><li><p>ç»„åˆï¼š</p><ul><li><p>æœ‰äº›ç³»ç»Ÿä¸­ä½¿ç”¨ç»„åˆæ–¹å¼çš„<strong>å¤šçº¿ç¨‹å®ç°</strong>ã€‚çº¿ç¨‹åˆ›å»ºå®Œå…¨åœ¨ç”¨æˆ·ç©ºé—´ä¸­å®Œæˆï¼Œçº¿ç¨‹çš„è°ƒåº¦å’ŒåŒæ­¥ä¹Ÿåœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œã€‚</p></li><li><p>ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­çš„å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹è¢«<strong>æ˜ å°„</strong>åˆ°ä¸€äº›ï¼ˆå°äºç­‰äºç”¨æˆ·çº§çº¿ç¨‹çš„æ•°ç›®ï¼‰å†…æ ¸çº§çº¿ç¨‹ä¸Šã€‚</p><blockquote><p>ç»„åˆæ¨¡å¼çš„å¤šçº¿ç¨‹æ¨¡å‹ï¼š</p><ul><li><p>å¤šå¯¹ä¸€æ¨¡å‹ï¼š</p><p>â€‹å°†å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼Œçº¿ç¨‹ç®¡ç†åœ¨ç”¨æˆ·ç©ºé—´å®Œæˆã€‚æ­¤æ¨¡å¼ä¸­ï¼Œ<strong>ç”¨æˆ·çº§çº¿ç¨‹å¯¹æ“ä½œç³»ç»Ÿä¸å¯è§</strong>ï¼ˆå³<strong>é€æ˜</strong>ï¼Œaå¯¹ b é€æ˜åœ¨è®¡ç®—æœºé¢†åŸŸæ˜¯åœ¨ b çš„è§’åº¦ a ä¸å¯è§çš„æ„æ€ï¼‰ã€‚</p><ul><li><p>ä¼˜ç‚¹ï¼š</p><p>â€‹çº¿ç¨‹ç®¡ç†æ˜¯åœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œçš„ï¼Œæ•ˆç‡é«˜ï¼Œ<strong>ç›¸åŒæ˜ å°„</strong>çš„<strong>ç”¨æˆ·çº§çº¿ç¨‹</strong>ä¹‹é—´çš„åˆ‡æ¢ä¸éœ€è¦åœ¨å†…æ ¸çº§ä¸­åˆ‡æ¢ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li><strong>ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨å†…æ ¸æœåŠ¡æ—¶è¢«é˜»å¡ï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½ä¼šè¢«é˜»å¡</strong></li><li>ä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®å†…æ ¸ï¼Œå¯¼è‡´å¤šä¸ªçº¿ç¨‹<strong>ä¸èƒ½å¹¶è¡Œ</strong>åœ°è¿è¡Œåœ¨å¤šå¤„ç†æœºä¸Šã€‚</li></ul></li></ul></li><li><p>ä¸€å¯¹ä¸€æ¨¡å‹ï¼š</p><p>â€‹ å°†æ¯ä¸ªç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚</p><ul><li><p>ä¼˜ç‚¹ï¼š</p><p>â€‹å½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡åï¼Œå…è®¸å¦ä¸€ä¸ªçº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼Œæ‰€ä»¥<strong>å¹¶å‘èƒ½åŠ›</strong>è¾ƒå¼ºã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><p>â€‹æ¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·çº§çº¿ç¨‹éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ä¸å…¶å¯¹åº”ï¼Œè¿™æ ·åˆ›å»ºçº¿ç¨‹çš„<strong>å¼€é”€</strong>æ¯”è¾ƒå¤§ï¼Œä¼šå½±å“åˆ°åº”ç”¨ç¨‹åºçš„æ€§èƒ½</p></li></ul></li><li><p>å¤šå¯¹å¤šæ¨¡å‹ï¼š</p><p>â€‹ å°† <span class="math inline">\(n\)</span> ä¸ªç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ° <span class="math inline">\(m\)</span> ä¸ªå†…æ ¸çº§çº¿ç¨‹ä¸Šï¼Œè¦æ±‚ <span class="math inline">\(n\ge m\)</span>ã€‚é›†å‰ä¸¤è€…ä¹‹æ‰€é•¿ã€‚</p></li></ul></blockquote></li></ul></li></ul><h4 id="posix-çº¿ç¨‹">Posix çº¿ç¨‹</h4><ul><li><p>Posix çº¿ç¨‹ï¼ˆPthreadsï¼‰æ˜¯åœ¨ Cç¨‹åºä¸­å¤„ç†çº¿ç¨‹çš„ä¸€ä¸ªæ ‡å‡†æ¥å£ï¼Œåœ¨æ‰€æœ‰çš„ Linux ç³»ç»Ÿä¸Šéƒ½å¯ç”¨ã€‚</p></li><li><p>Pthreads å®šä¹‰äº†å¤§çº¦ <span class="math inline">\(60\)</span>ä¸ªå‡½æ•°ï¼Œå…è®¸ç¨‹åº<strong>åˆ›å»ºã€æ€æ­»å’Œå›æ”¶</strong>çº¿ç¨‹ï¼Œä¸å¯¹ç­‰çº¿ç¨‹<strong>å®‰å…¨åœ°å…±äº«æ•°æ®</strong>ï¼Œè¿˜å¯ä»¥<strong>é€šçŸ¥</strong>å¯¹ç­‰çº¿ç¨‹ç³»ç»ŸçŠ¶æ€çš„å˜åŒ–ã€‚</p></li><li><p>åˆ›å»ºçº¿ç¨‹ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è‹¥åˆ›å»ºæˆåŠŸåˆ™è¿”å› 0, è‹¥å‡ºé”™åˆ™ä¸ºéé›¶ã€‚</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pthread_create</span><span class="hljs-params">(<span class="hljs-keyword">pthread_t</span> *tid,          <span class="hljs-comment">// æ–°åˆ›å»ºçº¿ç¨‹çš„ ID</span></span></span><br><span class="hljs-params"><span class="hljs-function">                   <span class="hljs-keyword">pthread_attr_t</span> *attr,    <span class="hljs-comment">// è®¾ç½®æ–°åˆ›å»ºçº¿ç¨‹çš„å±æ€§,ä¸º NULL å°±å¥½</span></span></span><br><span class="hljs-params"><span class="hljs-function">                   func *f,                 <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹åå°†æ‰§è¡Œçš„ç¨‹åºï¼ˆçº¿ç¨‹ä¾‹ç¨‹ï¼‰</span></span></span><br><span class="hljs-params"><span class="hljs-function">                   <span class="hljs-keyword">void</span> *arg)</span></span><br><span class="hljs-function"><span class="hljs-comment">// arg æ˜¯ä¸€ä¸ªå¯ä»¥ä¼ é€’ç»™å¼€å§‹ç¨‹åºçš„å‚æ•°ã€‚å®ƒå¿…é¡»ä½œä¸ºç©ºç±»å‹çš„æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚å¦‚æœä¸ä¼ é€’ä»»ä½•å‚æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ NULLã€‚</span></span><br></code></pre></td></tr></tbody></table></figure><p>æ–°çº¿ç¨‹å¯ä»¥è°ƒç”¨ <code>pthread_self(void)</code> æ¥è·å¾—å®ƒè‡ªå·±çš„çº¿ç¨‹IDã€‚</p><blockquote><p>CSAPP ä¸­ä½¿ç”¨<strong>çº¿ç¨‹ä¾‹ç¨‹</strong>çš„æ¦‚å¿µï¼š</p><ul><li>çº¿ç¨‹çš„<strong>ä»£ç å’Œæœ¬åœ°æ•°æ®</strong>è¢«å°è£…åœ¨ä¸€ä¸ªçº¿ç¨‹ä¾‹ç¨‹ï¼ˆthreadroutineï¼‰ä¸­ã€‚</li><li>æ¯ä¸ªçº¿ç¨‹ä¾‹ç¨‹éƒ½ä»¥ä¸€ä¸ª<strong>é€šç”¨æŒ‡é’ˆä½œä¸ºè¾“å…¥</strong>ï¼Œå¹¶è¿”å›ä¸€ä¸ªé€šç”¨æŒ‡é’ˆã€‚</li></ul></blockquote></li><li><p>ç»ˆæ­¢çº¿ç¨‹ï¼š</p><ul><li><p>éšå¼ç»ˆæ­¢ï¼š</p><ul><li>å½“é¡¶å±‚çš„<strong>çº¿ç¨‹ä¾‹ç¨‹è¿”å›</strong>æ—¶ï¼Œçº¿ç¨‹ä¼šéšå¼åœ°ç»ˆæ­¢ã€‚</li><li>æ‰€å±è¿›ç¨‹</li></ul></li><li><p>æ˜¾å¼ç»ˆæ­¢ï¼š</p><p>â€‹ é€šè¿‡è°ƒç”¨ <code>pthread_exit</code>å‡½æ•°ï¼Œçº¿ç¨‹ä¼šæ˜¾å¼åœ°ç»ˆæ­¢ã€‚å¦‚æœä¸»çº¿ç¨‹è°ƒç”¨<code>pthread_exit</code>ï¼Œå®ƒä¼š<strong>ç­‰å¾…</strong>æ‰€æœ‰å…¶ä»–<strong>å¯¹ç­‰çº¿ç¨‹</strong>ç»ˆæ­¢ï¼Œç„¶åå†ç»ˆæ­¢ä¸»çº¿ç¨‹å’Œæ•´ä¸ªè¿›ç¨‹ï¼Œè¿”å›å€¼ä¸º<code>thread_return</code>ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ— è¿”å›å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pthread_exit</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *thread_return)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p>é˜»å¡çº¿ç¨‹ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è‹¥åˆ›å»ºæˆåŠŸåˆ™è¿”å› 0, è‹¥å‡ºé”™åˆ™ä¸ºéé›¶ã€‚</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pthread_join</span><span class="hljs-params">(<span class="hljs-keyword">pthread_t</span> tid, <span class="hljs-keyword">void</span> **thread_return)</span></span><br></code></pre></td></tr></tbody></table></figure><ul><li><code>pthread-join</code> å‡½æ•°ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°çº¿ç¨‹<code>tid</code> ç»ˆæ­¢ï¼Œå°†çº¿ç¨‹ä¾‹ç¨‹è¿”å›çš„é€šç”¨ <code>(void*)</code>æŒ‡é’ˆèµ‹å€¼ä¸º <code>thread-return</code>æŒ‡å‘çš„ä½ç½®ï¼Œç„¶åå›æ”¶å·²ç»ˆæ­¢çº¿ç¨‹å ç”¨çš„æ‰€æœ‰å†…å­˜èµ„æºã€‚</li><li>ä¸åŒäº <code>wait</code>ï¼Œ<code>pthread_join</code>åªèƒ½ç­‰å¾…<strong>ä¸€ä¸ªæŒ‡å®šçš„çº¿ç¨‹</strong>ç»ˆæ­¢ã€‚</li></ul></li><li><p>åˆ†ç¦»çº¿ç¨‹ï¼š</p><ul><li><p>åœ¨ä»»ä½•ä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œçº¿ç¨‹æ˜¯å¯ç»“åˆçš„ï¼ˆjoinableï¼‰æˆ–è€…æ˜¯åˆ†ç¦»çš„ï¼ˆdetachedï¼‰ã€‚</p></li><li><p>ä¸€ä¸ªå¯ç»“åˆçš„çº¿ç¨‹èƒ½å¤Ÿ<strong>è¢«å…¶ä»–çº¿ç¨‹æ”¶å›å’Œæ€æ­»</strong>ã€‚åœ¨<strong>è¢«å…¶ä»–çº¿ç¨‹å›æ”¶ä¹‹å‰</strong>ï¼Œå®ƒçš„å†…å­˜èµ„æºï¼ˆä¾‹å¦‚æ ˆï¼‰æ˜¯ä¸é‡Šæ”¾çš„ã€‚</p></li><li><p>è€Œä¸€ä¸ªåˆ†ç¦»çš„çº¿ç¨‹æ˜¯ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹å›æ”¶æˆ–æ€æ­»çš„ã€‚å®ƒçš„å†…å­˜èµ„æºåœ¨<strong>å®ƒç»ˆæ­¢æ—¶ç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾</strong>ã€‚</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿ç¨‹<strong>è¢«åˆ›å»ºæˆå¯ç»“åˆçš„</strong>ã€‚ä¸ºäº†é¿å…å†…å­˜æ³„æ¼ï¼Œæ¯ä¸ªå¯ç»“åˆçº¿ç¨‹éƒ½åº”è¯¥è¦ä¹ˆè¢«å…¶ä»–çº¿ç¨‹æ˜¾å¼åœ°æ”¶å›ï¼Œè¦ä¹ˆé€šè¿‡è°ƒç”¨<code>pthread detach</code> å‡½æ•°è¢«åˆ†ç¦»ã€‚</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è‹¥åˆ›å»ºæˆåŠŸåˆ™è¿”å› 0, è‹¥å‡ºé”™åˆ™ä¸ºéé›¶ã€‚</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pthread_detach</span><span class="hljs-params">(<span class="hljs-keyword">pthread_t</span> tid)</span></span>;<br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="çº¿ç¨‹åŒæ­¥">çº¿ç¨‹åŒæ­¥</h3><blockquote><p>ä¹Ÿæœ‰å«è¿›ç¨‹åŒæ­¥ï¼Œåº”è¯¥æ²¡åŒºåˆ«å§<span class="">ğŸ‘¶</span></p><p>æ•´ç†è‡ª PPT å’Œã€Šç‹é“ã€‹ï¼Œã€Šç‹é“ã€‹é¢˜ç›®é‡å·¨å¤§</p></blockquote><h4 id="çº¿ç¨‹å†…å­˜æ¨¡å‹">çº¿ç¨‹å†…å­˜æ¨¡å‹</h4><ul><li><p>ä¸€ç»„<strong>å¹¶å‘çº¿ç¨‹</strong>è¿è¡Œåœ¨ä¸€<strong>ä¸ªè¿›ç¨‹çš„ä¸Šä¸‹æ–‡</strong>ä¸­ã€‚</p></li><li><p>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å®ƒè‡ªå·±<strong>ç‹¬ç«‹</strong>çš„<strong>çº¿ç¨‹ä¸Šä¸‹æ–‡</strong>ï¼ŒåŒ…æ‹¬<strong>çº¿ç¨‹IDã€æ ˆã€æ ˆæŒ‡é’ˆã€ç¨‹åºè®¡æ•°å™¨ã€æ¡ä»¶ç å’Œé€šç”¨ç›®çš„å¯„å­˜å™¨å€¼</strong>ã€‚</p></li><li><p>æ¯ä¸ªçº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹ä¸€èµ·<strong>å…±äº«</strong>è¿›ç¨‹ä¸Šä¸‹æ–‡çš„<strong>å‰©ä½™éƒ¨åˆ†</strong>ã€‚</p><blockquote><p>å…±äº«åŒºåŸŸï¼š</p><ul><li>æ•´ä¸ªç”¨æˆ·è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå®ƒæ˜¯ç”±åªè¯»æ–‡æœ¬ï¼ˆä»£ç ï¼‰ã€è¯»/å†™æ•°æ®ã€å †ä»¥åŠæ‰€æœ‰çš„å…±äº«åº“ä»£ç å’Œæ•°æ®åŒºåŸŸç»„æˆçš„ã€‚</li><li>çº¿ç¨‹ä¹Ÿå…±äº«ç›¸åŒçš„æ‰“å¼€æ–‡ä»¶çš„é›†åˆã€‚</li></ul></blockquote></li><li><p>å¯„å­˜å™¨æ˜¯ä»ä¸å…±äº«çš„ï¼Œè€Œè™šæ‹Ÿå†…å­˜æ€»æ˜¯å…±äº«çš„ã€‚</p></li><li><p>å˜é‡æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜ï¼š</p><ul><li><p>å…¨å±€å˜é‡ï¼š</p><ul><li>å…¨å±€å˜é‡æ˜¯å®šä¹‰åœ¨<strong>å‡½æ•°ä¹‹å¤–</strong>çš„å˜é‡ã€‚</li><li>åœ¨è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿå†…å­˜çš„è¯»/å†™åŒºåŸŸ<strong>åªåŒ…å«</strong>æ¯ä¸ªå…¨å±€å˜é‡çš„<strong>ä¸€ä¸ªå®ä¾‹</strong>ï¼Œä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥å¼•ç”¨ã€‚</li></ul></li><li><p>æœ¬åœ°è‡ªåŠ¨å˜é‡ï¼š</p><ul><li>æœ¬åœ°è‡ªåŠ¨å˜é‡å°±æ˜¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨ä½†æ˜¯<strong>æ²¡æœ‰ staticå±æ€§</strong>çš„å˜é‡ã€‚</li><li>åœ¨è¿è¡Œæ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹çš„<strong>æ ˆ</strong>éƒ½åŒ…å«å®ƒè‡ªå·±çš„æ‰€æœ‰æœ¬åœ°è‡ªåŠ¨å˜é‡çš„å®ä¾‹ã€‚å³ä½¿å¤šä¸ªçº¿ç¨‹æ‰§è¡ŒåŒä¸€ä¸ªçº¿ç¨‹ä¾‹ç¨‹æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li></ul></li><li><p>æœ¬åœ°é™æ€å˜é‡ï¼š</p><ul><li>æœ¬åœ°é™æ€å˜é‡æ˜¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨å¹¶<strong>æœ‰ staticå±æ€§</strong>çš„å˜é‡ã€‚</li><li>å’Œå…¨å±€å˜é‡ä¸€æ ·ï¼Œè™šæ‹Ÿå†…å­˜çš„è¯»/å†™åŒºåŸŸåªåŒ…å«åœ¨ç¨‹åºä¸­å£°æ˜çš„æ¯ä¸ªæœ¬åœ°é™æ€å˜é‡çš„<strong>ä¸€ä¸ªå®ä¾‹</strong>ã€‚</li></ul></li><li><p>å…±äº«å˜é‡ï¼š</p><p>â€‹ å…±äº«å˜é‡çš„ä¸€ä¸ªå®ä¾‹è¢«<strong>ä¸€ä¸ªä»¥ä¸Šçš„çº¿ç¨‹</strong>å¼•ç”¨ã€‚</p><blockquote><p><strong>æœ¬åœ°è‡ªåŠ¨å˜é‡ä¹Ÿèƒ½è¢«å…±äº«</strong>ï¼Œå¯èƒ½è¢«å…¶ä»–çº¿ç¨‹é€šè¿‡æŒ‡é’ˆé—´æ¥å¼•ç”¨ã€‚</p></blockquote></li></ul></li></ul><h4 id="åŒæ­¥é—®é¢˜">åŒæ­¥é—®é¢˜</h4><ul><li><p>äº”ä¸ªé˜¶æ®µï¼š</p><ul><li><p><span class="math inline">\(H_{i}\)</span>ï¼š</p><p>â€‹ åœ¨å¾ªç¯å¤´éƒ¨çš„æŒ‡ä»¤å—ã€‚</p></li><li><p><span class="math inline">\(L_{i}\)</span>ï¼ˆloadï¼‰ï¼š</p><p>â€‹ åŠ è½½å…±äº«å˜é‡ <span class="math inline">\(cnt\)</span> åˆ°ç´¯åŠ å¯„å­˜å™¨<span class="math inline">\(\mathrm{rdx}_{i}\)</span> çš„æŒ‡ä»¤, è¿™é‡Œ <span class="math inline">\(\mathrm{rdx}_{i}\)</span> è¡¨ç¤ºçº¿ç¨‹ <span class="math inline">\(i\)</span> ä¸­çš„å¯„å­˜å™¨ <span class="math inline">\(\mathrm{rdx}_{i}\)</span> çš„å€¼ã€‚</p></li><li><p><span class="math inline">\(U_i\)</span>ï¼ˆupdateï¼‰ï¼š</p><p>â€‹ æ›´æ–°ï¼ˆå¢åŠ ï¼‰<span class="math inline">\(\mathrm{rdx}_{i}\)</span>ã€‚</p></li><li><p><span class="math inline">\(S_{i}\)</span>ï¼ˆstoreï¼‰ï¼š</p><p>â€‹ å°† <span class="math inline">\(\mathrm{rdx}_{i}\)</span>çš„æ›´æ–°å€¼å­˜å›åˆ°å…±äº«å˜é‡ <span class="math inline">\(cnt\)</span>çš„æŒ‡ä»¤ã€‚</p></li><li><p><span class="math inline">\(T_{i}\)</span>ï¼š</p><p>â€‹ å¾ªç¯å°¾éƒ¨çš„æŒ‡ä»¤å—ã€‚</p></li></ul></li><li><p>è¿›åº¦å›¾ï¼š</p><ul><li><p><strong>è¿›åº¦å›¾</strong>å°† <span class="math inline">\(n\)</span>ä¸ªå¹¶å‘çº¿ç¨‹çš„æ‰§è¡Œæ¨¡å‹åŒ–ä¸ºä¸€æ¡ <span class="math inline">\(n\)</span>ç»´ç¬›å¡å„¿ç©ºé—´ä¸­çš„è½¨è¿¹çº¿ã€‚</p></li><li><p>æ¯æ¡è½´ <span class="math inline">\(k\)</span> å¯¹åº”äºçº¿ç¨‹ <span class="math inline">\(k\)</span> çš„è¿›åº¦ã€‚</p></li><li><p>æ¯ä¸ªç‚¹ <span class="math inline">\(\left(I_{1}, I_{2}, \cdots,I_{n}\right)\)</span> ä»£è¡¨çº¿ç¨‹ <span class="math inline">\(k(k=1,\cdots, n)\)</span> å·²ç»<strong>å®Œæˆ</strong>äº†æŒ‡ä»¤ <span class="math inline">\(I_{k}\)</span> è¿™ä¸€çŠ¶æ€ã€‚</p></li><li><p>å›¾çš„<strong>åŸç‚¹</strong>å¯¹åº”äº<strong>æ²¡æœ‰ä»»ä½•çº¿ç¨‹å®Œæˆä¸€æ¡æŒ‡ä»¤</strong>çš„åˆå§‹çŠ¶æ€ã€‚</p></li><li><p>è¿›åº¦å›¾å°†æŒ‡ä»¤æ‰§è¡Œæ¨¡å‹åŒ–ä¸ºä»ä¸€ç§çŠ¶æ€åˆ°å¦ä¸€ç§çŠ¶æ€çš„<strong>è½¬æ¢</strong>ã€‚</p></li><li><p>è½¬æ¢è¢«è¡¨ç¤ºä¸ºä¸€æ¡ä»ä¸€ç‚¹åˆ°ç›¸é‚»ç‚¹çš„<strong>æœ‰å‘è¾¹</strong>ã€‚å‘ä¸‹æˆ–è€…å‘å·¦ç§»åŠ¨çš„è½¬æ¢ä¹Ÿæ˜¯ä¸åˆæ³•çš„ã€‚</p></li><li><p>å¯¹äºçº¿ç¨‹ <span class="math inline">\(i\)</span>ï¼Œæ“ä½œå…±äº«å˜é‡<span class="math inline">\(cnt\)</span> å†…å®¹çš„æŒ‡ä»¤ <span class="math inline">\(\left(L_{i}, U_{i}, S_{i}\right)\)</span>æ„æˆäº†ä¸€ä¸ªï¼ˆå…³äºå…±äº«å˜é‡ <span class="math inline">\(cnt\)</span>çš„ï¼‰<strong>ä¸´ç•ŒåŒº</strong>ï¼ˆcriticalsectionï¼‰ï¼Œè¿™ä¸ªä¸´ç•ŒåŒº<strong>ä¸åº”è¯¥å’Œå…¶ä»–è¿›ç¨‹çš„ä¸´ç•ŒåŒºäº¤æ›¿æ‰§è¡Œ</strong>ã€‚</p><blockquote><p><strong>ä¸´ç•ŒåŒº</strong>æ˜¯æŒ‡è¿›ç¨‹ä¸­ç”¨äºè®¿é—®<strong>ä¸´ç•Œèµ„æº</strong>çš„<strong>é‚£æ®µä»£ç </strong>ã€‚</p></blockquote></li><li><p>æƒ³è¦ç¡®ä¿æ¯ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œå®ƒçš„ä¸´ç•ŒåŒºä¸­çš„æŒ‡ä»¤æ—¶,æ‹¥æœ‰å¯¹å…±äº«å˜é‡çš„<strong>äº’æ–¥çš„è®¿é—®</strong>ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºäº’æ–¥ã€‚</p></li><li><p>åœ¨è¿›åº¦å›¾ä¸­,ä¸¤ä¸ªä¸´ç•ŒåŒºçš„äº¤é›†å½¢æˆçš„çŠ¶æ€ç©ºé—´åŒºåŸŸç§°ä¸º<strong>ä¸å®‰å…¨åŒº</strong>ã€‚</p><blockquote><p>ä¸å®‰å…¨åŒºå’Œä¸å®ƒäº¤ç•Œçš„çŠ¶æ€ç›¸æ¯—é‚»ï¼Œä½†<strong>å¹¶ä¸åŒ…æ‹¬è¿™äº›çŠ¶æ€</strong>ã€‚</p><p>ä¾‹å¦‚ï¼ŒçŠ¶æ€ <span class="math inline">\(\left(H_{1},H_{2}\right)\)</span> å’Œ <span class="math inline">\(\left(S_{1},U_{2}\right)\)</span> æ¯—é‚»ä¸å®‰å…¨åŒºï¼Œä½†æ˜¯å®ƒä»¬å¹¶ä¸æ˜¯ä¸å®‰å…¨åŒºçš„ä¸€éƒ¨åˆ†ã€‚</p><p>ç»•å¼€ä¸å®‰å…¨åŒºçš„è½¨è¿¹çº¿å«åšå®‰å…¨è½¨è¿¹çº¿ï¼Œæ¥è§¦åˆ°ä»»ä½•ä¸å®‰å…¨åŒºçš„è½¨è¿¹çº¿å°±å«åšä¸å®‰å…¨è½¨è¿¹çº¿ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210921211420273.png" alt="image-20210921211420273"></div></blockquote></li></ul></li><li><p>åŒæ­¥ä¸äº’æ–¥ï¼š</p><ul><li><p>åŒæ­¥ï¼ˆ<strong>ç›´æ¥åˆ¶çº¦</strong>å…³ç³»ï¼‰å®šä¹‰ï¼š</p><ul><li><p><strong>åŒæ­¥</strong>æŒ‡ä¸ºå®ŒæˆæŸç§ä»»åŠ¡è€Œå»ºç«‹çš„<strong>ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹</strong>ï¼Œè¿™äº›è¿›ç¨‹å› ä¸ºéœ€è¦åœ¨æŸäº›ä½ç½®ä¸Šåè°ƒå®ƒä»¬çš„å·¥ä½œæ¬¡åºè€Œ<strong>ç­‰å¾…ã€ä¼ é€’</strong>ä¿¡æ¯æ‰€äº§ç”Ÿçš„åˆ¶çº¦å…³ç³»ã€‚</p></li><li><p>è¿›ç¨‹é—´çš„ç›´æ¥åˆ¶çº¦å…³ç³»<strong>æºäºå®ƒä»¬ä¹‹é—´çš„ç›¸äº’åˆä½œ</strong>ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼š</p><ul><li><p>è¾“å…¥è¿›ç¨‹ A é€šè¿‡å•ç¼“å†²å‘è¿›ç¨‹ B æä¾›æ•°æ®ã€‚</p></li><li><p>å½“è¯¥ç¼“å†²åŒºç©ºæ—¶ï¼Œè¿›ç¨‹ B ä¸èƒ½è·å¾—æ‰€éœ€æ•°æ®è€Œé˜»å¡ï¼Œä¸€æ—¦è¿›ç¨‹ Aå°†æ•°æ®é€å…¥ç¼“å†²åŒºï¼Œè¿›ç¨‹ B å°±è¢«å”¤é†’ã€‚</p></li><li><p>å½“ç¼“å†²åŒºæ»¡æ—¶ï¼Œè¿›ç¨‹ A è¢«é˜»å¡ï¼Œä»…å½“è¿›ç¨‹ Bå–èµ°ç¼“å†²æ•°æ®æ—¶ï¼Œæ‰å”¤é†’è¿›ç¨‹ Aã€‚</p></li></ul></blockquote></li></ul></li><li><p>äº’æ–¥ï¼ˆ<strong>é—´æ¥åˆ¶çº¦</strong>å…³ç³»ï¼‰å®šä¹‰ï¼š</p><ul><li><p>å½“ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒº<strong>ä½¿ç”¨ä¸´ç•Œèµ„æº</strong>æ—¶ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹å¿…é¡»<strong>ç­‰å¾…</strong>ã€‚</p></li><li><p>å½“å ç”¨ä¸´ç•Œèµ„æºçš„è¿›ç¨‹<strong>é€€å‡º</strong>ä¸´ç•ŒåŒºåï¼Œå¦ä¸€è¿›ç¨‹æ‰å…è®¸å»è®¿é—®æ­¤ä¸´ç•Œèµ„æºã€‚</p></li><li><p>è¿›ç¨‹é—´çš„é—´æ¥åˆ¶çº¦å…³ç³»<strong>æºäºå®ƒä»¬ä¹‹é—´å¯¹ä¸´ç•Œèµ„æºçš„ç›¸äº’ç«äº‰</strong>ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼š</p><ul><li>åœ¨ä»…æœ‰ä¸€å°æ‰“å°æœºçš„ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸¤ä¸ªè¿›ç¨‹ A å’Œè¿›ç¨‹ Bã€‚</li><li>è‹¥è¿›ç¨‹ A éœ€è¦æ‰“å°æ—¶ï¼Œç³»ç»Ÿå·²å°†æ‰“å°æœº<strong>åˆ†é…</strong>ç»™è¿›ç¨‹Bï¼Œåˆ™è¿›ç¨‹ A å¿…é¡»<strong>é˜»å¡</strong>ã€‚</li><li>ä¸€æ—¦è¿›ç¨‹ B å°†æ‰“å°æœº<strong>é‡Šæ”¾</strong>ï¼Œç³»ç»Ÿä¾¿å°†è¿›ç¨‹ A<strong>å”¤é†’</strong>ï¼Œå¹¶å°†å…¶ç”±<strong>é˜»å¡æ€å˜ä¸ºå°±ç»ªæ€</strong>ã€‚</li></ul></blockquote></li></ul></li><li><p>ä¸ºç¦æ­¢ä¸¤ä¸ªè¿›ç¨‹<strong>åŒæ—¶è¿›å…¥</strong>ä¸´ç•ŒåŒºï¼ŒåŒæ­¥æœºåˆ¶åº”éµå¾ªä»¥ä¸‹å‡†åˆ™ï¼š</p><ul><li><p>ç©ºé—²è®©è¿›ï¼š</p><p>â€‹ä¸´ç•ŒåŒº<strong>ç©ºé—²</strong>æ—¶ï¼Œå¯ä»¥<strong>å…è®¸</strong>ä¸€ä¸ª<strong>è¯·æ±‚è¿›å…¥ä¸´ç•ŒåŒº</strong>çš„è¿›ç¨‹ç«‹å³<strong>è¿›å…¥</strong>ä¸´ç•ŒåŒºã€‚</p></li><li><p>å¿™åˆ™ç­‰å¾…ï¼š</p><p>â€‹å½“<strong>å·²æœ‰è¿›ç¨‹</strong>è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œå…¶ä»–è¯•å›¾è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹å¿…é¡»<strong>ç­‰å¾…</strong>ã€‚</p></li><li><p>æœ‰é™ç­‰å¾…ï¼š</p><p>â€‹å¯¹è¯·æ±‚è®¿é—®çš„è¿›ç¨‹ï¼Œåº”ä¿è¯èƒ½åœ¨<strong>æœ‰é™æ—¶é—´</strong>å†…è¿›å…¥ä¸´ç•ŒåŒºï¼ˆä¸ä¸€ç›´ç­‰å¾…ï¼‰ã€‚</p></li><li><p>è®©æƒç­‰å¾…ï¼š</p><p>â€‹å½“è¿›ç¨‹<strong>ä¸èƒ½è¿›å…¥</strong>ä¸´ç•ŒåŒºæ—¶ï¼Œåº”ç«‹å³<strong>é‡Šæ”¾</strong>å¤„ç†å™¨ï¼Œé˜²æ­¢è¿›ç¨‹å¿™ç­‰å¾…ã€‚</p></li></ul></li></ul></li></ul><h4 id="ä¿¡å·é‡">ä¿¡å·é‡</h4><ul><li><p>ä¿¡å·é‡ <span class="math inline">\(s\)</span>æ˜¯å…·æœ‰éè´Ÿæ•´æ•°å€¼çš„å…¨å±€å˜é‡ï¼Œåªèƒ½ç”±ä¸¤ç§ç‰¹æ®Šçš„æ“ä½œæ¥å¤„ç†ï¼Œè¿™ä¸¤ç§æ“ä½œç§°ä¸º<span class="math inline">\(P\)</span> å’Œ <span class="math inline">\(V\)</span> :</p></li><li><p><span class="math inline">\(P(s)\)</span> :</p><ul><li>å¦‚æœ <span class="math inline">\(s\)</span> æ˜¯éé›¶çš„ï¼Œé‚£ä¹ˆ <span class="math inline">\(P\)</span> å°† <span class="math inline">\(s\)</span> å‡ <span class="math inline">\(1\)</span>ï¼Œå¹¶ä¸”<strong>ç«‹å³è¿”å›</strong>ã€‚</li><li>å¦‚æœ <span class="math inline">\(s\)</span>ä¸ºé›¶ï¼Œé‚£ä¹ˆå°±<strong>æŒ‚èµ·è¿™ä¸ªçº¿ç¨‹</strong>ï¼Œç›´åˆ° <span class="math inline">\(s\)</span> å˜ä¸ºéé›¶ï¼Œè€Œä¸€ä¸ª <span class="math inline">\(V\)</span>æ“ä½œä¼š<strong>é‡å¯</strong>è¿™ä¸ªçº¿ç¨‹ã€‚</li><li>åœ¨é‡å¯ä¹‹åï¼Œ<span class="math inline">\(P\)</span> æ“ä½œå°† <span class="math inline">\(s\)</span> å‡ <span class="math inline">\(1\)</span>ï¼Œå¹¶å°†æ§åˆ¶è¿”å›ç»™è°ƒç”¨è€…ã€‚</li></ul></li><li><p><span class="math inline">\(V(s)\)</span>ï¼š</p><ul><li><p><span class="math inline">\(V\)</span> æ“ä½œå°† <span class="math inline">\(s\)</span> åŠ  1ã€‚</p></li><li><p>å¦‚æœæœ‰ä»»ä½•çº¿ç¨‹<strong>é˜»å¡</strong>åœ¨ <span class="math inline">\(P\)</span> æ“ä½œç­‰å¾…</p></li><li><p><span class="math inline">\(s\)</span> å˜æˆéé›¶ï¼Œé‚£ä¹ˆ <span class="math inline">\(V\)</span>æ“ä½œä¼š<strong>é‡å¯</strong>è¿™äº›çº¿ç¨‹ä¸­çš„ä¸€ä¸ªï¼Œç„¶åè¯¥çº¿ç¨‹å°† <span class="math inline">\(s\)</span> å‡ <span class="math inline">\(1\)</span>ï¼Œå®Œæˆå®ƒçš„ <span class="math inline">\(P\)</span> æ“ä½œã€‚</p><blockquote><p>CSAPP å’Œã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹çš„å®šä¹‰ä¸ä¸€æ ·ï¼Œä»¥åè€…ä¸ºå‡†ï¼š</p><ul><li><p>CSAPPï¼š</p><p>â€‹ <span class="math inline">\(V\)</span>çš„å®šä¹‰ä¸­æ²¡æœ‰å®šä¹‰ç­‰å¾…çº¿ç¨‹è¢«é‡å¯åŠ¨çš„é¡ºåºã€‚å”¯ä¸€çš„è¦æ±‚æ˜¯ <span class="math inline">\(V\)</span>å¿…é¡»åªèƒ½é‡å¯ä¸€ä¸ªæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ã€‚å› æ­¤ï¼Œå½“æœ‰å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªä¿¡å·é‡æ—¶ï¼Œä¸èƒ½é¢„æµ‹<span class="math inline">\(V\)</span> æ“ä½œè¦é‡å¯å“ªä¸€ä¸ªçº¿ç¨‹ã€‚</p></li><li><p>ã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹ï¼š</p><p>â€‹ <span class="math inline">\(V\)</span> æ“ä½œæ˜¯æ’é˜Ÿå”¤é†’çš„ã€‚</p></li></ul></blockquote></li></ul></li><li><p>Posix å‡½æ•°ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">P</span><span class="hljs-params">(<span class="hljs-keyword">sem_t</span> *s)</span></span>;<span class="hljs-comment">/* Wrapper function for sem_wait */</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">v</span><span class="hljs-params">(<span class="hljs-keyword">sem_t</span> *s)</span></span>;<span class="hljs-comment">/* Wrapper function for sem_post */</span><br></code></pre></td></tr></tbody></table></figure><ul><li><p>ä¿¡å·é‡æä¾›äº†ä¸€ç§å¾ˆæ–¹ä¾¿çš„æ–¹æ³•æ¥ç¡®ä¿å¯¹å…±äº«å˜é‡çš„äº’æ–¥è®¿é—®ï¼š</p><p>â€‹åŸºæœ¬æ€æƒ³æ˜¯å°†<strong>æ¯ä¸ªå…±äº«å˜é‡</strong>ï¼ˆæˆ–è€…ä¸€ç»„ç›¸å…³çš„å…±äº«å˜é‡ï¼‰ä¸ä¸€ä¸ªä¿¡å·é‡<span class="math inline">\(s\)</span>ï¼ˆä¸€èˆ¬<strong>åˆå§‹ä¸º <span class="math inline">\(1\)</span></strong>ï¼‰è”ç³»èµ·æ¥, ç„¶åç”¨ <span class="math inline">\(P(s)\)</span> å’Œ <span class="math inline">\(V\)</span> <span class="math inline">\((s)\)</span>æ“ä½œå°†ç›¸åº”çš„<strong>ä¸´ç•ŒåŒºåŒ…å›´</strong>èµ·æ¥ã€‚</p><blockquote><p>åˆ©ç”¨ä¿¡å·é‡ä¸å˜æ€§ï¼š</p><p>â€‹ä¸€ä¸ªæ­£ç¡®åˆå§‹åŒ–çš„ä¿¡å·é‡ä¸ä¼šå‡ºç°è´Ÿå€¼ï¼Œè€Œå‡ºç°è´Ÿå€¼çš„ç‚¹åœ¨ä¸å®‰å…¨åŒºé‡Œé¢ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210921221906980.png" alt="image-20210921221906980"></div></blockquote></li></ul></li><li><p>ä»¥è¿™ç§æ–¹å¼æ¥ä¿æŠ¤å…±äº«å˜é‡çš„ä¿¡å·é‡å«åš<strong>äºŒå…ƒä¿¡å·é‡</strong>ï¼Œå› ä¸ºå®ƒçš„å€¼æ€»æ˜¯<span class="math inline">\(0\)</span> æˆ–è€… <span class="math inline">\(1\)</span>ã€‚</p></li><li><p>ä»¥æä¾›äº’æ–¥ä¸ºç›®çš„çš„äºŒå…ƒä¿¡å·é‡å¸¸å¸¸ä¹Ÿç§°ä¸º<strong>äº’æ–¥é”</strong>ï¼ˆmutexï¼‰ã€‚</p></li><li><p>åœ¨ä¸€ä¸ªäº’æ–¥é”ä¸Šæ‰§è¡Œ <span class="math inline">\(P\)</span>æ“ä½œç§°ä¸ºå¯¹äº’æ–¥é”<strong>åŠ é”</strong>ï¼Œæ‰§è¡Œ <span class="math inline">\(V\)</span>æ“ä½œç§°ä¸ºå¯¹äº’æ–¥é”<strong>è§£é”</strong>ã€‚</p></li><li><p>å¯¹ä¸€ä¸ªäº’æ–¥é”åŠ äº†é”ä½†æ˜¯è¿˜æ²¡æœ‰è§£é”çš„çº¿ç¨‹ç§°ä¸º<strong>å ç”¨</strong>è¿™ä¸ªäº’æ–¥é”ã€‚</p></li><li><p>ä¸€ä¸ªè¢«ç”¨ä½œ<strong>ä¸€ç»„å¯ç”¨èµ„æºçš„è®¡æ•°å™¨</strong>çš„ä¿¡å·é‡è¢«ç§°ä¸º<strong>è®¡æ•°ä¿¡å·é‡</strong>ã€‚</p></li></ul><blockquote><p>é™¤äº†æä¾›äº’æ–¥ä¹‹å¤–ï¼Œä¿¡å·é‡çš„å¦ä¸€ä¸ªé‡è¦ä½œç”¨æ˜¯<strong>è°ƒåº¦å¯¹å…±äº«èµ„æºçš„è®¿é—®</strong>ã€‚</p><p>åœ¨è¿™ç§åœºæ™¯ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨ä¿¡å·é‡æ“ä½œæ¥<strong>é€šçŸ¥</strong>å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œç¨‹åºçŠ¶æ€ä¸­çš„<strong>æŸä¸ªæ¡ä»¶å·²ç»ä¸ºæ»¡è¶³</strong>äº†ã€‚</p><p>ä¸¤ä¸ªç»å…¸è€Œæœ‰ç”¨çš„ä¾‹å­æ˜¯ç”Ÿäº§è€… - æ¶ˆè´¹è€…å’Œè¯»è€… - å†™è€…é—®é¢˜</p></blockquote><h4 id="ç”Ÿäº§è€…---æ¶ˆè´¹è€…é—®é¢˜">ç”Ÿäº§è€… - æ¶ˆè´¹è€…é—®é¢˜</h4><ul><li><p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çº¿ç¨‹å…±äº«ä¸€ä¸ªæœ‰ <strong><span class="math inline">\(n\)</span> ä¸ªæ§½çš„æœ‰é™ç¼“å†²åŒº</strong>ã€‚</p></li><li><p><strong>ç”Ÿäº§è€…çº¿ç¨‹</strong>åå¤åœ°<strong>ç”Ÿæˆ</strong>æ–°çš„é¡¹ç›®ï¼Œå¹¶æŠŠå®ƒä»¬æ’å…¥åˆ°ç¼“å†²åŒºä¸­ã€‚</p></li><li><p><strong>æ¶ˆè´¹è€…çº¿ç¨‹</strong>ä¸æ–­åœ°ä»ç¼“å†²åŒºä¸­å–å‡ºè¿™äº›é¡¹ç›®ï¼Œç„¶åæ¶ˆè´¹ï¼ˆä½¿ç”¨ï¼‰å®ƒä»¬ã€‚</p></li><li><p>å› ä¸ºæ’å…¥å’Œå–å‡ºé¡¹ç›®éƒ½æ¶‰åŠ<strong>æ›´æ–°å…±äº«å˜é‡</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ä¿è¯å¯¹ç¼“å†²åŒºçš„è®¿é—®æ˜¯<strong>äº’æ–¥</strong>çš„ï¼Œä¸èƒ½åŒæ—¶æ’å…¥å’Œå–å‡ºã€‚</p></li><li><p>ä½†æ˜¯åªä¿è¯äº’æ–¥è®¿é—®æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦<strong>è°ƒåº¦å¯¹ç¼“å†²åŒºçš„è®¿é—®</strong>ï¼š</p><ul><li><p>å¦‚æœç¼“å†²åŒºæ˜¯<strong>æ»¡çš„ï¼ˆæ²¡æœ‰ç©ºçš„æ§½ä½ï¼‰</strong>ï¼Œé‚£ä¹ˆ<strong>ç”Ÿäº§è€…</strong>å¿…é¡»<strong>ç­‰å¾…</strong>ç›´åˆ°æœ‰ä¸€ä¸ªæ§½ä½å˜ä¸ºå¯ç”¨ã€‚</p></li><li><p>å¦‚æœç¼“å†²åŒºæ˜¯<strong>ç©ºçš„ï¼ˆæ²¡æœ‰å¯å–ç”¨çš„é¡¹ç›®ï¼‰</strong>ï¼Œé‚£ä¹ˆ<strong>æ¶ˆè´¹è€…</strong>å¿…é¡»<strong>ç­‰å¾…</strong>ç›´åˆ°æœ‰ä¸€ä¸ªé¡¹ç›®å˜ä¸ºå¯ç”¨ã€‚</p><blockquote><p>ä¾‹å­ï¼š</p><ul><li>åœ¨ä¸€ä¸ªå¤šåª’ä½“ç³»ç»Ÿä¸­ï¼Œç”Ÿäº§è€…ç¼–ç è§†é¢‘å¸§ï¼Œè€Œæ¶ˆè´¹è€…è§£ç å¹¶åœ¨å±å¹•ä¸Šå‘ˆç°å‡ºæ¥ã€‚ç¼“å†²åŒºçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘è§†é¢‘æµçš„æŠ–åŠ¨ï¼Œè€Œè¿™ç§æŠ–åŠ¨æ˜¯ç”±å„ä¸ªå¸§çš„ç¼–ç å’Œè§£ç æ—¶ä¸æ•°æ®ç›¸å…³çš„å·®å¼‚å¼•èµ·çš„ã€‚ç¼“å†²åŒºä¸ºç”Ÿäº§è€…æä¾›äº†ä¸€ä¸ªæ§½ä½æ± ï¼Œè€Œä¸ºæ¶ˆè´¹è€…æä¾›ä¸€ä¸ªå·²ç¼–ç çš„å¸§æ± ã€‚</li><li>å¦ä¸€ä¸ªå¸¸è§çš„ç¤ºä¾‹æ˜¯å›¾å½¢ç”¨æˆ·æ¥å£è®¾è®¡ã€‚ç”Ÿäº§è€…æ£€æµ‹åˆ°é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ’å…¥åˆ°ç¼“å†²åŒºä¸­ã€‚æ¶ˆè´¹è€…ä»¥æŸç§åŸºäºä¼˜å…ˆçº§çš„æ–¹å¼ä»ç¼“å†²åŒºå–å‡ºè¿™äº›äº‹ä»¶ï¼Œå¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</li></ul></blockquote></li></ul></li><li><p>ä»£ç å®ç°ï¼š</p><ul><li><p>å®šä¹‰ç»“æ„ä½“ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span> <br>  <span class="hljs-keyword">int</span> *buf;    <span class="hljs-comment">/* ç¼“å†²åŒºæ•°ç»„ */</span> <br>  <span class="hljs-keyword">int</span> n;                   <span class="hljs-comment">/* æœ€å¤§æ§½ä½æ•° */</span><br>  <span class="hljs-keyword">int</span> front;               <span class="hljs-comment">/* buf[(front+1)%n] æ˜¯ç¬¬ä¸€ä¸ªé¡¹ç›® */</span><br>  <span class="hljs-keyword">int</span> rear;                <span class="hljs-comment">/* buf[rear%n] æ˜¯æœ€åä¸€ä¸ªé¡¹ç›® */</span><br>  <span class="hljs-keyword">sem_t</span> mutex;             <span class="hljs-comment">/* äºŒå…ƒä¿¡å·é‡ï¼šç¡®ä¿äº’æ–¥åœ°è®¿é—®ç¼“å†²åŒº */</span><br>  <span class="hljs-keyword">sem_t</span> slots;             <span class="hljs-comment">/* è®¡æ•°ä¿¡å·é‡ï¼šè®¡æ•°ç¼“å†²åŒºä¸­å¯ç”¨çš„æ§½ä½ */</span> <br>  <span class="hljs-keyword">sem_t</span> items;             <span class="hljs-comment">/* è®¡æ•°ä¿¡å·é‡ï¼šè®¡æ•°ç¼“å†²åŒºä¸­å¯ç”¨çš„é¡¹ç›® */</span><br>} <span class="hljs-keyword">sbuf_t</span>;<br></code></pre></td></tr></tbody></table></figure></li><li><p>ç”Ÿäº§è€…æ’å…¥é¡¹ç›®åˆ°ç¼“å†²åŒºï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sbuf_insert</span><span class="hljs-params">(<span class="hljs-keyword">sbuf_t</span> *sp, <span class="hljs-keyword">int</span> item)</span> </span>{<br>  P(&amp;sp-&gt;slots);                        <span class="hljs-comment">/* ç­‰å¾…å¯ç”¨æ§½ä½,ä¸ç¼“å†²åŒºåŠ é”é¡ºåºä¸èƒ½æ¢,å¦åˆ™æ¶ˆè´¹è€…å–ä¸å‡ºé¡¹ç›®,ç”Ÿäº§è€…ä¹Ÿåªèƒ½æ­»ç­‰*/</span><br>  P(&amp;sp-&gt;mutex);                        <span class="hljs-comment">/* ç»™ç¼“å†²åŒºåŠ é”*/</span><br>  sp-&gt;buf[(++sp-&gt;rear)%(sp-&gt;n)] = item; <span class="hljs-comment">/* æ’å…¥é¡¹ç›®*/</span><br>  V(&amp;sp-&gt;mutex);                        <span class="hljs-comment">/* è§£é”ç¼“å†²åŒº*/</span><br>  V(&amp;sp-&gt;items);                        <span class="hljs-comment">/* å®£å‘Šè¿™é‡Œæœ‰å¯ç”¨çš„é¡¹ç›® */</span><br>} <br></code></pre></td></tr></tbody></table></figure></li><li><p>æ¶ˆè´¹è€…ä»ç¼“å†²åŒºå–èµ°é¡¹ç›®ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sbuf_remove</span><span class="hljs-params">(<span class="hljs-keyword">sbuf_t</span> *sp)</span> </span>{<br>  <span class="hljs-keyword">int</span> item; <br>  P(&amp;sp-&gt;items);                          <span class="hljs-comment">/* ç­‰å¾…å¯ç”¨é¡¹ç›®*/</span><br>  P(&amp;sp-&gt;mutex);                          <span class="hljs-comment">/* ç»™ç¼“å†²åŒºåŠ é”*/</span><br>  item = sp-&gt;buf[(++sp-&gt;front)%(sp-&gt;n)];  <span class="hljs-comment">/* ç§»é™¤é¡¹ç›® */</span> <br>  V(&amp;sp-&gt;mutex);                          <span class="hljs-comment">/* è§£é”ç¼“å†²åŒº*/</span><br>  V(&amp;sp-&gt;slots);                          <span class="hljs-comment">/* å®£å‘Šè¿™é‡Œæœ‰å¯ç”¨çš„æ§½ä½ */</span><br>  <span class="hljs-keyword">return</span> item;<br>}  <br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul><h4 id="è¯»è€…-å†™è€…é—®é¢˜">è¯»è€…-å†™è€…é—®é¢˜</h4><ul><li><p>å®šä¹‰ï¼š</p><ul><li><p>è¯»è€…-å†™è€…é—®é¢˜æ˜¯äº’æ–¥é—®é¢˜çš„ä¸€ä¸ªæ¦‚æ‹¬ã€‚</p></li><li><p>ä¸€ç»„<strong>å¹¶å‘çš„çº¿ç¨‹</strong>è¦è®¿é—®ä¸€ä¸ª<strong>å…±äº«å¯¹è±¡</strong>ï¼Œä¾‹å¦‚ä¸€ä¸ªä¸»å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼Œæˆ–è€…ä¸€ä¸ªç£ç›˜ä¸Šçš„æ•°æ®åº“ã€‚</p></li><li><p>æœ‰äº›çº¿ç¨‹åªè¯»å¯¹è±¡ï¼Œå«åš<strong>è¯»è€…</strong>ï¼›å…¶ä»–çš„çº¿ç¨‹åªä¿®æ”¹å¯¹è±¡ï¼Œå«åš<strong>å†™è€…</strong>ã€‚</p></li><li><p><strong>å†™è€…</strong>å¿…é¡»æ‹¥æœ‰å¯¹å¯¹è±¡çš„<strong>ç‹¬å </strong>çš„è®¿é—®ï¼Œè€Œ<strong>è¯»è€…å¯ä»¥å’Œæ— é™å¤šä¸ªå…¶ä»–çš„è¯»è€…å…±äº«å¯¹è±¡</strong>ã€‚</p><blockquote><ul><li><p>è¯»è€…å’Œå†™è€…æ˜¯äº’æ–¥çš„ï¼Œå†™è€…å’Œå†™è€…ä¹Ÿæ˜¯äº’æ–¥çš„ï¼Œè€Œè¯»è€…å’Œè¯»è€…ä¸å­˜åœ¨äº’æ–¥é—®é¢˜ã€‚</p></li><li><p>ä»»ä¸€å†™è€…åœ¨å®Œæˆå†™æ“ä½œä¹‹å‰ä¸å…è®¸å…¶ä»–è¯»è€…æˆ–å†™è€…å·¥ä½œ</p></li></ul></blockquote></li><li><p>ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰æ— é™å¤šä¸ªå¹¶å‘çš„è¯»è€…å’Œå†™è€…ã€‚</p><blockquote><p>ä¾‹å­ï¼š</p><ul><li>ä¸€ä¸ªåœ¨çº¿èˆªç©ºé¢„å®šç³»ç»Ÿä¸­ï¼Œå…è®¸æœ‰æ— é™å¤šå®¢æˆ·åŒæ—¶æŸ¥çœ‹åº§ä½åˆ†é…ï¼Œä½†æ˜¯æ­£åœ¨é¢„è®¢åº§ä½çš„å®¢æˆ·å¿…é¡»æ‹¥æœ‰å¯¹æ•°æ®åº“çš„ç‹¬å çš„è®¿é—®ã€‚</li><li>åœ¨ä¸€ä¸ªå¤šçº¿ç¨‹ç¼“å­˜ Webä»£ç†ä¸­ï¼Œæ— é™å¤šä¸ªçº¿ç¨‹å¯ä»¥ä»å…±äº«é¡µé¢ç¼“å­˜ä¸­å–å‡ºå·²æœ‰çš„é¡µé¢ï¼Œä½†æ˜¯ä»»ä½•å‘ç¼“å­˜ä¸­å†™å…¥ä¸€ä¸ªæ–°é¡µé¢çš„çº¿ç¨‹å¿…é¡»æ‹¥æœ‰ç‹¬å çš„è®¿é—®ã€‚</li></ul></blockquote></li></ul></li><li><p>è¯»è€…ä¼˜å…ˆï¼š</p><ul><li><p>è¦æ±‚<strong>ä¸è¦è®©è¯»è€…ç­‰å¾…</strong>ï¼Œé™¤éå·²ç»æŠŠä½¿ç”¨å¯¹è±¡çš„æƒé™èµ‹äºˆäº†ä¸€ä¸ª<strong>å†™è€…</strong>ã€‚</p></li><li><p>è¯»è€…ä¸ä¼šå› ä¸ºæœ‰ä¸€ä¸ªå†™è€…åœ¨ç­‰å¾…è€Œç­‰å¾…ã€‚</p></li><li><p>å®ç°ï¼š</p><ul><li><p>å®šä¹‰ï¼š</p><ul><li><p>ä¿¡å·é‡ wæ§åˆ¶å¯¹è®¿é—®å…±äº«å¯¹è±¡çš„ä¸´ç•ŒåŒºçš„è®¿é—®ï¼ˆå†™è€…é—´ï¼Œè¯»è€…å’Œå†™è€…é—´äº’æ–¥è®¿é—®ï¼‰ã€‚</p></li><li><p>ä¿¡å·é‡ <strong>mutex</strong> ä¿æŠ¤å¯¹<strong>å…±äº«é‡readcnt</strong> çš„è®¿é—®ï¼ˆè¯»è€…é—´çš„äº’æ–¥è®¿é—®ï¼‰ï¼Œreadcntç»Ÿè®¡å½“å‰åœ¨ä¸´ç•ŒåŒºä¸­çš„è¯»è€…æ•°é‡ã€‚</p></li><li><p>æ¯å½“ä¸€ä¸ªå†™è€…è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œå®ƒå¯¹äº’æ–¥é” wåŠ é”ï¼Œæ¯å½“å®ƒç¦»å¼€ä¸´ç•ŒåŒºæ—¶ï¼Œå¯¹ w è§£é”ã€‚</p><blockquote><p>ä¿è¯äº†ä»»æ„æ—¶åˆ»ä¸´ç•ŒåŒºä¸­æœ€å¤šåªæœ‰ä¸€ä¸ªå†™è€…ã€‚</p></blockquote></li><li><p>åªæœ‰<strong>ç¬¬ä¸€ä¸ªè¿›å…¥</strong>ä¸´ç•ŒåŒºçš„<strong>è¯»è€…</strong>å¯¹ w<strong>åŠ é”</strong>ï¼Œè€Œåªæœ‰<strong>æœ€åä¸€ä¸ªç¦»å¼€</strong>ä¸´ç•ŒåŒºçš„<strong>è¯»è€…</strong>å¯¹w <strong>è§£é”</strong>ã€‚</p></li><li><p>å½“ä¸€ä¸ªè¯»è€…è¿›å…¥å’Œç¦»å¼€ä¸´ç•ŒåŒºæ—¶ï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–è¯»è€…åœ¨ä¸´ç•ŒåŒºä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯»è€…ä¼š<strong>å¿½ç•¥</strong>äº’æ–¥é”wã€‚</p></li><li><p>è¿™å°±æ„å‘³ç€åªè¦è¿˜æœ‰ä¸€ä¸ªè¯»è€…<strong>å ç”¨</strong>äº’æ–¥é”wï¼Œ<strong>æ— é™å¤šæ•°é‡çš„è¯»è€…</strong>å¯ä»¥æ²¡æœ‰éšœç¢åœ°è¿›å…¥ä¸´ç•ŒåŒºã€‚</p></li></ul></li><li><p>ä»£ç ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">int</span> readcnt; <span class="hljs-comment">/* Initially = 0 */</span> <br><span class="hljs-keyword">sem_t</span> mutex, w; <span class="hljs-comment">/* Initially = 1 */</span> <br><span class="hljs-comment">/* è¯»è€… */</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">reader</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{<br><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) { <br>        P(&amp;mutex); <br>        readcnt++; <br>        <span class="hljs-keyword">if</span> (readcnt == <span class="hljs-number">1</span>) <span class="hljs-comment">/* ç¬¬ä¸€ä¸ªè¿›å…¥ */</span> <br>            P(&amp;w);<br>V(&amp;mutex); <br>        <span class="hljs-comment">/* è¿™é‡Œæ”¾ä¸´ç•ŒåŒºä»£ç  */</span> <br>        <span class="hljs-comment">/* è¯» */</span> <br>        P(&amp;mutex); <br>        readcnt--; <br>        <span class="hljs-keyword">if</span> (readcnt == <span class="hljs-number">0</span>) <span class="hljs-comment">/* æœ€åä¸€ä¸ªç¦»å¼€ */</span> <br>        V(&amp;w);<br>V(&amp;mutex); <br>    } <br>}<br><br><span class="hljs-comment">/* å†™è€… */</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writer</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{<br><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) { <br>        P(&amp;w);<br><span class="hljs-comment">/* è¿™é‡Œæ”¾ä¸´ç•ŒåŒºä»£ç  */</span><br><span class="hljs-comment">/* å†™ */</span> <br>        V(&amp;w);<br>} <br>}<br></code></pre></td></tr></tbody></table></figure></li><li><p>é¥¥é¥¿ï¼š</p><ul><li><p>å¯¹è¿™è¯»è€… -å†™è€…é—®é¢˜çš„æ­£ç¡®è§£ç­”å¯èƒ½å¯¼è‡´é¥¥é¥¿ï¼ˆstarvationï¼‰ï¼Œé¥¥é¥¿å°±æ˜¯ä¸€ä¸ª<strong>çº¿ç¨‹æ— é™æœŸåœ°é˜»å¡</strong>ï¼Œæ— æ³•è¿›å±•ã€‚</p></li><li><p>å¦‚æœæœ‰è¯»è€…ä¸æ–­åœ°åˆ°è¾¾ï¼Œå†™è€…å°±å¯èƒ½æ— é™æœŸåœ°ç­‰å¾…ã€‚</p></li><li><p>ä½†æ˜¯ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œè¿™ç§ä¼˜å…ˆçº§æ˜¯å¾ˆå¼±çš„ï¼Œå› ä¸ºä¸€ä¸ªç¦»å¼€ä¸´ç•ŒåŒºçš„<strong>å†™è€…</strong>å¯èƒ½é‡å¯ä¸€ä¸ªåœ¨ç­‰å¾…çš„<strong>å†™è€…</strong>ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåœ¨ç­‰å¾…çš„è¯»è€…ã€‚å…¶ä¸­è¿™ç§å¼±ä¼˜å…ˆçº§ä¼šå¯¼è‡´ä¸€ç¾¤å†™è€…ä½¿å¾—ä¸€ä¸ªè¯»è€…é¥¥é¥¿ã€‚</p></li></ul></li></ul></li></ul></li><li><p>å†™è€…ä¼˜å…ˆï¼š</p><ul><li>è¦æ±‚ä¸€æ—¦ä¸€ä¸ªå†™è€…å‡†å¤‡å¥½å¯ä»¥å†™ï¼Œå®ƒå°±ä¼š<strong>å°½å¯èƒ½å¿«åœ°å®Œæˆå®ƒçš„å†™æ“ä½œ</strong>ã€‚</li><li>åœ¨ä¸€ä¸ªå†™è€…ååˆ°è¾¾çš„<strong>è¯»è€…</strong>å¿…é¡»<strong>ç­‰å¾…</strong>ï¼Œå³ä½¿è¿™ä¸ªå†™è€…ä¹Ÿæ˜¯åœ¨ç­‰å¾…ã€‚</li></ul></li></ul><h4 id="åŸºäºé¢„çº¿ç¨‹åŒ–çš„å¹¶å‘æœåŠ¡å™¨">åŸºäºé¢„çº¿ç¨‹åŒ–çš„å¹¶å‘æœåŠ¡å™¨</h4><ul><li><p>å®šä¹‰:</p><ul><li><p>æˆ‘ä»¬ä¸ºæ¯ä¸€ä¸ªæ–°å®¢æˆ·ç«¯åˆ›å»ºäº†ä¸€ä¸ª<strong>æ–°çº¿ç¨‹</strong>ï¼Œå¯¼è‡´å¼€é”€è¿‡å¤§ã€‚</p></li><li><p>ä¸€ä¸ªåŸºäºé¢„çº¿ç¨‹åŒ–çš„æœåŠ¡å™¨è¯•å›¾é€šè¿‡ä½¿ç”¨å¦‚å›¾æ‰€ç¤ºçš„<strong>ç”Ÿäº§è€… -æ¶ˆè´¹è€…</strong>æ¨¡å‹æ¥é™ä½è¿™ç§å¼€é”€ï¼ˆæœ‰ä¸€ä¸ªç”Ÿäº§è€…å’Œå¤šä¸ªæ¶ˆè´¹è€…ï¼‰ã€‚</p></li><li><p>æœåŠ¡å™¨æ˜¯ç”±<strong>ä¸€ä¸ªä¸»çº¿ç¨‹å’Œä¸€ç»„å·¥ä½œè€…çº¿ç¨‹</strong>æ„æˆçš„ã€‚</p></li><li><p>ä¸»çº¿ç¨‹ä¸æ–­åœ°æ¥å—æ¥è‡ªå®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶å°†å¾—åˆ°çš„<strong>è¿æ¥æè¿°ç¬¦</strong>æ”¾åœ¨ä¸€ä¸ª<strong>æœ‰é™ç¼“å†²åŒº</strong>ä¸­ã€‚</p></li><li><p>æ¯ä¸€ä¸ªå·¥ä½œè€…çº¿ç¨‹åå¤åœ°ä»å…±äº«ç¼“å†²åŒºä¸­<strong>å–å‡º</strong>æè¿°ç¬¦ï¼Œä¸ºå®¢æˆ·ç«¯æœåŠ¡ï¼Œç„¶å<strong>ç­‰å¾…</strong>ä¸‹ä¸€ä¸ªæè¿°ç¬¦ã€‚</p></li></ul><div data-align="center"><img src="/img/blog/os-note-images/image-20210922105410600.png"></div></li><li><p>å®ç°ï¼š</p><ul><li>åœ¨åˆå§‹åŒ–äº†ç¼“å†²åŒº sbufåï¼Œä¸»çº¿ç¨‹åˆ›å»ºäº†<strong>ä¸€ç»„å·¥ä½œè€…çº¿ç¨‹</strong>ã€‚</li><li>ç„¶åå®ƒè¿›å…¥äº†æ— é™çš„æœåŠ¡å™¨<strong>å¾ªç¯</strong>ï¼Œ<strong>æ¥å—</strong>è¿æ¥<strong>è¯·æ±‚</strong>ï¼Œå¹¶å°†å¾—åˆ°çš„å·²<strong>è¿æ¥æè¿°ç¬¦</strong>æ’å…¥åˆ°ç¼“å†²åŒºsbuf ä¸­ã€‚</li><li>æ¯ä¸ª<strong>å·¥ä½œè€…çº¿ç¨‹</strong>çš„è¡Œä¸ºéƒ½éå¸¸ç®€å•ã€‚å®ƒç­‰å¾…ç›´åˆ°å®ƒèƒ½ä»<strong>ç¼“å†²åŒºä¸­å–å‡º</strong>ä¸€ä¸ª<strong>å·²è¿æ¥æè¿°ç¬¦</strong>ï¼Œç„¶åè°ƒç”¨<code>echo_cnt()</code> ä¾‹ç¨‹å‡½æ•°<strong>å›é€</strong>å®¢æˆ·ç«¯çš„è¾“å…¥ã€‚</li><li>å‡½æ•° <code>echo_cnt()</code> åœ¨å…¨å±€å˜é‡ byte_cntä¸­è®°å½•äº†ä»æ‰€æœ‰å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„ç´¯è®¡å­—èŠ‚æ•°ï¼Œç”¨ mutexä¿¡å·é‡è¿›è¡Œäº’æ–¥ä¿æŠ¤ã€‚</li></ul></li></ul><h3 id="æ­»é”">æ­»é”</h3><blockquote><p>ä¸»è¦æ¥è‡ªã€Šç‹é“ã€‹</p></blockquote><h4 id="æ­»é”çš„å®šä¹‰å’Œå‘ç”Ÿæ¡ä»¶">æ­»é”çš„å®šä¹‰å’Œå‘ç”Ÿæ¡ä»¶</h4><ul><li><p>ä¿¡å·é‡å¼•å…¥äº†ä¸€ç§æ½œåœ¨çš„ä»¤äººåŒæ¶çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œå«åšæ­»é”ï¼ˆdeadlockï¼‰ï¼Œä½“ç°ä¸ºçº¿ç¨‹å› ä¸ºç­‰å¾…ä¸€ä¸ªæ°¸è¿œä¹Ÿä¸ä¼šä¸ºçœŸçš„æ¡ä»¶è¢«é˜»å¡äº†ã€‚</p><blockquote><p>æ­»é”æ˜¯å¤šä¸ªè¿›ç¨‹å› <strong>ç«äº‰èµ„æº</strong>è€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼ˆäº’ç›¸ç­‰å¾…ï¼‰ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œè¿™äº›è¿›ç¨‹éƒ½å°†æ— æ³•å‘å‰æ¨è¿›ã€‚</p><p>åªæœ‰å¯¹<strong>ä¸å¯æŠ¢å èµ„æºï¼ˆä¸å…±äº«ï¼‰çš„ç«äº‰</strong>æ‰å¯èƒ½äº§ç”Ÿæ­»é”ï¼Œå¯¹å¯æŠ¢å èµ„æºï¼ˆè´¡çŒ®ï¼‰çš„ç«äº‰æ˜¯ä¸ä¼šå¼•èµ·æ­»é”çš„ï¼Œå¦‚åªè¯»æ–‡ä»¶ã€‚</p></blockquote></li><li><p>ç¨‹åºå‘˜ä½¿ç”¨ <span class="math inline">\(P\)</span> å’Œ <span class="math inline">\(V\)</span>æ“ä½œé¡ºåºä¸å½“ï¼Œä»¥è‡³äºä¸¤ä¸ªä¿¡å·é‡çš„ç¦æ­¢åŒºåŸŸé‡å ã€‚</p></li><li><p>å¦‚æœæŸä¸ªæ‰§è¡Œè½¨è¿¹çº¿ç¢°å·§åˆ°è¾¾äº†æ­»é”çŠ¶æ€ï¼Œé‚£ä¹ˆå°±ä¸å¯èƒ½æœ‰è¿›ä¸€æ­¥çš„è¿›å±•äº†ï¼Œå› ä¸ºé‡å çš„ç¦æ­¢åŒºåŸŸï¼ˆæ­»é”åŒºåŸŸï¼‰é˜»å¡äº†æ¯ä¸ªåˆæ³•æ–¹å‘ä¸Šçš„è¿›å±•ã€‚</p><blockquote><p>æ¢å¥è¯è¯´ï¼Œç¨‹åºæ­»é”æ˜¯å› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªæ ¹æœ¬ä¸å¯èƒ½å‘ç”Ÿçš„<span class="math inline">\(V\)</span> æ“ä½œã€‚</p></blockquote><div data-align="center"><img src=" /img/blog/os-note-images/image-20210927150402535.png" alt="image-20210927150402535"></div></li><li><p>èµ„æºåˆ†é…å›¾ï¼š</p><ul><li><p>é€šè¿‡ç§°ä¸ºç³»ç»Ÿèµ„æºåˆ†é…å›¾çš„æœ‰å‘å›¾å¯ä»¥æ›´ç²¾ç¡®åœ°æè¿°æ­»é”ï¼ŒåŒ…æ‹¬ä¸€ä¸ªèŠ‚ç‚¹é›†åˆ<span class="math inline">\(V\)</span> å’Œä¸€ä¸ªè¾¹é›†åˆ <span class="math inline">\(E_{\circ}\)</span></p></li><li><p>èŠ‚ç‚¹é›†åˆ <span class="math inline">\(V\)</span> å¯åˆ†æˆä¸¤ç§ç±»å‹ï¼š<span class="math inline">\(P=\{P_{1},P_{2}, \cdots, P_{n}\}\)</span>ï¼ˆç³»ç»Ÿæ‰€æœ‰<strong>æ´»åŠ¨è¿›ç¨‹çš„é›†åˆ</strong>ï¼‰å’Œ <span class="math inline">\(R=\{R_{1}, R_{2}, \cdots,R_{m}\}\)</span>ï¼ˆç³»ç»Ÿæ‰€æœ‰èµ„æºç±»å‹çš„é›†åˆï¼‰ã€‚</p></li><li><p>ç”³è¯·è¾¹ï¼š</p><p>â€‹ ä»è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> åˆ°èµ„æºç±»å‹ <span class="math inline">\(R_{j}\)</span> çš„æœ‰å‘è¾¹è®°ä¸º <span class="math inline">\(P_{i} \rightarrow R_{j}\)</span>ï¼Œå®ƒè¡¨ç¤ºè¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> å·²ç»<strong>ç”³è¯·</strong>äº†èµ„æºç±»å‹<span class="math inline">\(R_j\)</span>çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æ­£åœ¨<strong>ç­‰å¾…</strong>è¿™ä¸ªèµ„æºã€‚</p></li><li><p>åˆ†é…è¾¹ï¼š</p><p>â€‹ ä»èµ„æºç±»å‹ <span class="math inline">\(R_{j}\)</span> åˆ°è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> çš„æœ‰å‘è¾¹è®°ä¸º <span class="math inline">\(R_{j} \rightarrow P_{i}\)</span>ï¼Œå®ƒè¡¨ç¤ºèµ„æºç±»å‹<span class="math inline">\(R_{j}\)</span>çš„ä¸€ä¸ªå®ä¾‹å·²ç»<strong>åˆ†é…</strong>ç»™äº†è¿›ç¨‹ <span class="math inline">\(P_i\)</span>ã€‚</p><blockquote><p>åœ¨å›¾å½¢ä¸Šï¼Œç”¨<strong>åœ†è¡¨ç¤ºè¿›ç¨‹</strong> <span class="math inline">\(P_{i}\)</span>ï¼Œç”¨<strong>çŸ©å½¢è¡¨ç¤ºèµ„æº</strong>ç±»å‹<span class="math inline">\(R\)</span>ã€‚ç”±äºèµ„æºç±»å‹ <span class="math inline">\(R_{j}\)</span>å¯èƒ½æœ‰å¤šä¸ªå®ä¾‹ï¼Œæ‰€ä»¥çŸ©å½¢å†…çš„<strong>ç‚¹çš„æ•°é‡è¡¨ç¤ºå®ä¾‹æ•°é‡</strong>ã€‚</p><p>æ³¨æ„ç”³è¯·è¾¹åªæŒ‡å‘çŸ©å½¢ <span class="math inline">\(R_{j}\)</span>ï¼Œè€Œåˆ†é…è¾¹åº”æŒ‡å®šçŸ©å½¢å†…çš„<strong>æŸä¸ªåœ†ç‚¹</strong>ã€‚</p><p>å½“è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> ç”³è¯·èµ„æºç±»å‹ <span class="math inline">\(R_{j}\)</span>çš„ä¸€ä¸ªå®ä¾‹æ—¶ï¼Œå°±åœ¨èµ„æºåˆ†é…å›¾ä¸­åŠ å…¥ä¸€æ¡ç”³è¯·è¾¹ï¼ˆ<span class="math inline">\(P\)</span> æ“ä½œé˜»å¡ï¼‰ã€‚</p><p>å½“è¯¥ç”³è¯·å¾—åˆ°æ»¡è¶³æ—¶ï¼Œé‚£ä¹ˆç”³è¯·è¾¹å°±ç«‹å³è½¬æ¢æˆåˆ†é…è¾¹ï¼ˆ<span class="math inline">\(P\)</span> æ“ä½œä¹‹åï¼‰ã€‚</p><p>å½“è¿›ç¨‹ä¸å†éœ€è¦è®¿é—®èµ„æºæ—¶ï¼Œå®ƒå°±é‡Šæ”¾èµ„æºï¼Œå› æ­¤å°±åˆ é™¤äº†åˆ†é…è¾¹ï¼ˆ<span class="math inline">\(V\)</span> æ“ä½œä¹‹åï¼‰ã€‚</p></blockquote></li><li><p>æœ‰ç¯æ˜¯æœ‰æ­»é”çš„<strong>å¿…è¦æ¡ä»¶</strong>ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210927152310670.png" alt="image-20210927152310670"></div><p>â€‹ å³å›¾å› ä¸ºè¿›ç¨‹ <span class="math inline">\(P_2\)</span>å¯èƒ½é‡Šæ”¾èµ„æºç±»å‹ <span class="math inline">\(R_1\)</span>çš„å®ä¾‹ï¼Œè¿™ä¸ªèµ„æºå¯åˆ†é…ç»™è¿›ç¨‹ <span class="math inline">\(P_1\)</span>ï¼Œä»è€Œæ‰“ç ´ç¯ã€‚</p></li></ul></li><li><p>æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š</p><ul><li><p><strong>äº’æ–¥</strong>ï¼š</p><p>â€‹åœ¨ä¸€æ®µæ—¶é—´å†…æŸéå…±äº«èµ„æº<strong>ä»…ä¸ºä¸€ä¸ªè¿›ç¨‹æ‰€å æœ‰</strong>ã€‚æ­¤æ—¶è‹¥æœ‰å…¶ä»–è¿›ç¨‹è¯·æ±‚è¯¥èµ„æºï¼Œåˆ™è¯·æ±‚è¿›ç¨‹åªèƒ½<strong>ç­‰å¾…</strong>ã€‚</p></li><li><p><strong>ä¸å¯æŠ¢å </strong>ï¼š</p><p>â€‹è¿›ç¨‹æ‰€è·å¾—çš„èµ„æºåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œ<strong>ä¸èƒ½</strong>è¢«å…¶ä»–è¿›ç¨‹<strong>å¼ºè¡Œå¤ºèµ°</strong>ï¼Œå³åªèƒ½ç”±è·å¾—è¯¥èµ„æºçš„è¿›ç¨‹è‡ªå·±æ¥é‡Šæ”¾ï¼ˆåªèƒ½æ˜¯<strong>ä¸»åŠ¨é‡Šæ”¾</strong>ï¼‰ã€‚</p></li><li><p><strong>è¯·æ±‚å’Œä¿æŒæ¡ä»¶</strong>ï¼š</p><p>â€‹è¿›ç¨‹å·²ç»<strong>ä¿æŒï¼ˆå·²ç”³è¯·åˆ°ï¼‰äº†è‡³å°‘ä¸€ä¸ªèµ„æº</strong>ï¼Œä½†åˆæå‡ºäº†<strong>æ–°çš„èµ„æºè¯·æ±‚</strong>ï¼Œè€Œè¯¥èµ„æºå·²è¢«å…¶ä»–è¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿›ç¨‹è¢«é˜»å¡ï¼Œä½†å¯¹è‡ªå·±å·²è·å¾—çš„èµ„æº<strong>ä¸é‡Šæ”¾</strong>ï¼ˆä¿æŒï¼‰ã€‚</p></li><li><p><strong>å¾ªç¯ç­‰å¾…</strong>ï¼š</p><p>â€‹å­˜åœ¨ä¸€ç§è¿›ç¨‹èµ„æºçš„å¾ªç¯ç­‰å¾…ç¯ï¼Œç¯ä¸­æ¯ä¸ªè¿›ç¨‹å·²è·å¾—çš„èµ„æºåŒæ—¶è¢«é“¾ä¸­ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€è¯·æ±‚ã€‚å³å­˜åœ¨ä¸€ä¸ªå¤„äºç­‰å¾…æ€çš„è¿›ç¨‹é›†åˆ<span class="math inline">\(\{P_{1}, P_{2}, \cdots,P_{n}\}\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(P_{i}\)</span>ç­‰å¾…çš„èµ„æºè¢« <span class="math inline">\(P_{i+1}(i=0,1, \cdots,n-1)\)</span> å æœ‰ï¼Œ<span class="math inline">\(P_{n}\)</span>ç­‰å¾…çš„èµ„æºè¢« <span class="math inline">\(P_{0}\)</span> å æœ‰ã€‚</p></li></ul></li></ul><h4 id="æ­»é”é¢„é˜²">æ­»é”é¢„é˜²</h4><ul><li><p>æ€æƒ³ï¼š</p><p>â€‹ ç ´åäº§ç”Ÿæ­»é”çš„ <span class="math inline">\(4\)</span>ä¸ª<strong>å¿…è¦æ¡ä»¶</strong>ä¸­çš„ä¸€ä¸ªæˆ–å‡ ä¸ªã€‚</p></li><li><p>ç ´åäº’æ–¥æ¡ä»¶ï¼š</p><p>â€‹ è‹¥å…è®¸ç³»ç»Ÿèµ„æºéƒ½èƒ½å…±äº«ä½¿ç”¨ï¼Œåˆ™ç³»ç»Ÿä¸ä¼šè¿›å…¥æ­»é”çŠ¶æ€ã€‚</p><blockquote><p>æœ‰äº›èµ„æºæœ¬èº«å°±æ˜¯ä¸èƒ½åŒæ—¶è®¿é—®ï¼Œå¦‚æ‰“å°æœºç­‰ä¸´ç•Œèµ„æºåªèƒ½äº’æ–¥ä½¿ç”¨ã€‚</p></blockquote></li><li><p>ç ´åä¸å¯æŠ¢å æ¡ä»¶ï¼š</p><p>â€‹å½“ä¸€ä¸ª<strong>å·²ä¿æŒäº†æŸäº›ä¸å¯æŠ¢å èµ„æº</strong>çš„è¿›ç¨‹<strong>è¯·æ±‚æ–°çš„èµ„æºè€Œå¾—ä¸åˆ°æ»¡è¶³</strong>æ—¶ï¼Œå®ƒå¿…é¡»<strong>é‡Šæ”¾å·²ç»ä¿æŒçš„æ‰€æœ‰èµ„æº</strong>ï¼Œå¾…ä»¥åéœ€è¦æ—¶å†é‡æ–°ç”³è¯·ï¼ˆ<strong>æŒæœ‰ä¸ç”¨ä¼šè¢«åˆ«çš„è¿›ç¨‹æŠ¢å </strong>ï¼‰ã€‚</p><blockquote><p>ç¼ºç‚¹ï¼š</p><p>â€‹è¯¥ç­–ç•¥å®ç°å¤æ‚ï¼Œé‡Šæ”¾å·²è·å¾—çš„èµ„æºå¯èƒ½é€ æˆ<strong>å‰ä¸€é˜¶æ®µå·¥ä½œçš„å¤±æ•ˆ</strong>ï¼Œ<strong>åå¤åœ°ç”³è¯·å’Œé‡Šæ”¾èµ„æº</strong>ä¼šå¢åŠ ç³»ç»Ÿ<strong>å¼€é”€</strong>ï¼Œé™ä½ç³»ç»Ÿ<strong>ååé‡</strong>ã€‚</p><p>è¿™ç§æ–¹æ³•å¸¸ç”¨äºçŠ¶æ€<strong>æ˜“äºä¿å­˜å’Œæ¢å¤</strong>çš„èµ„æºï¼Œå¦‚<strong>CPUçš„å¯„å­˜å™¨åŠå†…å­˜èµ„æº</strong>ï¼Œä¸€èˆ¬<strong>ä¸èƒ½ç”¨äºæ‰“å°æœº</strong>ä¹‹ç±»çš„èµ„æº</p></blockquote></li><li><p>ç ´åè¯·æ±‚å¹¶ä¿æŒæ¡ä»¶ï¼š</p><ul><li>é‡‡ç”¨é¢„å…ˆé™æ€åˆ†é…æ–¹æ³•ï¼Œå³è¿›ç¨‹åœ¨è¿è¡Œå‰ä¸€æ¬¡ç”³è¯·å®Œ<strong>å®ƒæ‰€éœ€è¦çš„å…¨éƒ¨èµ„æº</strong>ï¼Œåœ¨å®ƒçš„èµ„æºæœªæ»¡è¶³å‰ï¼Œä¸æŠŠå®ƒæŠ•å…¥è¿è¡Œã€‚</li><li>ä¸€æ—¦æŠ•å…¥è¿è¡Œï¼Œè¿™äº›èµ„æºå°±<strong>ä¸€ç›´å½’å®ƒæ‰€æœ‰</strong>ï¼Œä¸å†æå‡ºå…¶ä»–èµ„æºè¯·æ±‚ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ç³»ç»Ÿä¸ä¼šå‘ç”Ÿæ­»é”ã€‚</li><li>å¦ä¸€ç§æ–¹å¼æ˜¯<strong>åœ¨æ²¡æœ‰å ç”¨èµ„æºæ—¶ï¼Œæ‰å¯ç”³è¯·èµ„æº</strong>ã€‚åœ¨ç”³è¯·æ–°çš„èµ„æºä¹‹å‰ï¼Œå¿…é¡»é‡Šæ”¾å·²åˆ†é…çš„æ‰€æœ‰èµ„æºï¼ˆå…ˆé‡Šæ”¾å†ç”³è¯·ï¼‰ã€‚</li></ul><blockquote><p>è¿™ç§æ–¹å¼å®ç°ç®€å•ï¼Œç¼ºç‚¹æ˜¯ç³»ç»Ÿèµ„æºè¢«ä¸¥é‡<strong>æµªè´¹</strong>ï¼Œåˆ©ç”¨ç‡ä½ã€‚</p><p>è€Œä¸”è¿˜ä¼šå¯¼è‡´ã€Œ<strong>é¥¥é¥¿</strong>ã€ç°è±¡ï¼Œç”±äºä¸ªåˆ«èµ„æºé•¿æœŸè¢«å…¶ä»–è¿›ç¨‹å ç”¨æ—¶ï¼Œå°†è‡´ä½¿ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹è¿Ÿè¿Ÿä¸èƒ½å¼€å§‹è¿è¡Œã€‚</p></blockquote></li><li><p>ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼š</p><ul><li>ä¸ºäº†ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼Œå¯é‡‡ç”¨é¡ºåºèµ„æºåˆ†é…æ³•ã€‚</li><li>é¦–å…ˆç»™ç³»ç»Ÿä¸­çš„èµ„æºç¼–å·ï¼Œè§„å®šæ¯ä¸ªè¿›ç¨‹å¿…é¡»æŒ‰<strong>ç¼–å·é€’å¢çš„é¡ºåºè¯·æ±‚èµ„æº</strong>ï¼ŒåŒç±»èµ„æºä¸€æ¬¡ç”³è¯·å®Œã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¿›ç¨‹æå‡ºç”³è¯·åˆ†é…èµ„æº <span class="math inline">\(R\)</span>ï¼Œåˆ™è¯¥è¿›ç¨‹åœ¨ä»¥åçš„èµ„æºç”³è¯·ä¸­å°±åªèƒ½ç”³è¯·ç¼–å·å¤§äº<span class="math inline">\(R\)</span> çš„èµ„æºã€‚</li></ul><blockquote><p>è¿™ç§æ–¹æ³•å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š</p><ul><li>ç¼–å·å¿…é¡»ç›¸å¯¹ç¨³å®šï¼Œè¿™å°±<strong>é™åˆ¶äº†æ–°ç±»å‹è®¾å¤‡çš„å¢åŠ </strong>ã€‚</li><li>ä¼šå‘ç”Ÿä½œä¸šä½¿ç”¨èµ„æºçš„é¡ºåºä¸ç³»ç»Ÿè§„å®šé¡ºåºä¸åŒçš„æƒ…å†µï¼Œé€ æˆ<strong>èµ„æºçš„æµªè´¹</strong>ã€‚</li><li>æ­¤å¤–ï¼Œè¿™ç§æŒ‰è§„å®šæ¬¡åºç”³è¯·èµ„æºçš„æ–¹æ³•ï¼Œä¹Ÿå¿…ç„¶ä¼šç»™ç”¨æˆ·çš„<strong>ç¼–ç¨‹</strong>å¸¦æ¥éº»çƒ¦ã€‚</li></ul></blockquote></li></ul><h4 id="æ­»é”é¿å…">æ­»é”é¿å…</h4><p>â€‹åœ¨èµ„æºçš„åŠ¨æ€åˆ†é…è¿‡ç¨‹ä¸­ï¼Œç”¨æŸç§æ–¹æ³•<strong>é˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€</strong>ï¼Œä»è€Œé¿å…æ­»é”ã€‚</p><ul><li><p>é¿å…æ­»é”çš„æ–¹æ³•ä¸­ï¼Œå…è®¸è¿›ç¨‹<strong>åŠ¨æ€åœ°ç”³è¯·èµ„æº</strong>ï¼Œä½†ç³»ç»Ÿåœ¨è¿›è¡Œèµ„æºåˆ†é…ä¹‹å‰ï¼Œåº”å…ˆè®¡ç®—æ­¤æ¬¡åˆ†é…çš„<strong>å®‰å…¨æ€§</strong>ã€‚è‹¥<strong>æ­¤æ¬¡åˆ†é…ä¸ä¼šå¯¼è‡´ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€</strong>ï¼Œåˆ™å…è®¸åˆ†é…ï¼Œå¦åˆ™è®©è¿›ç¨‹ç­‰å¾…ã€‚</p><blockquote><p>å®‰å…¨çŠ¶æ€å®šä¹‰ï¼š</p><p>â€‹ ç³»ç»Ÿèƒ½æŒ‰æŸç§è¿›ç¨‹æ¨è¿›é¡ºåº <span class="math inline">\(\left(P_{1},P_{2}, \cdots, P_{n}\right)\)</span> ä¸ºæ¯ä¸ªè¿›ç¨‹ <span class="math inline">\(P_{i}\)</span>åˆ†é…å…¶æ‰€éœ€çš„èµ„æºï¼Œç›´è‡³æ»¡è¶³æ¯ä¸ªè¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä½¿æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåºå®Œæˆã€‚</p><p>æ­¤æ—¶ç§° <span class="math inline">\(P_{1}, P_{2}, \cdots,P_{n}\)</span>ä¸º<strong>å®‰å…¨åºåˆ—</strong>ã€‚è‹¥ç³»ç»Ÿæ— æ³•æ‰¾åˆ°ä¸€ä¸ªå®‰å…¨åºåˆ—ï¼Œåˆ™ç§°ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€ã€‚</p></blockquote></li><li><p>é“¶è¡Œå®¶ç®—æ³•æ˜¯æœ€è‘—åçš„æ­»é”é¿å…ç®—æ³•ï¼Œå…¶æ€æƒ³æ˜¯ï¼š</p><ul><li>æŠŠ<strong>æ“ä½œç³»ç»Ÿ</strong>è§†ä¸º<strong>é“¶è¡Œå®¶</strong>ï¼Œæ“ä½œç³»ç»Ÿç®¡ç†çš„<strong>èµ„æº</strong>ç›¸å½“äºé“¶è¡Œå®¶ç®¡ç†çš„<strong>èµ„é‡‘</strong>ï¼Œè¿›ç¨‹å‘æ“ä½œç³»ç»Ÿ<strong>è¯·æ±‚åˆ†é…èµ„æº</strong>ç›¸å½“äºç”¨æˆ·å‘é“¶è¡Œå®¶<strong>è´·æ¬¾</strong>ï¼Œæ“ä½œç³»ç»ŸæŒ‰ç…§é“¶è¡Œå®¶åˆ¶å®šçš„è§„åˆ™ä¸ºè¿›ç¨‹åˆ†é…èµ„æºã€‚</li><li>è¿›ç¨‹è¿è¡Œä¹‹å‰å…ˆå£°æ˜å¯¹å„ç§èµ„æºçš„<strong>æœ€å¤§éœ€æ±‚é‡</strong> <span class="math inline">\(\operatorname{Max}\)</span>ï¼Œè¿™ä¸€æ•°é‡ä¸èƒ½è¶…è¿‡ç³»ç»Ÿèµ„æºçš„æ€»å’Œã€‚</li><li>å½“ç”¨æˆ·<strong>ç”³è¯·</strong>ä¸€ç»„èµ„æºæ—¶ï¼Œç³»ç»Ÿåº”<strong>æ£€æµ‹</strong>èµ„æºçš„åˆ†é…æ˜¯å¦ä»ä¼šä½¿ç³»ç»Ÿå¤„äº<strong>å®‰å…¨çŠ¶æ€</strong>ã€‚å¦‚æœä¼šï¼Œå°±å¯åˆ†é…èµ„æºï¼›å¦åˆ™ï¼Œè¿›ç¨‹åº”ç­‰å¾…ï¼Œç›´åˆ°æŸä¸ªå…¶ä»–è¿›ç¨‹<strong>é‡Šæ”¾</strong>è¶³å¤Ÿå¤šçš„èµ„æºä¸ºæ­¢</li></ul></li><li><p>å˜é‡å®šä¹‰ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">int</span> n,m;              <span class="hljs-comment">//ç³»ç»Ÿä¸­è¿›ç¨‹æ€»æ•°nå’Œèµ„æºç§ç±»æ€»æ•°m </span><br><span class="hljs-keyword">int</span> Available[m];  <span class="hljs-comment">//èµ„æºå½“å‰å¯ç”¨æ€»é‡</span><br><span class="hljs-keyword">int</span> Allocation[n][m]; <span class="hljs-comment">//å½“å‰å·²ç»åˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„å„ç§èµ„æºæ•°é‡</span><br><span class="hljs-keyword">int</span> Need[n][m];  <span class="hljs-comment">//å½“å‰æ¯ä¸ªè¿›ç¨‹è¿˜éœ€åˆ†é…çš„å„ç§èµ„æºæ•°é‡</span><br><span class="hljs-keyword">int</span> Work[m];   <span class="hljs-comment">//å½“å‰å¯åˆ†é…çš„èµ„æº,å¯ç”¨+å¯æ”¶å›çš„</span><br><span class="hljs-keyword">bool</span> Finish[n];  <span class="hljs-comment">//è¿›ç¨‹æ˜¯å¦ç»“æŸ</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>èµ„æºè¯·æ±‚ç®—æ³•ï¼š</p><p>â€‹ è®¾ <span class="math inline">\(\operatorname{Request}_{i}\)</span>æ˜¯è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> çš„è¯·æ±‚å‘é‡ï¼Œ<span class="math inline">\(\operatorname{Request}_{i}[j]=K\)</span> è¡¨ç¤ºè¿›ç¨‹<span class="math inline">\(P_{i}\)</span> éœ€è¦ <span class="math inline">\(j\)</span> ç±»èµ„æº <span class="math inline">\(K\)</span> ä¸ªã€‚å½“ <span class="math inline">\(P_{i}\)</span>å‘å‡ºèµ„æºè¯·æ±‚åï¼Œç³»ç»ŸæŒ‰ä¸‹è¿°æ­¥éª¤è¿›è¡Œæ£€æŸ¥:</p><ol type="1"><li>è‹¥ <span class="math inline">\(\operatorname{Request}_{i}[j] \leq\operatorname{Need}[i, j]\)</span>ï¼Œåˆ™è½¬å‘æ­¥éª¤ <span class="math inline">\(2\)</span>ï¼Œå¦åˆ™è®¤ä¸ºå‡ºé”™ï¼Œå› ä¸ºå®ƒæ‰€éœ€è¦çš„èµ„æºæ•°å·²è¶…è¿‡å®ƒæ‰€å®£å¸ƒçš„<strong>æœ€å¤§å€¼</strong>ã€‚</li><li>è‹¥ <span class="math inline">\(\operatorname{Request}_{i}[j] \leq\operatorname{Available} [j]\)</span>ï¼Œåˆ™è½¬å‘æ­¥éª¤ <span class="math inline">\(3\)</span>ï¼Œå¦åˆ™è¡¨ç¤º<strong>å°šæ— è¶³å¤Ÿèµ„æº</strong>ï¼Œ<span class="math inline">\(P_{i}\)</span> ç­‰å¾…ã€‚</li><li>ç³»ç»Ÿ<strong>è¯•æ¢</strong>ç€æŠŠèµ„æºåˆ†é…ç»™è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span>ï¼Œå¹¶ä¿®æ”¹ä¸‹é¢æ•°æ®ç»“æ„ä¸­çš„æ•°å€¼ã€‚</li></ol><p><span class="math display">\[   \begin{aligned}   &amp;\operatorname{Available}=\operatorname{Available}-\operatorname{Request}_i[j]\\   &amp;\operatorname{Allocation}[i,j]=\operatorname{Allowcation}[i,j]+\operatorname{Request}_i[j]\\   &amp;\operatorname{Need}[i,j]=\operatorname{Need}[i,j]-\operatorname{Request}_i[j]   \end{aligned}\]</span></p><ol start="4" type="1"><li>ç³»ç»Ÿæ‰§è¡Œ<strong>å®‰å…¨æ€§ç®—æ³•</strong>ï¼Œæ£€æŸ¥æ­¤æ¬¡èµ„æºåˆ†é…åï¼Œç³»ç»Ÿæ˜¯å¦å¤„äº<strong>å®‰å…¨çŠ¶æ€</strong>ã€‚è‹¥å®‰å…¨ï¼Œæ‰æ­£å¼å°†èµ„æºåˆ†é…ç»™è¿›ç¨‹<span class="math inline">\(P_{i}\)</span>ï¼Œä»¥å®Œæˆæœ¬æ¬¡åˆ†é…ï¼›å¦åˆ™ï¼Œå°†æœ¬æ¬¡çš„è¯•æ¢åˆ†é…ä½œåºŸï¼Œæ¢å¤åŸæ¥çš„èµ„æºåˆ†é…çŠ¶æ€ï¼Œè®©è¿›ç¨‹<span class="math inline">\(P_{i}\)</span> <strong>ç­‰å¾…</strong>ã€‚</li></ol></li><li><p>å®‰å…¨æ€§ç®—æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦ <span class="math inline">\(\mathcal{O}(mn^2)\)</span>ï¼‰ï¼š</p><p>â€‹ è®¾ç½®å·¥ä½œå‘é‡ <span class="math inline">\(\operatorname{Work} =\operatorname{Available}\)</span>ï¼Œæœ‰ <span class="math inline">\(m\)</span>ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­çš„å‰©ä½™å¯ç”¨èµ„æºæ•°ç›®ã€‚</p><ol type="1"><li>åˆå§‹æ—¶å®‰å…¨åºåˆ—ä¸ºç©ºã€‚</li><li>ä» <span class="math inline">\(\operatorname{Need}\)</span>çŸ©é˜µä¸­æ‰¾å‡ºç¬¦åˆä¸‹é¢æ¡ä»¶çš„è¡Œï¼š<ul><li>è¯¥è¡Œå¯¹åº”çš„è¿›ç¨‹<strong>ä¸åœ¨å®‰å…¨åºåˆ—</strong>ä¸­ã€‚</li><li>è¯¥è¡Œå°äºç­‰äº <span class="math inline">\(\operatorname{Work}\)</span>å‘é‡ï¼ˆå³æ¯ä¸€åˆ—éƒ½å°äºï¼‰ï¼Œæ‰¾åˆ°åï¼ŒæŠŠå¯¹åº”çš„è¿›ç¨‹åŠ å…¥å®‰å…¨åºåˆ—ï¼›è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™æ‰§è¡Œæ­¥éª¤<span class="math inline">\(4\)</span>ã€‚</li></ul></li><li>è®¾æ­¥éª¤ <span class="math inline">\(2\)</span> ä¸­æ‰¾åˆ°çš„è¿›ç¨‹ <span class="math inline">\({P}_{i}\)</span>è¿›å…¥å®‰å…¨åºåˆ—åï¼Œå¯é¡ºåˆ©æ‰§è¡Œç›´è‡³å®Œæˆï¼Œå¹¶é‡Šæ”¾åˆ†é…ç»™å®ƒçš„èµ„æºï¼Œæ­¤æ—¶æ‰§è¡Œ <span class="math inline">\(\operatorname{Work} = \operatorname{Work} +\operatorname{Allocation}[i]\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(\operatorname{Allocation}[i]\)</span> è¡¨ç¤ºè¿›ç¨‹<span class="math inline">\({P}_{i}\)</span> ä»£è¡¨çš„åœ¨ <span class="math inline">\(\operatorname{Allocation}[i]\)</span>çŸ©é˜µä¸­å¯¹åº”çš„è¡Œï¼Œè¿”å›æ­¥éª¤ <span class="math inline">\(2\)</span>ã€‚</li><li>è‹¥ <span class="math inline">\(3\)</span>ä¸­å®‰å…¨åºåˆ—ä¸­<strong>å·²æœ‰æ‰€æœ‰è¿›ç¨‹</strong>ï¼Œåˆ™ç³»ç»Ÿå¤„äº<strong>å®‰å…¨çŠ¶æ€</strong>ï¼Œè‹¥æœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è¿›ç¨‹ï¼Œåˆ™ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€ã€‚</li></ol><p>ä¼ªä»£ç ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">bool</span> Found; <br>Work = Available; <br>Finish = <span class="hljs-literal">false</span>; <br><span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>){ <br>    Found = <span class="hljs-literal">false</span>;  <span class="hljs-comment">//æ˜¯å¦ä¸ºå®‰å…¨åºåˆ—æ‰¾åˆ°ä¸€ä¸ªè¿›ç¨‹ </span><br> <span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br><span class="hljs-keyword">if</span>(Finish[i] == <span class="hljs-literal">false</span> &amp;&amp; Need[i] &lt;= Work){      <span class="hljs-comment">// è¿™ä¸ªå‘é‡ã€Œå°äºç­‰äºã€æ˜¯æ¯ä¸ªåˆ†é‡éƒ½å°äºç­‰äºï¼ŒO(m)åˆ¤æ–­</span><br>Work = Work + Allocation[i]; <br>Finish[i] = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d-&gt;"</span>,i); <span class="hljs-comment">//è¾“å‡ºå®‰å…¨åºåˆ— </span><br>Found = <span class="hljs-literal">true</span>;<br> }<br><span class="hljs-keyword">if</span>(Found == <span class="hljs-literal">false</span>) <span class="hljs-keyword">break</span>;<br>}<br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>;i &lt;= n;i++) <br><span class="hljs-keyword">if</span>(Finish[i] == <span class="hljs-literal">false</span>) <br><span class="hljs-keyword">return</span> <span class="hljs-string">"deadlock"</span>;    <span class="hljs-comment">//åªè¦æœ‰ä¸€ä¸ªæ²¡æœ‰åˆ†é…æˆåŠŸï¼Œå°±æ˜¯äº§ç”Ÿäº†æ­»é”</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>æ¯ä¸ªè¿›ç¨‹è¿›å…¥ç³»ç»Ÿæ—¶å¿…é¡»å‘ŠçŸ¥<strong>æ‰€éœ€èµ„æºçš„æœ€å¤§æ•°é‡</strong>ï¼Œå¯¹åº”ç”¨ç¨‹åºå‘˜è¦æ±‚é«˜ã€‚</li><li>å®‰å…¨åºåˆ—å¯»æ‰¾ç®—æ³•ï¼ˆå®‰å…¨çŠ¶æ€åˆ¤å®šç®—æ³•ï¼‰è®¡ç®—æ—¶é—´å¤æ‚åº¦ä¸º <span class="math inline">\(\mathcal{O}(mn^2)\)</span>ï¼Œè¿‡äºå¤æ‚ã€‚</li><li>è‹¥<strong>æ¯æ¬¡èµ„æºè¯·æ±‚</strong>éƒ½è¦è°ƒç”¨é“¶è¡Œå®¶ç®—æ³•ï¼Œè€—æ—¶è¿‡å¤§ã€‚</li><li>å½“å‰æœ‰èµ„æºå¯ç”¨ï¼Œå°½ç®¡å¯èƒ½å¾ˆå¿«å°±ä¼šé‡Šæ”¾ï¼Œç”±äºä¼šä½¿æ•´ä½“è¿›ç¨‹å¤„äºä¸å®‰å…¨çŠ¶æ€ï¼Œè€Œä¸è¢«åˆ†é…ï¼Œè‡´ä½¿<strong>èµ„æºåˆ©ç”¨ç‡</strong>å¤§å¤§é™ä½ã€‚</li></ul></li></ul><h4 id="æ­»é”çš„æ£€æµ‹åŠæ¢å¤">æ­»é”çš„æ£€æµ‹åŠæ¢å¤</h4><ul><li><p>æ— é¡»é‡‡å–ä»»ä½•é™åˆ¶æ€§æªæ–½ï¼Œ<strong>å…è®¸</strong>è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­<strong>å‘ç”Ÿæ­»é”</strong>ã€‚é€šè¿‡ç³»ç»Ÿçš„æ£€æµ‹æœºæ„åŠæ—¶åœ°<strong>æ£€æµ‹å‡ºæ­»é”çš„å‘ç”Ÿ</strong>ï¼Œç„¶åé‡‡å–æŸç§æªæ–½<strong>è§£é™¤æ­»é”</strong>ï¼ˆæŠ¢å ä¸€äº›è¿›ç¨‹çš„èµ„æºï¼‰ã€‚</p></li><li><p>ç±»ä¼¼é“¶è¡Œå®¶ç®—æ³•çš„æ­»é”æ£€æµ‹ï¼š</p><p>æ€æƒ³ï¼š</p><p>â€‹åªè¦å¯ç”¨èµ„æºè¶³å¤Ÿï¼Œåˆ™åˆ†é…ï¼Œå‘ç°é—®é¢˜å†å¤„ç†ï¼ˆå®šæ—¶æ£€æµ‹æˆ–è€…å½“å‘ç°èµ„æºåˆ©ç”¨ç‡ä½æ—¶æ£€æµ‹ï¼‰ã€‚</p><blockquote><p><span class="math inline">\(\operatorname{Request}_{i}\)</span>æ˜¯è¿›ç¨‹ <span class="math inline">\(P_{i}\)</span> çš„è¯·æ±‚å‘é‡ï¼Œ<span class="math inline">\(\operatorname{Request}_{i}[j]=K\)</span> è¡¨ç¤ºè¿›ç¨‹<span class="math inline">\(P_{i}\)</span> éœ€è¦ <span class="math inline">\(j\)</span> ç±»èµ„æº <span class="math inline">\(K\)</span> ä¸ªï¼Œä»£æ›¿åŸæ¥çš„ <span class="math inline">\(\operatorname{Need}\)</span> å‘é‡ã€‚</p></blockquote><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">bool</span> Found; <br>Work = Available; <br>Finish = <span class="hljs-literal">false</span>; <br><span class="hljs-keyword">if</span> Allocation[i] != <span class="hljs-number">0</span>: Finish[i] = <span class="hljs-literal">false</span>; <br><span class="hljs-keyword">else</span>: Finish[i] = <span class="hljs-literal">true</span>;       <span class="hljs-comment">//å¯¹äºæ— åˆ†é…èµ„æºçš„è¿›ç¨‹,ä¸è®ºå…¶æ˜¯å¦è·å¾—è¯·æ±‚èµ„æº,åˆ™è®¤ä¸ºå…¶æ˜¯å®Œæˆçš„ã€‚</span><br><span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>){ <br>    Found = <span class="hljs-literal">false</span>;   <span class="hljs-comment">//æ˜¯å¦ä¸ºå®‰å…¨åºåˆ—æ‰¾åˆ°ä¸€ä¸ªè¿›ç¨‹ </span><br> <span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-comment">/* </span><br><span class="hljs-comment">        *  è¿™é‡ŒåŸæ¥æ˜¯åˆ¤æ–­ Need[i] &lt;= work</span><br><span class="hljs-comment">        *  åŸå› æ˜¯å·²çŸ¥ Pi ç°åœ¨ä¸å‚ä¸æ­»é”(Request &lt;= Work),å¯ä»¥ä¹è§‚åœ°è®¤ä¸º Pi ä¸å†éœ€è¦æ›´å¤šèµ„æºå°±å¯ä»¥å®Œæˆä»»åŠ¡,</span><br><span class="hljs-comment">        *  å®ƒä¼šè¿”å›ç°å·²åˆ†é…çš„æ‰€æœ‰èµ„æºã€‚å¦‚æœè¿™ä¸ªå‡å®šä¸æ­£ç¡®,é‚£ä¹ˆä¸‹æ¬¡è°ƒç”¨æ­»é”æ£€æµ‹ç®—æ³•æ—¶,å°±ä¼šæ£€æµ‹åˆ°æ­»é”çŠ¶æ€ã€‚</span><br><span class="hljs-comment">        */</span><br><span class="hljs-keyword">if</span>(Finish[i] == <span class="hljs-literal">false</span> &amp;&amp; Request[i] &lt;= Work){<br>Work = Work + Allocation[i]; <br>Finish[i] = <span class="hljs-literal">true</span>;<br>Found = <span class="hljs-literal">true</span>;<br> }<br><span class="hljs-keyword">if</span>(Found == <span class="hljs-literal">false</span>) <span class="hljs-keyword">break</span>;<br>}<br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>;i &lt;= n;i++) <br><span class="hljs-keyword">if</span>(Finish[i] == <span class="hljs-literal">false</span>) <br><span class="hljs-keyword">return</span> <span class="hljs-string">"deadlock"</span>;     <span class="hljs-comment">//åªè¦æœ‰ä¸€ä¸ªæ²¡æœ‰åˆ†é…æˆåŠŸï¼Œå°±æ˜¯äº§ç”Ÿäº†æ­»é”</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>æ­»é”æ¢å¤çš„æ–¹æ³•ï¼š</p><ul><li><p>ç»ˆæ­¢è¿›ç¨‹ï¼š</p><ul><li><p><strong>ä¸­æ­¢æ‰€æœ‰æ­»é”è¿›ç¨‹</strong>ï¼š</p><ul><li>è¿™ç§æ–¹æ³•æ˜¾ç„¶ä¼šæ‰“ç ´æ­»é”ç¯ï¼Œä½†æ˜¯ä»£ä»·ä¹Ÿå¤§ã€‚</li><li>è¿™äº›æ­»é”è¿›ç¨‹å¯èƒ½å·²è®¡ç®—äº†è¾ƒé•¿æ—¶é—´ï¼Œè¿™äº›éƒ¨åˆ†è®¡ç®—çš„ç»“æœä¹Ÿè¦æ”¾å¼ƒï¼Œå¹¶ä¸”ä»¥åå¯èƒ½è¿˜è¦é‡æ–°è®¡ç®—ã€‚</li></ul></li><li><p>ä¸€æ¬¡<strong>ä¸­æ­¢ä¸€ä¸ªè¿›ç¨‹</strong>ï¼Œç›´åˆ°æ¶ˆé™¤æ­»é”å¾ªç¯ä¸ºæ­¢ï¼š</p><p>â€‹è¿™ç§æ–¹æ³•çš„å¼€é”€ä¼šç›¸å½“å¤§ï¼Œè¿™æ˜¯å› ä¸ºæ¯æ¬¡ä¸­æ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œéƒ½åº”<strong>è°ƒç”¨æ­»é”æ£€æµ‹ç®—æ³•</strong>ï¼Œä»¥ç¡®å®šæ˜¯å¦ä»æœ‰è¿›ç¨‹å¤„äºæ­»é”ã€‚</p></li></ul></li><li><p>æŠ¢å èµ„æºï¼š</p><ul><li>é€‰æ‹©ç‰ºç‰²è¿›ç¨‹ï¼š<ul><li><p>åº”ç¡®å®š<strong>æŠ¢å çš„é¡ºåº</strong>ä½¿å¾—ä»£ä»·æœ€å°ã€‚</p></li><li><p>ä»£ä»·å› ç´ ï¼š</p><p>â€‹ æ­»é”è¿›ç¨‹æ‹¥æœ‰çš„èµ„æºæ•°é‡ã€æ­»é”è¿›ç¨‹è€—æ—¶ç­‰ã€‚</p></li></ul></li><li>å›æ»šï¼š<ul><li>å¿…é¡»å°†è¿›ç¨‹å›æ»šåˆ°æŸä¸ªå®‰å…¨çŠ¶æ€ï¼ˆè¶³å¤Ÿæ‰“ç ´æ­»é”ï¼‰ï¼Œä»¥ä¾¿ä»è¯¥çŠ¶æ€é‡å¯è¿›ç¨‹ã€‚</li><li>è¦æ±‚ç³»ç»Ÿç»´æŠ¤æœ‰å…³è¿›ç¨‹<strong>è¿è¡ŒçŠ¶æ€çš„æ›´å¤šä¿¡æ¯</strong>ã€‚</li><li>æˆ–è€…å®Œå…¨å›æ»šï¼Œç»ˆæ­¢è¿›ç¨‹<strong>é‡æ–°æ‰§è¡Œ</strong>ã€‚</li></ul></li><li>é¥¥é¥¿ï¼š<ul><li>è¦ä¿è¯èµ„æºä¸ä¼š<strong>æ€»æ˜¯</strong>ä»åŒä¸€ä¸ªè¿›ç¨‹ä¸­è¢«æŠ¢å ã€‚</li><li>å¦‚æœä¸€ä¸ªç³»ç»Ÿæ˜¯<strong>åŸºäºä»£ä»·</strong>æ¥é€‰æ‹©ç‰ºç‰²è¿›ç¨‹ï¼Œé‚£ä¹ˆåŒä¸€è¿›ç¨‹å¯èƒ½æ€»æ˜¯è¢«é€‰ä¸ºç‰ºç‰²çš„ï¼Œå¯¼è‡´è¿™ä¸ªè¿›ç¨‹æ°¸è¿œä¸èƒ½å®ŒæˆæŒ‡å®šä»»åŠ¡ã€‚åº”ç¡®ä¿ä¸€ä¸ªè¿›ç¨‹åªèƒ½<strong>æœ‰é™æ¬¡æ•°åœ°è¢«é€‰ä¸ºç‰ºç‰²è¿›ç¨‹</strong>ã€‚</li><li>æœ€ä¸ºå¸¸ç”¨çš„æ–¹æ³•æ˜¯åœ¨<strong>ä»£ä»·å› ç´ ä¸­åŠ ä¸Šå›æ»šæ¬¡æ•°</strong>ã€‚</li></ul></li></ul></li></ul></li></ul><blockquote><ul><li><p>é¢„é˜²æ­»é”å’Œé¿å…æ­»é”éƒ½å±äº<strong>äº‹å…ˆé¢„é˜²ç­–ç•¥</strong>ï¼Œé¢„é˜²æ­»é”çš„é™åˆ¶æ¡ä»¶æ¯”è¾ƒ<strong>ä¸¥æ ¼</strong>ï¼Œå®ç°èµ·æ¥è¾ƒä¸ºç®€å•ï¼Œä½†å¾€å¾€å¯¼è‡´ç³»ç»Ÿçš„<strong>æ•ˆç‡ä½</strong>ï¼Œèµ„æºåˆ©ç”¨ç‡ä½ã€‚</p></li><li><p>é¿å…æ­»é”çš„é™åˆ¶æ¡ä»¶ç›¸å¯¹<strong>å®½æ¾</strong>ï¼Œèµ„æºåˆ†é…åéœ€è¦é€šè¿‡ç®—æ³•æ¥åˆ¤æ–­æ˜¯å¦è¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œå®ç°èµ·æ¥è¾ƒä¸º<strong>å¤æ‚</strong>ã€‚</p></li></ul></blockquote><ul><li><p>æ­»é”å¿½ç•¥ï¼š</p><p>â€‹ é‡‡ç”¨æœ€å¤šï¼Œä»¥ä¸Šç™½å­¦<span class="">ğŸ”®</span></p></li></ul><h3 id="çº¿ç¨‹å®‰å…¨">çº¿ç¨‹å®‰å…¨</h3><blockquote><p>æ•´ç†è‡ª PPT å’Œ CSAPP</p></blockquote><p>çº¿ç¨‹å®‰å…¨å®šä¹‰ï¼š</p><p>â€‹çº¿ç¨‹å®‰å…¨çš„å‡½æ•°è¢«å¤šä¸ª<strong>å¹¶å‘çº¿ç¨‹åå¤</strong>åœ°è°ƒç”¨æ—¶ï¼Œä¼šä¸€ç›´äº§ç”Ÿ<strong>æ­£ç¡®</strong>çš„ç»“æœã€‚</p><h4 id="å››ç±»çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°">å››ç±»çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°</h4><ul><li><p>ä¸ä¿æŠ¤<strong>å…±äº«å˜é‡</strong>çš„å‡½æ•°ï¼š</p><ul><li>åˆ©ç”¨åƒ <span class="math inline">\(P\)</span> å’Œ <span class="math inline">\(V\)</span>æ“ä½œè¿™æ ·çš„åŒæ­¥æ“ä½œæ¥ä¿æŠ¤å…±äº«çš„å˜é‡å¯ä»¥è½¬å˜ä¸ºçº¿ç¨‹å®‰å…¨å‡½æ•°ã€‚</li><li>è¿™ä¸ªæ–¹æ³•çš„ä¼˜ç‚¹æ˜¯åœ¨è°ƒç”¨ç¨‹åºä¸­<strong>ä¸éœ€è¦ä¿®æ”¹</strong>ã€‚</li><li>ç¼ºç‚¹æ˜¯åŒæ­¥æ“ä½œå°†<strong>å‡æ…¢</strong>ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ã€‚</li></ul></li><li><p>è¢«å¤šä¸ªè¿›ç¨‹è°ƒç”¨ä¸”<strong>æŒç»­ä¿æŒçŠ¶æ€</strong>çš„å‡½æ•°ï¼š</p><blockquote><p>åŸåä¸ºã€Œä¿æŒè·¨è¶Šå¤šä¸ªè°ƒç”¨çš„çŠ¶æ€çš„å‡½æ•°ã€ï¼Œæœ‰ç‚¹æ‹—å£</p></blockquote><p>â€‹ä¸€ä¸ª<strong>ä¼ªéšæœºæ•°ç”Ÿæˆå™¨</strong>æ˜¯è¿™ç±»çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°çš„ç®€å•ä¾‹å­ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">static</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> next = <span class="hljs-number">1</span>;<br><span class="hljs-comment">/* rand: è¿”å›å–å€¼èŒƒå›´ä¸º 0..32767 çš„ä¼ªéšæœºæ•° */</span> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rand</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{<br>next = next * <span class="hljs-number">1103515245</span> + <span class="hljs-number">12345</span>; <br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>)(next / <span class="hljs-number">65536</span>) % <span class="hljs-number">32768</span>;<br>}<br><span class="hljs-comment">/* srand: set seed for rand() */</span> <br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">srand</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> seed)</span> </span>{<br>next = seed; <br>}<br></code></pre></td></tr></tbody></table></figure><ul><li><p>å½“è°ƒç”¨ <code>srand()</code> ä¸º <code>rand()</code>è®¾ç½®äº†ä¸€ä¸ªç§å­åï¼Œä¸€ä¸ªå•çº¿ç¨‹åå¤åœ°è°ƒç”¨<code>rand()</code>ï¼Œèƒ½å¤Ÿé¢„æœŸå¾—åˆ°ä¸€ä¸ªå¯é‡å¤çš„éšæœºæ•°å­—åºåˆ—ã€‚</p></li><li><p>ä¸Šé¢çš„ <code>rand()</code>å‡½æ•°æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå½“å‰è°ƒç”¨çš„ç»“æœä¾èµ–äº<strong>å‰æ¬¡è°ƒç”¨</strong>ï¼ˆå¯èƒ½æ˜¯å…¶ä»–çº¿ç¨‹è°ƒç”¨çš„ï¼‰çš„ä¸­é—´ç»“æœã€‚</p></li><li><p>æ‰€ä»¥å¦‚æœ<strong>å¤šçº¿ç¨‹</strong>è°ƒç”¨ <code>rand()</code>å‡½æ•°ï¼Œå¾—åˆ°çš„ <code>next</code>éšæœºæ•°<strong>ä¸å‡åŒ€ç”šè‡³æ˜¯å¸¸æ•°</strong>ã€‚</p></li><li><p><code>rand()</code>è¿™æ ·çš„å‡½æ•°å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„<strong>å”¯ä¸€æ–¹å¼æ˜¯é‡å†™</strong>å®ƒï¼Œä½¿å¾—å®ƒä¸å†ä½¿ç”¨ä»»ä½•<code>static</code> å˜é‡ï¼Œè€Œæ˜¯ä¾é è°ƒç”¨è€…åœ¨å‚æ•°ä¸­ä¼ é€’çŠ¶æ€ä¿¡æ¯ã€‚</p></li><li><p>ä¿®æ”¹åçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ä¼ å…¥å½“å‰çº¿ç¨‹ä¸Šæ¬¡è°ƒç”¨çš„å¾—åˆ°çš„éšæœºæ•°å˜é‡åœ°å€</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rand_r</span><span class="hljs-params">(<span class="hljs-keyword">int</span> *nextp)</span> </span>{<br>*nextp = *nextp * <span class="hljs-number">1103515245</span> + <span class="hljs-number">12345</span>; <br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>)(*nextp / <span class="hljs-number">65536</span>) % <span class="hljs-number">32768</span>;<br>}<br></code></pre></td></tr></tbody></table></figure></li><li><p>è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯ï¼š</p><p>â€‹ ä¿®æ”¹å°†æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</p></li></ul></li><li><p>è¿”å›æŒ‡å‘é™æ€å˜é‡çš„æŒ‡é’ˆçš„å‡½æ•°ï¼š</p><ul><li><p>æŸäº›å‡½æ•°ï¼Œä¾‹å¦‚ <code>ctime()</code> å’Œ<code>gethost-byname()</code>ï¼Œå°†è®¡ç®—ç»“æœæ”¾åœ¨ä¸€ä¸ª <code>static</code>å˜é‡ä¸­ï¼Œç„¶åè¿”å›ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªå˜é‡çš„æŒ‡é’ˆã€‚</p></li><li><p>å¦‚æœæˆ‘ä»¬ä»å¹¶å‘çº¿ç¨‹ä¸­è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œé‚£ä¹ˆå°†å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œå› ä¸ºæ­£åœ¨è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨çš„ç»“æœä¼šè¢«å¦ä¸€ä¸ªçº¿ç¨‹æ‚„æ‚„åœ°<strong>è¦†ç›–</strong>äº†ã€‚</p></li><li><p>æœ‰ä¸¤ç§æ–¹æ³•æ¥å¤„ç†è¿™ç±»çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°ï¼š</p><ul><li><p>é‡å†™å‡½æ•°ï¼š</p><p>â€‹ä½¿å¾—è°ƒç”¨è€…ä¼ é€’å­˜æ”¾ç»“æœçš„<strong>å˜é‡çš„åœ°å€</strong>ã€‚è¿™å°±æ¶ˆé™¤äº†æ‰€æœ‰å…±äº«æ•°æ®ï¼Œä½†æ˜¯å®ƒè¦æ±‚ç¨‹åºå‘˜èƒ½å¤Ÿä¿®æ”¹å‡½æ•°çš„æºä»£ç ã€‚</p></li><li><p>ä½¿ç”¨åŠ é” - å¤åˆ¶æŠ€æœ¯ï¼š</p><ul><li>åŸºæœ¬æ€æƒ³æ˜¯å°†<strong>çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°ä¸äº’æ–¥é”</strong>è”ç³»èµ·æ¥ã€‚</li><li>åœ¨æ¯ä¸€ä¸ª<strong>è°ƒç”¨ä½ç½®</strong>ï¼Œå¯¹äº’æ–¥é”åŠ é”ï¼Œè°ƒç”¨çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°ï¼Œå°†å‡½æ•°è¿”å›çš„ç»“æœ<strong>å¤åˆ¶</strong>åˆ°ä¸€ä¸ª<strong>ç§æœ‰çš„å†…å­˜ä½ç½®</strong>ï¼Œç„¶åå¯¹äº’æ–¥é”è§£é”ã€‚</li><li>ä¸ºäº†å°½å¯èƒ½åœ°å‡å°‘å¯¹è°ƒç”¨è€…çš„ä¿®æ”¹ï¼Œå®šä¹‰ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„<strong>å°è£…å‡½æ•°</strong>ï¼Œå®ƒæ‰§è¡ŒåŠ é”-å¤åˆ¶ï¼Œç„¶åé€šè¿‡<strong>è°ƒç”¨è¿™ä¸ªå°è£…å‡½æ•°</strong>æ¥<strong>å–ä»£</strong>æ‰€æœ‰å¯¹çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°çš„è°ƒç”¨ã€‚</li></ul><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* lock-and-copy version ,å–ä»£ ctime å‡½æ•°*/</span> <br><span class="hljs-function"><span class="hljs-keyword">char</span> *<span class="hljs-title">ctime_ts</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">time_t</span> *timep, <span class="hljs-keyword">char</span> *privatep)</span> </span>{<br><span class="hljs-keyword">char</span> *sharedp;<br>P(&amp;mutex); <br>    sharedp = ctime(timep); <br>    <span class="hljs-built_in">strcpy</span>(privatep, sharedp); <br>    V(&amp;mutex); <br>    <span class="hljs-keyword">return</span> privatep;<br>}<br></code></pre></td></tr></tbody></table></figure></li></ul></li></ul></li><li><p>è°ƒç”¨çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°çš„å‡½æ•°ï¼š</p><ul><li>å¦‚æœå‡½æ•° <span class="math inline">\(f\)</span> è°ƒç”¨çº¿ç¨‹ä¸å®‰å…¨å‡½æ•°<span class="math inline">\(g\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(f\)</span> ä¸ä¸€å®šæ˜¯çº¿ç¨‹ä¸å®‰å…¨ã€‚</li><li>å¦‚æœ <span class="math inline">\(g\)</span> æ˜¯ç¬¬ <span class="math inline">\(2\)</span> ç±»å‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•° <span class="math inline">\(f\)</span> ä¹Ÿæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåªèƒ½é‡å†™å‡½æ•° <span class="math inline">\(g\)</span>ã€‚</li><li>å¦‚æœ <span class="math inline">\(g\)</span> æ˜¯ç¬¬ <span class="math inline">\(1\)</span> ç±»æˆ–è€…ç¬¬ <span class="math inline">\(3\)</span>ç±»å‡½æ•°ï¼Œé‚£ä¹ˆåªè¦ä½ ç”¨ä¸€ä¸ªäº’æ–¥é”ä¿æŠ¤è°ƒç”¨ä½ç½®å’Œä»»ä½•å¾—åˆ°çš„å…±äº«æ•°æ®ï¼Œ<span class="math inline">\(f\)</span> ä»ç„¶å¯èƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li></ul></li></ul><h4 id="å¯é‡å…¥æ€§">å¯é‡å…¥æ€§</h4><ul><li><p>æœ‰ä¸€ç±»é‡è¦çš„çº¿ç¨‹å®‰å…¨å‡½æ•°ï¼Œå«åš<strong>å¯é‡å…¥å‡½æ•°</strong>ï¼ˆreentrantfunctionï¼‰ã€‚</p></li><li><p>å…¶ç‰¹ç‚¹åœ¨äºå®ƒä»¬å…·æœ‰è¿™æ ·ä¸€ç§å±æ€§ï¼š</p><p>â€‹å½“å®ƒä»¬è¢«å¤šä¸ªçº¿ç¨‹è°ƒç”¨æ—¶ï¼Œ<strong>ä¸ä¼šå¼•ç”¨ä»»ä½•å…±äº«æ•°æ®</strong>ã€‚</p></li><li><p>å°½ç®¡çº¿ç¨‹å®‰å…¨å’Œå¯é‡å…¥æœ‰æ—¶ä¼šï¼ˆä¸æ­£ç¡®åœ°ï¼‰è¢«ç”¨åšåŒä¹‰è¯ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´è¿˜æ˜¯æœ‰æ¸…æ™°çš„æŠ€æœ¯å·®åˆ«ã€‚<strong>å¯é‡å…¥å‡½æ•°é›†åˆ</strong>æ˜¯<strong>çº¿ç¨‹å®‰å…¨å‡½æ•°</strong>çš„ä¸€ä¸ª<strong>çœŸå­é›†</strong>ã€‚</p></li><li><p>æ˜¾å¼å¯é‡å…¥å‡½æ•°ï¼š</p><ul><li>æ‰€æœ‰çš„å‡½æ•°å‚æ•°éƒ½æ˜¯<strong>ä¼ å€¼ä¼ é€’</strong>çš„ï¼ˆå³<strong>æ²¡æœ‰æŒ‡é’ˆ</strong>ï¼‰ã€‚</li><li>æ‰€æœ‰çš„æ•°æ®å¼•ç”¨éƒ½æ˜¯<strong>æœ¬åœ°è‡ªåŠ¨æ ˆå˜é‡</strong>ï¼ˆå³æ²¡æœ‰å¼•ç”¨<strong>é™æ€æˆ–å…¨å±€å˜é‡</strong>ï¼‰ã€‚</li><li>æ— è®ºæ€ä¹ˆè¢«è°ƒç”¨ï¼Œéƒ½å¯æ–­è¨€å®ƒæ˜¯å¯é‡å…¥çš„ã€‚</li></ul></li><li><p>éšå¼å¯é‡å…¥å‡½æ•°ï¼š</p><p>â€‹<strong>å…è®¸ä¸€äº›</strong>å‚æ•°æ˜¯<strong>å¼•ç”¨ä¼ é€’</strong>çš„ï¼ˆå³å…è®¸ä¼ é€’æŒ‡é’ˆï¼‰ï¼Œéœ€è¦<strong>å°å¿ƒåœ°ä¼ é€’</strong>æŒ‡å‘<strong>éå…±äº«æ•°æ®</strong>çš„æŒ‡é’ˆã€‚</p></li><li><p>çº¿ç¨‹å®‰å…¨çš„åº“å‡½æ•°ï¼š</p><ul><li><p>å¤§å¤šæ•° Linux å‡½æ•°ï¼ŒåŒ…æ‹¬å®šä¹‰åœ¨æ ‡å‡† Cåº“ä¸­çš„å‡½æ•°éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¾‹å¦‚ï¼š</p><p>â€‹ <code>malloc, free, printf, scanf</code></p></li><li><p>ä¾‹å¤–ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20210922143820526.png"></div></li><li><p>è°ƒç”¨è¿™äº›çº¿ç¨‹ä¸å®‰å…¨çš„å‡½æ•°ï¼Œå¯ä»¥é‡‡ç”¨åŠ é”å¤åˆ¶çš„æ–¹æ³•ï¼Œç¼ºç‚¹æœ‰ï¼š</p><ul><li>é™ä½äº†ç¨‹åºçš„é€Ÿåº¦ã€‚</li><li>æŸäº›å‡½æ•°è¿”å›æŒ‡å‘å¤æ‚ç»“æ„çš„æŒ‡é’ˆï¼Œéœ€è¦æ·±å±‚å¤åˆ¶ç»“æ„ã€‚</li><li>å¯¹ç¬¬ <span class="math inline">\(2\)</span> ç±»å‡½æ•°å¦‚<code>rand()</code> è¿™æ ·ä¾èµ–è·¨è¶Šè°ƒç”¨çš„æ— æ•ˆã€‚</li></ul></li></ul></li></ul><h2 id="å†…å­˜ç®¡ç†">å†…å­˜ç®¡ç†</h2><h3 id="å†…å­˜ç®¡ç†åŸºæœ¬æ¦‚å¿µ">å†…å­˜ç®¡ç†åŸºæœ¬æ¦‚å¿µ</h3><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹ã€‚</p></blockquote><h4 id="ç¨‹åºè£…å…¥å’Œé“¾æ¥">ç¨‹åºè£…å…¥å’Œé“¾æ¥</h4><p>åˆ›å»ºè¿›ç¨‹é¦–å…ˆè¦å°†<strong>ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜</strong>ã€‚å°†ç”¨æˆ·<strong>æºç¨‹åº</strong>å˜ä¸ºå¯åœ¨å†…å­˜ä¸­æ‰§è¡Œçš„<strong>ç¨‹åº</strong>ï¼Œé€šå¸¸éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>ç¼–è¯‘ï¼š</p><p>â€‹ç”±ç¼–è¯‘ç¨‹åºå°†ç”¨æˆ·æºä»£ç <strong>ç¼–è¯‘æˆè‹¥å¹²ç›®æ ‡æ¨¡å—</strong>ï¼Œå½¢æˆæ•´ä¸ªç¨‹åºçš„å®Œæ•´é€»è¾‘åœ°å€ç©ºé—´ã€‚</p></li><li><p>é“¾æ¥ï¼š</p><p>â€‹ç”±é“¾æ¥ç¨‹åºå°†ç¼–è¯‘åå½¢æˆçš„ä¸€ç»„<strong>ç›®æ ‡æ¨¡å—</strong>åŠæ‰€éœ€çš„<strong>åº“å‡½æ•°</strong>é“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„<strong>è£…å…¥æ¨¡å—</strong>ã€‚</p></li><li><p>è£…å…¥ï¼š</p><p>â€‹ ç”±è£…å…¥ç¨‹åºå°†<strong>è£…å…¥æ¨¡å—è£…å…¥å†…å­˜</strong>è¿è¡Œã€‚</p></li></ul><h4 id="é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€">é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€</h4><ul><li><p>é€»è¾‘åœ°å€ï¼š</p><ul><li>ç¼–è¯‘åï¼Œæ¯ä¸ªç›®æ ‡æ¨¡å—éƒ½ä» <span class="math inline">\(0\)</span>å·å•å…ƒå¼€å§‹ç¼–å€ï¼Œè¿™ç§°ä¸ºè¯¥ç›®æ ‡æ¨¡å—çš„ç›¸å¯¹åœ°å€ï¼ˆæˆ–é€»è¾‘åœ°å€ï¼‰ã€‚</li><li>å½“<strong>é“¾æ¥ç¨‹åº</strong>å°†å„ä¸ªæ¨¡å—é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œç›®æ ‡ç¨‹åºæ—¶ï¼Œé“¾æ¥ç¨‹åºé¡ºåºä¾æ¬¡æŒ‰å„ä¸ªæ¨¡å—çš„ç›¸å¯¹åœ°å€æ„æˆç»Ÿä¸€çš„ä»<span class="math inline">\(0\)</span>å·å•å…ƒå¼€å§‹ç¼–å€çš„é€»è¾‘åœ°å€ç©ºé—´ã€‚</li><li>ç”¨æˆ·ç¨‹åºå’Œç¨‹åºå‘˜åªéœ€çŸ¥é“é€»è¾‘åœ°å€ï¼Œè€Œå†…å­˜ç®¡ç†çš„å…·ä½“æœºåˆ¶åˆ™æ˜¯å®Œå…¨é€æ˜çš„ï¼Œåªæœ‰ç³»ç»Ÿç¼–ç¨‹äººå‘˜æ‰ä¼šæ¶‰åŠå†…å­˜ç®¡ç†çš„å…·ä½“æœºåˆ¶ã€‚</li><li><strong>ä¸åŒè¿›ç¨‹å¯ä»¥æœ‰ç›¸åŒçš„é€»è¾‘åœ°å€</strong>ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥æ˜ å°„åˆ°ä¸»å­˜çš„ä¸åŒä½ç½®ã€‚</li></ul></li><li><p>ç‰©ç†åœ°å€ï¼š</p><ul><li>ç‰©ç†åœ°å€ç©ºé—´æ˜¯æŒ‡å†…å­˜ä¸­ç‰©ç†å•å…ƒçš„é›†åˆï¼Œå®ƒæ˜¯åœ°å€è½¬æ¢çš„æœ€ç»ˆåœ°å€ï¼Œè¿›ç¨‹åœ¨è¿è¡Œæ—¶æ‰§è¡ŒæŒ‡ä»¤å’Œè®¿é—®æ•°æ®ï¼Œæœ€åéƒ½è¦é€šè¿‡ç‰©ç†åœ°å€ä»ä¸»å­˜ä¸­å­˜å–ã€‚</li><li>å½“è£…å…¥ç¨‹åºå°†å¯æ‰§è¡Œä»£ç <strong>è£…å…¥å†…å­˜</strong>æ—¶ï¼Œå¿…é¡»é€šè¿‡åœ°å€è½¬æ¢å°†é€»è¾‘åœ°å€è½¬æ¢æˆç‰©ç†åœ°å€ï¼ˆåŠ¨æ€é‡å®šä½è²Œä¼¼ä¸ç”¨ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>åœ°å€é‡å®šä½</strong>ã€‚</li></ul><blockquote><ul><li><p>é€»è¾‘åœ°å€ç©ºé—´ï¼š</p><p>â€‹åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå°†è™šæ‹Ÿåœ°å€å’Œé€»è¾‘åœ°å€ç»å¸¸ä¸åŠ åŒºåˆ†ï¼Œé€šç§°ä¸ºé€»è¾‘åœ°å€ã€‚é€»è¾‘åœ°å€çš„é›†åˆç§°ä¸ºé€»è¾‘åœ°å€ç©ºé—´</p></li><li><p>çº¿æ€§åœ°å€ç©ºé—´ï¼š</p><p>â€‹ <strong>CPUåœ°å€æ€»çº¿å¯ä»¥è®¿é—®</strong>çš„æ‰€æœ‰åœ°å€é›†åˆç§°ä¸ºçº¿æ€§åœ°å€ç©ºé—´</p></li><li><p>ç‰©ç†åœ°å€ç©ºé—´ï¼š</p><p>â€‹<strong>å®é™…å­˜åœ¨</strong>çš„å¯è®¿é—®çš„ç‰©ç†å†…å­˜åœ°å€é›†åˆç§°ä¸ºç‰©ç†åœ°å€ç©ºé—´</p></li></ul></blockquote></li></ul><h4 id="ç¨‹åºçš„é“¾æ¥çš„ä¸‰ç§æ–¹å¼">ç¨‹åºçš„é“¾æ¥çš„ä¸‰ç§æ–¹å¼</h4><ul><li><p><strong>é™æ€é“¾æ¥</strong>ï¼š</p><p>â€‹åœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œå…ˆå°†å„ç›®æ ‡æ¨¡å—åŠå®ƒä»¬æ‰€éœ€çš„åº“å‡½æ•°é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œç¨‹åºï¼Œä»¥å<strong>ä¸å†æ‹†å¼€</strong>ã€‚</p></li><li><p><strong>è£…å…¥</strong>æ—¶åŠ¨æ€é“¾æ¥ï¼š</p><p>â€‹å°†ç”¨æˆ·æºç¨‹åºç¼–è¯‘åæ‰€å¾—åˆ°çš„ä¸€ç»„ç›®æ ‡æ¨¡å—ï¼Œåœ¨è£…å…¥å†…å­˜æ—¶ï¼Œé‡‡ç”¨<strong>è¾¹è£…å…¥è¾¹é“¾æ¥</strong>çš„æ–¹å¼ã€‚</p></li><li><p><strong>è¿è¡Œ</strong>æ—¶åŠ¨æ€é“¾æ¥ï¼š</p><p>â€‹å¯¹æŸäº›ç›®æ ‡æ¨¡å—çš„é“¾æ¥ï¼Œæ˜¯åœ¨ç¨‹åºæ‰§è¡Œä¸­<strong>éœ€è¦</strong>è¯¥ç›®æ ‡æ¨¡å—æ—¶<strong>æ‰è¿›è¡Œ</strong>çš„ã€‚å…¶ä¼˜ç‚¹æ˜¯ä¾¿äºä¿®æ”¹å’Œæ›´æ–°ï¼Œä¾¿äºå®ç°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«ã€‚</p></li></ul><p>å†…å­˜çš„è£…å…¥æ¨¡å—åœ¨è£…å…¥å†…å­˜æ—¶ï¼Œå¯¹åº”æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p><ul><li><p>ç»å¯¹è£…å…¥ï¼š</p><ul><li>åœ¨<strong>ç¼–è¯‘</strong>æ—¶ï¼Œè‹¥çŸ¥é“ç¨‹åºå°†é©»ç•™åœ¨å†…å­˜çš„æŸä¸ªä½ç½®ï¼Œåˆ™ç¼–è¯‘ç¨‹åºå°†äº§ç”Ÿç»å¯¹åœ°å€çš„ç›®æ ‡ä»£ç ã€‚</li><li>ç»å¯¹è£…å…¥ç¨‹åºæŒ‰ç…§è£…å…¥æ¨¡å—ä¸­çš„åœ°å€ï¼Œå°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ã€‚</li><li>ç”±äºç¨‹åºä¸­çš„<strong>é€»è¾‘åœ°å€ä¸å®é™…å†…å­˜åœ°å€å®Œå…¨ç›¸åŒ</strong>ï¼Œå› æ­¤ä¸éœ€å¯¹ç¨‹åºå’Œæ•°æ®çš„åœ°å€è¿›è¡Œä¿®æ”¹ã€‚</li><li>ç»å¯¹è£…å…¥æ–¹å¼åªé€‚ç”¨äº<strong>å•é“ç¨‹åºç¯å¢ƒ</strong>ã€‚</li></ul></li><li><p>å¯é‡å®šä½è£…å…¥ï¼š</p><ul><li>åœ¨<strong>å¤šé“ç¨‹åºç¯å¢ƒ</strong>ä¸‹ï¼Œå¤šä¸ªç›®æ ‡æ¨¡å—çš„<strong>èµ·å§‹åœ°å€</strong>é€šå¸¸éƒ½ä»<span class="math inline">\(0\)</span>å¼€å§‹ï¼Œç¨‹åºä¸­çš„å…¶ä»–åœ°å€éƒ½æ˜¯<strong>ç›¸å¯¹äºå§‹å€</strong>çš„ã€‚</li><li>æ ¹æ®å†…å­˜çš„å½“å‰æƒ…å†µï¼Œå°†è£…å…¥æ¨¡å—è£…å…¥<strong>å†…å­˜çš„é€‚å½“ä½ç½®</strong>ã€‚è£…å…¥æ—¶å¯¹ç›®æ ‡ç¨‹åºä¸­æŒ‡ä»¤å’Œæ•°æ®çš„ä¿®æ”¹è¿‡ç¨‹ç§°ä¸º<strong>é‡å®šä½</strong>ï¼Œåœ°å€å˜æ¢é€šå¸¸æ˜¯åœ¨è£…å…¥æ—¶ä¸€æ¬¡å®Œæˆçš„ï¼Œæ‰€ä»¥åˆç§°<strong>é™æ€é‡å®šä½</strong>ã€‚</li><li>é™æ€é‡å®šä½çš„ç‰¹ç‚¹æ˜¯ï¼Œä¸€ä¸ªä½œä¸šè£…å…¥å†…å­˜æ—¶ï¼Œå¿…é¡»ç»™å®ƒåˆ†é…è¦æ±‚çš„å…¨éƒ¨å†…å­˜ç©ºé—´ï¼Œè‹¥æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œåˆ™ä¸èƒ½è£…å…¥è¯¥ä½œä¸šã€‚</li><li>ä½œä¸šä¸€æ—¦è¿›å…¥å†…å­˜ï¼ˆä¸€æ—¦è£…å…¥ï¼‰ï¼Œæ•´ä¸ªè¿è¡ŒæœŸé—´å°±<strong>ä¸èƒ½</strong>å†åœ¨å†…å­˜ä¸­<strong>ç§»åŠ¨</strong>ï¼Œä¹Ÿä¸èƒ½å†ç”³è¯·å†…å­˜ç©ºé—´ã€‚</li></ul></li><li><p>åŠ¨æ€è¿è¡Œæ—¶è£…å…¥ï¼ˆ<strong>åŠ¨æ€é‡å®šä½</strong>ï¼‰ï¼š</p><ul><li><p>ç¨‹åºåœ¨å†…å­˜ä¸­è‹¥å‘ç”Ÿç§»åŠ¨ï¼ˆè¿›ç¨‹è°ƒåº¦ï¼‰ï¼Œåˆ™éœ€è¦é‡‡ç”¨åŠ¨æ€çš„è£…å…¥æ–¹å¼ã€‚</p></li><li><p>è£…å…¥ç¨‹åºæŠŠè£…å…¥æ¨¡å—è£…å…¥å†…å­˜åï¼Œå¹¶ä¸ç«‹å³æŠŠè£…å…¥æ¨¡å—ä¸­çš„ç›¸å¯¹åœ°å€è½¬æ¢ä¸ºç»å¯¹åœ°å€ï¼Œè€Œæ˜¯æŠŠè¿™ç§åœ°å€è½¬æ¢<strong>æ¨è¿Ÿ</strong>åˆ°ç¨‹åº<strong>çœŸæ­£è¦æ‰§è¡Œæ—¶æ‰è¿›è¡Œ</strong>ã€‚</p></li><li><p>å› æ­¤ï¼Œè£…å…¥å†…å­˜åçš„æ‰€æœ‰åœ°å€å‡ä¸ºç›¸å¯¹åœ°å€ã€‚è¿™ç§æ–¹å¼éœ€è¦ä¸€ä¸ª<strong>é‡å®šä½å¯„å­˜å™¨</strong>çš„æ”¯æŒï¼Œæä¾›åŸºåœ°å€ã€‚</p><blockquote><p>æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„é‡å®šä½å¯„å­˜å™¨ï¼Œè¾¾åˆ°ä¿æŠ¤è¿›ç¨‹æ•°æ®çš„ä½œç”¨ã€‚</p></blockquote></li><li><p>åŠ¨æ€é‡å®šä½çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>å¯ä»¥å°†ç¨‹åºåˆ†é…åˆ°<strong>ä¸è¿ç»­</strong>çš„å­˜å‚¨åŒºä¸­ã€‚</li><li>åœ¨ç¨‹åºè¿è¡Œä¹‹å‰å¯ä»¥åªè£…å…¥å®ƒçš„<strong>éƒ¨åˆ†ä»£ç </strong>å³å¯æŠ•å…¥è¿è¡Œï¼Œç„¶ååœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œæ ¹æ®éœ€è¦åŠ¨æ€ç”³è¯·åˆ†é…å†…å­˜ã€‚</li><li>ä¾¿äº<strong>ç¨‹åºæ®µ</strong>çš„å…±äº«ï¼Œå¯ä»¥å‘ç”¨æˆ·æä¾›ä¸€ä¸ª<strong>æ¯”å­˜å‚¨ç©ºé—´å¤§å¾—å¤šçš„åœ°å€ç©ºé—´</strong>ã€‚</li><li>åœ¨<strong>ä½œä¸šæ‰§è¡Œè¿‡ç¨‹</strong>ä¸­è¿›è¡Œçš„ï¼Œä¸æ˜¯è£…å…¥è¿‡ç¨‹ã€‚</li></ul></li></ul></li></ul><h4 id="å†…å­˜ä¿æŠ¤">å†…å­˜ä¿æŠ¤</h4><p>â€‹å†…å­˜åˆ†é…å‰ï¼Œéœ€è¦ä¿æŠ¤æ“ä½œç³»ç»Ÿä¸å—ç”¨æˆ·è¿›ç¨‹çš„å½±å“ï¼ŒåŒæ—¶<strong>ä¿æŠ¤ç”¨æˆ·è¿›ç¨‹ä¸å—å…¶ä»–ç”¨æˆ·è¿›ç¨‹</strong>çš„å½±å“ã€‚å†…å­˜ä¿æŠ¤å¯é‡‡å–ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li><p>åœ¨ CPUä¸­è®¾ç½®ä¸€å¯¹ä¸Šã€ä¸‹é™å¯„å­˜å™¨ï¼Œå­˜æ”¾ç”¨æˆ·ä½œä¸šåœ¨ä¸»å­˜ä¸­çš„ä¸‹é™å’Œä¸Šé™åœ°å€ï¼Œæ¯å½“ CPUè¦è®¿é—®ä¸€ä¸ªåœ°å€æ—¶ï¼Œåˆ†åˆ«å’Œä¸¤ä¸ªå¯„å­˜å™¨å€¼ç›¸æ¯”ï¼Œåˆ¤æ–­æœ‰æ— è¶Šç•Œã€‚</p></li><li><p>é‡‡ç”¨é‡å®šä½å¯„å­˜å™¨ï¼ˆæˆ–åŸºå€å¯„å­˜å™¨ï¼‰å’Œç•Œåœ°å€å¯„å­˜å™¨ï¼ˆåˆç§°é™é•¿å¯„å­˜å™¨ï¼‰æ¥å®ç°è¿™ç§ä¿æŠ¤ï¼š</p><ul><li><strong>é‡å®šä½</strong>å¯„å­˜å™¨å«<strong>æœ€å°</strong>çš„<strong>ç‰©ç†åœ°å€</strong>å€¼ï¼Œ<strong>ç•Œåœ°å€</strong>å¯„å­˜å™¨å«<strong>é€»è¾‘åœ°å€çš„æœ€å¤§å€¼</strong>ã€‚</li><li>æ¯ä¸ª<strong>é€»è¾‘åœ°å€å€¼å¿…é¡»å°äºç•Œåœ°å€å¯„å­˜å™¨</strong>ã€‚</li><li>å†…å­˜ç®¡ç†æœºæ„åŠ¨æ€åœ°å°†é€»è¾‘åœ°å€ä¸ç•Œåœ°å€å¯„å­˜å™¨è¿›è¡Œ<strong>æ¯”è¾ƒ</strong>ï¼Œè‹¥<strong>æœªå‘ç”Ÿåœ°å€è¶Šç•Œ</strong>ï¼Œåˆ™åŠ ä¸Šé‡å®šä½å¯„å­˜å™¨çš„å€¼åæ˜ å°„æˆç‰©ç†åœ°å€ï¼Œå†é€äº¤å†…å­˜å•å…ƒã€‚</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20211013235611684.png" alt="image-20211013235611684" style="zoom:80%;"></div></li></ul><blockquote><p>å†…å­˜ä¿æŠ¤éœ€è¦<strong>æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶</strong>åˆä½œå®Œæˆã€‚</p></blockquote><h3 id="è¿ç»­åˆ†é…ç®¡ç†æ–¹å¼">è¿ç»­åˆ†é…ç®¡ç†æ–¹å¼</h3><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹ã€‚</p></blockquote><ul><li><p>è¿ç»­åˆ†é…æ–¹å¼æ˜¯æŒ‡ä¸ºä¸€ä¸ª<strong>ç”¨æˆ·ç¨‹åº</strong>åˆ†é…ä¸€ä¸ª<strong>è¿ç»­çš„å†…å­˜ç©ºé—´</strong>ã€‚</p></li><li><p>ç¢ç‰‡ï¼š</p><p>â€‹<strong>å†…å­˜</strong>ä¸­<strong>å‰©ä½™çš„æ— æ³•ä½¿ç”¨</strong>çš„å­˜å‚¨ç©ºé—´ã€‚</p></li><li><p>å¤–éƒ¨ç¢ç‰‡ï¼š</p><p>â€‹éšç€<strong>è¿›ç¨‹ä¸æ–­çš„è£…å…¥å’Œç§»å‡º</strong>ï¼Œå¯¹åˆ†åŒºä¸æ–­çš„åˆ†å‰²ï¼Œä½¿å¾—å†…å­˜ä¸­äº§ç”Ÿè®¸å¤šç‰¹åˆ«<strong>å°çš„åˆ†åŒº</strong>ï¼Œå®ƒä»¬å¹¶ä¸è¿ç»­å¯ç”¨ã€‚</p></li><li><p>å†…éƒ¨ç¢ç‰‡ï¼š</p><p>â€‹å¯¹<strong>å›ºå®šåˆ†åŒº</strong>æ¥è¯´ï¼Œåªè¦åˆ†åŒºè¢«åˆ†é…ç»™æŸè¿›ç¨‹ä½¿ç”¨ï¼Œå…¶ä¸­<strong>å¹¶æœªå ç”¨çš„ç©ºé—´</strong>ä¸èƒ½åˆ†ç»™å…¶ä»–è¿›ç¨‹ï¼Œè¿™äº›ç©ºé—´ç§°ä¸º<strong>å†…éƒ¨ç¢ç‰‡</strong>ã€‚</p></li><li><p>å•ä¸€è¿ç»­åˆ†é…ï¼š</p><ul><li>å†…å­˜åœ¨æ­¤æ–¹å¼ä¸‹åˆ†ä¸ºç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºï¼Œç³»ç»ŸåŒºä»…ä¾›æ“ä½œç³»ç»Ÿä½¿ç”¨ï¼Œé€šå¸¸åœ¨ä½åœ°å€éƒ¨åˆ†ã€‚</li><li>ç”¨æˆ·åŒºæ˜¯ä¸ºç”¨æˆ·æä¾›çš„ã€é™¤ç³»ç»ŸåŒºä¹‹å¤–çš„å†…å­˜ç©ºé—´ã€‚</li><li>è¿™ç§æ–¹å¼æ— é¡»è¿›è¡Œå†…å­˜ä¿æŠ¤ã€‚å› ä¸ºå†…å­˜ä¸­æ°¸è¿œåªæœ‰<strong>ä¸€é“ç¨‹åº</strong>ï¼Œå› æ­¤è‚¯å®šä¸ä¼šå› ä¸ºè®¿é—®è¶Šç•Œè€Œå¹²æ‰°å…¶ä»–ç¨‹åºã€‚</li><li>ä¼˜ç‚¹æ˜¯ç®€å•ã€<strong>æ— å¤–éƒ¨ç¢ç‰‡</strong>ã€‚</li><li>ç¼ºç‚¹æ˜¯åªèƒ½ç”¨äº<strong>å•ç”¨æˆ·ã€å•ä»»åŠ¡</strong>çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ‰<strong>å†…éƒ¨ç¢ç‰‡</strong>ï¼Œå­˜å‚¨å™¨çš„åˆ©ç”¨ç‡æä½ã€‚</li></ul></li><li><p>å›ºå®šåˆ†åŒºåˆ†é…ï¼š</p><ul><li><p>æ˜¯æœ€ç®€å•çš„ä¸€ç§<strong>å¤šé“ç¨‹åº</strong>å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œå®ƒ<strong>é¢„å…ˆ</strong>å°†ç”¨æˆ·å†…å­˜ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²<strong>å›ºå®šå¤§å°</strong>çš„åŒºåŸŸï¼Œ<strong>æ¯ä¸ªåˆ†åŒºåªè£…å…¥ä¸€é“ä½œä¸š</strong>ã€‚</p></li><li><p>å½“æœ‰<strong>ç©ºé—²åˆ†åŒº</strong>æ—¶ï¼Œä¾¿å¯å†ä»å¤–å­˜çš„åå¤‡ä½œä¸šé˜Ÿåˆ—ä¸­é€‰æ‹©é€‚å½“å¤§å°çš„ä½œä¸šè£…å…¥è¯¥åˆ†åŒºã€‚</p></li><li><p>åˆ†åŒºå¤§å°ç›¸ç­‰ï¼ˆç­‰é•¿åˆ†åŒºï¼‰ï¼š</p><p>â€‹ç”¨äºåˆ©ç”¨ä¸€å°è®¡ç®—æœºå»æ§åˆ¶å¤šä¸ª<strong>ç›¸åŒå¯¹è±¡</strong>çš„åœºåˆï¼Œç¼ºä¹çµæ´»æ€§ã€‚</p></li><li><p>åˆ†åŒºå¤§å°ä¸ç­‰ï¼ˆå˜é•¿åˆ†åŒºï¼‰ï¼š</p><p>â€‹ åˆ’åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„åˆ†åŒºã€é€‚é‡çš„ä¸­ç­‰åˆ†åŒºå’Œå°‘é‡å¤§åˆ†åŒºã€‚</p></li><li><p>ç‰¹ç‚¹ï¼š</p><p>â€‹<strong>æ— å¤–éƒ¨ç¢ç‰‡</strong>ï¼Œä½†ä¸èƒ½å®ç°å¤šè¿›ç¨‹<strong>å…±äº«</strong>ä¸€ä¸ªä¸»å­˜åŒºï¼Œå­˜å‚¨ç©ºé—´<strong>åˆ©ç”¨ç‡ä½</strong>ã€‚</p></li></ul></li><li><p>åŠ¨æ€åˆ†åŒºåˆ†é…ï¼ˆ<strong>å¯å˜åˆ†åŒº</strong>åˆ†é…ï¼‰ï¼š</p><blockquote><p><strong>å¯å˜åˆ†åŒº</strong>å’Œ<strong>å˜é•¿åˆ†åŒº</strong>è¦åŒºåˆ«ã€‚</p></blockquote><ul><li><p>ä¸é¢„å…ˆåˆ’åˆ†å†…å­˜ï¼Œè€Œæ˜¯åœ¨<strong>è¿›ç¨‹è£…å…¥å†…å­˜</strong>æ—¶ï¼Œæ ¹æ®è¿›ç¨‹çš„å¤§å°<strong>åŠ¨æ€</strong>å»ºç«‹åˆ†åŒºï¼Œå¹¶ä½¿åˆ†åŒºçš„å¤§å°æ­£å¥½é€‚åˆè¿›ç¨‹çš„éœ€è¦ï¼ˆå³åˆ†åŒºæœ¬èº«æ²¡æœ‰<strong>å†…éƒ¨ç¢ç‰‡</strong>ï¼‰ã€‚</p></li><li><p>ç³»ç»Ÿä¸­åˆ†åŒºçš„å¤§å°å’Œæ•°ç›®æ˜¯å¯å˜çš„ã€‚</p></li><li><p>åŠ¨æ€åˆ†åŒºåœ¨æ¢å…¥æ¢å‡ºåä¼šå¯¼è‡´å†…å­˜ä¸­å‡ºç°è®¸å¤šå°çš„å†…å­˜å—ï¼ˆç¢ç‰‡ï¼‰ï¼Œå³<strong>å¤–éƒ¨ç¢ç‰‡</strong>ã€‚</p></li><li><p>åŠ¨æ€åˆ†åŒºçš„åˆ†é…ç­–ç•¥ï¼š</p><ul><li><p>é¦–æ¬¡é€‚åº”ï¼ˆFirst Fitï¼‰</p><p>â€‹ç©ºé—²åˆ†åŒºä»¥<strong>åœ°å€é€’å¢</strong>çš„æ¬¡åºé“¾æ¥ã€‚åˆ†é…å†…å­˜æ—¶é¡ºåºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°èƒ½æ»¡è¶³è¦æ±‚çš„ç¬¬ä¸€ä¸ªç©ºé—²åˆ†åŒºã€‚</p></li><li><p>æœ€ä½³é€‚åº”ï¼ˆBest Fitï¼‰ï¼š</p><p>â€‹ç©ºé—²åˆ†åŒºæŒ‰<strong>å®¹é‡é€’å¢</strong>çš„æ¬¡åºé“¾æ¥ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ç©ºé—²åˆ†åŒºã€‚</p></li><li><p>æœ€åé€‚åº”ï¼ˆWorst Fitï¼‰</p><p>â€‹ç©ºé—²åˆ†åŒºä»¥<strong>å®¹é‡é€’å‡</strong>çš„æ¬¡åºé“¾æ¥ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ç©ºé—²åˆ†åŒºï¼Œå³æŒ‘é€‰å‡º<strong>æœ€å¤§çš„åˆ†åŒº</strong>ã€‚</p></li></ul></li><li><p>å…‹æœå¤–éƒ¨ç¢ç‰‡å¯ä»¥é€šè¿‡ç´§å‡‘ï¼ˆåˆå¹¶ç©ºé—²åˆ†åŒºï¼‰æŠ€æœ¯æ¥è§£å†³ï¼Œå³æ“ä½œç³»ç»Ÿä¸æ—¶åœ°å¯¹è¿›ç¨‹è¿›è¡Œç§»åŠ¨å’Œæ•´ç†ã€‚ä½†è¿™éœ€è¦<strong>åŠ¨æ€é‡å®šä½å¯„å­˜å™¨</strong>çš„æ”¯æŒï¼Œä¸”ç›¸å¯¹è´¹æ—¶ã€‚</p></li></ul></li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20211202113528076.png"></div><h3 id="éè¿ç»­åˆ†é…ç®¡ç†æ–¹å¼">éè¿ç»­åˆ†é…ç®¡ç†æ–¹å¼</h3><h4 id="åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼">åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼</h4><ul><li><p>å°†ç¨‹åºæŒ‰å«ä¹‰åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œå³åˆ†æ®µã€‚<strong>æ®µå†…è¦æ±‚è¿ç»­</strong>ï¼Œ<strong>æ®µé—´ä¸è¦æ±‚è¿ç»­</strong>ï¼Œå› æ­¤æ•´ä¸ªä½œä¸šçš„åœ°å€ç©ºé—´æ˜¯<strong>äºŒç»´</strong>çš„</p></li><li><p>æ±‡ç¼–æ—¶æ¯ä¸ªæ®µä» <span class="math inline">\(0\)</span>ç¼–å€ï¼Œé“¾æ¥æ—¶å¯ä¸ä¸º <span class="math inline">\(0\)</span>ã€‚</p></li><li><p>åˆ›å»ºè¿›ç¨‹ï¼ˆåˆ†åˆ«è½½å…¥å„ä¸ªæ®µï¼‰æ—¶ï¼Œå»ºç«‹<strong>è¿›ç¨‹æ®µè¡¨</strong>ï¼Œç”¨äºå®ç°ä»é€»è¾‘æ®µåˆ°ç‰©ç†å†…å­˜åŒºçš„æ˜ å°„ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211014190118300.png" alt="image-20211014190118300" style="zoom:80%;"></div><p>æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„è¿›ç¨‹æ®µè¡¨ï¼Œæœ‰å¤šä¸ªåŸºå€ã€‚</p></li><li><p>å†…å­˜ä»ç”¨<strong>å¯å˜åˆ†åŒº</strong>è¿›è¡Œç®¡ç†ï¼Œè½½å…¥æ®µæ—¶è¦ä½¿ç”¨åˆ†é…ç®—æ³•ã€‚</p></li><li><p>ä»é€»è¾‘åœ°å€ä¸­å–å‡ºå‰å‡ ä½ä¸º<strong>æ®µå·</strong>ï¼Œåå‡ ä½ä¸º<strong>æ®µå†…åç§»é‡</strong>ï¼Œéœ€è¦åˆ¤æ–­ï¼š</p><ul><li>æ®µå·æ˜¯å¦å­˜åœ¨äºæ®µè¡¨ä¸­</li><li><strong>æ®µè¡¨é¡¹é•¿åº¦</strong>æ˜¯å¦å¤§äºç­‰äº<strong>æ®µå†…åç§»é‡</strong>ï¼Œå°äºä¼šåˆ¤æ–­ä¸ºè¶Šç•Œ</li></ul></li><li><p>PC åŠæ•°æ®åœ°å€è¦é€šè¿‡æ®µè¡¨ç®—å‡ºç‰©ç†åœ°å€ï¼Œåˆ°è¾¾å†…å­˜ã€‚</p></li><li><p>è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œ<strong>è¿›ç¨‹æ®µè¡¨</strong>ä¹Ÿè·Ÿç€åˆ‡æ¢ã€‚</p></li></ul><blockquote><p>ä¼˜ç‚¹ï¼š</p><ul><li>ä¸åŒçš„æ®µæœ‰ä¸åŒçš„å«ä¹‰ï¼Œå¯åŒºåˆ«å¯¹å¾…ã€‚</li><li>æ¯ä¸ªæ®µç‹¬ç«‹ç¼–å€ï¼Œç¼–ç¨‹å®¹æ˜“ã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><p>â€‹å­˜åœ¨<strong>å¤–éƒ¨ç¢ç‰‡</strong>ï¼ˆç‹é“è¯´æ˜¯<strong>æ²¡æœ‰å†…éƒ¨ç¢ç‰‡</strong>çš„ï¼‰ï¼Œæœ‰è¾ƒå¤§çš„èµ„æºæµªè´¹ã€‚</p>åˆ†æ®µçš„é¢˜ç›®ï¼š<div data-align="center"><img src=" /img/blog/os-note-images/image-20211214095011776.png"></div><div data-align="center"><img src=" /img/blog/os-note-images/image_71.png"></div></blockquote><h4 id="åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼">åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼</h4><ul><li><p>é€‰æ‹©åˆ†é¡µçš„åŸå› ï¼š</p><ul><li><strong>å›ºå®šåˆ†åŒº</strong>ä¼šäº§ç”Ÿ<strong>å†…éƒ¨ç¢ç‰‡</strong>ï¼Œ<strong>åŠ¨æ€åˆ†åŒº</strong>ä¼šäº§ç”Ÿ<strong>å¤–éƒ¨ç¢ç‰‡</strong>ï¼Œè¿™ä¸¤ç§æŠ€æœ¯å¯¹å†…å­˜çš„åˆ©ç”¨ç‡éƒ½æ¯”è¾ƒä½ã€‚</li><li>æŠŠä¸»å­˜ç©ºé—´åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰ä¸”å›ºå®šçš„å—ï¼Œå—ç›¸å¯¹è¾ƒ<strong>å°</strong>ï¼Œä½œä¸ºä¸»å­˜çš„åŸºæœ¬å•ä½ã€‚</li><li>æ¯ä¸ªè¿›ç¨‹ä¹Ÿä»¥å—ä¸ºå•ä½è¿›è¡Œåˆ’åˆ†ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œä»¥å—ä¸ºå•ä½é€ä¸ªç”³è¯·ä¸»å­˜ä¸­çš„å—ç©ºé—´ã€‚</li><li>åˆ†é¡µçš„æ–¹æ³•ä»å½¢å¼ä¸Šçœ‹ï¼Œåƒç­‰é•¿ç­‰é•¿åˆ†åŒºçš„å›ºå®šåˆ†åŒºæŠ€æœ¯ï¼Œåˆ†é¡µç®¡ç†ä¸ä¼šäº§ç”Ÿ<strong>å¤–éƒ¨ç¢ç‰‡</strong>ï¼Œå—çš„å¤§å°ç›¸å¯¹åˆ†åŒºè¦å°å¾ˆå¤šï¼Œå†…éƒ¨ç¢ç‰‡å¤§å°æœ‰ä¸Šç•Œä¿è¯ã€‚</li></ul></li><li><p>åˆ†é¡µçš„æ¦‚å¿µï¼š</p><ul><li><p>é¡µé¢å’Œé¡µé¢å¤§å°ï¼š</p><ul><li><strong>è¿›ç¨‹ä¸­çš„å—ç§°ä¸ºé¡µ</strong>ï¼Œ<strong>å†…å­˜ä¸­çš„å—ç§°ä¸ºé¡µæ¡†</strong>ï¼ˆé¡µå¸§ï¼‰ã€‚</li><li>å¤–å­˜ä¹Ÿä»¥åŒæ ·çš„å•ä½è¿›è¡Œåˆ’åˆ†ï¼Œç›´æ¥ç§°ä¸ºå—ï¼Œå¤§å°å’Œé¡µæ˜¯ä¸€æ ·çš„ã€‚</li><li>è¿›ç¨‹åœ¨æ‰§è¡Œæ—¶éœ€è¦ç”³è¯·ä¸»å­˜ç©ºé—´ï¼Œå³è¦ä¸ºæ¯ä¸ªé¡µé¢åˆ†é…<strong>ä¸»å­˜ä¸­çš„å¯ç”¨é¡µæ¡†</strong>ï¼Œè¿™å°±äº§ç”Ÿäº†é¡µå’Œé¡µæ¡†çš„ä¸€ä¸€å¯¹åº”ã€‚</li></ul></li><li><p>é€»è¾‘ï¼ˆè™šæ‹Ÿï¼‰åœ°å€çš„ç»“æ„ï¼š</p><ul><li>åœ°å€ç»“æ„å‰ä¸€éƒ¨åˆ†ä¸ºé¡µå· <span class="math inline">\(P\)</span>ï¼Œåä¸€éƒ¨åˆ†ä¸ºé¡µå†…åç§»é‡ <span class="math inline">\(W\)</span>ã€‚</li><li>åœ°å€é•¿åº¦ä¸º <span class="math inline">\(32\)</span> ä½ï¼Œå…¶ä¸­ <span class="math inline">\(0 \sim 11\)</span>ä½ä¸ºé¡µå†…åœ°å€ï¼Œå³<strong>æ¯é¡µå¤§å°</strong>ä¸º <span class="math inline">\(4 \mathrm{~KB}\)</span>ï¼Œ$ 12 31$ä½ä¸ºé¡µå·ï¼Œåœ°å€ç©ºé—´æœ€å¤šå…è®¸ <span class="math inline">\(2^{20}\)</span>é¡µã€‚</li><li>åœ°å€ç»“æ„å†³å®šäº†<strong>è™šæ‹Ÿå†…å­˜çš„å¯»å€ç©ºé—´</strong>æœ‰å¤šå¤§ã€‚</li></ul></li><li><p>é¡µè¡¨ï¼š</p><ul><li><p>ä¸ºäº†ä¾¿äºåœ¨å†…å­˜ä¸­æ‰¾åˆ°è¿›ç¨‹çš„æ¯ä¸ªé¡µé¢æ‰€å¯¹åº”çš„ç‰©ç†å—ï¼Œç³»ç»Ÿä¸º<strong>æ¯ä¸ªè¿›ç¨‹å»ºç«‹ä¸€å¼ é¡µè¡¨</strong>ï¼Œå®ƒè®°å½•é¡µé¢åœ¨å†…å­˜ä¸­å¯¹åº”çš„<strong>ç‰©ç†å—å·</strong>ï¼ˆé¡µæ¡†å·æˆ–å¸§å·ï¼‰ï¼Œé¡µè¡¨ä¸€èˆ¬å­˜æ”¾åœ¨<strong>å†…å­˜</strong>ä¸­ã€‚</p></li><li><p>é¡µè¡¨æ˜¯ç”±é¡µè¡¨é¡¹ç»„æˆçš„ï¼Œæ³¨æ„ï¼š</p><ul><li><p>é¡µè¡¨é¡¹ä¸åœ°å€éƒ½ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†éƒ½æ˜¯<strong>é¡µå·</strong>ï¼ˆé¡µè¡¨é¡¹çš„é¡µå·ä¸€èˆ¬æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥å¯ä»¥ä¸å­˜é¡µå·è¿™ä¸€åˆ—ï¼‰ã€‚</p></li><li><p>é¡µè¡¨é¡¹çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯<strong>ç‰©ç†å†…å­˜ä¸­çš„å—å·</strong>ï¼Œè€Œåœ°å€çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯<strong>é¡µå†…åç§»</strong>ã€‚</p></li><li><p><strong>é¡µè¡¨é¡¹çš„ç¬¬äºŒéƒ¨åˆ†ä¸åœ°å€çš„ç¬¬äºŒéƒ¨åˆ†</strong>å…±åŒç»„æˆ<strong>ç‰©ç†åœ°å€</strong>ã€‚</p></li><li><p>é¡µè¡¨é¡¹ç»“æ„ï¼ˆPTEï¼‰å›¾ï¼ˆä¸Šé¢è¯´çš„ç¬¬äºŒéƒ¨åˆ†å°±æ˜¯ç‰©ç†é¡µå·ï¼‰ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211018155121060.png"></div></li></ul></li><li><p>é¡µè¡¨é•¿åº¦æ˜¯æŒ‡ä¸€ä¸ªé¡µè¡¨ä¸­ä¸€å…±æœ‰å¤šå°‘é¡µï¼Œé¡µè¡¨é¡¹é•¿åº¦æ˜¯æŒ‡é¡µåœ°å€å å¤šå¤§çš„å­˜å‚¨ç©ºé—´ã€‚</p></li></ul></li><li><p>åœ¨ç³»ç»Ÿä¸­é€šå¸¸è®¾ç½®ä¸€ä¸ª<strong>é¡µè¡¨å¯„å­˜å™¨</strong>ï¼ˆPTRï¼‰ï¼Œå­˜æ”¾é¡µè¡¨åœ¨å†…å­˜çš„èµ·å§‹åœ°å€<span class="math inline">\(F\)</span> å’Œé¡µè¡¨é•¿åº¦ <span class="math inline">\(L\)</span>ã€‚è¿›ç¨‹æœªæ‰§è¡Œæ—¶ï¼Œé¡µè¡¨çš„å§‹å€å’Œé•¿åº¦å­˜æ”¾åœ¨<strong>è¿›ç¨‹æ§åˆ¶å—</strong>ä¸­ã€‚</p></li><li><p>è®¾é¡µé¢å¤§å°ä¸º <span class="math inline">\(L\)</span>ï¼Œé€»è¾‘åœ°å€<span class="math inline">\(A\)</span> åˆ°ç‰©ç†åœ°å€ <span class="math inline">\(E\)</span> çš„è½¬æ¢è¿‡ç¨‹ï¼š</p><ol type="1"><li>è®¡ç®—é¡µå· <span class="math inline">\(P(P=A / L)\)</span>å’Œé¡µå†…åç§»é‡ <span class="math inline">\(W(W=A \% L)\)</span>ã€‚</li><li>æ¯”è¾ƒé¡µå· <span class="math inline">\(P\)</span>å’Œ<strong>é¡µè¡¨é•¿åº¦</strong>ï¼ˆå…±æœ‰å¤šå°‘é¡µï¼‰ <span class="math inline">\(M\)</span>ï¼Œè‹¥ <span class="math inline">\(P \geqM\)</span>ï¼Œåˆ™äº§ç”Ÿè¶Šç•Œä¸­æ–­ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œã€‚ é¡µè¡¨ä¸­é¡µå· <span class="math inline">\(P\)</span> å¯¹åº”çš„é¡µè¡¨é¡¹åœ°å€ <span class="math inline">\(=\)</span> é¡µè¡¨å§‹å€ <span class="math inline">\(F~+\)</span> é¡µå· <span class="math inline">\(P~\times\)</span> é¡µè¡¨é¡¹é•¿åº¦ï¼Œå–å‡ºè¯¥é¡µè¡¨é¡¹å†…å®¹ <span class="math inline">\(b\)</span>ï¼Œå³ä¸º<strong>ç‰©ç†å—å·</strong>ã€‚</li><li>è®¡ç®— <span class="math inline">\(E=b \timesL+W\)</span>ï¼Œç”¨å¾—åˆ°çš„<strong>ç‰©ç†åœ°å€</strong> <span class="math inline">\(E\)</span> å»è®¿é—®å†…å­˜ã€‚</li></ol></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>æ¯æ¬¡è®¿å­˜æ“ä½œéƒ½éœ€è¦è¿›è¡Œ<strong>é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€</strong>çš„è½¬æ¢ï¼Œåœ°å€è½¬æ¢è¿‡ç¨‹å¿…é¡»è¶³å¤Ÿå¿«ï¼Œå¦åˆ™è®¿å­˜é€Ÿåº¦ä¼šé™ä½ã€‚</li><li>æ¯ä¸ªè¿›ç¨‹å¼•å…¥é¡µè¡¨ï¼Œç”¨äºå­˜å‚¨æ˜ å°„æœºåˆ¶ï¼Œé¡µè¡¨ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™<strong>å†…å­˜åˆ©ç”¨ç‡</strong>ä¼šé™ä½ã€‚</li></ul></li></ul></li><li><p>å…·æœ‰å¿«è¡¨ TLB çš„åœ°å€å˜æ¢æœºæ„ï¼ˆåé¢ä¼šè¯¦ç»†è§£é‡Šï¼‰ï¼š</p><ul><li>åœ¨é¡µè¡¨çš„åœ°å€å˜æ¢è¿‡ç¨‹ä¸­ï¼Œè‹¥<strong>é¡µè¡¨å…¨éƒ¨æ”¾åœ¨å†…å­˜</strong>ä¸­ï¼Œåˆ™å­˜å–ä¸€ä¸ªæ•°æ®æˆ–ä¸€æ¡æŒ‡ä»¤è‡³å°‘è¦<strong>è®¿é—®ä¸¤æ¬¡å†…å­˜</strong>ï¼š<ul><li>ç¬¬ä¸€æ¬¡æ˜¯<strong>è®¿é—®é¡µè¡¨</strong>ï¼Œç¡®å®šæ‰€å­˜å–çš„æ•°æ®æˆ–æŒ‡ä»¤çš„ç‰©ç†åœ°å€ã€‚</li><li>ç¬¬äºŒæ¬¡æ˜¯æ ¹æ®è¯¥åœ°å€å­˜å–æ•°æ®æˆ–æŒ‡ä»¤ã€‚</li></ul></li><li>åœ¨åœ°å€å˜æ¢æœºæ„ä¸­å¢è®¾ä¸€ä¸ªå…·æœ‰å¹¶è¡ŒæŸ¥æ‰¾èƒ½åŠ›çš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼ˆä¸€ç»„å…³è”å¿«é€Ÿå¯„å­˜å™¨ç»„ï¼‰ï¼Œåˆç§°ç›¸è”å­˜å‚¨å™¨ï¼ˆ<strong>TLB</strong>ï¼‰ï¼Œç”¨æ¥å­˜æ”¾<strong>å½“å‰è®¿é—®çš„è‹¥å¹²é¡µè¡¨é¡¹</strong>ï¼Œä»¥åŠ é€Ÿåœ°å€å˜æ¢çš„è¿‡ç¨‹ã€‚ä¸æ­¤å¯¹åº”ï¼Œä¸»å­˜ä¸­çš„é¡µè¡¨å¸¸ç§°ä¸º<strong>æ…¢è¡¨</strong>ã€‚</li><li>å…·ä½“è¿‡ç¨‹ï¼š<ul><li>CPUç»™å‡º<strong>è™šæ‹Ÿåœ°å€</strong>åï¼Œç”±ç¡¬ä»¶è¿›è¡Œåœ°å€è½¬æ¢ï¼Œå°†<strong>è™šæ‹Ÿé¡µå·</strong>é€å…¥TLBï¼Œå¹¶å°†æ­¤é¡µå·ä¸ TLB ä¸­çš„æ‰€æœ‰é¡µå·è¿›è¡Œæ¯”è¾ƒã€‚</li><li>è‹¥æ‰¾åˆ°åŒ¹é…çš„é¡µå·ï¼Œè¯´æ˜æ‰€è¦è®¿é—®çš„é¡µè¡¨é¡¹åœ¨å¿«è¡¨ä¸­ï¼Œåˆ™ç›´æ¥ä»ä¸­å–å‡ºè¯¥é¡µå¯¹åº”çš„<strong>é¡µæ¡†å·</strong>ï¼Œä¸é¡µå†…åç§»é‡æ‹¼æ¥å½¢æˆç‰©ç†åœ°å€ã€‚è¿™æ ·ï¼Œå­˜å–æ•°æ®ä»…<strong>ä¸€æ¬¡è®¿å­˜</strong>ä¾¿å¯å®ç°ã€‚</li><li>è‹¥æœªæ‰¾åˆ°åŒ¹é…çš„é¡µå·ï¼Œåˆ™éœ€è¦<strong>è®¿é—®ä¸»å­˜ä¸­çš„é¡µè¡¨</strong>ï¼Œåœ¨è¯»å‡ºé¡µè¡¨é¡¹åï¼Œåº”åŒæ—¶å°†å…¶<strong>å­˜å…¥å¿«è¡¨</strong>ï¼Œä»¥ä¾¿åé¢å¯èƒ½çš„å†æ¬¡è®¿é—®ã€‚</li><li>è‹¥å¿«è¡¨å·²æ»¡ï¼Œåˆ™å¿…é¡»æŒ‰ç…§ä¸€å®šçš„ç®—æ³•å¯¹æ—§çš„é¡µè¡¨é¡¹è¿›è¡Œæ›¿æ¢ã€‚</li></ul></li><li>å¿«è¡¨çš„æœ‰æ•ˆæ€§åŸºäºè‘—åçš„<strong>å±€éƒ¨æ€§åŸç†</strong>ã€‚</li></ul></li></ul><h4 id="äºŒçº§é¡µè¡¨æ¯”è¾ƒç»•">äºŒçº§é¡µè¡¨ï¼ˆæ¯”è¾ƒç»•ï¼‰</h4><ul><li><p>æœ¬è´¨ä¸Šå°±æ˜¯åœ¨<strong>åŸæœ‰é¡µè¡¨ç»“æ„ä¸Šå†åŠ ä¸Šä¸€å±‚é¡µè¡¨</strong>ï¼Œé¡¶çº§é¡µè¡¨åªæœ‰<span class="math inline">\(1\)</span> ä¸ªé¡µé¢ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211018160636257.png" alt="image-20211018160636257" style="zoom:100%;"></div></li><li><p>ä¸€ä¸ªé¡µè¡¨çš„åœ¨å†…å­˜ä¸­å  <span class="math inline">\(4~\mathrm{KB}\)</span>ï¼Œä¸”é¡µé¢å¤§å°ä¹Ÿæ˜¯ <span class="math inline">\(4~\mathrm{KB}\)</span>ï¼Œæ‰€ä»¥ä¸€ä¸ªé¡µï¼ˆå†…å­˜ä¸­çš„å—ï¼‰èƒ½æ”¾ä¸‹ä¸€ä¸ªé¡µè¡¨ã€‚</p></li><li><p>å¤šçº§é¡µè¡¨è¦è¾¾åˆ°çš„ç›®çš„ï¼š</p><p>â€‹åœ¨è¿›ç¨‹æ‰§è¡Œæ—¶ï¼Œ<strong>åªéœ€è¦å°†é¡¶çº§é¡µè¡¨è°ƒå…¥å†…å­˜</strong>å³å¯ï¼Œè¿›ç¨‹çš„é¡µè¡¨å’Œè¿›ç¨‹æœ¬èº«çš„é¡µé¢å¯åœ¨åé¢çš„æ‰§è¡Œä¸­å†è°ƒå…¥å†…å­˜ï¼ˆ<strong>éœ€è¦æ—¶å†è°ƒå…¥</strong>ï¼‰ã€‚</p><blockquote><p>å†…å­˜ä¸­åˆ†æˆ <span class="math inline">\(2^{20}\)</span>ä¸ªé¡µï¼Œé¡µè¡¨ä¸­æ¯ä¸ªé¡µè¡¨é¡¹å¤§å°ä¸º <span class="math inline">\(4~\mathrm{B}\)</span>ï¼Œå¦‚æœå…¨éƒ¨è°ƒå…¥å†…å­˜éœ€è¦ <span class="math inline">\(4~\mathrm{MB}\)</span> çš„å¤§å°ï¼Œè€Œå¾ˆå¤šé¡µæ˜¯ä¸éœ€è¦çš„ã€‚</p><p>å¤šçº§é¡µè¡¨å°±æ˜¯æƒ³è®©ä¸éœ€è¦çš„é¡µè¡¨ä¸ç”¨è°ƒå…¥å†…å­˜ã€‚</p><p>å¦‚æœé¡¶çº§é¡µè¡¨ä¸­çš„ä¸€ä¸ª PTEæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆç›¸åº”çš„äºŒçº§é¡µè¡¨å°±æ ¹æœ¬ä¸ä¼šå­˜åœ¨ï¼Œè¿™å°±æ˜¯å¤šçº§é¡µè¡¨èŠ‚çº¦å†…å­˜çš„åŸç†ã€‚</p></blockquote></li><li><p>é¡¶çº§é¡µè¡¨æ­£å¥½é€šè¿‡ <span class="math inline">\(1~\mathrm{K}\)</span> ä¸ªé¡µè¡¨é¡¹ï¼Œå¾—åˆ°å…¶ä»–çš„ <span class="math inline">\(1~\mathrm{K}\)</span> ä¸ªæ¬¡çº§é¡µè¡¨çš„å—å·ã€‚</p></li><li><p>PDEï¼ˆé¡¶çº§é¡µè¡¨çš„é¡µè¡¨é¡¹ï¼‰ å’Œ PTE çš„ <span class="math inline">\(4~\mathrm {B}\)</span>ç»“æ„ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* PDE */</span><br>|&lt;------ <span class="hljs-number">31</span>~<span class="hljs-number">12</span>------&gt;|&lt;------ <span class="hljs-number">11</span>~<span class="hljs-number">0</span> ---------&gt;| æ¯”ç‰¹<br>                     |b a <span class="hljs-number">9</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>| <br>|--------------------|-|-|-|-|-|-|-|-|-|-|-|-| å ä½<br>|&lt;-------index------&gt;| AVL |G|P|<span class="hljs-number">0</span>|A|P|P|U|R|P| å±æ€§<br>                             |S|   |C|W|/|/|<br>                                   |D|T|S|W|<br>    <br><span class="hljs-comment">/* PTE */</span><br>|&lt;------ <span class="hljs-number">31</span>~<span class="hljs-number">12</span>------&gt;|&lt;------ <span class="hljs-number">11</span>~<span class="hljs-number">0</span> ---------&gt;| æ¯”ç‰¹<br>                     |b a <span class="hljs-number">9</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>|<br>|--------------------|-|-|-|-|-|-|-|-|-|-|-|-| å ä½<br>|&lt;-------index------&gt;| AVL |G|P|D|A|P|P|U|R|P| å±æ€§<br>                             |A|   |C|W|/|/|<br>                             |T|   |D|T|S|W|<br></code></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨äºŒçº§é¡µè¡¨çš„åœ°å€ç¿»è¯‘è¿‡ç¨‹ï¼ˆé€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€ï¼‰ï¼š</p><ul><li><strong>é€»è¾‘åœ°å€</strong>æ ¼å¼ï¼š</li></ul></li></ul><table><thead><tr class="header"><th style="text-align: center;">é¡¶çº§é¡µå·ï¼ˆé¡µç›®å½•å·ï¼‰ <span class="math inline">\(10~\rm b\)</span></th><th style="text-align: center;">æ¬¡çº§é¡µå· <span class="math inline">\(10~\rm b\)</span></th><th>é¡µå†…åç§»é‡ <span class="math inline">\(12~\rm b\)</span></th></tr></thead><tbody></tbody></table><ul><li><p>å›é¡¾åªæœ‰ä¸€çº§é¡µè¡¨çš„åœ°å€ç¿»è¯‘è¿‡ç¨‹ï¼š</p><blockquote><p>è®¾é¡µé¢å¤§å°ä¸º <span class="math inline">\(L\)</span>ï¼Œé€»è¾‘åœ°å€ <span class="math inline">\(A\)</span> åˆ°ç‰©ç†åœ°å€ <span class="math inline">\(E\)</span> çš„è½¬æ¢è¿‡ç¨‹ï¼š</p><ol type="1"><li>è®¡ç®—é¡µå· <span class="math inline">\(P(P=A / L)\)</span>å’Œé¡µå†…åç§»é‡ <span class="math inline">\(W(W=A \% L)\)</span>ã€‚</li><li>æ¯”è¾ƒé¡µå· <span class="math inline">\(P\)</span>å’Œ<strong>é¡µè¡¨é•¿åº¦</strong> <span class="math inline">\(M\)</span>ï¼Œè‹¥<span class="math inline">\(P \geqM\)</span>ï¼Œåˆ™äº§ç”Ÿè¶Šç•Œä¸­æ–­ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œã€‚</li><li>é¡µè¡¨ä¸­é¡µå· <span class="math inline">\(P\)</span> å¯¹åº”çš„é¡µè¡¨é¡¹åœ°å€<span class="math inline">\(=\)</span> é¡µè¡¨å§‹å€ <span class="math inline">\(F~+\)</span> é¡µå· <span class="math inline">\(P~\times\)</span> é¡µè¡¨é¡¹é•¿åº¦ï¼Œå–å‡ºè¯¥é¡µè¡¨é¡¹å†…å®¹ <span class="math inline">\(b\)</span>ï¼Œå³ä¸º<strong>ç‰©ç†å—å·</strong>ã€‚</li><li>è®¡ç®— <span class="math inline">\(E=b \timesL+W\)</span>ï¼Œç”¨å¾—åˆ°çš„<strong>ç‰©ç†åœ°å€</strong> <span class="math inline">\(E\)</span> å»è®¿é—®å†…å­˜ã€‚</li></ol></blockquote></li><li><p>åœ¨é¡¶çº§é¡µè¡¨ä¸­ï¼Œè¿™ä¸ªé¡µé¢å¤§å°ä¸æ˜¯ <span class="math inline">\(4~\rm{KB}\)</span>ã€‚å› ä¸ºé¡¶çº§é¡µè¡¨çš„ä¸€ä¸ªé¡µè¡¨é¡¹å¯¹åº”äºä¸€ä¸ªæ¬¡çº§é¡µè¡¨æ‰€åœ¨å—ï¼Œè¿™ä¸ªæ¬¡çº§åˆ—è¡¨æœ‰<span class="math inline">\(1~\mathrm {K}\)</span> ä¸ªé¡µè¡¨é¡¹ï¼Œæ¯é¡µæ˜¯<span class="math inline">\(4~\rm{KB}\)</span>ï¼Œæ‰€ä»¥è¿™ä¸ªæ¬¡çº§åˆ—è¡¨æ‰€æ˜ å°„çš„é¡µé¢å¤§å°ä¹‹å’Œæ˜¯<span class="math inline">\(4~\rm{MB}\)</span>ã€‚æ‰€ä»¥åœ¨é¡¶çº§é¡µè¡¨ä¸­ï¼Œè¿™ä¸ªé¡µé¢å¤§å°æ˜¯<span class="math inline">\(4~\rm{MB}\)</span>ã€‚è¿™ä¹Ÿå¯¹åº”äº†é€»è¾‘åœ°å€æ ¼å¼çš„é¡¶çº§é¡µå·æ˜¯<span class="math inline">\(10~\rm{b}\)</span>ã€‚</p></li><li><p>åœ¨ç¬¬ <span class="math inline">\(3\)</span>æ­¥æ ¹æ®é¡¶çº§é¡µå·å¯ä»¥æ‰¾åˆ°å¯¹åº”é¡µè¡¨é¡¹çš„å†…å®¹ï¼ˆPDE çš„ç»“æ„ä¸­çš„ç¬¬ <span class="math inline">\(12-31\)</span> ä½ï¼‰ï¼Œå³æ¬¡çº§é¡µè¡¨æ‰€åœ¨å—å·ã€‚</p></li><li><p>ç¬”è€…è®¤ä¸ºï¼Œè¿™æ—¶æˆ‘ä»¬ä¸éœ€è¦ç”¨åˆ°é¡µå†…åç§»é‡ï¼Œå¯ä»¥è®¤ä¸º <span class="math inline">\(W=0\)</span>ï¼Œè¿™æ ·å°±èƒ½æ‰¾åˆ°æ¬¡çº§é¡µè¡¨çš„é¦–åœ°å€äº†ã€‚</p></li><li><p>åœ¨æ¬¡çº§é¡µè¡¨ä¸­ï¼Œè¿™ä¸ªåœ°å€ç¿»è¯‘è¿‡ç¨‹å°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ï¼Œå’Œä¸€çº§é¡µè¡¨ç¿»è¯‘è¿‡ç¨‹å®Œå…¨ä¸€æ ·ï¼Œé¡µé¢å¤§å°æ˜¯<span class="math inline">\(4~\rm{KB}\)</span>ï¼Œå¾—åˆ°æ¬¡çº§é¡µå·ä¹Ÿæ˜¯ <span class="math inline">\(10~\rm{b}\)</span> çš„ã€‚</p></li><li><p>å¤šçº§é¡µè¡¨ä½¿å¾—åœ°å€ç¿»è¯‘æ•ˆç‡æ›´ä½ï¼Œ<strong>è®¿é—®å†…å­˜æ¬¡æ•°å¢åŠ </strong>ã€‚</p></li></ul><h4 id="æ®µé¡µå¼ç®¡ç†æ–¹å¼">æ®µé¡µå¼ç®¡ç†æ–¹å¼</h4><ul><li><p>ç»¼åˆä¸¤è€…ä¼˜ç‚¹ï¼š</p><p>â€‹é¡µå¼å­˜å‚¨ç®¡ç†èƒ½æœ‰æ•ˆåœ°æé«˜<strong>å†…å­˜åˆ©ç”¨ç‡</strong>ï¼Œè€Œåˆ†æ®µå­˜å‚¨ç®¡ç†èƒ½åæ˜ <strong>ç¨‹åºçš„é€»è¾‘ç»“æ„</strong>å¹¶æœ‰åˆ©äºæ®µçš„å…±äº«ï¼Œç¬¦åˆç¨‹åºå‘˜ä¹ æƒ¯ã€‚</p></li><li><p>åœ¨æ®µé¡µå¼ç³»ç»Ÿä¸­ï¼Œä½œä¸šçš„<strong>åœ°å€ç©ºé—´é¦–å…ˆè¢«åˆ†æˆè‹¥å¹²é€»è¾‘æ®µ</strong>ï¼Œæ¯æ®µéƒ½æœ‰è‡ªå·±çš„æ®µå·ï¼ˆé¢å‘ç¨‹åºå‘˜ï¼‰ã€‚ç„¶åå°†<strong>æ¯æ®µ</strong>åˆ†æˆè‹¥å¹²<strong>å¤§å°å›ºå®šçš„é¡µ</strong>ï¼ˆé¢å‘ç¡¬ä»¶ï¼‰ã€‚</p></li><li><p>å¯¹å†…å­˜ç©ºé—´çš„ç®¡ç†ä»ç„¶å’Œåˆ†é¡µå­˜å‚¨ç®¡ç†ä¸€æ ·ï¼Œå°†å…¶åˆ†æˆè‹¥å¹²å’Œ<strong>é¡µé¢å¤§å°ç›¸åŒçš„å­˜å‚¨å—</strong>ï¼Œå¯¹å†…å­˜çš„åˆ†é…ä»¥å­˜å‚¨å—ä¸ºå•ä½</p></li><li><p>ç»“æ„å›¾ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211019100254533.png" style="zoom:80%;"></div></li><li><p>ç³»ç»Ÿä¸º<strong>æ¯ä¸ªè¿›ç¨‹</strong>å»ºç«‹ä¸€å¼ <strong>æ®µè¡¨</strong>ï¼Œæ¯ä¸ªåˆ†æ®µæœ‰ä¸€å¼ <strong>é¡µè¡¨</strong>ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿä¸­è¿˜åº”æœ‰ä¸€ä¸ªæ®µè¡¨å¯„å­˜å™¨ï¼ŒæŒ‡å‡ºä½œä¸šçš„æ®µè¡¨å§‹å€å’Œæ®µè¡¨é•¿åº¦ã€‚</p></li><li><p>æ®µè¡¨å¯„å­˜å™¨å’Œé¡µè¡¨å¯„å­˜å™¨çš„ä½œç”¨éƒ½æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯åœ¨æ®µè¡¨æˆ–é¡µè¡¨ä¸­å¯»å€ï¼ŒäºŒæ˜¯åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€‚</p><blockquote><p>åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œæ®µè¡¨åªæœ‰ä¸€ä¸ªï¼Œè€Œé¡µè¡¨å¯èƒ½æœ‰å¤šä¸ªã€‚</p></blockquote></li><li><p>åœ°å€ç¿»è¯‘è¿‡ç¨‹ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211019100841669.png"></div></li><li><p>åœ¨è¿›è¡Œåœ°å€ç¿»è¯‘æ—¶ï¼Œé¦–å…ˆé€šè¿‡æ®µè¡¨æŸ¥åˆ°<strong>é¡µè¡¨åŸºå€</strong>ï¼Œç„¶åé€šè¿‡é¡µè¡¨æ‰¾åˆ°é¡µå¸§å·ï¼Œæœ€åå½¢æˆç‰©ç†åœ°å€ï¼Œè¿›è¡Œä¸€æ¬¡è®¿é—®å®é™…éœ€è¦<strong>ä¸‰æ¬¡</strong>è®¿é—®ä¸»å­˜ï¼Œå¯é€šè¿‡TLB åŠ é€Ÿã€‚</p><blockquote><p>PPT ä¸Šæ˜¯é€»è¾‘åœ°å€ <span class="math inline">\(\to\)</span> çº¿æ€§åœ°å€<span class="math inline">\(\to\)</span> ç‰©ç†åœ°å€ï¼Œåœ°å€æ ¼å¼ä¹Ÿä¸åŒã€‚</p></blockquote></li></ul><h4 id="intel-x86-çš„å†…å­˜">Intel x86 çš„å†…å­˜</h4><blockquote><p>æ¥è‡ª PPTï¼Œæœ‰çš„ç­æ²¡è®²ï¼Œå¯è·³è¿‡<span class="">ğŸ˜¿</span></p></blockquote><ul><li><p>å®æ¨¡å¼ï¼š</p><p>â€‹ é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€ä¸€è‡´ï¼Œç‰©ç†åœ°å€ = æ®µåœ°å€ + åç§»åœ°å€ã€‚</p></li><li><p>ä¿æŠ¤æ¨¡å¼ï¼š</p><ul><li>å†…å­˜çš„ç®¡ç†æ¨¡å¼åˆ†ä¸º<strong>çº¯æ®µæ¨¡å¼</strong>å’Œ<strong>æ®µé¡µæ¨¡å¼</strong>ï¼Œæ²¡æœ‰çº¯é¡µæ¨¡å¼ã€‚</li><li>æ®µæ¨¡å¼æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œé¡µæ¨¡å¼åˆ™æ˜¯å¯é€‰çš„ã€‚</li><li>å¦‚æœä½¿ç”¨é¡µæ¨¡å¼ï¼Œåˆ™æ˜¯æ®µé¡µå¼ï¼Œå¦åˆ™è¿™æ˜¯çº¯æ®µæ¨¡å¼ã€‚</li></ul></li><li><p>GDT å’Œ LDTï¼š</p><ul><li>æ¯ä¸ª<strong>è¿›ç¨‹</strong>éƒ½æœ‰è‡ªå·±çš„<strong>æ®µè¡¨</strong>ï¼ˆLDTï¼Œå­˜å„ä¸ªè¿›ç¨‹çš„æ®µæè¿°ç¬¦ï¼‰ï¼Œ<strong>æ“ä½œç³»ç»Ÿ</strong>æœ‰è‡ªå·±çš„æ®µè¡¨ï¼ˆGDTï¼Œå­˜æ“ä½œç³»ç»Ÿçš„æ®µæè¿°ç¬¦ï¼‰</li><li>GDT çš„å…¥å£æ”¾åœ¨ GDTR å¯„å­˜å™¨ä¸­ï¼ŒGDT ä¸­è¿˜è®°å½•å„ä¸ªè¿›ç¨‹çš„æ®µè¡¨ LDTå…¥å£ï¼Œ<strong>å½“å‰è¿›ç¨‹</strong>çš„ LDT å…¥å£åŒæ—¶æ”¾å…¥ <strong>LDTRå¯„å­˜å™¨</strong>ã€‚</li><li>GDTR å’Œ LDTR å¯„å­˜å™¨ï¼ˆå­˜æ”¾ GDT å’Œå½“å‰è¿›ç¨‹ LDT çš„å…¥å£ï¼‰éƒ½æœ‰ <span class="math inline">\(32\)</span> ä½æ®µè¡¨åŸºå€ï¼ˆçº¿æ€§ç©ºé—´ <span class="math inline">\(4 \rm ~G\)</span>ï¼‰ + <span class="math inline">\(16\)</span> ä½æ®µè¡¨é•¿åº¦ã€‚</li></ul></li><li><p>å¯»æ‰¾<strong>æ®µ</strong>å¯¹åº”<strong>å†…å­˜çº¿æ€§ç©ºé—´</strong>çš„å—ä½ç½®ï¼š</p><ul><li><p>è‹¥ <span class="math inline">\(TI =0\)</span>ï¼ˆ<strong>æ®µå¯„å­˜å™¨</strong>çš„ä¸€ä¸ªæ ‡å¿—ä½ï¼‰ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211020114648595.png"></div><ul><li><p>å…ˆä» GDTR å¯„å­˜å™¨ä¸­è·å¾— GDT åŸºå€ã€‚</p></li><li><p>ç„¶ååœ¨ GDT ä¸­ä»¥æ®µé€‰æ‹©å™¨ï¼ˆæ®µå¯„å­˜å™¨ï¼‰é«˜ <span class="math inline">\(13\)</span> ä½ä½ç½®ç´¢å¼•å€¼å¾—åˆ°æ®µæè¿°ç¬¦ã€‚</p></li><li><p>æ®µæè¿°ç¬¦åŒ…å«æ®µçš„<strong>åŸºå€ã€é™é•¿</strong>ã€ä¼˜å…ˆçº§ç­‰å„ç§å±æ€§ï¼Œè¿™å°±å¾—åˆ°äº†<strong>æ®µçš„èµ·å§‹åœ°å€ï¼ˆåŸºå€ï¼‰</strong>ï¼Œå†ä»¥åŸºå€åŠ ä¸Šåç§»åœ°å€å¾—åˆ°çº¿æ€§åœ°å€ã€‚</p><blockquote><p>é¡ºåºï¼š</p><p>â€‹ GDTR <span class="math inline">\(\to\)</span> GDT <span class="math inline">\(\to\)</span> æ®µå¯„å­˜å™¨ç´¢å¼• <span class="math inline">\(\to\)</span> GDT <span class="math inline">\(\to\)</span> å¯¹åº”æ®µ</p></blockquote></li></ul></li><li><p>è‹¥ <span class="math inline">\(TI = 1\)</span>ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211020114714397.png"></div><ul><li><p>è¿˜æ˜¯å…ˆä» GDTR å¯„å­˜å™¨ä¸­è·å¾— GDT åŸºå€ï¼ˆæ‰¾ LDTï¼‰ã€‚</p></li><li><p>ä» LDTR å¯„å­˜å™¨ä¸­è·å– LDT æ‰€åœ¨æ®µçš„ä½ç½®ç´¢å¼•ï¼ˆLDTR é«˜ <span class="math inline">\(13\)</span> ä½ï¼‰ï¼Œä»¥è¿™ä¸ªä½ç½®ç´¢å¼•åœ¨ GDT ä¸­å¾—åˆ° LDTæ®µæè¿°ç¬¦ä»è€Œå¾—åˆ° LDT æ®µåŸºå€ã€‚</p></li><li><p>ç”¨æ®µé€‰æ‹©å™¨é«˜ <span class="math inline">\(13\)</span>ä½ä½ç½®ç´¢å¼•å€¼ä» LDT æ®µä¸­å¾—åˆ°æ®µæè¿°ç¬¦ã€‚</p></li><li><p>æ®µæè¿°ç¬¦åŒ…å«æ®µçš„åŸºå€ã€é™é•¿ã€ä¼˜å…ˆçº§ç­‰å„ç§å±æ€§ï¼Œè¿™å°±å¾—åˆ°äº†æ®µçš„èµ·å§‹åœ°å€ï¼ˆåŸºå€ï¼‰ï¼Œå†ä»¥åŸºå€åŠ ä¸Šåç§»åœ°å€å¾—åˆ°çº¿æ€§åœ°å€ã€‚</p><blockquote><p>é¡ºåºï¼š</p><p>â€‹ GDTR <span class="math inline">\(\to\)</span> GDT <span class="math inline">\(\to\)</span> LDTR <span class="math inline">\(\to\)</span> GDT <span class="math inline">\(\to\)</span> LDT <span class="math inline">\(\to\)</span> æ®µå¯„å­˜å™¨ç´¢å¼• <span class="math inline">\(\to\)</span> LDT <span class="math inline">\(\to\)</span> å¯¹åº”æ®µ</p></blockquote></li></ul></li></ul></li><li><p>æ®µé¡µæ¨¡å¼çš„åœ°å€å˜æ¢ï¼š</p><p>â€‹ æ‰€æœ‰è¿›ç¨‹å…±äº« <span class="math inline">\(4\rm ~G\)</span>çš„çº¿æ€§åœ°å€ç©ºé—´ï¼Œæ®µåŸºå€å¯ä»¥é‡å ï¼Œåªéœ€è¦é¡µè¡¨ä¸åŒï¼ˆCR3å¯„å­˜å™¨æŒ‡å‘å½“å‰è¿›ç¨‹çš„é¡µç›®å½•ï¼‰ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/page.png"></div></li></ul><h3 id="è™šæ‹Ÿå†…å­˜">è™šæ‹Ÿå†…å­˜</h3><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹ï¼ŒCSAPPï¼ŒPPT</p></blockquote><h4 id="è™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µ">è™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µ</h4><ul><li><p>ä¹‹å‰è®¨è®ºçš„å†…å­˜ç®¡ç†ç­–ç•¥çš„å…±æ€§å’Œä¸è¶³ï¼š</p><ul><li><p>åŒæ—¶å°†å¤šä¸ªè¿›ç¨‹ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä»¥ä¾¿å…è®¸è¿›è¡Œå¤šé“ç¨‹åºè®¾è®¡ã€‚</p></li><li><p>ä¸€æ¬¡æ€§ï¼š</p><p>â€‹ä½œä¸šå¿…é¡»<strong>ä¸€æ¬¡æ€§å…¨éƒ¨</strong>è£…å…¥å†…å­˜åï¼Œæ‰èƒ½å¼€å§‹è¿è¡Œã€‚è¿™ä¼šå¯¼è‡´ä¸¤ç§æƒ…å†µï¼š</p><ul><li>å½“ä½œä¸šå¾ˆå¤§è€Œä¸èƒ½å…¨éƒ¨è¢«è£…å…¥å†…å­˜æ—¶ï¼Œå°†ä½¿è¯¥ä½œä¸šæ— æ³•è¿è¡Œã€‚</li><li>å½“å¤§é‡ä½œä¸šè¦æ±‚è¿è¡Œæ—¶ï¼Œç”±äºå†…å­˜ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰ä½œä¸šï¼Œåªèƒ½ä½¿<strong>å°‘æ•°ä½œä¸šå…ˆè¿è¡Œ</strong>ï¼Œå¯¼è‡´å¤šé“ç¨‹åºåº¦çš„ä¸‹é™ã€‚</li></ul></li><li><p>é©»ç•™æ€§ï¼š</p><ul><li>ä½œä¸šè¢«è£…å…¥å†…å­˜åï¼Œå°±ä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œå…¶ä»»ä½•éƒ¨åˆ†éƒ½<strong>ä¸ä¼šè¢«æ¢å‡º</strong>ï¼Œç›´è‡³ç»“æŸã€‚</li><li>è¿è¡Œä¸­çš„è¿›ç¨‹ä¼šå› ç­‰å¾… I/Oè€Œè¢«é˜»å¡ï¼Œå¯èƒ½å¤„äºé•¿æœŸç­‰å¾…çŠ¶æ€ï¼Œåº”å½“è¢«æ¢å‡ºè€Œæ²¡æœ‰æ¢å‡ºã€‚</li></ul></li></ul><blockquote><p>æ ¸å¿ƒé—®é¢˜æ˜¯è®¸å¤šåœ¨ç¨‹åºè¿è¡Œä¸­<strong>ä¸ç”¨æˆ–æš‚æ—¶ä¸ç”¨çš„ç¨‹åº</strong>ï¼ˆæ•°æ®ï¼‰å æ®äº†å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œè€Œä¸€äº›éœ€è¦è¿è¡Œçš„ä½œä¸šåˆæ— æ³•è£…å…¥è¿è¡Œï¼Œæµªè´¹äº†å®è´µçš„å†…å­˜èµ„æºã€‚</p></blockquote></li><li><p>å…³é”®çš„å±€éƒ¨æ€§åŸç†ï¼š</p><ul><li>æ—¶é—´å±€éƒ¨æ€§ï¼š<ul><li>ç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œä¸ä¹…åè¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡æ‰§è¡Œã€‚</li><li>æŸæ•°æ®è¢«è®¿é—®è¿‡ï¼Œä¸ä¹…åè¯¥æ•°æ®å¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚</li><li>äº§ç”Ÿæ—¶é—´å±€éƒ¨æ€§çš„å…¸å‹åŸå› æ˜¯ç¨‹åºä¸­å­˜åœ¨ç€å¤§é‡çš„<strong>å¾ªç¯</strong>æ“ä½œã€‚</li></ul></li><li>ç©ºé—´å±€éƒ¨æ€§ï¼š<ul><li>ä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåœ¨ä¸ä¹…åï¼Œå…¶<strong>é™„è¿‘çš„å­˜å‚¨å•å…ƒ</strong>ä¹Ÿå°†è¢«è®¿é—®ã€‚</li><li>å³ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€ï¼Œå¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´ä¹‹å†…ï¼Œå› ä¸ºæŒ‡ä»¤é€šå¸¸æ˜¯é¡ºåºå­˜æ”¾ã€é¡ºåºæ‰§è¡Œçš„ï¼Œæ•°æ®ä¹Ÿä¸€èˆ¬æ˜¯ä»¥<strong>å‘é‡ã€æ•°ç»„ã€è¡¨</strong>ç­‰å½¢å¼<strong>ç°‡èšå­˜å‚¨</strong>çš„ã€‚</li></ul></li><li>è™šæ‹Ÿå†…å­˜æŠ€æœ¯åˆ©ç”¨å±€éƒ¨æ€§åŸç†å®ç°é«˜é€Ÿç¼“å­˜ã€‚</li></ul></li><li><p>è™šæ‹Ÿå­˜å‚¨å™¨å®šä¹‰ï¼š</p><ul><li><p>åŸºäºå±€éƒ¨æ€§åŸç†ï¼Œåœ¨ç¨‹åºè£…å…¥æ—¶ï¼Œå°†ç¨‹åºçš„<strong>ä¸€éƒ¨åˆ†è£…å…¥å†…å­˜</strong>ï¼Œè€Œå°†å…¶ä½™éƒ¨åˆ†ç•™åœ¨<strong>å¤–å­˜</strong>ï¼Œå°±å¯å¯åŠ¨ç¨‹åºæ‰§è¡Œï¼ˆéƒ¨åˆ†è£…å…¥ï¼‰ã€‚</p></li><li><p>åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“æ‰€è®¿é—®çš„ä¿¡æ¯ä¸åœ¨å†…å­˜æ—¶ï¼Œç”±æ“ä½œç³»ç»Ÿå°†æ‰€éœ€è¦çš„éƒ¨åˆ†<strong>è°ƒå…¥å†…å­˜</strong>ï¼Œç„¶åç»§ç»­æ‰§è¡Œç¨‹åºï¼ˆæŒ‰éœ€è°ƒé¡µï¼‰ã€‚</p></li><li><p>æ“ä½œç³»ç»Ÿå°†å†…å­˜ä¸­æš‚æ—¶ä¸ä½¿ç”¨çš„å†…å®¹<strong>æ¢å‡º</strong>åˆ°å¤–å­˜ä¸Šï¼Œä»è€Œè…¾å‡ºç©ºé—´å­˜æ”¾å°†è¦è°ƒå…¥å†…å­˜çš„ä¿¡æ¯ï¼ˆæ¢å…¥æ¢å‡ºor ç½®æ¢ï¼‰ã€‚</p></li><li><p>è¿™æ ·ï¼Œç³»ç»Ÿå¥½åƒä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ¯”<strong>å®é™…å†…å­˜å¤§</strong>å¾—å¤šçš„å­˜å‚¨å™¨ï¼Œä½†è¿™ä¸ªå­˜å‚¨å™¨<strong>æœ¬èº«å¹¶ä¸å­˜åœ¨</strong>ï¼Œå› ä¸ºç§°ä¸º<strong>è™šæ‹Ÿå­˜å‚¨å™¨</strong>ã€‚</p></li><li><p>è™šæ‹Ÿå­˜å‚¨å™¨çš„å¤§å°ç”±è®¡ç®—æœºçš„<strong>åœ°å€ç»“æ„</strong>å†³å®šï¼Œå¹¶ä¸æ˜¯å†…å­˜å’Œå¤–å­˜çš„ç®€å•ç›¸åŠ ã€‚</p><blockquote><p>è™šå­˜çš„å®¹é‡è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶:</p><ul><li>è™šå­˜çš„<strong>å®é™…å®¹é‡</strong> <span class="math inline">\(\leq\)</span><strong>å†…å­˜</strong>å®¹é‡å’Œ<strong>å¤–å­˜</strong>å®¹é‡ä¹‹å’Œï¼Œè¿™æ˜¯<strong>ç¡¬ä»¶çš„ç¡¬æ€§æ¡ä»¶</strong>è§„å®šçš„ã€‚è‹¥è™šå­˜çš„å®é™…å®¹é‡è¶…è¿‡äº†è¿™ä¸ªå®¹é‡ï¼Œåˆ™æ²¡æœ‰ç›¸åº”çš„ç©ºé—´æ¥ä¾›è™šå­˜ä½¿ç”¨ã€‚</li><li>è™šå­˜çš„<strong>æœ€å¤§å®¹é‡</strong> <span class="math inline">\(\leq\)</span>è®¡ç®—æœºçš„<strong>åœ°å€ä½æ•°</strong>èƒ½å®¹çº³çš„æœ€å¤§å®¹é‡ã€‚å‡è®¾åœ°å€æ˜¯ <span class="math inline">\(32\)</span> ä½çš„ï¼ŒæŒ‰å­—èŠ‚ç¼–å€ï¼Œä¸€ä¸ªåœ°å€ä»£è¡¨ <span class="math inline">\(1 \mathrm{~B}\)</span> å­˜å‚¨ç©ºé—´ï¼Œåˆ™è™šå­˜çš„æœ€å¤§å®¹é‡<span class="math inline">\(\leqslant 4 \mathrm{~GB}\left(2^{32}\mathrm{~B}\right)\)</span>ã€‚è¿™æ˜¯å› ä¸ºè‹¥è™šå­˜çš„æœ€å¤§å®¹é‡è¶…è¿‡ <span class="math inline">\(4 \mathrm{~GB}\)</span>ï¼Œåˆ™ <span class="math inline">\(32\)</span>ä½çš„åœ°å€ï¼Œè¶…è¿‡é™åˆ¶çš„ç©ºé—´æ²¡æœ‰æ„ä¹‰ã€‚</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20211214113424964.png"></div></blockquote></li></ul></li></ul><h4 id="è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼">è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼</h4><ul><li><p>è¯·æ±‚åˆ†é¡µæ–¹å¼æ¦‚å¿µï¼š</p><ul><li>è¯·æ±‚åˆ†é¡µç³»ç»Ÿå»ºç«‹åœ¨<strong>åŸºæœ¬åˆ†é¡µç³»ç»Ÿ</strong>åŸºç¡€ä¹‹ä¸Šï¼Œä¸ºäº†æ”¯æŒè™šæ‹Ÿå­˜å‚¨å™¨åŠŸèƒ½è€Œå¢åŠ äº†<strong>è¯·æ±‚è°ƒé¡µåŠŸèƒ½å’Œé¡µé¢ç½®æ¢</strong>åŠŸèƒ½ã€‚</li><li>éœ€è¦ä¸€å®šå®¹é‡çš„<strong>å†…å­˜åŠå¤–å­˜</strong>çš„è®¡ç®—æœºç³»ç»Ÿï¼Œè¿˜éœ€è¦æœ‰<strong>é¡µè¡¨æœºåˆ¶</strong>ã€<strong>ç¼ºé¡µä¸­æ–­æœºæ„</strong>å’Œ<strong>åœ°å€å˜æ¢æœºæ„</strong>ç­‰ç¡¬ä»¶æ”¯æŒã€‚</li></ul></li><li><p>é¡µè¡¨æœºåˆ¶ï¼š</p><ul><li>è¯·æ±‚åˆ†é¡µç³»ç»Ÿåœ¨ä¸€ä¸ªä½œä¸šè¿è¡Œä¹‹å‰ï¼Œ<strong>ä¸è¦æ±‚ä¸€æ¬¡æ€§å…¨éƒ¨</strong>è°ƒå…¥å†…å­˜ï¼Œå› æ­¤åœ¨ä½œä¸šçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‡ºç°è¦è®¿é—®çš„é¡µé¢<strong>ä¸åœ¨å†…å­˜</strong>ä¸­ï¼ˆä½†æ˜¯åœ¨é¡µè¡¨ä¸­ï¼‰çš„æƒ…å†µã€‚</li><li>ä¸ºäº†æ”¯æŒæ¢å…¥æ¢å‡ºåŠŸèƒ½ï¼Œè¦ä¿®æ”¹é¡µè¡¨é¡¹çš„ç»“æ„ï¼Œæ–°å¢ä¸€äº›å­—æ®µï¼š</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20211205124215996.png"></div></li><li><p>ç¼ºé¡µä¸­æ–­æœºæ„ï¼š</p><ul><li>åœ¨è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­ï¼Œæ¯å½“æ‰€è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œä¾¿äº§ç”Ÿä¸€ä¸ª<strong>ç¼ºé¡µä¸­æ–­</strong>ï¼Œè¯·æ±‚æ“ä½œç³»ç»Ÿå°†æ‰€ç¼ºçš„é¡µä»ç£ç›˜è°ƒå…¥å†…å­˜ã€‚</li><li>æ­¤æ—¶åº”å°†ç¼ºé¡µçš„è¿›ç¨‹<strong>é˜»å¡</strong>ï¼ˆè°ƒé¡µå®Œæˆ<strong>å”¤é†’</strong>ï¼‰ï¼Œè‹¥å†…å­˜ä¸­æœ‰ç©ºé—²å—ï¼Œåˆ™åˆ†é…ä¸€ä¸ªå—ï¼Œå°†è¦è°ƒå…¥çš„é¡µè£…å…¥è¯¥å—ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ä¸­çš„ç›¸åº”<strong>é¡µè¡¨é¡¹</strong>ã€‚</li><li>è‹¥æ­¤æ—¶å†…å­˜ä¸­æ²¡æœ‰ç©ºé—²å—ï¼Œåˆ™è¦<strong>æ·˜æ±°æŸé¡µ</strong>ï¼ˆè‹¥è¢«æ·˜æ±°é¡µåœ¨å†…å­˜æœŸé—´è¢«ä¿®æ”¹è¿‡ï¼Œåˆ™è¦å°†å…¶å†™å›å¤–å­˜ï¼‰ã€‚</li><li>ç¼ºé¡µä¸­æ–­ä½œä¸ºä¸­æ–­ï¼ŒåŒæ ·è¦ç»å†è¯¸å¦‚ä¿æŠ¤ CPUç¯å¢ƒã€åˆ†æä¸­æ–­åŸå› ã€è½¬å…¥ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åºã€æ¢å¤ CPU ç¯å¢ƒç­‰å‡ ä¸ªæ­¥éª¤ã€‚</li><li>ä½†ä¸ä¸€èˆ¬çš„ä¸­æ–­ç›¸æ¯”ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ˜æ˜¾çš„åŒºåˆ«ï¼š<ul><li>åœ¨<strong>æŒ‡ä»¤æ‰§è¡ŒæœŸé—´</strong>è€Œéä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œåäº§ç”Ÿå’Œå¤„ç†ä¸­æ–­ä¿¡å·ï¼Œå±äº<strong>å†…ä¸­æ–­</strong>ï¼Œ<a href="#ä¸­æ–­">å†…å¤–ä¸­æ–­çš„æ¦‚å¿µåœ¨è¿™</a>ã€‚</li><li><strong>ä¸€æ¡æŒ‡ä»¤</strong>åœ¨æ‰§è¡ŒæœŸé—´ï¼Œå¯èƒ½äº§ç”Ÿ<strong>å¤šæ¬¡ç¼ºé¡µä¸­æ–­</strong>ã€‚</li></ul></li></ul></li><li><p>åœ°å€å˜æ¢æœºæ„ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211205131752959.png"></div></li></ul><h4 id="é¡µé¢ç½®æ¢æ·˜æ±°ç®—æ³•">é¡µé¢ç½®æ¢ï¼ˆæ·˜æ±°ï¼‰ç®—æ³•</h4><ul><li>ä½†å†…å­˜å·²æ— ç©ºé—²ç©ºé—´æ—¶ï¼Œå°±éœ€è¦ä»å†…å­˜ä¸­è°ƒå‡ºä¸€é¡µç¨‹åºæˆ–æ•°æ®ï¼Œé€å…¥ç£ç›˜çš„å¯¹æ¢åŒºï¼ˆç”Ÿç£ç›˜ï¼Œæ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚</li><li>è™šæ‹Ÿå†…å­˜æŠ€æœ¯è°ƒæ¢é¡µé¢æ—¶éœ€è¦è®¿é—®<strong>å¤–å­˜</strong>ï¼Œä¼šå¯¼è‡´å¹³å‡è®¿å­˜æ—¶é—´å¢åŠ ï¼Œè‹¥ä½¿ç”¨äº†ä¸åˆé€‚çš„ç½®æ¢ç®—æ³•ï¼Œåˆ™ä¼šå¤§å¤§é™ä½ç³»ç»Ÿæ€§èƒ½ã€‚</li><li>Belady å¼‚å¸¸ï¼š<ul><li>å†…å­˜åˆ†é…çš„ç‰©ç†å—æ•°å¢å¤§è€Œé¡µæ•…éšœæ•°<strong>ä¸å‡åå¢</strong>çš„å¼‚å¸¸ç°è±¡ã€‚</li><li>åŸºäºé˜Ÿåˆ—å®ç°çš„ç½®æ¢ç®—æ³•å¯èƒ½å‘ç”Ÿ Beladyå¼‚å¸¸ï¼Œè€ŒåŸºäºå †æ ˆå®ç°çš„ç½®æ¢ç®—æ³•ä¸ä¼šå‘ç”Ÿ Belady å¼‚å¸¸ã€‚</li></ul></li><li>ç®—æ³•è¡¨æ ¼å¦‚ä¸‹ï¼š</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/table1.png"></div><h4 id="å…¶ä»–ç›¸å…³æ¦‚å¿µ">å…¶ä»–ç›¸å…³æ¦‚å¿µ</h4><ul><li><p>é©»ç•™é›†å®šä¹‰ï¼š</p><ul><li><p>åœ¨è¿›ç¨‹å‡†å¤‡æ‰§è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿè¦å†³å®šç»™ç‰¹å®šçš„è¿›ç¨‹åˆ†é…å‡ ä¸ªé¡µæ¡†ã€‚</p></li><li><p>ç»™ä¸€ä¸ªè¿›ç¨‹åˆ†é…çš„<strong>ç‰©ç†é¡µæ¡†çš„é›†åˆ</strong>å°±æ˜¯è¿™ä¸ªè¿›ç¨‹çš„<strong>é©»ç•™é›†</strong>ã€‚</p></li><li><p>éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><p>åˆ†é…ç»™ä¸€ä¸ªè¿›ç¨‹çš„å­˜å‚¨é‡è¶Šå°ï¼Œä»»ä½•æ—¶å€™é©»ç•™åœ¨ä¸»å­˜ä¸­çš„è¿›ç¨‹æ•°å°±è¶Šå¤šï¼Œä»è€Œå¯ä»¥æé«˜å¤„ç†æœºçš„æ—¶é—´åˆ©ç”¨æ•ˆç‡ã€‚</p></li><li><p>åŒæ—¶ï¼Œè‹¥ä¸€ä¸ªè¿›ç¨‹åœ¨ä¸»å­˜ä¸­çš„é¡µæ•°è¿‡å°‘ï¼Œåˆ™å°½ç®¡æœ‰å±€éƒ¨æ€§åŸç†ï¼Œ<strong>é¡µé”™è¯¯ç‡</strong>ä»ç„¶ä¼šç›¸å¯¹è¾ƒé«˜ã€‚</p><blockquote><p>é¡µé”™è¯¯ç‡ PFF = é¡µé”™è¯¯/æŒ‡ä»¤æ‰§è¡Œæ¡æ•°</p></blockquote></li></ul></li></ul></li><li><p>é¡µé¢åˆ†é… + é¡µé¢ç½®æ¢ç­–ç•¥ï¼š</p><ul><li><p><strong>å›ºå®š</strong>åˆ†é…<strong>å±€éƒ¨ç½®æ¢</strong>ï¼š</p><ul><li><p>å®ƒä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼Œåœ¨æ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½<strong>ä¸æ”¹å˜</strong>ã€‚</p></li><li><p>è‹¥è¿›ç¨‹åœ¨è¿è¡Œä¸­å‘ç”Ÿç¼ºé¡µï¼Œåˆ™åªèƒ½ä»è¯¥è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„é¡µé¢ä¸­é€‰å‡ºä¸€é¡µæ¢å‡ºï¼Œç„¶åè°ƒå…¥éœ€è¦çš„é¡µé¢ã€‚</p><blockquote><p>ç¼ºç‚¹æ˜¯éš¾ä»¥ç¡®å®šåº”ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…çš„ç‰©ç†å—æ•°ç›®ï¼š</p><ul><li>å¤ªå°‘ä¼šé¢‘ç¹å‡ºç°<strong>ç¼ºé¡µä¸­æ–­</strong></li><li>å¤ªå¤šåˆä¼šä½¿ CPU å’Œå…¶ä»–<strong>èµ„æºåˆ©ç”¨ç‡</strong>ä¸‹é™</li></ul></blockquote></li></ul></li><li><p><strong>å¯å˜</strong>åˆ†é…<strong>å…¨å±€ç½®æ¢</strong>ï¼š</p><ul><li><p>è¿™æ˜¯æœ€<strong>æ˜“äºå®ç°</strong>çš„ç‰©ç†å—åˆ†é…å’Œç½®æ¢ç­–ç•¥ï¼Œå®ƒä¸ºç³»ç»Ÿä¸­çš„æ¯ä¸ªè¿›ç¨‹åˆ†é…<strong>ä¸€å®šæ•°ç›®</strong>çš„ç‰©ç†å—ï¼Œæ“ä½œç³»ç»Ÿè‡ªèº«ä¹Ÿä¿æŒä¸€ä¸ªç©ºé—²ç‰©ç†å—é˜Ÿåˆ—ã€‚</p></li><li><p>å½“æŸè¿›ç¨‹å‘ç”Ÿç¼ºé¡µæ—¶ï¼Œç³»ç»Ÿä»<strong>ç©ºé—²ç‰©ç†å—é˜Ÿåˆ—</strong>ï¼ˆæˆ–å…¶ä»–è¿›ç¨‹ç‰©ç†å—ï¼‰ä¸­å–å‡ºä¸€ä¸ªç‰©ç†å—åˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œå¹¶å°†æ¬²è°ƒå…¥çš„é¡µè£…å…¥å…¶ä¸­ã€‚</p></li><li><p>è¿™ç§æ–¹æ³•æ¯”å›ºå®šåˆ†é…å±€éƒ¨ç½®æ¢æ›´åŠ <strong>çµæ´»</strong>ï¼Œå¯ä»¥åŠ¨æ€å¢åŠ è¿›ç¨‹çš„ç‰©ç†å—ï¼Œååé‡å¤§ã€‚</p><blockquote><p>ç¼ºç‚¹æ˜¯å®ƒä¼š<strong>ç›²ç›®åœ°ç»™è¿›ç¨‹å¢åŠ ç‰©ç†å—</strong>ï¼Œè¿›ç¨‹ä¸èƒ½æ§åˆ¶å®ƒè‡ªå·±çš„ç¼ºé¡µé”™è¯¯ç‡ï¼Œä»è€Œå¯¼è‡´ç³»ç»Ÿå¤šé“ç¨‹åºçš„<strong>å¹¶å‘èƒ½åŠ›</strong>ä¸‹é™ã€‚</p></blockquote></li></ul></li><li><p><strong>å¯å˜</strong>åˆ†é…<strong>å±€éƒ¨</strong>ç½®æ¢ï¼š</p><ul><li><p>å®ƒä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼Œå½“æŸä¸ªè¿›ç¨‹å‘ç”Ÿç¼ºé¡µæ—¶ï¼Œåªå…è®¸ä»è¯¥è¿›ç¨‹åœ¨å†…å­˜çš„é¡µé¢ä¸­é€‰å‡ºä¸€é¡µæ¢å‡ºï¼Œå› æ­¤<strong>ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹çš„è¿è¡Œ</strong>ã€‚</p></li><li><p>è‹¥è¿›ç¨‹åœ¨è¿è¡Œä¸­<strong>é¢‘ç¹åœ°ç¼ºé¡µ</strong>ï¼Œåˆ™ç³»ç»Ÿå†ä¸ºè¯¥è¿›ç¨‹<strong>åˆ†é…</strong>è‹¥å¹²ç‰©ç†å—ï¼Œç›´è‡³è¯¥è¿›ç¨‹ç¼ºé¡µç‡è¶‹äºé€‚å½“ç¨‹åº¦ã€‚</p></li><li><p>è‹¥è¿›ç¨‹è¿è¡Œä¸­çš„ç¼ºé¡µç‡ç‰¹åˆ«ä½ï¼Œåˆ™å¯é€‚å½“<strong>å‡å°‘</strong>åˆ†é…ç»™è¯¥è¿›ç¨‹çš„ç‰©ç†å—ã€‚</p><blockquote><p>ä¼˜ç‚¹æ˜¯å¯ä»¥<strong>åŠ¨æ€</strong>å¢åŠ è¿›ç¨‹ç‰©ç†å—çš„æ•°é‡ï¼Œè¿˜èƒ½åŠ¨æ€å‡å°‘è¿›ç¨‹ç‰©ç†å—çš„æ•°é‡ï¼Œåœ¨ä¿è¯è¿›ç¨‹<strong>ä¸ä¼šè¿‡å¤šåœ°è°ƒé¡µ</strong>çš„åŒæ—¶ï¼Œä¹Ÿä¿æŒäº†ç³»ç»Ÿçš„<strong>å¤šé“ç¨‹åºå¹¶å‘èƒ½åŠ›</strong>ã€‚</p><p>ç¼ºç‚¹æ˜¯éœ€è¦æ›´å¤æ‚çš„å®ç°ï¼Œä¹Ÿéœ€è¦æ›´å¤§çš„å¼€é”€ï¼Œä½†å¯¹æ¯”é¢‘ç¹åœ°æ¢å…¥/æ¢å‡ºæ‰€æµªè´¹çš„è®¡ç®—æœºèµ„æºï¼Œè¿™ç§ç‰ºç‰²æ˜¯å€¼å¾—çš„ã€‚</p></blockquote></li></ul></li><li><p><strong>æ²¡æœ‰</strong>å›ºå®šåˆ†é… +å…¨å±€ç½®æ¢ç­–ç•¥ï¼Œå› ä¸ºå¯¹å„ä¸ªè¿›ç¨‹å›ºå®šåˆ†é…æ—¶ï¼Œé¡µæ•°æ˜¯ä¸ä¼šå˜æ¢çš„ã€‚</p></li></ul></li><li><p>è°ƒé¡µç­–ç•¥ï¼š</p><blockquote><p>æ¥è‡ªã€Šç‹é“ã€‹ï¼Œä¸€èˆ¬ä¼šåŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§ç­–ç•¥</p></blockquote><ul><li>é¢„è°ƒé¡µç­–ç•¥ï¼š<ul><li>æ ¹æ®<strong>å±€éƒ¨æ€§åŸç†</strong>ï¼Œä¸€æ¬¡è°ƒå…¥è‹¥å¹²ç›¸é‚»çš„é¡µå¯èƒ½ä¼šæ¯”ä¸€æ¬¡è°ƒå…¥ä¸€é¡µæ›´é«˜æ•ˆã€‚</li><li>ä½†è‹¥è°ƒå…¥çš„ä¸€æ‰¹é¡µé¢ä¸­å¤§å¤šæ•°éƒ½æœªè¢«è®¿é—®ï¼Œåˆ™åˆæ˜¯ä½æ•ˆçš„ã€‚</li><li>å› æ­¤ï¼Œéœ€è¦é‡‡ç”¨ä»¥<strong>é¢„æµ‹</strong>ä¸ºåŸºç¡€çš„é¢„è°ƒé¡µç­–ç•¥ï¼Œå°†é¢„è®¡åœ¨ä¸ä¹…ä¹‹åä¾¿ä¼šè¢«è®¿é—®çš„é¡µé¢é¢„å…ˆè°ƒå…¥å†…å­˜ã€‚</li></ul></li><li>è¯·æ±‚è°ƒé¡µç­–ç•¥ï¼š<ul><li>è¿›ç¨‹åœ¨è¿è¡Œä¸­éœ€è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜è€Œæå‡ºè¯·æ±‚ï¼Œç”±ç³»ç»Ÿå°†æ‰€éœ€é¡µé¢è°ƒå…¥å†…å­˜ã€‚</li><li>è¿™ç§ç­–ç•¥è°ƒå…¥çš„é¡µä¸€å®šä¼šè¢«è®¿é—®ï¼Œä¸”è¿™ç§ç­–ç•¥æ¯”è¾ƒæ˜“äºå®ç°ï¼Œå› æ­¤åœ¨ç›®å‰çš„è™šæ‹Ÿå­˜å‚¨å™¨ä¸­å¤§å¤šé‡‡ç”¨æ­¤ç­–ç•¥ã€‚</li><li>å®ƒçš„ç¼ºç‚¹æ˜¯æ¯æ¬¡<strong>åªè°ƒå…¥ä¸€é¡µ</strong>ï¼Œè°ƒå…¥/è°ƒå‡ºé¡µé¢æ•°å¤šæ—¶ä¼šèŠ±è´¹è¿‡å¤šçš„I/O å¼€é”€ã€‚</li></ul></li></ul></li><li><p>æŠ–åŠ¨ï¼ˆé¢ ç°¸ï¼‰ï¼š</p><ul><li><p>åœ¨é¡µé¢ç½®æ¢è¿‡ç¨‹ä¸­ï¼Œä¸€ç§æœ€ç³Ÿç³•çš„æƒ…å½¢æ˜¯ï¼Œåˆšæ¢å‡ºçš„é¡µé¢é©¬ä¸Šåˆè¦æ¢å…¥ä¸»å­˜ï¼Œåˆšæ¢å…¥çš„é¡µé¢é©¬ä¸Šåˆè¦æ¢å‡ºä¸»å­˜ï¼Œè¿™ç§é¢‘ç¹çš„é¡µé¢è°ƒåº¦è¡Œä¸ºç§°ä¸º<strong>æŠ–åŠ¨æˆ–é¢ ç°¸</strong>ã€‚</p></li><li><p>è‹¥ä¸€ä¸ªè¿›ç¨‹åœ¨æ¢é¡µä¸Šç”¨çš„æ—¶é—´å¤šäºæ‰§è¡Œæ—¶é—´ï¼Œåˆ™è¿™ä¸ªè¿›ç¨‹å°±åœ¨é¢ ç°¸ã€‚</p></li><li><p>é¢‘ç¹å‘ç”Ÿç¼ºé¡µä¸­æ–­ï¼ˆæŠ–åŠ¨ï¼‰çš„ä¸»è¦åŸå› ï¼š</p><ul><li>æŸä¸ªè¿›ç¨‹<strong>é¢‘ç¹è®¿é—®çš„é¡µé¢æ•°ç›®</strong>é«˜äº<strong>å¯ç”¨çš„ç‰©ç†é¡µå¸§æ•°ç›®</strong>ï¼ˆé©»ç•™é›†ï¼‰ã€‚</li><li>è™šæ‹Ÿå†…å­˜æŠ€æœ¯åœ¨å†…å­˜ä¸­ä¿ç•™å¤šä¸ªè¿›ç¨‹ä»¥æé«˜ç³»ç»Ÿæ•ˆç‡ã€‚åœ¨ç¨³å®šçŠ¶æ€ï¼Œå‡ ä¹ä¸»å­˜çš„æ‰€æœ‰ç©ºé—´éƒ½è¢«è¿›ç¨‹å—å æ®ï¼Œå¤„ç†æœºå’Œæ“ä½œç³»ç»Ÿå¯ä»¥ç›´æ¥è®¿é—®åˆ°å°½å¯èƒ½å¤šçš„è¿›ç¨‹ã€‚</li><li>ä½†å¦‚æœç®¡ç†ä¸å½“ï¼Œé‚£ä¹ˆå¤„ç†æœºçš„<strong>å¤§éƒ¨åˆ†æ—¶é—´</strong>éƒ½å°†ç”¨äºè°ƒå…¥è°ƒå‡ºé¡µé¢ï¼Œè€Œä¸æ˜¯æ‰§è¡Œè¿›ç¨‹çš„æŒ‡ä»¤ï¼Œå› æ­¤ä¼šå¤§å¤§é™ä½ç³»ç»Ÿæ•ˆç‡ã€‚</li><li><strong>æ‰€æœ‰</strong>é¡µé¢æ›¿æ¢ç­–ç•¥éƒ½å¯èƒ½å¯¼è‡´æŠ–åŠ¨ã€‚</li></ul><blockquote><p>å› æ­¤å¼•å…¥ã€Œå·¥ä½œé›†ã€çš„æ¦‚å¿µï¼Œç¡®å®šè¿›ç¨‹æ‰€éœ€çš„å¸§æ•°ï¼Œé˜²æ­¢æŠ–åŠ¨</p></blockquote></li></ul></li><li><p>å·¥ä½œé›†å®šä¹‰ï¼š</p><ul><li><p>å·¥ä½œé›†æ˜¯æŒ‡åœ¨<strong>æŸæ®µæ—¶é—´é—´éš”</strong>å†…ï¼Œè¿›ç¨‹è¦è®¿é—®çš„é¡µé¢é›†åˆã€‚å®ƒå¯ä»¥åæ˜ äº†è¿›ç¨‹åœ¨æ¥ä¸‹æ¥çš„ä¸€æ®µæ—¶é—´å†…<strong>å¾ˆæœ‰å¯èƒ½ä¼šé¢‘ç¹è®¿é—®</strong>çš„é¡µé¢é›†åˆ</p></li><li><p>åŸºäº<strong>å±€éƒ¨æ€§åŸç†</strong>ï¼Œå¯ä»¥ç”¨<strong>æœ€è¿‘è®¿é—®è¿‡çš„é¡µé¢</strong>æ¥ç¡®å®šå·¥ä½œé›†ã€‚</p></li><li><p>å·¥ä½œé›† <span class="math inline">\(W\)</span> å¯ç”±æ—¶é—´ <span class="math inline">\(t\)</span> å’Œå·¥ä½œé›†çª—å£å¤§å° <span class="math inline">\(\Delta\)</span> æ¥ç¡®å®šã€‚</p><blockquote><p>ä¾‹å¦‚ï¼ŒæŸè¿›ç¨‹å¯¹é¡µé¢çš„è®¿é—®æ¬¡åºå¦‚ä¸‹ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211205202735623.png"></div><p>å‡è®¾ç³»ç»Ÿä¸ºè¯¥è¿›ç¨‹è®¾å®šçš„å·¥ä½œé›†çª—å£å¤§å° <span class="math inline">\(\Delta\)</span> ä¸º <span class="math inline">\(5\)</span>ã€‚åœ¨ <span class="math inline">\(t_{1}\)</span> æ—¶åˆ»ï¼Œè¿›ç¨‹çš„å·¥ä½œé›†ä¸º <span class="math inline">\(\{2,3,5\}\)</span>ã€‚åœ¨ <span class="math inline">\(t_{2}\)</span> æ—¶åˆ»ï¼Œè¿›ç¨‹çš„å·¥ä½œé›†ä¸º <span class="math inline">\(\{1,2,3,4\}\)</span>ã€‚</p></blockquote></li><li><p>å¯¹äºå±€éƒ¨æ€§å¥½çš„ç¨‹åºï¼Œ<strong>å·¥ä½œé›†å¤§å°</strong>ä¸€èˆ¬ä¼šæ¯”<strong>å·¥ä½œé›†çª—å£</strong><span class="math inline">\(\Delta\)</span> å°å¾ˆå¤šã€‚</p></li><li><p>æŠ–åŠ¨é—®é¢˜çš„å·¥ä½œé›†è§†è§’ï¼š</p><p>â€‹è‹¥åˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†å—å°äº<strong>å·¥ä½œé›†å¤§å°</strong>ï¼Œåˆ™è¯¥è¿›ç¨‹å°±å¾ˆæœ‰å¯èƒ½é¢‘ç¹ç¼ºé¡µå¯¼è‡´æŠ–åŠ¨ã€‚</p></li><li><p>ä¸€èˆ¬æ¥è¯´åˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†å—æ•°ï¼ˆå³é©»ç•™é›†å¤§å°ï¼‰è¦å¤§äºå·¥ä½œé›†å¤§å°ã€‚</p></li><li><p>å·¥ä½œé›†æ¨¡å‹çš„åŸç†ï¼š</p><ul><li>è®©æ“ä½œç³»ç»Ÿ<strong>è·Ÿè¸ªæ¯ä¸ªè¿›ç¨‹çš„å·¥ä½œé›†</strong>ï¼Œå¹¶ä¸ºè¿›ç¨‹åˆ†é…<strong>å¤§äº</strong>å…¶å·¥ä½œé›†çš„ç‰©ç†å—ã€‚</li><li>è½åœ¨<strong>å·¥ä½œé›†å†…</strong>çš„é¡µé¢éœ€è¦è°ƒå…¥<strong>é©»ç•™é›†</strong>ä¸­ï¼Œè€Œè½åœ¨<strong>å·¥ä½œé›†å¤–</strong>çš„é¡µé¢å¯ä»é©»ç•™é›†ä¸­<strong>æ¢å‡º</strong>ã€‚</li><li>è‹¥è¿˜æœ‰ç©ºé—²ç‰©ç†å—ï¼Œåˆ™å¯ä»¥<strong>å†è°ƒä¸€ä¸ªè¿›ç¨‹</strong>åˆ°å†…å­˜ä»¥å¢åŠ å¤šé“ç¨‹åºæ•°ã€‚</li><li>è‹¥æ‰€æœ‰è¿›ç¨‹çš„<strong>å·¥ä½œé›†ä¹‹å’Œ</strong>è¶…è¿‡äº†<strong>å¯ç”¨ç‰©ç†å—</strong>æ•°ï¼Œåˆ™æ“ä½œç³»ç»Ÿä¼š<strong>æš‚åœ</strong>ä¸€ä¸ªè¿›ç¨‹ï¼Œå°†å…¶<strong>é¡µé¢è°ƒå‡º</strong>å¹¶å°†å…¶ç‰©ç†å—åˆ†é…ç»™å…¶ä»–è¿›ç¨‹ï¼Œé˜²æ­¢å‡ºç°æŠ–åŠ¨ç°è±¡ã€‚</li></ul></li></ul></li></ul><h4 id="åœ°å€ç¿»è¯‘">åœ°å€ç¿»è¯‘</h4><ul><li>Core i7 åœ°å€ç¿»è¯‘çš„æ¦‚å†µå›¾ï¼š</li></ul><div data-align="center"><img src=" /img/blog/os-note-images/4.png"></div><ul><li><p>æ—  TLB çš„åœ°å€ç¿»è¯‘ï¼ˆå‘½ä¸­ï¼‰æµç¨‹ï¼š</p><ol type="1"><li><p>å¤„ç†å™¨ç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿåœ°å€ï¼Œå¹¶æŠŠå®ƒä¼ é€ç»™ MMUã€‚MMU ç”Ÿæˆ <strong>PTEåœ°å€</strong>ï¼ˆé¡µè¡¨åŸºå€ + è™šæ‹Ÿé¡µå·ï¼‰ï¼Œå¹¶ä»é«˜é€Ÿç¼“å­˜/ä¸»å­˜è¯·æ±‚å¾—åˆ°å®ƒã€‚</p><blockquote><p>å†…å­˜ç®¡ç†å•å…ƒ Memory Management Unitï¼ŒMMU æ˜¯ CPUèŠ¯ç‰‡ä¸Šçš„ä¸“ç”¨ç¡¬ä»¶ï¼Œè´Ÿè´£åœ°å€ç¿»è¯‘ã€‚</p></blockquote></li><li><p>é«˜é€Ÿç¼“å­˜/ä¸»å­˜å‘ MMU è¿”å› PTEã€‚</p></li><li><p>MMUæ„é€ <strong>ç‰©ç†åœ°å€</strong>ï¼Œå¹¶æŠŠå®ƒä¼ é€ç»™é«˜é€Ÿç¼“å­˜/ä¸»å­˜ã€‚</p></li><li><p>é«˜é€Ÿç¼“å­˜/ä¸»å­˜è¿”å›æ‰€è¯·æ±‚çš„æ•°æ®å­—ç»™å¤„ç†å™¨ã€‚</p><blockquote><p>éœ€è¦è®¿é—®ä¸¤æ¬¡ï¼ˆåŠä»¥ä¸Šï¼‰é«˜é€Ÿç¼“å­˜/ä¸»å­˜ã€‚</p></blockquote></li></ol><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206130519133.png"></div></li><li><p>TLB çš„ç»“æ„ï¼š</p><ul><li><p>åœ¨è™šæ‹Ÿé¡µå·ä¸Šçš„åˆ’åˆ†ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206125414501.png"></div></li><li><p>ç¿»è¯‘æµç¨‹ï¼ˆTLB å‘½ä¸­æƒ…å†µï¼‰ï¼š</p><ol type="1"><li><p>CPU äº§ç”Ÿä¸€ä¸ªè™šæ‹Ÿåœ°å€ã€‚</p></li><li><p>MMU ä» TLB ä¸­å–å‡ºç›¸åº”çš„ PTEã€‚</p></li><li><p>MMUå°†è¿™ä¸ªè™šæ‹Ÿåœ°å€ç¿»è¯‘æˆä¸€ä¸ªç‰©ç†åœ°å€ï¼Œå¹¶ä¸”å°†å®ƒå‘é€åˆ°é«˜é€Ÿç¼“å­˜/ä¸»å­˜ã€‚</p></li><li><p>é«˜é€Ÿç¼“å­˜/ä¸»å­˜å°†æ‰€è¯·æ±‚çš„æ•°æ®å­—è¿”å›ç»™ CPUã€‚</p><blockquote><p>åªéœ€è®¿é—®ä¸€æ¬¡é«˜é€Ÿç¼“å­˜/ä¸»å­˜ï¼Œå³ä½¿åœ¨å¤šçº§é¡µè¡¨ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸º TLBå­˜æ”¾çš„æ˜¯æœ€åä¸€çº§é¡µè¡¨çš„é¡µè¡¨é¡¹ã€‚</p></blockquote><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206130105103.png"></div></li></ol></li><li><p>å½“ TLB ä¸å‘½ä¸­æ—¶ï¼ŒMMU å¿…é¡»ä»é«˜é€Ÿç¼“å­˜/ä¸»å­˜ä¸­å–å‡ºç›¸åº”çš„PTEã€‚æ–°å–å‡ºçš„ PTE å­˜æ”¾åœ¨ TLB ä¸­ï¼Œå¯èƒ½ä¼šè¦†ç›–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¡ç›®ã€‚</p><blockquote><p>å¦‚æœ TLB ä¸å‘½ä¸­ä¸”ç¼ºé¡µï¼Œ<strong>æ–°æ¢å…¥</strong>çš„é¡µå¯¹åº”é¡µè¡¨é¡¹ä¼šæ”¾å…¥<strong>TLB</strong>ä¸­ï¼Œæ‰€ä»¥ç¼ºé¡µæ—¶è¿˜æ˜¯åªéœ€è¦è®¿é—®<strong>ä¸¤æ¬¡</strong>å†…å­˜ï¼ˆç¬¬ä¸€æ¬¡å‘ç°ç¼ºé¡µï¼Œç¬¬äºŒæ¬¡ç”¨æŸ¥TLB å¾—åˆ°çš„é¡µå·è®¿é—®å†…å­˜ï¼‰</p></blockquote></li></ul></li><li><p>é«˜é€Ÿç¼“å­˜çš„ä¸‰ç§ç»„ç»‡æ–¹å¼ï¼š</p><blockquote><p>è®¾ç‰©ç†åœ°å€ä½ <span class="math inline">\(m\)</span> ä½ã€‚</p></blockquote><ul><li>ç›´æ¥æ˜ å°„ï¼ˆç›´ç›¸è”ï¼‰ï¼š</li></ul></li></ul><table><thead><tr class="header"><th style="text-align: center;">æ ‡è®° <span class="math inline">\(t=m-s-b\)</span> ä½</th><th style="text-align: center;">ç»„ç´¢å¼• <span class="math inline">\(s\)</span> ä½</th><th style="text-align: center;">å—å†…åç§» <span class="math inline">\(b\)</span> ä½</th></tr></thead><tbody></tbody></table><p>å…ˆé€šè¿‡ç»„ç´¢å¼•ï¼Œæ‰¾åˆ°é«˜é€Ÿç¼“å­˜å¯¹åº”çš„ç»„ï¼Œæ¯ç»„åªæœ‰ä¸€è¡Œï¼ˆè·¯ï¼‰ï¼ŒåŒ¹é…å®ƒçš„æ ‡è®°ï¼Œç›¸ç­‰åˆ™å‘½ä¸­ã€‚</p><ul><li><span class="math inline">\(g\)</span> è·¯ç»„ç›¸è”ï¼š</li></ul><table><thead><tr class="header"><th style="text-align: center;">æ ‡è®° <span class="math inline">\(t+g\)</span> ä½</th><th style="text-align: center;">ç»„ç´¢å¼• <span class="math inline">\(s-g\)</span> ä½</th><th style="text-align: center;">å—å†…åç§» <span class="math inline">\(b\)</span> ä½</th></tr></thead><tbody></tbody></table><p>å…ˆé€šè¿‡ç»„ç´¢å¼•ï¼Œæ‰¾åˆ°é«˜é€Ÿç¼“å­˜å¯¹åº”çš„ç»„ï¼Œæ¯ç»„æœ‰ <span class="math inline">\(g\)</span> è¡Œï¼ˆè·¯ï¼‰ï¼ŒåŒ¹é… <span class="math inline">\(g\)</span> ä¸ªæ ‡è®°ï¼Œç›¸ç­‰åˆ™å‘½ä¸­ã€‚</p><blockquote><p>ç”¨ä¸­é—´ä½ä½œç»„ç´¢å¼•çš„åŸå› ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206133823597.png"></div><p>å› ä¸º<strong>ç›¸é‚»</strong>çš„å†…å­˜å—ï¼ˆ<strong>ä½ä½ä¸åŒè€Œé«˜ä½ç›¸åŒ</strong>ï¼‰å¦‚æœå¯ä»¥æ”¾åœ¨é«˜é€Ÿç¼“å­˜<strong>ä¸åŒçš„ç»„</strong>ï¼Œå°±ä¸å®¹æ˜“å‘ç”Ÿæ›¿æ¢ï¼Œå³å°½å¯èƒ½åŒæ—¶æ”¾å…¥é«˜é€Ÿç¼“å­˜ã€‚</p></blockquote><ul><li>å…¨ç›¸è”ï¼š</li></ul><table><thead><tr class="header"><th style="text-align: center;">æ ‡è®° <span class="math inline">\(m-b\)</span> ä½</th><th style="text-align: center;">å—å†…åç§» <span class="math inline">\(b\)</span> ä½</th></tr></thead><tbody></tbody></table><p>åŒ¹é…é«˜é€Ÿç¼“å­˜<strong>æ‰€æœ‰æ ‡è®°</strong>ï¼Œç›¸ç­‰åˆ™å‘½ä¸­ã€‚</p><h4 id="linux-è™šæ‹Ÿå†…å­˜ç³»ç»Ÿ">Linux è™šæ‹Ÿå†…å­˜ç³»ç»Ÿ</h4><blockquote><p>æ•´ç†è‡ª PPT å’Œ CSAPPï¼Œã€Šç‹é“ã€‹æ²¡æœ‰ï¼Œä¸çŸ¥é“ä¼šä¸ä¼šè€ƒ</p></blockquote><ul><li><p>Linuxä¸º<strong>æ¯ä¸ªè¿›ç¨‹</strong>ç»´æŠ¤äº†ä¸€ä¸ªå•ç‹¬çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå¦‚ä¸‹å›¾ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206191650681.png"></div></li><li><p>å†…æ ¸è™šæ‹Ÿå†…å­˜åŒ…å«å†…æ ¸ä¸­çš„ä»£ç å’Œæ•°æ®ç»“æ„ï¼Œå…¶ä¸­æŸäº›åŒºåŸŸè¢«æ˜ å°„åˆ°<strong>æ‰€æœ‰è¿›ç¨‹å…±äº«</strong>çš„ç‰©ç†é¡µé¢ã€‚</p></li><li><p>å†…æ ¸ä¸ºç³»ç»Ÿä¸­çš„æ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ä¸ªå•ç‹¬çš„<strong>ä»»åŠ¡ç»“æ„</strong>ï¼ˆæºä»£ç ä¸­çš„<code>task_struct</code>ï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206192040636.png"></div></li><li><p>ä»»åŠ¡ç»“æ„ä¸­çš„å…ƒç´ åŒ…å«æˆ–è€…æŒ‡å‘<strong>å†…æ ¸è¿è¡Œè¯¥è¿›ç¨‹</strong>æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆä¾‹å¦‚PIDã€æŒ‡å‘ç”¨æˆ·æ ˆçš„æŒ‡é’ˆã€å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶çš„åå­—ä»¥åŠç¨‹åºè®¡æ•°å™¨ï¼‰ã€‚</p></li><li><p>ä»»åŠ¡ç»“æ„ä¸­çš„ä¸€ä¸ªæ¡ç›®æŒ‡å‘<code>mm_Struct</code>ï¼Œå®ƒæè¿°äº†è™šæ‹Ÿå†…å­˜çš„å½“å‰çŠ¶æ€ã€‚å…¶ä¸­å«æœ‰ä¸¤ä¸ªå…³é”®å­—æ®µ<code>pgd</code> å’Œ <code>mmap</code>ï¼š</p><ul><li><p><code>pgd</code>æŒ‡å‘é¡¶çº§é¡µè¡¨ï¼ˆ<strong>é¡µå…¨å±€ç›®å½•</strong>ï¼‰çš„åŸºå€ï¼Œå½“å†…æ ¸è¿è¡Œè¿™ä¸ªè¿›ç¨‹æ—¶ï¼Œå°±å°†<code>pgd</code> å­˜æ”¾åœ¨ CR3 æ§åˆ¶å¯„å­˜å™¨ä¸­ã€‚</p><blockquote><p><strong>åŒºåŸŸ</strong>å®šä¹‰ï¼š</p><ul><li>Linuxå°†<strong>è™šæ‹Ÿå†…å­˜</strong>ç»„ç»‡æˆä¸€äº›<strong>åŒºåŸŸ</strong>ï¼ˆæˆ–æ®µï¼‰çš„é›†åˆã€‚</li><li>ä¸€ä¸ªåŒºåŸŸå°±æ˜¯å·²ç»å­˜åœ¨ç€çš„ï¼ˆå·²åˆ†é…çš„ï¼‰è™šæ‹Ÿå†…å­˜çš„<strong>è¿ç»­ç‰‡</strong>ï¼Œè¿™äº›é¡µæ˜¯ä»¥æŸç§æ–¹å¼ç›¸å…³è”çš„ã€‚</li><li>ä¾‹å¦‚ï¼Œä»£ç æ®µã€æ•°æ®æ®µã€å †ã€å…±äº«åº“æ®µï¼Œä»¥åŠç”¨æˆ·æ ˆéƒ½æ˜¯ä¸åŒçš„åŒºåŸŸã€‚</li></ul></blockquote></li><li><p><code>mmap</code> æŒ‡å‘ä¸€ä¸ª<code>vm_area_structs</code>ï¼ˆåŒºåŸŸç»“æ„ï¼‰çš„é“¾è¡¨ï¼Œå…¶ä¸­æ¯ä¸ª<code>vm_area_structs</code>éƒ½æè¿°äº†å½“å‰<strong>è™šæ‹Ÿåœ°å€ç©ºé—´</strong>çš„ä¸€ä¸ª<strong>åŒºåŸŸ</strong>ï¼š</p><ul><li><p><code>vm_prot</code>ï¼š</p><p>â€‹ æè¿°è¿™ä¸ªåŒºåŸŸå†…æ‰€æœ‰é¡µçš„<strong>è¯»å†™è®¸å¯</strong>æƒé™ã€‚</p></li><li><p><code>vm_flags</code>ï¼š</p><p>â€‹æè¿°è¿™ä¸ªåŒºåŸŸå†…çš„é¡µé¢æ˜¯ä¸å…¶ä»–è¿›ç¨‹<strong>å…±äº«</strong>çš„è¿˜æ˜¯è¿™ä¸ªè¿›ç¨‹<strong>ç§æœ‰</strong>çš„ã€‚</p></li></ul></li></ul></li><li><p>å‡è®¾ MMU åœ¨è¯•å›¾ç¿»è¯‘æŸä¸ªè™šæ‹Ÿåœ°å€ Aæ—¶ï¼Œè§¦å‘äº†ä¸€ä¸ªç¼ºé¡µã€‚è¿™ä¸ªå¼‚å¸¸å¯¼è‡´æ§åˆ¶è½¬ç§»åˆ°å†…æ ¸çš„ç¼ºé¡µå¤„ç†ç¨‹åºï¼Œå¤„ç†ç¨‹åºéšåå°±æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ï¼š</p><ol type="1"><li><p>åˆ¤æ–­è™šæ‹Ÿåœ°å€ A æ˜¯å¦åˆæ³•ï¼ˆè¶Šç•Œï¼‰çš„ï¼Œæ¢å¥è¯è¯´ï¼ŒAæ˜¯å¦åœ¨è¯¥è¿›ç¨‹çš„æŸä¸ª<strong>åŒºåŸŸç»“æ„å®šä¹‰çš„åŒºåŸŸ</strong>å†…ï¼š</p><ul><li>ç¼ºé¡µå¤„ç†ç¨‹åºæœç´¢åŒºåŸŸç»“æ„çš„é“¾è¡¨ï¼ŒæŠŠ A å’Œæ¯ä¸ªåŒºåŸŸç»“æ„ä¸­çš„ vm_start å’Œvm_end åšæ¯”è¾ƒã€‚</li><li>å¦‚æœè¿™ä¸ªæŒ‡ä»¤æ˜¯ä¸åˆæ³•çš„ï¼Œé‚£ä¹ˆç¼ºé¡µå¤„ç†ç¨‹åºå°±è§¦å‘ä¸€ä¸ª<strong>æ®µé”™è¯¯</strong>ï¼Œä»è€Œç»ˆæ­¢è¿™ä¸ªè¿›ç¨‹ã€‚</li></ul><blockquote><p>å› ä¸ºä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºä»»æ„æ•°é‡çš„æ–°è™šæ‹Ÿå†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥é¡ºåºæœç´¢åŒºåŸŸç»“æ„çš„é“¾è¡¨èŠ±é”€å¯èƒ½ä¼šå¾ˆå¤§ã€‚</p><p>å› æ­¤åœ¨å®é™…ä¸­ï¼ŒLinuxä½¿ç”¨æŸäº›æ•°æ®ç»“æ„ç§‘æŠ€ï¼Œä¾‹å¦‚åœ¨é“¾è¡¨ä¸­æ„å»ºäº†ä¸€æ£µæ ‘ï¼Œå¹¶åœ¨è¿™æ£µæ ‘ä¸Šè¿›è¡ŒæŸ¥æ‰¾ã€‚</p></blockquote></li><li><p>åˆ¤æ–­è¯•å›¾è¿›è¡Œçš„å†…å­˜è®¿é—®æ˜¯å¦<strong>åˆæ³•</strong>ï¼Œå³è¿›ç¨‹æ˜¯å¦æœ‰è¯»ã€å†™æˆ–è€…æ‰§è¡Œè¿™ä¸ªåŒºåŸŸå†…é¡µé¢çš„æƒé™ï¼š</p><ul><li><p>ä¾‹å¦‚ï¼Œè¿™ä¸ªç¼ºé¡µæ˜¯ä¸æ˜¯ç”±ä¸€æ¡è¯•å›¾å¯¹è¿™ä¸ªä»£ç æ®µé‡Œçš„<strong>åªè¯»é¡µé¢è¿›è¡Œå†™æ“ä½œ</strong>çš„å­˜å‚¨æŒ‡ä»¤é€ æˆçš„ã€‚</p></li><li><p>è‹¥ä¸åˆæ³•ï¼Œç¼ºé¡µå¤„ç†ç¨‹åºä¼šè§¦å‘ä¸€ä¸ªä¿æŠ¤å¼‚å¸¸ï¼Œä»è€Œç»ˆæ­¢è¿™ä¸ªè¿›ç¨‹ã€‚</p></li></ul></li><li><p>å…¶ä»–æƒ…å†µæ­£å¸¸æ¢å…¥é¡µé¢ï¼Œæ›´æ–°é¡µè¡¨ã€‚</p></li></ol></li></ul><h4 id="å†…å­˜æ˜ å°„">å†…å­˜æ˜ å°„</h4><ul><li><p>å†…å­˜æ˜ å°„å®šä¹‰ï¼š</p><p>â€‹ Linuxé€šè¿‡å°†ä¸€ä¸ª<strong>è™šæ‹Ÿå†…å­˜åŒºåŸŸ</strong>ä¸ä¸€ä¸ª<strong>ç£ç›˜ä¸Šçš„å¯¹è±¡</strong>å…³è”èµ·æ¥ï¼Œä»¥åˆå§‹åŒ–è¿™ä¸ªè™šæ‹Ÿå†…å­˜åŒºåŸŸçš„å†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå†…å­˜æ˜ å°„ã€‚</p></li><li><p>æ˜ å°„å¯¹è±¡ï¼š</p><ul><li>æ–‡ä»¶ç³»ç»Ÿï¼ˆç£ç›˜ï¼‰ä¸­çš„æ™®é€šæ–‡ä»¶ï¼š<ul><li><strong>ä¸€ä¸ªåŒºåŸŸ</strong>å¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ª<strong>æ™®é€šç£ç›˜æ–‡ä»¶</strong>çš„<strong>è¿ç»­éƒ¨åˆ†</strong>ï¼Œä¾‹å¦‚ä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ã€‚</li><li>æ–‡ä»¶åŒºè¢«åˆ†æˆ<strong>é¡µå¤§å°çš„ç‰‡</strong>ï¼Œæ¯ä¸€ç‰‡åŒ…å«ä¸€ä¸ª<strong>è™šæ‹Ÿé¡µé¢</strong>çš„åˆå§‹å†…å®¹ã€‚</li><li>å› ä¸ºæŒ‰éœ€è¿›è¡Œ<strong>é¡µé¢è°ƒåº¦</strong>ï¼Œæ‰€ä»¥è¿™äº›è™šæ‹Ÿé¡µé¢æ²¡æœ‰å®é™…äº¤æ¢è¿›å…¥ç‰©ç†<strong>å†…å­˜</strong>ï¼Œç›´åˆ°CPU<strong>ç¬¬ä¸€æ¬¡å¼•ç”¨</strong>åˆ°é¡µé¢ï¼ˆå³å‘å°„ä¸€ä¸ªè™šæ‹Ÿåœ°å€ï¼Œè½åœ¨åœ°å€ç©ºé—´è¿™ä¸ªé¡µé¢çš„èŒƒå›´ä¹‹å†…ï¼‰ã€‚</li><li>å¦‚æœåŒºåŸŸæ¯”æ–‡ä»¶åŒºè¦å¤§ï¼Œé‚£ä¹ˆå°±ç”¨é›¶æ¥å¡«å……è¿™ä¸ªåŒºåŸŸçš„å‰©ä¸‹éƒ¨åˆ†ã€‚</li></ul></li><li>åŒ¿åæ–‡ä»¶ï¼š<ul><li>ä¸€ä¸ªåŒºåŸŸä¹Ÿå¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ª<strong>åŒ¿åæ–‡ä»¶</strong>ï¼ŒåŒ¿åæ–‡ä»¶æ˜¯ç”±<strong>å†…æ ¸</strong>åˆ›å»ºçš„ï¼ŒåŒ…å«çš„å…¨æ˜¯<strong>äºŒè¿›åˆ¶é›¶</strong>ã€‚</li><li>CPUç¬¬ä¸€æ¬¡å¼•ç”¨è¿™æ ·ä¸€ä¸ªåŒºåŸŸå†…çš„è™šæ‹Ÿé¡µé¢æ—¶ï¼Œå†…æ ¸å°±åœ¨ç‰©ç†å†…å­˜ä¸­æ‰¾åˆ°ä¸€ä¸ª<strong>åˆé€‚çš„ç‰ºç‰²é¡µé¢</strong>ï¼Œå¦‚æœè¯¥é¡µé¢è¢«<strong>ä¿®æ”¹</strong>è¿‡ï¼Œå°±å°†è¿™ä¸ªé¡µé¢æ¢å‡ºæ¥ï¼Œç”¨äºŒè¿›åˆ¶é›¶<strong>è¦†ç›–ç‰ºç‰²é¡µé¢å¹¶æ›´æ–°é¡µè¡¨</strong>ï¼Œå°†è¿™ä¸ªé¡µé¢æ ‡è®°ä¸ºæ˜¯é©»ç•™åœ¨å†…å­˜ä¸­çš„ã€‚</li><li>æ³¨æ„åœ¨<strong>ç£ç›˜å’Œå†…å­˜</strong>ä¹‹é—´å¹¶æ²¡æœ‰å®é™…çš„æ•°æ®ä¼ é€ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œ<strong>æ˜ å°„åˆ°åŒ¿åæ–‡ä»¶</strong>çš„åŒºåŸŸä¸­çš„é¡µé¢æœ‰æ—¶ä¹Ÿå«åš<strong>è¯·æ±‚äºŒè¿›åˆ¶é›¶çš„é¡µ</strong>ã€‚</li></ul></li></ul></li><li><p>äº¤æ¢æ–‡ä»¶ï¼š</p><ul><li>æ— è®ºåœ¨å“ªç§æƒ…å†µä¸­ï¼Œä¸€æ—¦ä¸€ä¸ªè™šæ‹Ÿé¡µé¢è¢«<strong>åˆå§‹åŒ–</strong>äº†ï¼Œå®ƒå°±åœ¨ä¸€ä¸ªç”±<strong>å†…æ ¸</strong>ç»´æŠ¤çš„ä¸“é—¨çš„<strong>äº¤æ¢æ–‡ä»¶</strong>ï¼ˆäº¤æ¢ç©ºé—´æˆ–äº¤æ¢åŒºåŸŸï¼‰ä¹‹é—´æ¢æ¥æ¢å»ã€‚</li><li>äº¤æ¢ç©ºé—´<strong>é™åˆ¶</strong>ç€å½“å‰è¿è¡Œç€çš„<strong>è¿›ç¨‹</strong>èƒ½å¤Ÿ<strong>åˆ†é…çš„è™šæ‹Ÿé¡µé¢</strong>çš„æ€»æ•°ã€‚</li></ul></li><li><p>å…±äº«å¯¹è±¡å’Œç§æœ‰å¯¹è±¡ï¼š</p><ul><li><p>ä¸€ä¸ªå¯¹è±¡å¯ä»¥è¢«æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜çš„ä¸€ä¸ªåŒºåŸŸï¼Œè¦ä¹ˆä½œä¸º<strong>å…±äº«å¯¹è±¡</strong>ï¼Œè¦ä¹ˆä½œä¸º<strong>ç§æœ‰å¯¹è±¡</strong>ã€‚</p></li><li><p>å¦‚æœä¸€ä¸ªè¿›ç¨‹å°†ä¸€ä¸ª<strong>å…±äº«å¯¹è±¡</strong>æ˜ å°„åˆ°å®ƒçš„<strong>è™šæ‹Ÿåœ°å€ç©ºé—´</strong>çš„ä¸€ä¸ªåŒºåŸŸå†…ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿›ç¨‹å¯¹è¿™ä¸ªåŒºåŸŸçš„ä»»ä½•<strong>å†™æ“ä½œ</strong>ï¼Œå¯¹äºé‚£äº›ä¹ŸæŠŠè¿™ä¸ªå…±äº«å¯¹è±¡æ˜ å°„åˆ°å®ƒä»¬è™šæ‹Ÿå†…å­˜çš„å…¶ä»–è¿›ç¨‹è€Œè¨€ï¼Œä¹Ÿæ˜¯å¯è§çš„ã€‚è€Œä¸”ï¼Œè¿™äº›å˜åŒ–ä¹Ÿä¼šåæ˜ åœ¨ç£ç›˜ä¸Šçš„<strong>åŸå§‹å¯¹è±¡</strong>ä¸­ã€‚</p></li><li><p>è€Œå¯¹ä¸€ä¸ªæ˜ å°„åˆ°<strong>ç§æœ‰å¯¹è±¡</strong>çš„åŒºåŸŸåšçš„æ”¹å˜ï¼Œå¯¹äºå…¶ä»–è¿›ç¨‹æ¥è¯´æ˜¯<strong>ä¸å¯è§</strong>çš„ï¼Œå¹¶ä¸”è¿›ç¨‹å¯¹è¿™ä¸ªåŒºåŸŸæ‰€åšçš„ä»»ä½•å†™æ“ä½œéƒ½ä¸ä¼šåæ˜ åœ¨<strong>ç£ç›˜ä¸Šçš„å¯¹è±¡ä¸­</strong>ã€‚</p></li><li><p>ä¸€ä¸ªæ˜ å°„åˆ°<strong>å…±äº«å¯¹è±¡</strong>çš„è™šæ‹Ÿå†…å­˜åŒºåŸŸå«åš<strong>å…±äº«åŒºåŸŸ</strong>ï¼Œåä¹‹ç§°ä¸ºç§æœ‰åŒºåŸŸã€‚</p><blockquote><p>å‡è®¾è¿›ç¨‹ <span class="math inline">\(1\)</span>å°†ä¸€ä¸ª<strong>å…±äº«å¯¹è±¡</strong>æ˜ å°„åˆ°å®ƒçš„è™šæ‹Ÿå†…å­˜çš„ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ç°åœ¨å‡è®¾è¿›ç¨‹<span class="math inline">\(2\)</span>å°†åŒä¸€ä¸ªå…±äº«å¯¹è±¡æ˜ å°„åˆ°å®ƒçš„åœ°å€ç©ºé—´ï¼ˆå¹¶<strong>ä¸ä¸€å®š</strong>è¦å’Œè¿›ç¨‹<span class="math inline">\(1\)</span>åœ¨<strong>ç›¸åŒçš„è™šæ‹Ÿåœ°å€</strong>å¤„ï¼‰ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206204751788.png"></div></blockquote></li></ul></li><li><p>å†™æ—¶å¤åˆ¶ï¼š</p><ul><li><p><strong>ç§æœ‰å¯¹è±¡</strong>ä½¿ç”¨ä¸€ç§å«åšå†™æ—¶å¤åˆ¶çš„å·§å¦™æŠ€æœ¯è¢«æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜ä¸­ã€‚</p></li><li><p>ä¸€ä¸ªç§æœ‰å¯¹è±¡å¼€å§‹ç”Ÿå‘½å‘¨æœŸçš„æ–¹å¼åŸºæœ¬ä¸Š<strong>ä¸å…±äº«å¯¹è±¡çš„ä¸€æ ·</strong>ï¼Œåœ¨ç‰©ç†å†…å­˜ä¸­<strong>åªä¿å­˜</strong>æœ‰ç§æœ‰å¯¹è±¡çš„<strong>ä¸€ä»½å‰¯æœ¬</strong>ã€‚</p></li><li><p>å¦‚å›¾ä¸¤ä¸ªè¿›ç¨‹å°†ä¸€ä¸ª<strong>ç§æœ‰å¯¹è±¡</strong>æ˜ å°„åˆ°å®ƒä»¬è™šæ‹Ÿå†…å­˜çš„ä¸åŒåŒºåŸŸï¼Œä½†æ˜¯å…±äº«è¿™ä¸ªå¯¹è±¡åŒä¸€ä¸ªç‰©ç†å‰¯æœ¬ã€‚</p></li><li><p>å¯¹äºæ¯ä¸ªæ˜ å°„ç§æœ‰å¯¹è±¡çš„è¿›ç¨‹ï¼Œ<strong>ç›¸åº”ç§æœ‰åŒºåŸŸçš„é¡µè¡¨æ¡ç›®éƒ½è¢«æ ‡è®°ä¸ºåªè¯»</strong>ï¼Œå¹¶ä¸”åŒºåŸŸç»“æ„è¢«æ ‡è®°ä¸º<strong>ç§æœ‰çš„å†™æ—¶å¤åˆ¶</strong>ã€‚</p></li><li><p>åªè¦æ²¡æœ‰è¿›ç¨‹è¯•å›¾<strong>å†™</strong>å®ƒè‡ªå·±çš„<strong>ç§æœ‰åŒºåŸŸ</strong>ï¼Œå®ƒä»¬å°±å¯ä»¥ç»§ç»­å…±äº«ç‰©ç†å†…å­˜ä¸­å¯¹è±¡çš„ä¸€ä¸ª<strong>å•ç‹¬å‰¯æœ¬</strong>ã€‚</p></li><li><p>ç„¶è€Œï¼Œåªè¦æœ‰ä¸€ä¸ªè¿›ç¨‹è¯•å›¾å†™ç§æœ‰åŒºåŸŸå†…çš„æŸä¸ªé¡µé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå†™æ“ä½œå°±ä¼šè§¦å‘ä¸€ä¸ª<strong>ä¿æŠ¤æ•…éšœ</strong>ï¼š</p><ul><li>æ•…éšœå¤„ç†ç¨‹åºæ³¨æ„åˆ°ä¿æŠ¤å¼‚å¸¸æ˜¯ç”±äºè¿›ç¨‹è¯•å›¾<strong>å†™ç§æœ‰çš„å†™æ—¶å¤åˆ¶åŒºåŸŸ</strong>ä¸­çš„ä¸€ä¸ªé¡µé¢è€Œå¼•èµ·çš„ï¼Œå®ƒå°±ä¼šåœ¨<strong>ç‰©ç†å†…å­˜</strong>ä¸­åˆ›å»ºè¿™ä¸ªé¡µé¢çš„ä¸€ä¸ª<strong>æ–°å‰¯æœ¬</strong>ï¼Œæ›´æ–°<strong>é¡µè¡¨æ¡ç›®</strong>æŒ‡å‘è¿™ä¸ª<strong>æ–°çš„å‰¯æœ¬</strong>ï¼Œç„¶åæ¢å¤è¿™ä¸ªé¡µé¢çš„<strong>å¯å†™æƒé™</strong>ã€‚</li><li>å½“æ•…éšœå¤„ç†ç¨‹åºè¿”å›æ—¶ï¼ŒCPU<strong>é‡æ–°æ‰§è¡Œè¿™ä¸ªå†™æ“ä½œ</strong>ï¼Œç°åœ¨åœ¨æ–°åˆ›å»ºçš„é¡µé¢ä¸Šè¿™ä¸ª<strong>å†™æ“ä½œ</strong>å°±å¯ä»¥<strong>æ­£å¸¸æ‰§è¡Œ</strong>äº†ã€‚</li></ul><blockquote><p>é€šè¿‡å»¶è¿Ÿç§æœ‰å¯¹è±¡ä¸­çš„å‰¯æœ¬ç›´åˆ°æœ€åå¯èƒ½çš„æ—¶åˆ»ï¼Œå†™æ—¶å¤åˆ¶æœ€å……åˆ†åœ°ä½¿ç”¨äº†ç¨€æœ‰çš„ç‰©ç†å†…å­˜ã€‚</p></blockquote><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206210446323.png"></div></li></ul></li><li><p>å†…å­˜æ˜ å°„çš„å››ç§ç±»å‹ï¼š</p><blockquote><p>PPT å†™æœ‰ä½†æ²¡æ‰¾åˆ°å‡ºå¤„ï¼Œçœ‹çœ‹å°±å¾—äº†ã€‚</p><p>å› ä¸ºæ˜ å°„å¯¹è±¡åˆ†ä¸ºæœ‰æ™®é€šæ–‡ä»¶å’ŒåŒ¿åæ–‡ä»¶ï¼Œè¿™ä¸¤ç§æ˜ å°„åˆæœ‰ç§æœ‰æ˜ å°„å’Œå…±äº«æ˜ å°„ä¹‹åˆ†ï¼Œæ‰€ä»¥å¯åˆ›å»º<span class="math inline">\(4\)</span> ç§ç±»å‹çš„æ˜ å°„ã€‚</p></blockquote><ul><li><p>æ™®é€šæ–‡ä»¶çš„å…±äº«æ˜ å°„ï¼š</p><p>â€‹å¤šä¸ªè¿›ç¨‹æ˜ å°„åˆ°åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å­˜ä¿®æ”¹ä¼šè¢«å†™å›åˆ°åå¤‡æ–‡ä»¶ã€‚ç”¨äºä¸åŒè¿›ç¨‹é—´å…±äº«å†…å­˜ï¼Œä»¥åŠå¤§æ–‡ä»¶è¯»å†™ã€‚</p></li><li><p>æ™®é€šæ–‡ä»¶çš„ç§æœ‰æ˜ å°„ï¼š</p><p>â€‹å¤šä¸ªè¿›ç¨‹æ˜ å°„åˆ°åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé‡‡ç”¨<strong>å†™æ—¶æ‹·è´</strong>çš„æ–¹å¼ï¼Œä¸€èˆ¬ç”¨åœ¨åŠ è½½å…±äº«ä»£ç åº“ä»¥åŠæ•°æ®æ®µï¼ŒèŠ‚çœå†…å­˜ã€‚</p></li><li><p>åŒ¿åæ–‡ä»¶çš„å…±äº«æ˜ å°„ï¼š</p><p>â€‹ <strong>å†…æ ¸åˆ›å»º</strong>ä¸€ä¸ªåˆå§‹éƒ½æ˜¯ <span class="math inline">\(0\)</span>çš„ç‰©ç†å†…å­˜åŒºåŸŸï¼Œç„¶å<strong>çˆ¶å­è¿›ç¨‹</strong>ä½¿ç”¨åŒä¸€ä¸ªæ˜ å°„ï¼Œç”¨äºå…³è”è¿›ç¨‹å…±äº«å†…å­˜ã€‚</p></li><li><p>åŒ¿åæ–‡ä»¶çš„ç§æœ‰æ˜ å°„ï¼š</p><p>â€‹ <strong>å†…æ ¸åˆ›å»º</strong>ä¸€ä¸ªåˆå§‹éƒ½æ˜¯ <span class="math inline">\(0\)</span>çš„ç‰©ç†å†…å­˜åŒºåŸŸï¼Œç”¨ä½œè¿›ç¨‹çš„ç§æœ‰å†…å­˜åˆ†é…ï¼Œå¦‚ <code>malloc()</code>åº•å±‚åˆ†é…å¤§å—å†…å­˜ã€‚</p></li></ul></li><li><p>åˆ†æ <code>fork()</code> å‡½æ•°ï¼š</p><ul><li>å½“ <code>fork()</code>å‡½æ•°è¢«å½“å‰è¿›ç¨‹è°ƒç”¨æ—¶ï¼Œå†…æ ¸ä¸ºæ–°è¿›ç¨‹åˆ›å»ºå„ç§æ•°æ®ç»“æ„ï¼Œå¹¶åˆ†é…ç»™å®ƒä¸€ä¸ªå”¯ä¸€çš„PIDã€‚</li><li>ä¸ºäº†ç»™è¿™ä¸ªæ–°è¿›ç¨‹åˆ›å»ºè™šæ‹Ÿå†…å­˜ï¼Œå®ƒåˆ›å»ºäº†å½“å‰è¿›ç¨‹çš„<code>mm_struct</code>ã€åŒºåŸŸç»“æ„å’Œé¡µè¡¨çš„åŸæ ·å‰¯æœ¬ã€‚</li><li>å®ƒå°†ä¸¤ä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸ªé¡µé¢éƒ½æ ‡è®°ä¸º<strong>åªè¯»</strong>ï¼Œå¹¶å°†ä¸¤ä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸ªåŒºåŸŸç»“æ„éƒ½æ ‡è®°ä¸º<strong>ç§æœ‰çš„å†™æ—¶å¤åˆ¶</strong>ã€‚</li><li>å½“ <code>fork()</code>åœ¨æ–°è¿›ç¨‹ä¸­è¿”å›æ—¶ï¼Œæ–°è¿›ç¨‹ç°åœ¨çš„è™šæ‹Ÿå†…å­˜åˆšå¥½å’Œè°ƒç”¨ <code>fork()</code>æ—¶å­˜åœ¨çš„è™šæ‹Ÿå†…å­˜ç›¸åŒã€‚</li><li>å½“è¿™ä¸¤ä¸ªè¿›ç¨‹ä¸­çš„ä»»ä¸€ä¸ªåæ¥è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå†™æ—¶å¤åˆ¶æœºåˆ¶å°±ä¼šåˆ›å»ºæ–°é¡µé¢ï¼Œè¿™æ ·å°±ä¸ºæ¯ä¸ªè¿›ç¨‹ä¿æŒäº†ç§æœ‰åœ°å€ç©ºé—´çš„æŠ½è±¡æ¦‚å¿µã€‚</li></ul></li><li><p>åˆ†æå‡½æ•° <code>execve("a.out", NULL, NULL);</code>ï¼š</p><ul><li><p>æ„ä¹‰:</p><p>â€‹ <code>execve()</code>å‡½æ•°åœ¨<strong>å½“å‰è¿›ç¨‹</strong>ä¸­åŠ è½½å¹¶è¿è¡ŒåŒ…å«åœ¨å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶<code>a.out</code> ä¸­çš„ç¨‹åºï¼Œç”¨ <code>a.out</code>ç¨‹åºæœ‰æ•ˆåœ°æ›¿ä»£äº†å½“å‰ç¨‹åºã€‚</p></li><li><p>åŠ è½½å¹¶è¿è¡Œ <code>a.out</code> éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>åˆ é™¤å·²å­˜åœ¨çš„<strong>ç”¨æˆ·åŒºåŸŸ</strong>ï¼š</p><p>â€‹ åˆ é™¤å½“å‰è¿›ç¨‹è™šæ‹Ÿåœ°å€çš„ç”¨æˆ·éƒ¨åˆ†ä¸­çš„å·²å­˜åœ¨çš„åŒºåŸŸç»“æ„ã€‚</p></li><li><p>æ˜ å°„ç§æœ‰åŒºåŸŸï¼š</p><ul><li>ä¸ºæ–°ç¨‹åºçš„ä»£ç ã€æ•°æ®ã€<code>.bss</code>å’Œæ ˆåŒºåŸŸåˆ›å»ºæ–°çš„åŒºåŸŸç»“æ„ã€‚</li><li>æ‰€æœ‰è¿™äº›æ–°çš„åŒºåŸŸéƒ½æ˜¯<strong>ç§æœ‰çš„å†™æ—¶å¤åˆ¶</strong>çš„ã€‚</li><li>ä»£ç å’Œæ•°æ®åŒºåŸŸè¢«æ˜ å°„ä¸º <code>a.out</code> æ–‡ä»¶ä¸­çš„<code>.text</code> å’Œ <code>.data</code> åŒºã€‚</li><li><code>.bss</code>åŒºåŸŸæ˜¯è¯·æ±‚äºŒè¿›åˆ¶é›¶çš„ï¼Œæ˜ å°„åˆ°<strong>åŒ¿åæ–‡ä»¶</strong>ï¼Œå…¶å¤§å°åŒ…å«åœ¨<code>a.out</code> ä¸­ã€‚</li><li>æ ˆå’Œå †åŒºåŸŸä¹Ÿæ˜¯è¯·æ±‚<strong>äºŒè¿›åˆ¶é›¶</strong>çš„ï¼Œåˆå§‹é•¿åº¦ä¸ºé›¶ã€‚</li></ul></li><li><p>æ˜ å°„å…±äº«åŒºåŸŸï¼š</p><p>â€‹ å¦‚æœ <code>a.out</code> ç¨‹åºä¸å…±äº«å¯¹è±¡ï¼ˆæˆ–ç›®æ ‡ï¼‰é“¾æ¥ï¼Œæ¯”å¦‚æ ‡å‡† C åº“<code>libc.so</code>ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡éƒ½æ˜¯åŠ¨æ€é“¾æ¥åˆ°è¿™ä¸ªç¨‹åºçš„ï¼Œç„¶åå†æ˜ å°„åˆ°ç”¨æˆ·è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„å…±äº«åŒºåŸŸå†…ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206214228820.png"></div></li><li><p>è®¾ç½®ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ï¼š</p><ul><li><code>execve()</code>åšçš„æœ€åä¸€ä»¶äº‹æƒ…å°±æ˜¯è®¾ç½®å½“å‰è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„ç¨‹åºè®¡æ•°å™¨ï¼Œä½¿ä¹‹æŒ‡å‘ä»£ç åŒºåŸŸçš„å…¥å£ç‚¹ã€‚</li><li>ä¸‹ä¸€æ¬¡è°ƒåº¦è¿™ä¸ªè¿›ç¨‹æ—¶ï¼Œå®ƒå°†ä»è¿™ä¸ªå…¥å£ç‚¹å¼€å§‹æ‰§è¡Œã€‚Linuxå°†æ ¹æ®éœ€è¦æ¢å…¥ä»£ç å’Œæ•°æ®é¡µé¢ã€‚</li></ul></li></ul></li></ul></li></ul><h2 id="io-ç®¡ç†å’Œå­˜å‚¨">I/O ç®¡ç†å’Œå­˜å‚¨</h2><blockquote><p>åŸºæœ¬æ¥è‡ªã€Šç‹é“ã€‹å’Œ PPT</p></blockquote><h3 id="å››ç§-io-æ§åˆ¶æ–¹å¼">å››ç§ I/O æ§åˆ¶æ–¹å¼</h3><blockquote><p>å…¸ä¸­å…¸ï¼Œè®¡ç»„å­¦è¿‡å‰ä¸‰ä¸ªï¼Œç¬¬å››ä¸ªè¦ç‰¹åˆ«æ³¨æ„<span class="">âš›</span></p></blockquote><ul><li><p>ç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼ï¼š</p><ul><li><p>å½“æŸè¿›ç¨‹éœ€è¦è¾“å…¥/è¾“å‡ºæ•°æ®æ—¶ï¼Œç”± CPU å‘è®¾å¤‡æ§åˆ¶å™¨å‘å‡ºä¸€æ¡ I/OæŒ‡ä»¤å¯åŠ¨è®¾å¤‡å·¥ä½œï¼ˆå¯¹äºè¾“å‡ºæ“ä½œï¼Œåˆ™ CPUè¿˜è¦å‘æ•°æ®å¯„å­˜å™¨ä¸­å­˜æ”¾è¾“å‡ºæ•°æ®ï¼‰ã€‚</p></li><li><p>åœ¨è®¾å¤‡è¾“å…¥/è¾“å‡ºæ•°æ®æœŸé—´ï¼ŒCPU<strong>ä¸æ–­åœ°å¾ªç¯</strong>è¿›è¡Œ<strong>æŸ¥è¯¢</strong>è®¾å¤‡<strong>çŠ¶æ€å¯„å­˜å™¨</strong>çš„å€¼ï¼ˆæ£€æŸ¥I/O å·¥ä½œæ˜¯å¦å®Œæˆï¼‰ã€‚</p></li><li><p>è‹¥å®Œæˆï¼Œå¯¹è¾“å…¥æ“ä½œæ¥è¯´CPUåˆ™ä»æ•°æ®å¯„å­˜å™¨ä¸­å–å‡ºæ•°æ®ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€æ¬¡çš„è¾“å…¥/è¾“å‡ºæ•°æ®æˆ–ç»“æŸã€‚</p><blockquote><p>ç”±äº CPU çš„é«˜é€Ÿæ€§å’Œ I/O è®¾å¤‡çš„ä½é€Ÿæ€§ï¼Œè‡´ä½¿ CPUçš„ç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½å¤„äºç­‰å¾… I/O è®¾å¤‡çš„å¾ªç¯æµ‹è¯•ä¸­ï¼Œé€ æˆäº† CPUèµ„æºçš„æå¤§æµªè´¹ã€‚</p></blockquote></li></ul></li><li><p>ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼š</p><p>â€‹ æ€æƒ³æ˜¯å…è®¸ I/O è®¾å¤‡<strong>ä¸»åŠ¨æ‰“æ–­ CPU</strong>çš„è¿è¡Œå¹¶è¯·æ±‚æœåŠ¡ï¼Œä»è€Œ CPU ä¸ç”¨ç­‰å¾…ï¼Œä½¿å¾—å…¶å‘ I/Oæ§åˆ¶å™¨å‘é€è¯»å‘½ä»¤åå¯ä»¥ç»§ç»­åšå…¶ä»–æœ‰ç”¨çš„å·¥ä½œã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211206221411112.png"></div><blockquote><p>è™½ç„¶ CPU ä¸ç”¨ç­‰å¾…è®¾å¤‡è¯»å®Œï¼Œä½†æ˜¯æ•°æ®ä¸­çš„æ¯ä¸ªå­—åœ¨<strong>ç£ç›˜ç¼“å­˜ä¸ I/Oæ§åˆ¶å™¨</strong>ä¹‹é—´çš„ä¼ è¾“éƒ½å¿…é¡»ç»è¿‡ CPUã€‚</p><p>å› æ­¤å¯ä»¥è®¾è®¡æœ‰ä¸€å®šå¤„ç†èƒ½åŠ›çš„å¤–å›´è®¾å¤‡ï¼Œä½¿å¾—è¿™éƒ¨åˆ†å·¥ä½œç”±å®ƒæ¥å®Œæˆã€‚</p></blockquote></li><li><p>DMA ç›´æ¥å­˜å–æ–¹å¼ï¼š</p><ul><li><p>DMA æ–¹å¼ç‰¹ç‚¹ï¼š</p><ul><li>åŸºæœ¬å•ä½æ˜¯æ•°æ®å—ã€‚</li><li>æ•°æ®åœ¨<strong>è®¾å¤‡ä¸å†…å­˜</strong>ä¹‹é—´ä¼ è¾“ï¼Œä¸ç»æ‰‹ CPUã€‚</li><li>ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„<strong>å¼€å§‹å’Œç»“æŸ</strong>æ—¶ï¼Œæ‰éœ€ CPUå¹²é¢„ï¼Œæ•´å—æ•°æ®çš„ä¼ é€æ˜¯åœ¨ DMA æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹å®Œæˆçš„ã€‚</li></ul></li><li><p>æµç¨‹ï¼š</p><ol type="1"><li><p>å½“ä¸€ä¸ªè¿›ç¨‹è¦æ±‚è®¾å¤‡è¾“å…¥æ•°æ®æ—¶ï¼ŒCPU å¯¹ DMAè¿›è¡Œåˆå§‹åŒ–å·¥ä½œï¼Œè®¾ç½®å„å¯„å­˜å™¨ï¼š</p><ul><li><p>å†…å­˜åœ°å€å¯„å­˜å™¨ï¼š</p><p>â€‹ å­˜æ”¾æ•°æ®çš„å†…å­˜èµ·å§‹åœ°å€</p></li><li><p>ä¼ é€å­—èŠ‚æ•°å¯„å­˜å™¨ï¼š</p><p>â€‹ è¦è¾“å…¥æ•°æ®çš„å­—èŠ‚æ•°</p></li><li><p>æ§åˆ¶çŠ¶æ€å¯„å­˜å™¨ï¼š</p><p>â€‹ æ§åˆ¶å­—ï¼ˆä¸­æ–­å…è®¸ã€DMA å¯åŠ¨ä½ <span class="math inline">\(=1\)</span>ï¼‰</p></li><li><p>å¯åŠ¨ä½è¢«ç½® <span class="math inline">\(1\)</span>ï¼Œ</p><p>â€‹ åˆ™å¯åŠ¨ DMA æ§åˆ¶å™¨å¼€å§‹è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</p></li></ul></li><li><p>è¯¥è¿›ç¨‹æ”¾å¼ƒCPUï¼Œè¿›å…¥<strong>é˜»å¡</strong>ç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…ç¬¬ä¸€æ‰¹æ•°æ®è¾“å…¥å®Œæˆã€‚è¿›ç¨‹è°ƒåº¦ç¨‹åºè°ƒåº¦å…¶ä»–è¿›ç¨‹è¿è¡Œã€‚</p></li><li><p>ç”± DMA æ§åˆ¶å™¨æ§åˆ¶æ•´ä¸ªæ•°æ®çš„ä¼ è¾“ï¼š</p><ul><li>å½“è¾“å…¥è®¾å¤‡å°†ä¸€ä¸ªæ•°æ®é€å…¥ DMAæ§åˆ¶å™¨çš„<strong>æ•°æ®ç¼“å†²å¯„å­˜å™¨</strong>åï¼ŒDMA æ§åˆ¶å™¨<strong>ç«‹å³å–ä»£CPU</strong>ï¼Œæ¥ç®¡<strong>æ•°æ®åœ°å€æ€»çº¿</strong>çš„æ§åˆ¶æƒï¼ˆCPUå·¥ä½œå‘¨æœŸæŒªç”¨ï¼‰ï¼Œå°†æ•°æ®é€è‡³ç›¸åº”çš„<strong>å†…å­˜å•å…ƒ</strong>ã€‚</li><li>DMA æ§åˆ¶å™¨ä¸­çš„ä¼ è¾“å­—èŠ‚æ•°å¯„å­˜å™¨è®¡æ•°å‡ <span class="math inline">\(1\)</span>ã€‚</li><li>æ¢å¤ CPU å¯¹æ•°æ®åœ°å€æ€»çº¿çš„æ§åˆ¶æƒã€‚</li><li>å¾ªç¯ç›´åˆ°æ•°æ®ä¼ è¾“å®Œæ¯•ã€‚</li></ul></li><li><p>å½“ä¸€æ‰¹æ•°æ®è¾“å…¥å®Œæˆï¼ŒDMA æ§åˆ¶å™¨å‘ CPUå‘å‡ºä¸­æ–­ä¿¡å·ï¼Œè¯·æ±‚ä¸­æ–­è¿è¡Œè¿›ç¨‹å¹¶è½¬å‘æ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºã€‚</p></li><li><p>ä¸­æ–­ç¨‹åºé¦–å…ˆä¿å­˜è¢«ä¸­æ–­è¿›ç¨‹çš„ç°åœºï¼Œå”¤é†’ç­‰å¾…è¾“å…¥æ•°æ®çš„é‚£ä¸ªè¿›ç¨‹ï¼Œä½¿å…¶å˜æˆ<strong>å°±ç»ªçŠ¶æ€</strong>ï¼Œæ¢å¤ç°åœºï¼Œ<strong>è¿”å›è¢«ä¸­æ–­çš„è¿›ç¨‹ç»§ç»­æ‰§è¡Œ</strong>ã€‚</p></li><li><p>å½“<strong>è¿›ç¨‹è°ƒåº¦</strong>ç¨‹åºè°ƒåº¦åˆ°è¦æ±‚è¾“å…¥æ•°æ®çš„é‚£ä¸ªè¿›ç¨‹æ—¶ï¼Œè¯¥è¿›ç¨‹å°±åˆ°æŒ‡å®šçš„å†…å­˜åœ°å€ä¸­è¯»å–æ•°æ®è¿›è¡Œå¤„ç†ã€‚</p></li></ol><blockquote><p>DMA æ§åˆ¶æ–¹å¼ä¸ä¸­æ–­é©±åŠ¨æ–¹å¼çš„ä¸»è¦åŒºåˆ«ï¼š</p><ul><li>ä¸­æ–­é©±åŠ¨æ–¹å¼åœ¨<strong>æ¯ä¸ªæ•°æ®éœ€è¦ä¼ è¾“æ—¶</strong>ä¸­æ–­ CPUï¼Œè€Œ DMAæ§åˆ¶æ–¹å¼åˆ™æ˜¯åœ¨æ‰€è¦æ±‚ä¼ é€çš„ä¸€æ‰¹æ•°æ®å…¨éƒ¨ä¼ é€ç»“æŸæ—¶æ‰ä¸­æ–­ CPU</li><li>ä¸­æ–­é©±åŠ¨æ–¹å¼æ•°æ®ä¼ é€æ˜¯åœ¨ä¸­æ–­å¤„ç†æ—¶ç”± CPU æ§åˆ¶å®Œæˆçš„ï¼Œè€Œ DMAæ§åˆ¶æ–¹å¼åˆ™æ˜¯åœ¨ DMA æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹å®Œæˆçš„ã€‚</li></ul></blockquote></li></ul></li><li><p>é€šé“æ§åˆ¶æ–¹å¼ï¼š</p><ul><li><p>I/O é€šé“æ˜¯æŒ‡ä¸“é—¨è´Ÿè´£è¾“å…¥/è¾“å‡ºçš„<strong>å¤„ç†æœº</strong>ï¼Œæ˜¯ DMAæ–¹å¼çš„å‘å±•ï¼Œæ˜¯ä¸€ç§ç¡¬ä»¶æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥å‡å°‘äº† CPU çš„å¹²é¢„ã€‚</p></li><li><p>å®ç° CPUã€é€šé“å’Œ I/Oè®¾å¤‡ä¸‰è€…çš„å¹¶è¡Œæ“ä½œï¼Œä»è€Œæ›´æœ‰æ•ˆåœ°æé«˜æ•´ä¸ªç³»ç»Ÿçš„èµ„æºåˆ©ç”¨ç‡ã€‚</p></li><li><p>CPU è¦å®Œæˆä¸€ç»„ç›¸å…³çš„è¯»ï¼ˆæˆ–å†™ï¼‰æ“ä½œåŠæœ‰å…³æ§åˆ¶æ—¶ï¼Œåªéœ€å‘ I/Oé€šé“å‘é€ä¸€æ¡ I/OæŒ‡ä»¤ï¼Œä»¥ç»™å‡ºå…¶æ‰€è¦æ‰§è¡Œçš„<strong>é€šé“ç¨‹åºçš„é¦–åœ°å€</strong>å’Œè¦è®¿é—®çš„ I/Oè®¾å¤‡ï¼Œé€šé“æ¥åˆ°è¯¥æŒ‡ä»¤åï¼Œæ‰§è¡Œ<strong>é€šé“ç¨‹åº</strong>ä¾¿å¯å®Œæˆ CPU æŒ‡å®šçš„I/O ä»»åŠ¡ï¼Œæ•°æ®ä¼ é€ç»“æŸæ—¶å‘ CPU å‘ä¸­æ–­è¯·æ±‚ã€‚</p></li><li><p>é€šé“ã€è®¾å¤‡æ§åˆ¶å™¨å’Œè®¾å¤‡ä¸‰è€…ä¹‹é—´çš„æ§åˆ¶å…³ç³»ï¼š</p><p>â€‹<strong>é€šé“</strong>æ§åˆ¶<strong>è®¾å¤‡æ§åˆ¶å™¨</strong>ï¼Œè®¾å¤‡æ§åˆ¶å™¨æ§åˆ¶<strong>è®¾å¤‡</strong>å·¥ä½œ</p></li><li><p>I/O é€šé“ä¸ä¸€èˆ¬å¤„ç†æœºçš„åŒºåˆ«ï¼š</p><p>â€‹é€šé“æŒ‡ä»¤çš„ç±»å‹å•ä¸€ï¼Œæ²¡æœ‰è‡ªå·±çš„å†…å­˜ï¼Œé€šé“æ‰€æ‰§è¡Œçš„<strong>é€šé“ç¨‹åº</strong>æ˜¯æ”¾åœ¨ä¸»æœºçš„<strong>å†…å­˜</strong>ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´é€šé“ä¸CPU å…±äº«å†…å­˜ã€‚</p><blockquote><p><strong>I/O é€šé“ä¸ DMA æ–¹å¼çš„åŒºåˆ«</strong>ï¼š</p><ul><li>DMA æ–¹å¼éœ€è¦ CPUæ¥æ§åˆ¶ä¼ è¾“çš„æ•°æ®å—å¤§å°ã€ä¼ è¾“çš„å†…å­˜ä½ç½®ï¼Œè€Œé€šé“æ–¹å¼ä¸­è¿™äº›ä¿¡æ¯æ˜¯ç”±é€šé“æ§åˆ¶çš„ã€‚</li><li>æ¯ä¸ª DMAæ§åˆ¶å™¨å¯¹åº”ä¸€å°è®¾å¤‡ä¸å†…å­˜ä¼ é€’æ•°æ®ï¼Œè€Œ<strong>ä¸€ä¸ªé€šé“</strong>å¯ä»¥æ§åˆ¶<strong>å¤šå°è®¾å¤‡</strong>ä¸å†…å­˜çš„æ•°æ®äº¤æ¢ã€‚</li><li>DMA æ–¹å¼ä»¥å­˜å‚¨å™¨ä¸ºæ ¸å¿ƒï¼Œä¸­æ–­æ§åˆ¶æ–¹å¼ä»¥ CPU ä¸ºæ ¸å¿ƒã€‚å› æ­¤ DMA æ–¹å¼èƒ½ä¸CPU å¹¶è¡Œå·¥ä½œã€‚</li><li>DMA æ–¹å¼ä¼ è¾“æ‰¹é‡çš„æ•°æ®ï¼Œä¸­æ–­æ§åˆ¶æ–¹å¼çš„ä¼ è¾“åˆ™ä»¥å­—èŠ‚ä¸ºå•ä½ã€‚</li></ul></blockquote></li></ul><blockquote><p>æ¨¡ä»¿ã€Šç‹é“ã€‹å¯¹ <span class="math inline">\(4\)</span> ç§ I/Oæ§åˆ¶æ–¹å¼çš„å½¢è±¡æ€»ç»“ï¼š</p><p>æˆ‘ <span class="math inline">\(\to\)</span> CPU</p><p>ä¸‰é£Ÿå ‚å•†æˆ· <span class="math inline">\(\to\)</span> å¤–è®¾</p><p>é£Ÿç‰© <span class="math inline">\(\to\)</span> æ•°æ®</p><p>å‡è®¾åªæœ‰è¯»æ“ä½œï¼Œå³å–é¤ã€‚</p><ul><li><p>ç¨‹åºç›´æ¥æ§åˆ¶ï¼š</p><p>â€‹å•†æˆ·<strong>æ²¡æœ‰æ¸ é“é€šçŸ¥</strong>æˆ‘å·²åšå¥½é£Ÿç‰©ï¼Œæˆ‘å¿…é¡»ä¸€ç›´ç«™åœ¨å•†æˆ·å‰ï¼Œç­‰é£Ÿç‰©åšå¥½ï¼Œè¿™å°±æµªè´¹äº†æˆ‘ä¸å°‘çš„æ—¶é—´<span class="">ğŸ˜ </span>ã€‚</p></li><li><p>ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼š</p><p>â€‹ä¸‰é£Ÿå ‚å†’èœæœ‰<strong>é€šçŸ¥è®¾å¤‡</strong>å‘Šè¯‰æˆ‘å¯ä»¥å»å–é¤äº†ï¼Œæ¯å½“ä¸€ä¸ªé£Ÿç‰©åšå¥½æ—¶ï¼ˆå‡è®¾æˆ‘ä¹°äº†å¾ˆå¤šç¢—é£Ÿç‰©ï¼‰ï¼Œè®¾å¤‡éœ‡åŠ¨æé†’æˆ‘å»æ‹¿ï¼Œä¸ç¨‹åºç›´æ¥æ§åˆ¶èƒ½çœå»æˆ‘ä¸å°‘éº»çƒ¦ï¼Œä½†<strong>æ¯åšå¥½ä¸€ä¸ªé£Ÿç‰©å°±è®©æˆ‘å»å–ä¸€æ¬¡</strong>ï¼Œä»ç„¶æ¯”è¾ƒæµªè´¹æˆ‘çš„æ—¶é—´<span class="">ğŸ˜•</span></p></li><li><p>DMA æ–¹å¼ï¼š</p><p>â€‹æˆ‘èŠ±é’±é›‡ä¸€ä½<strong>å•çº¿åŠ©ç†</strong>ï¼Œå¹¶å‘åŠ©ç†<strong>äº¤ä»£å¥½é£Ÿç‰©æ‰€åœ¨ä½ç½®ï¼Œæ”¾åœ¨å“ªé‡Œ</strong>ç­‰ä¿¡æ¯ï¼ŒæŠŠé€šçŸ¥è®¾å¤‡ç»™äº†åŠ©ç†ï¼ŒåŠ©ç†è´Ÿè´£æŠŠé£Ÿç‰©å–å›æ¥å¹¶æ”¾åœ¨æˆ‘å¸Œæœ›çš„ä½ç½®ï¼Œå–å®Œæ‰€æœ‰é£Ÿç‰©åï¼ŒåŠ©ç†å°±è¦ç»™æˆ‘æŠ¥å‘Šä¸€æ¬¡ï¼ˆå¤§å¤§èŠ‚çœäº†æˆ‘çš„æ—¶é—´:happy:ï¼‰ã€‚</p></li><li><p>é€šé“æ–¹å¼ï¼š</p><p>â€‹ åŠ©ç†æ‹¥æœ‰æ›´é«˜çš„<strong>è‡ªä¸»æƒ</strong>ï¼Œä¸ DMAæ–¹å¼ç›¸æ¯”ï¼Œä»–å¯ä»¥å†³å®šæŠŠé£Ÿç‰©å­˜æ”¾åœ¨å“ªé‡Œï¼Œæ€ä¹ˆå–é£Ÿç‰©ï¼Œè€Œä¸éœ€è¦æˆ‘æ“å¿ƒã€‚æˆ‘æœ‰å¯èƒ½åœ¨å¤šä¸ªå•†æˆ·ä¸‹äº†å•ï¼Œä¸€ä½DMAç±»çš„åŠ©ç†åªèƒ½è´Ÿè´£åœ¨<strong>ä¸€ä¸ªå•†æˆ·</strong>å–é¤ï¼Œä½†é€šé“ç±»åŠ©ç†å´å¯ä»¥å»<strong>å¤šä¸ªå•†æˆ·</strong>å–é¤<span class="">ğŸ˜</span>ã€‚</p></li></ul></blockquote></li></ul><h3 id="ç¼“å†²æŠ€æœ¯">ç¼“å†²æŠ€æœ¯</h3><ul><li><p>ä½¿ç”¨ç¼“å†²åŒºçš„ç›®çš„ï¼š</p><ul><li>ç¼“å’Œ CPU ä¸ I/O è®¾å¤‡é—´<strong>é€Ÿåº¦ä¸åŒ¹é…</strong>çš„çŸ›ç›¾ã€‚</li><li>å‡å°‘å¯¹ CPU çš„<strong>ä¸­æ–­é¢‘ç‡</strong>ï¼Œæ”¾å®½å¯¹ CPUä¸­æ–­å“åº”æ—¶é—´çš„é™åˆ¶ã€‚</li><li>è§£å†³åŸºæœ¬æ•°æ®å•å…ƒå¤§å°ï¼ˆå³æ•°æ®ç²’åº¦ï¼‰ä¸åŒ¹é…çš„é—®é¢˜ã€‚</li><li>æé«˜ CPU ä¸ I/O è®¾å¤‡ä¹‹é—´çš„<strong>å¹¶è¡Œæ€§</strong>ã€‚</li></ul></li><li><p>ç¼“å†²æŠ€æœ¯çš„å®ç°æ–¹æ³•ï¼š</p><ul><li><p><strong>ç¡¬ä»¶</strong>ç¼“å†²ï¼š</p><p>â€‹åˆ©ç”¨<strong>ä¸“é—¨çš„ç¡¬ä»¶å¯„å­˜å™¨</strong>ä½œä¸ºç¼“å†²åŒºï¼Œä¸€èˆ¬ç”±å¤–è®¾è‡ªå¸¦çš„ä¸“ç”¨å¯„å­˜å™¨æ„æˆã€‚ä¾‹å¦‚Printerã€CD-ROM ç­‰ï¼Œæˆæœ¬è¾ƒé«˜ã€‚</p></li><li><p><strong>è½¯ä»¶</strong>ç¼“å†²ï¼š</p><p>â€‹å€ŸåŠ©<strong>æ“ä½œç³»ç»Ÿ</strong>çš„ç®¡ç†ï¼Œåœ¨<strong>å†…å­˜</strong>ä¸­ä¸“é—¨å¼€è¾Ÿè‹¥å¹²å•å…ƒä½œä¸º<strong>ç¼“å†²åŒº</strong>ã€‚</p></li></ul><blockquote><p>ä¸‹é¢éƒ¨åˆ†æ˜¯ã€Šç‹é“ã€‹çš„å†…å®¹ï¼ŒPPTå†…å®¹è¾ƒå°‘ï¼Œç¬”è€…ä¸æ˜¯å¾ˆç†è§£å…¶ä¸­çš„è¿‡ç¨‹ï¼Œçœ‹çœ‹çŸ¥é“å¤§æ¦‚æ„æ€å°±å¥½ã€‚</p></blockquote></li><li><p>ç¼“å†²åŒºç‰¹ç‚¹ï¼š</p><ul><li>å½“ç¼“å†²åŒºçš„æ•°æ®<strong>éç©º</strong>æ—¶ï¼Œä¸èƒ½å¾€ç¼“å†²åŒº<strong>å†²å…¥æ•°æ®</strong>ï¼Œåªèƒ½ä»ç¼“å†²åŒºæŠŠæ•°æ®<strong>ä¼ å‡º</strong>ã€‚</li><li>å½“ç¼“å†²åŒºä¸º<strong>ç©º</strong>æ—¶ï¼Œå¯ä»¥å¾€ç¼“å†²åŒº<strong>å†²å…¥æ•°æ®</strong>ï¼Œä½†å¿…é¡»æŠŠç¼“å†²åŒº<strong>å……æ»¡</strong>åï¼Œæ‰èƒ½ä»ç¼“å†²åŒºæŠŠæ•°æ®ä¼ å‡ºã€‚</li></ul></li><li><p>ç¼“å†²æŠ€æœ¯ï¼š</p><ul><li><p>å•ç¼“å†²ï¼š</p><ul><li>åœ¨<strong>è®¾å¤‡å’Œ CPU</strong>ä¹‹é—´è®¾ç½®ä¸€ä¸ªç¼“å†²åŒºã€‚</li><li>è®¾å¤‡å’Œ CPUäº¤æ¢æ•°æ®æ—¶ï¼Œå…ˆæŠŠè¢«<strong>äº¤æ¢æ•°æ®</strong>å†™å…¥<strong>ç¼“å†²åŒº</strong>ï¼Œç„¶åéœ€è¦æ•°æ®çš„è®¾å¤‡æˆ–å¤„ç†æœºä»ç¼“å†²åŒºå–èµ°æ•°æ®ã€‚</li><li>å¤–è®¾ä¸ CPUå¯¹ç¼“å†²åŒºçš„æ“ä½œæ˜¯<strong>ä¸²è¡Œ</strong>çš„ï¼Œä¸èƒ½å¯¹ç¼“å†²åŒºåŒæ—¶è¯»å†™ã€‚</li></ul></li><li><p>åŒç¼“å†²ï¼š</p><ul><li><p>æ ¹æ®å•ç¼“å†²çš„ç‰¹ç‚¹ï¼ŒCPUåœ¨ä¼ é€æ—¶é—´å†…å¤„äºç©ºé—²çŠ¶æ€ï¼Œç”±æ­¤å¼•å…¥åŒç¼“å†²ã€‚</p></li><li><p>I/O è®¾å¤‡è¾“å…¥æ•°æ®æ—¶<strong>å…ˆè£…å¡«åˆ°ç¼“å†²åŒº <span class="math inline">\(1\)</span></strong>ï¼Œåœ¨ç¼“å†²åŒº <span class="math inline">\(1\)</span> <strong>å¡«æ»¡å</strong>æ‰å¼€å§‹è£…å¡«ç¼“å†²åŒº<span class="math inline">\(2\)</span>ã€‚</p></li><li><p>ä¸æ­¤åŒæ—¶ CPU å¯ä»¥ä»ç¼“å†²åŒº <span class="math inline">\(1\)</span>ä¸­å–å‡ºæ•°æ®æ”¾å…¥ç”¨æˆ·è¿›ç¨‹å¤„ç†ï¼Œå½“ç¼“å†²åŒº <span class="math inline">\(1\)</span> ä¸­çš„æ•°æ®å¤„ç†å®Œåï¼Œè‹¥ç¼“å†²åŒº <span class="math inline">\(2\)</span> å·²<strong>å¡«æ»¡</strong>ï¼Œåˆ™ CPUåˆä»ç¼“å†²åŒº <span class="math inline">\(2\)</span>ä¸­å–å‡ºæ•°æ®æ”¾å…¥ç”¨æˆ·è¿›ç¨‹å¤„ç†ï¼Œè€Œ I/O è®¾å¤‡åˆå¯ä»¥è£…å¡«ç¼“å†²åŒº <span class="math inline">\(1\)</span>ã€‚</p><blockquote><p>å¿…é¡»ç­‰ç¼“å†²åŒº <span class="math inline">\(2\)</span><strong>å……æ»¡</strong>æ‰èƒ½è®© CPU ä»ç¼“å†²åŒº <span class="math inline">\(2\)</span> å–å‡ºæ•°æ®ã€‚</p></blockquote></li><li><p>åŒç¼“å†²æœºåˆ¶æé«˜äº†å¤„ç†æœºå’Œè¾“å…¥è®¾å¤‡çš„å¹¶è¡Œæ“ä½œçš„ç¨‹åº¦ï¼Œå¯ä»¥åŒæ—¶è¯»å†™ã€‚</p></li></ul><blockquote><ul><li><p>å¯¹äºå­—ç¬¦è®¾å¤‡ï¼Œè‹¥é‡‡ç”¨è¡Œè¾“å…¥æ–¹å¼ï¼š</p><ul><li>åŒç¼“å†²å¯ä½¿ç”¨æˆ·åœ¨è¾“å…¥ç¬¬ä¸€è¡Œåï¼Œåœ¨ CPU<strong>æ‰§è¡Œç¬¬ä¸€è¡Œ</strong>ä¸­çš„å‘½ä»¤çš„åŒæ—¶ï¼Œç”¨æˆ·å¯<strong>ç»§ç»­å‘ç¬¬äºŒç¼“å†²åŒº</strong>è¾“å…¥ä¸‹ä¸€è¡Œæ•°æ®ã€‚</li><li>å•ç¼“å†²æƒ…å†µä¸‹åˆ™å¿…é¡»<strong>ç­‰å¾…ä¸€è¡Œæ•°æ®</strong>è¢« CPUæå–å®Œæ¯•æ‰å¯è¾“å…¥ä¸‹ä¸€è¡Œçš„æ•°æ®ã€‚</li></ul></li><li><p>è‹¥ä¸¤å°æœºå™¨ä¹‹é—´é€šä¿¡ä»…é…ç½®äº†å•ç¼“å†²ï¼Œåˆ™å®ƒä»¬åœ¨ä»»æ„æ—¶åˆ»éƒ½åªèƒ½å®ç°<strong>å•æ–¹å‘</strong>çš„æ•°æ®ä¼ è¾“ã€‚</p></li><li><p>ä¸ºäº†å®ç°åŒå‘æ•°æ®ä¼ è¾“ï¼Œå¿…é¡»åœ¨ä¸¤å°æœºå™¨ä¸­éƒ½è®¾ç½®<strong>ä¸¤ä¸ªç¼“å†²åŒº</strong>ï¼Œä¸€ä¸ªç”¨ä½œ<strong>å‘é€ç¼“å†²åŒº</strong>ï¼Œå¦ä¸€ä¸ªç”¨ä½œ<strong>æ¥æ”¶ç¼“å†²åŒº</strong>ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207111349709.png"></div></li></ul></blockquote></li><li><p>å¾ªç¯ç¼“å†²ï¼š</p><ul><li>åŒ…å«å¤šä¸ªå¤§å°ç›¸ç­‰çš„ç¼“å†²åŒºï¼Œæ¯ä¸ªç¼“å†²åŒºä¸­æœ‰ä¸€ä¸ª<strong>é“¾æ¥æŒ‡é’ˆ</strong>æŒ‡å‘ä¸‹ä¸€ä¸ªç¼“å†²åŒºï¼Œå¤šä¸ªç¼“å†²åŒºæ„æˆä¸€ä¸ªç¯å½¢é“¾è¡¨ã€‚</li><li>å¾ªç¯ç¼“å†²ç”¨äºè¾“å…¥/è¾“å‡ºæ—¶ï¼Œè¿˜éœ€è¦æœ‰ä¸¤ä¸ªæŒ‡é’ˆ <code>in</code> å’Œ<code>out</code>ï¼ˆPPT çš„ <code>Empty</code> å’Œ <code>Full</code>ï¼‰ï¼š<ul><li>å¯¹è¾“å…¥è€Œè¨€ï¼Œ<code>in</code>æŒ‡é’ˆæŒ‡å‘å¯ä»¥è¾“å…¥æ•°æ®çš„ç¬¬ä¸€ä¸ª<strong>ç©ºç¼“å†²åŒº</strong>ï¼›</li><li>å¯¹è¾“å‡ºè€Œè¨€ï¼Œ<code>out</code>æŒ‡é’ˆæŒ‡å‘å¯ä»¥æå–æ•°æ®çš„ç¬¬ä¸€ä¸ª<strong>æ»¡ç¼“å†²åŒº</strong></li></ul></li><li>å½“ <code>Full = Empty</code>æ—¶ï¼Œè¦ä¹ˆå…¨ä¸ºç©ºç¼“å†²åŒºï¼Œè¦ä¹ˆå…¨ä¸ºæ»¡ç¼“å†²åŒºã€‚</li></ul></li><li><p>ç¼“å†²æ± ï¼š</p><ul><li><p>ç”±å¤šä¸ªç³»ç»Ÿå…¬ç”¨çš„ç¼“å†²åŒºç»„æˆï¼Œæ‰€æœ‰è¿›ç¨‹å‡å¯ä»¥å…±äº«ï¼Œç”±ç³»ç»Ÿç®¡ç†ç¨‹åºç»Ÿä¸€ç®¡ç†ï¼Œè´Ÿè´£åˆ†é…ã€å›æ”¶å·¥ä½œã€‚</p></li><li><p>ç¼“å†²åŒºæŒ‰å…¶ä½¿ç”¨çŠ¶å†µå¯ä»¥å½¢æˆ <span class="math inline">\(3\)</span>ä¸ªé˜Ÿåˆ—ï¼š</p><ul><li><strong>ç©ºç¼“å†²</strong>é˜Ÿåˆ—</li><li><strong>è£…æ»¡è¾“å…¥æ•°æ®</strong>çš„ç¼“å†²é˜Ÿåˆ—ï¼ˆè¾“å…¥é˜Ÿåˆ—ï¼‰</li><li><strong>è£…æ»¡è¾“å‡ºæ•°æ®</strong>çš„ç¼“å†²é˜Ÿåˆ—ï¼ˆè¾“å‡ºé˜Ÿåˆ—ï¼‰ã€‚</li></ul></li><li><p>å…·æœ‰ <span class="math inline">\(4\)</span> ç§ç¼“å†²åŒºï¼š</p><ul><li>ç”¨äºæ”¶å®¹è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒº</li><li>ç”¨äºæå–è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒº</li><li>ç”¨äºæ”¶å®¹è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒº</li><li>ç”¨äºæå–è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒº</li></ul></li><li><p>è¾“å…¥æµç¨‹ï¼š</p><ul><li>å½“<strong>è¾“å…¥è¿›ç¨‹</strong>éœ€è¦<strong>å»è¾“å…¥æ•°æ®</strong>æ—¶ï¼Œä¾¿ä»<strong>ç©ºç¼“å†²é˜Ÿåˆ—</strong>çš„é˜Ÿé¦–æ‘˜ä¸‹ä¸€ä¸ªç©ºç¼“å†²åŒºï¼ŒæŠŠå®ƒä½œä¸ºæ”¶å®¹è¾“å…¥å·¥ä½œç¼“å†²åŒºï¼Œç„¶åæŠŠè¾“å…¥æ•°æ®è¾“å…¥å…¶ä¸­ï¼Œè£…æ»¡åå†å°†å®ƒæŒ‚åˆ°<strong>è¾“å…¥é˜Ÿåˆ—é˜Ÿå°¾</strong>ã€‚</li><li>å½“<strong>è®¡ç®—è¿›ç¨‹</strong>éœ€è¦<strong>è¾“å…¥çš„æ•°æ®</strong>æ—¶ï¼Œä¾¿ä»<strong>è¾“å…¥é˜Ÿåˆ—</strong>çš„é˜Ÿé¦–å–å¾—ä¸€ä¸ªç¼“å†²åŒºä½œä¸ºæå–è¾“å…¥å·¥ä½œç¼“å†²åŒºï¼Œè®¡ç®—è¿›ç¨‹ä»ä¸­æå–æ•°æ®ï¼Œæ•°æ®ç”¨å®Œåå†å°†å®ƒæŒ‚åˆ°<strong>ç©ºç¼“å†²é˜Ÿåˆ—å°¾</strong>ã€‚</li></ul></li><li><p>è¾“å‡ºæµç¨‹ï¼š</p><ul><li>å½“<strong>è®¡ç®—è¿›ç¨‹</strong>éœ€è¦<strong>å»è¾“å‡ºæ•°æ®</strong>æ—¶ï¼Œä¾¿ä»<strong>ç©ºç¼“å†²é˜Ÿåˆ—</strong>çš„é˜Ÿé¦–å–å¾—ä¸€ä¸ªç©ºç¼“å†²åŒºï¼Œä½œä¸ºæ”¶å®¹è¾“å‡ºå·¥ä½œç¼“å†²åŒºï¼Œå½“å…¶ä¸­è£…æ»¡è¾“å‡ºæ•°æ®åï¼Œå†å°†å®ƒæŒ‚åˆ°<strong>è¾“å‡ºé˜Ÿåˆ—é˜Ÿå°¾</strong>ã€‚</li><li>å½“è¦è¾“å‡ºæ—¶ï¼Œ<strong>è¾“å‡ºè¿›ç¨‹</strong>ä»<strong>è¾“å‡ºé˜Ÿåˆ—</strong>çš„é˜Ÿé¦–ä¸­å–å¾—ä¸€ä¸ªè£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²åŒºï¼Œä½œä¸ºæå–è¾“å‡ºå·¥ä½œç¼“å†²åŒºï¼Œå½“æ•°æ®æå–å®Œåï¼Œå†å°†å®ƒæŒ‚åˆ°<strong>ç©ºç¼“å†²é˜Ÿåˆ—çš„é˜Ÿå°¾</strong>ã€‚</li></ul><blockquote><p>æ€»ç»“ï¼š</p><ul><li><p>è¾“å…¥ï¼š</p><p>â€‹ è¾“å…¥è¿›ç¨‹ <span class="math inline">\(\to\)</span> ç©ºç¼“å†²é˜Ÿåˆ—é˜Ÿé¦–<span class="math inline">\(\to\)</span> è¾“å…¥é˜Ÿåˆ—é˜Ÿå°¾ <span class="math inline">\(\to\)</span> è®¡ç®—è¿›ç¨‹ <span class="math inline">\(\to\)</span> è¾“å…¥é˜Ÿåˆ—é˜Ÿé¦– <span class="math inline">\(\to\)</span> ç©ºç¼“å†²é˜Ÿåˆ—é˜Ÿå°¾</p></li><li><p>è¾“å‡ºï¼š</p><p>â€‹ è®¡ç®—è¿›ç¨‹ <span class="math inline">\(\to\)</span> ç©ºç¼“å†²é˜Ÿåˆ—é˜Ÿé¦–<span class="math inline">\(\to\)</span> è¾“å‡ºé˜Ÿåˆ—é˜Ÿå°¾ <span class="math inline">\(\to\)</span> è¾“å‡ºè¿›ç¨‹ <span class="math inline">\(\to\)</span> è¾“å‡ºé˜Ÿåˆ—é˜Ÿé¦– <span class="math inline">\(\to\)</span> ç©ºç¼“å†²é˜Ÿåˆ—é˜Ÿå°¾</p></li></ul></blockquote></li></ul></li></ul></li><li><p>PPT ä¸Šçš„è¡¥å……ï¼š</p><ul><li>Linux ç³»ç»Ÿä¸ºäº†æé«˜è¯»å†™ç£ç›˜çš„æ•ˆç‡ï¼Œä¼šå…ˆå°†æ•°æ®æ”¾åœ¨ä¸€å— bufferä¸­ã€‚</li><li>åœ¨<strong>å†™ç£ç›˜</strong>æ—¶å¹¶ä¸æ˜¯ç«‹å³å°†æ•°æ®<strong>å†™åˆ°ç£ç›˜</strong>ä¸­ï¼Œè€Œæ˜¯å…ˆå†™å…¥è¿™å—buffer ä¸­ã€‚</li><li>å¦‚æœ buffer æœªå†™åˆ°ç£ç›˜ï¼Œé‡å¯ç³»ç»Ÿåï¼Œå°±å¯èƒ½é€ æˆæ•°æ®ä¸¢å¤±ã€‚</li><li><code>sync</code> å‘½ä»¤ç”¨æ¥ flush æ–‡ä»¶ç³»ç»Ÿbufferï¼Œè¿™æ ·æ•°æ®æ‰ä¼šçœŸæ­£çš„å†™åˆ°ç£ç›˜ä¸­ï¼Œå¹¶ä¸” buffer æ‰èƒ½å¤Ÿé‡Šæ”¾å‡ºæ¥ã€‚</li><li><code>sync</code> å‘½ä»¤ä¼šå¼ºåˆ¶å°†æ•°æ®å†™å…¥ç£ç›˜ä¸­ï¼Œå¹¶é‡Šæ”¾è¯¥æ•°æ®å¯¹åº”çš„bufferï¼Œæ‰€ä»¥å¸¸å¸¸ä¼šåœ¨<strong>å†™ç£ç›˜å</strong>è¾“å…¥ <code>sync</code>å‘½ä»¤æ¥å°†æ•°æ®çœŸæ­£çš„å†™å…¥ç£ç›˜ã€‚</li><li>å¦‚æœä¸å»æ‰‹åŠ¨çš„è¾“å…¥ <code>sync</code> å‘½ä»¤æ¥çœŸæ­£çš„å»å†™ç£ç›˜ï¼ŒLinuxç³»ç»Ÿä¹Ÿä¼šæœ‰ä¸¤ç§å†™ç£ç›˜çš„æ—¶æœºï¼š<ul><li>kflush å†…æ ¸çº¿ç¨‹å‘¨æœŸæ€§çš„å»å†™ç£ç›˜ã€‚</li><li>buffer å·²æ»¡ä¸å¾—ä¸å†™ã€‚</li></ul></li></ul></li></ul><h3 id="spooling-æŠ€æœ¯å‡è„±æœºæŠ€æœ¯">SPOOLing æŠ€æœ¯ï¼ˆå‡è„±æœºæŠ€æœ¯ï¼‰</h3><ul><li><p>å…¨ç§° Simultaneous Peripheral Operation On Line<strong>å¤–éƒ¨è®¾å¤‡åŒæ—¶è”æœºæ“ä½œ</strong>ï¼Œåˆç§°å‡è„±æœºæ“ä½œã€‚</p></li><li><p>æ€æƒ³å’Œç›®çš„ï¼š</p><ul><li><p>ä»¥<strong>ç©ºé—´æ¢æ—¶é—´</strong></p></li><li><p>å°†<strong>ç‹¬å è®¾å¤‡</strong>æ”¹é€ æˆ<strong>å…±äº«è®¾å¤‡</strong>ï¼Œæ˜¯ä¸€ç§è™šæ‹Ÿè®¾å¤‡æŠ€æœ¯</p></li><li><p>ç¼“å’Œ CPU çš„é«˜é€Ÿæ€§ä¸ I/Oè®¾å¤‡ä½é€Ÿæ€§ä¹‹é—´çš„<strong>çŸ›ç›¾</strong>ï¼Œå°†ä½é€Ÿ I/Oè®¾å¤‡ä¸Šçš„æ•°æ®ä¼ é€åˆ°<strong>é«˜é€Ÿç£ç›˜</strong>ã€‚</p><blockquote><p>ç£ç›˜æ˜¯ä¸€ç§é«˜é€Ÿè®¾å¤‡ï¼Œåœ¨ä¸å†…å­˜äº¤æ¢æ•°æ®çš„é€Ÿåº¦ä¸Šä¼˜äºæ‰“å°æœºã€é”®ç›˜ã€é¼ æ ‡ç­‰ä¸­ä½é€Ÿè®¾å¤‡ã€‚</p></blockquote></li></ul></li><li><p>è¾“å…¥äº•å’Œè¾“å‡ºäº•ï¼š</p><ul><li><p>è¾“å…¥äº•å’Œè¾“å‡ºäº•æ˜¯æŒ‡åœ¨<strong>ç£ç›˜</strong>ä¸Šå¼€è¾Ÿå‡ºçš„ä¸¤ä¸ªå­˜å‚¨åŒºåŸŸã€‚</p></li><li><p><strong>è¾“å…¥äº•</strong>æ¨¡æ‹Ÿè„±æœºè¾“å…¥æ—¶çš„ç£ç›˜ï¼Œç”¨äºæ”¶å®¹ <strong>I/Oè®¾å¤‡</strong>è¾“å…¥çš„æ•°æ®ã€‚</p></li><li><p><strong>è¾“å‡ºäº•</strong>æ¨¡æ‹Ÿè„±æœºè¾“å‡ºæ—¶çš„ç£ç›˜ï¼Œç”¨äºæ”¶å®¹<strong>ç”¨æˆ·ç¨‹åº</strong>çš„è¾“å‡ºæ•°æ®ã€‚</p><blockquote><p>PPT ä¸Šå†™çš„ã€Œè¾“å‡ºäº•ç”¨äºæ”¶å®¹ I/Oè®¾å¤‡çš„è¾“å‡ºæ•°æ®ã€ï¼Œè¾“å…¥/è¾“å‡ºå¦‚æœæ˜¯å¯¹è®¾å¤‡æ¥è¯´çš„ï¼Œè¿™ç§è¯´æ³•å¯ä»¥æ¥å—ã€‚</p><p>ä½†æ˜¯ä¸€èˆ¬è¾“å…¥/è¾“å‡ºéƒ½æ˜¯å¯¹è®¡ç®—æœºè¯´çš„ï¼Œä¾‹å¦‚é¼ æ ‡ä½œä¸ºè¾“å…¥è®¾å¤‡ï¼Œæ‰“å°æœºä½œä¸ºè¾“å‡ºè®¾å¤‡ã€‚</p></blockquote></li></ul></li><li><p>è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºï¼š</p><ul><li>è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºæ˜¯åœ¨<strong>å†…å­˜</strong>ä¸­å¼€è¾Ÿçš„ä¸¤ä¸ªç¼“å†²åŒºã€‚</li><li><strong>è¾“å…¥</strong>ç¼“å†²åŒºç”¨äº<strong>æš‚å­˜ç”±è¾“å…¥è®¾å¤‡</strong>é€æ¥çš„æ•°æ®ï¼Œä»¥åå†ä¼ é€åˆ°<strong>è¾“å…¥äº•</strong>ã€‚</li><li><strong>è¾“å‡º</strong>ç¼“å†²åŒºç”¨äº<strong>æš‚å­˜ä»è¾“å‡ºäº•</strong>é€æ¥çš„æ•°æ®ï¼Œä»¥åå†ä¼ é€åˆ°<strong>è¾“å‡ºè®¾å¤‡</strong>ã€‚</li></ul></li><li><p>è¾“å…¥è¿›ç¨‹å’Œè¾“å‡ºè¿›ç¨‹ï¼š</p><ul><li><p>è¾“å…¥æµç¨‹ï¼š</p><ul><li><strong>è¾“å…¥è¿›ç¨‹</strong>æ¨¡æ‹Ÿè„±æœºè¾“å…¥æ—¶çš„å¤–å›´æ§åˆ¶æœºï¼Œå°†ç”¨æˆ·è¦æ±‚çš„æ•°æ®ä»è¾“å…¥æœºé€šè¿‡<strong>è¾“å…¥ç¼“å†²åŒº</strong>å†é€åˆ°<strong>è¾“å…¥äº•</strong>ã€‚</li><li>å½“ CPUéœ€è¦<strong>è¾“å…¥çš„æ•°æ®</strong>æ—¶ï¼Œç›´æ¥å°†æ•°æ®ä»<strong>è¾“å…¥äº•</strong>è¯»å…¥å†…å­˜ã€‚</li></ul></li><li><p>è¾“å‡ºæµç¨‹ï¼š</p><ul><li><p><strong>è¾“å‡ºè¿›ç¨‹</strong>æ¨¡æ‹Ÿè„±æœºè¾“å‡ºæ—¶çš„å¤–å›´æ§åˆ¶æœºï¼ŒæŠŠç”¨æˆ·è¦æ±‚è¾“å‡ºçš„æ•°æ®å…ˆä»<strong>å†…å­˜</strong>é€åˆ°<strong>è¾“å‡ºäº•</strong>ã€‚</p></li><li><p>å¾…è¾“å‡ºè®¾å¤‡ç©ºé—²æ—¶ï¼Œå†å°†è¾“å‡ºäº•ä¸­çš„æ•°æ®ç»è¿‡<strong>è¾“å‡ºç¼“å†²åŒº</strong>é€åˆ°<strong>è¾“å‡ºè®¾å¤‡</strong>ã€‚</p><blockquote><p>å¦‚è¾“å‡ºè®¾å¤‡æ˜¯æ‰“å°æœºï¼Œåˆ™æŠŠè¦æ‰“å°çš„æ•°æ®é€è¾“å‡ºäº•ï¼ŒCPUä¸ç”¨ç­‰å¾…æ‰“å°æœºå–å®Œæ•°æ®å†åšå…¶ä»–äº‹æƒ…ã€‚</p><p>å¹¶ä¸”å‘ç£ç›˜è¾“å‡ºæ•°æ®çš„é€Ÿåº¦æ¯”å‘æ‰“å°æœºè¾“å‡ºæ•°æ®çš„é€Ÿåº¦å¿«ã€‚</p></blockquote></li></ul></li></ul></li><li><p>ç‹¬å è®¾å¤‡å˜å…±äº«è®¾å¤‡çš„å®ç°è¿‡ç¨‹ï¼š</p><p>â€‹æˆªè·å‘æŸç‹¬äº«è®¾å¤‡è¾“å‡ºçš„æ•°æ®ï¼Œæš‚æ—¶ä¿å­˜åˆ°<strong>å†…å­˜ç¼“å†²åŒºæˆ–ç£ç›˜æ–‡ä»¶</strong>ä¸­ï¼Œå¹¶è¿›è¡Œ<strong>æ’é˜Ÿ</strong>ï¼Œä¹‹åé€ä¸ªè¾“å‡ºåˆ°å¤–è®¾ä¸Šã€‚</p><blockquote><p>SPOOLing æŠ€æœ¯å®ç°äº†<strong>è™šæ‹Ÿè®¾å¤‡</strong>åŠŸèƒ½ã€‚</p><p>å¤šä¸ªè¿›ç¨‹åŒæ—¶ä½¿ç”¨ä¸€ç‹¬äº«è®¾å¤‡ï¼Œè€Œå¯¹æ¯ä¸€è¿›ç¨‹è€Œè¨€ï¼Œéƒ½è®¤ä¸ºè‡ªå·±ç‹¬å è¿™ä¸€è®¾å¤‡ï¼Œä»è€Œå®ç°äº†è®¾å¤‡çš„<strong>è™šæ‹Ÿåˆ†é…</strong>ï¼Œè¯¥è®¾å¤‡æ˜¯<strong>é€»è¾‘</strong>ä¸Šçš„è®¾å¤‡ã€‚</p></blockquote></li></ul><h3 id="ç£ç›˜">ç£ç›˜</h3><blockquote><p>æ¦‚å¿µè¾ƒå¤šä¸”æ‚<span class="">ğŸ‘¨ğŸ­</span>ï¼Œæ•´ç†è‡ª PPTå’Œã€Šç‹é“ã€‹ï¼Œå‚è€ƒäº†ä¸€äº›ç½‘ä¸Šèµ„æ–™</p></blockquote><h4 id="ç£ç›˜æ¦‚å¿µ">ç£ç›˜æ¦‚å¿µ</h4><p>åœ¨è¯»/å†™æ“ä½œæœŸé—´ï¼Œç£å¤´å›ºå®šï¼Œç£ç›˜åœ¨ä¸‹é¢é«˜é€Ÿæ—‹è½¬ã€‚</p><ul><li><p>ç£ç›˜ç›˜é¢ä¸Šçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ç»„åŒå¿ƒåœ†ä¸­ï¼Œç§°ä¸ºç£é“ã€‚æ¯ä¸ªç£é“ä¸ç£å¤´ä¸€æ ·å®½ï¼Œä¸€ä¸ªç›˜é¢æœ‰ä¸Šåƒä¸ªç£é“ã€‚</p></li><li><p>ç£é“åˆåˆ’åˆ†ä¸ºå‡ ç™¾ä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒºå›ºå®šå­˜å‚¨å¤§å°ï¼ˆé€šå¸¸ä¸º <span class="math inline">\(512\rm~B\)</span>ï¼‰ï¼Œä¸€ä¸ªæ‰‡åŒºä¹Ÿç§°ä¸ºä¸€ä¸ªç›˜å—ã€‚</p></li><li><p>ç”±äºæ‰‡åŒºæŒ‰å›ºå®šåœ†å¿ƒè§’åº¦åˆ’åˆ†ï¼ˆ<strong>ä¸åŒåŠå¾„çš„ç£é“æ‰‡åŒºæ•°ç›¸åŒ</strong>ï¼‰ï¼Œæ‰€ä»¥å¯†åº¦ä»æœ€å¤–é“å‘é‡Œé“å¢åŠ ï¼Œç£ç›˜çš„å­˜å‚¨èƒ½åŠ›å—é™äºæœ€å†…é“çš„æœ€å¤§è®°å½•å¯†åº¦ã€‚</p></li><li><p><strong>æ‰‡åŒº</strong>å°±æ˜¯ç£ç›˜å¯å¯»å€çš„æœ€å°å­˜å‚¨å•ä½ï¼Œç£ç›˜åœ°å€ç”¨ã€ŒæŸ±é¢å·ç›˜é¢å· æ‰‡åŒºå·ï¼ˆæˆ–å—å·ï¼‰ã€è¡¨ç¤ºã€‚</p></li><li><p>ç‰©ç†ç›˜ä»¥<strong>æ‰‡åŒº</strong>ä¸ºå•ä½è¿›è¡Œç¼–å€ï¼Œå®ƒæ˜¯<strong>ç¡¬ç›˜è¯»å†™çš„åŸºæœ¬å•ä½</strong>ã€‚</p></li><li><p>åœ¨ç£ç›˜ä¸Šè¿›è¡Œä¸€æ¬¡è¯»å†™æ“ä½œèŠ±è´¹çš„æ—¶é—´ç”±å¯»é“æ—¶é—´ã€å»¶è¿Ÿæ—¶é—´å’Œä¼ è¾“æ—¶é—´å†³å®šï¼š</p><ul><li><p>å¯»é“æ—¶é—´æ˜¯å°†ç£å¤´ç§»åŠ¨åˆ°æŒ‡å®šç£é“æ‰€éœ€è¦çš„æ—¶é—´ï¼Œ</p></li><li><p>æ—‹è½¬æ—¶é—´æ˜¯ç£å¤´å®šä½åˆ°æŸä¸€ç£é“çš„æ‰‡åŒºï¼ˆå—å·ï¼‰æ‰€éœ€è¦çš„æ—¶é—´ï¼Œ</p></li><li><p>ä¼ è¾“æ—¶é—´æ˜¯ä»ç£ç›˜è¯»å‡ºæˆ–å‘ç£ç›˜å†™å…¥æ•°æ®æ‰€ç»å†çš„æ—¶é—´ã€‚</p><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯»é“æ—¶é—´å› ä¸ºè¦ç§»åŠ¨ç£è‡‚ï¼Œæ‰€ä»¥å ç”¨æ—¶é—´æœ€é•¿ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211214211950929.png"></div></blockquote></li></ul></li></ul><h4 id="ç£ç›˜è°ƒåº¦ç®—æ³•">ç£ç›˜è°ƒåº¦ç®—æ³•</h4><blockquote><p>åº”è¯¥å¿…è€ƒ</p></blockquote><ul><li><p>First Come First Severedï¼ŒFCFS å…ˆæ¥å…ˆæœåŠ¡ç£ç›˜è°ƒåº¦ï¼š</p><ul><li>æŒ‰è¯·æ±‚ç£é“çš„å…ˆåé¡ºåº</li><li>ä¿è¯å…¬å¹³æ€§ï¼Œæ•ˆç‡ä¸é«˜</li></ul></li><li><p>Shortest-Seek-Time Firstï¼ŒSSTF æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆç£ç›˜è°ƒåº¦ï¼š</p><ul><li>è¿ç”¨è´ªå¿ƒæ€æƒ³ï¼Œå…ˆè®¿é—®ä¸å½“å‰ç£å¤´æ‰€åœ¨ç£é“è·ç¦»æœ€è¿‘çš„ç£é“ï¼Œä»¥ä¾¿ä½¿<strong>æ¯æ¬¡çš„å¯»æ‰¾æ—¶é—´æœ€çŸ­</strong>ã€‚</li><li>æ€§èƒ½å¥½ï¼Œå­˜åœ¨<strong>é¥¥é¥¿</strong>é—®é¢˜ï¼Œæœ‰äº›è¿œç£é“æ€»æ˜¯ä¸èƒ½è¢«è®¿é—®ã€‚</li></ul></li><li><p>SCAN æ‰«æ/ç”µæ¢¯ç®—æ³•ç£ç›˜è°ƒåº¦ï¼š</p><ul><li><p>åœ¨ç£å¤´<strong>å½“å‰ç§»åŠ¨æ–¹å‘</strong>ä¸Šé€‰æ‹©ä¸å½“å‰ç£å¤´æ‰€åœ¨ç£é“è·ç¦»æœ€è¿‘çš„è¯·æ±‚ä½œä¸ºä¸‹ä¸€æ¬¡æœåŠ¡çš„å¯¹è±¡ã€‚</p></li><li><p>å®é™…ä¸Šå°±æ˜¯åœ¨<strong>æœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆç®—æ³•</strong>çš„åŸºç¡€ä¸Šè§„å®šäº†ç£å¤´è¿åŠ¨çš„æ–¹å‘ï¼ŒSCAN= SSTF + ä¸­é€”ä¸å›æŠ˜ï¼Œ<strong>ä¸€ç›´ç§»åŠ¨åˆ° <span class="math inline">\(0\)</span> æˆ–æœ€å¤§ç£é“æ‰å›å¤´</strong>ã€‚</p></li><li><p>ä¸å­˜åœ¨é¥¥é¥¿ï¼Œä½†æ˜¯ä¼šå¯¼è‡´<strong>å»¶è¿Ÿä¸å‡</strong>ï¼Œä¸åˆ©äºè¿œç¦»ç£å¤´ä¸€ç«¯çš„è®¿é—®è¯·æ±‚ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207141045588.png"></div></li></ul></li><li><p>C-SCAN å¾ªç¯æ‰«æ/ç”µæ¢¯ç®—æ³•ç£ç›˜è°ƒåº¦ï¼š</p><ul><li><p>åœ¨ SCANçš„åŸºç¡€ä¸Šè§„å®šç£å¤´<strong>åªåœ¨ä¸€ä¸ªæ–¹å‘ä¸Šæä¾›æœåŠ¡</strong>ï¼Œ<strong>å›è¿”æ—¶</strong>ç›´æ¥å¿«é€Ÿç§»åŠ¨è‡³å¦ä¸€ç«¯è€Œ<strong>ä¸æœåŠ¡ä»»ä½•è¯·æ±‚</strong>ï¼Œä¸‹å›¾å°±æ˜¯åªåœ¨å‘å¤–çš„æ–¹å‘æœåŠ¡ã€‚</p></li><li><p><strong>ä¸¤ç«¯è¯·æ±‚</strong>éƒ½èƒ½å¾ˆå¿«å¤„ç†ï¼Œè§£å†³ SCANç®—æ³•å¯¹ä¸¤ç«¯ç£é“è¯·æ±‚çš„ä¸å…¬å¹³çš„é—®é¢˜ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207141105692.png"></div></li></ul></li><li><p>C-LOOK ç£ç›˜è°ƒåº¦ï¼š</p><ul><li><p>C-SCANåŸºç¡€ä¸Šï¼Œç£å¤´ç§»åŠ¨åªéœ€è¦åˆ°è¾¾<strong>æœ€è¿œç«¯çš„ä¸€ä¸ªè¯·æ±‚</strong>å³å¯è¿”å›ï¼Œ<strong>ä¸éœ€è¦</strong>åˆ°è¾¾ç£ç›˜<strong>ç«¯ç‚¹</strong>ã€‚</p></li><li><p>æ›´åŠ åˆç†ï¼Œç»¼åˆäº†ä»¥ä¸Šçš„ä¼˜ç‚¹ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207141800618.png"></div></li></ul></li></ul><h4 id="ç£ç›˜ç®¡ç†">ç£ç›˜ç®¡ç†</h4><ul><li><p>ç£ç›˜åˆå§‹åŒ–ï¼š</p><ul><li>ä¸€ä¸ªæ–°çš„ç£ç›˜åªæ˜¯ä¸€ä¸ªå«æœ‰ç£æ€§è®°å½•ææ–™çš„ç©ºç™½ç›˜ã€‚</li><li>åœ¨ç£ç›˜èƒ½å­˜å‚¨æ•°æ®ä¹‹å‰ï¼Œå®ƒå¿…é¡»<strong>åˆ†æˆæ‰‡åŒº</strong>ä»¥ä¾¿ç£ç›˜æ§åˆ¶å™¨èƒ½è¿›è¡Œè¯»å’Œå†™æ“ä½œï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä½çº§æ ¼å¼åŒ–ï¼ˆ<strong>ç‰©ç†æ ¼å¼åŒ–</strong>ï¼‰ã€‚</li><li>ä½çº§æ ¼å¼åŒ–ä½¿æ¯ä¸ªæ‰‡åŒºçš„æ•°æ®ç»“æ„é€šå¸¸ç”±å¤´ã€æ•°æ®åŒºåŸŸï¼ˆé€šå¸¸ä¸º <span class="math inline">\(512\rm~B\)</span>å¤§å°ï¼‰å’Œå°¾éƒ¨ç»„æˆï¼Œå¤´éƒ¨å’Œå°¾éƒ¨åŒ…å«äº†ä¸€äº›ç£ç›˜æ§åˆ¶å™¨æ‰€ä½¿ç”¨çš„ä¿¡æ¯ã€‚</li><li>ä¸ºäº†ä½¿ç”¨ç£ç›˜å­˜å‚¨<strong>æ–‡ä»¶</strong>ï¼Œæ“ä½œç³»ç»Ÿè¿˜éœ€è¦å°†è‡ªå·±çš„æ•°æ®ç»“æ„è®°å½•åœ¨ç£ç›˜ä¸Šï¼š<ul><li>ç¬¬ä¸€æ­¥å°†ç£ç›˜åˆ†ä¸ºç”±ä¸€ä¸ªæˆ–å¤šä¸ªæŸ±é¢ç»„æˆçš„<strong>åˆ†åŒº</strong>ï¼ˆå³æˆ‘ä»¬ç†Ÿæ‚‰çš„C ç›˜ã€D ç›˜ç­‰å½¢å¼çš„åˆ†åŒºï¼‰ã€‚</li><li>ç¬¬äºŒæ­¥å¯¹ç‰©ç†åˆ†åŒºè¿›è¡Œ<strong>é€»è¾‘æ ¼å¼åŒ–</strong>ï¼ˆåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œæ“ä½œç³»ç»Ÿå°†åˆå§‹çš„<strong>æ–‡ä»¶ç³»ç»Ÿ</strong>æ•°æ®ç»“æ„å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼Œè¿™äº›æ•°æ®ç»“æ„åŒ…æ‹¬ç©ºé—²å’Œå·²åˆ†é…çš„ç©ºé—´åŠä¸€ä¸ªåˆå§‹ä¸ºç©ºçš„ç›®å½•ã€‚</li></ul></li></ul></li><li><p>æ‰‡åŒºç¼–å·ï¼š</p><blockquote><p>ä¸ PPT çš„è®¡ç®—ä¸åŒï¼Œä¸€èˆ¬é¢˜ç›®ä¼šç»™å‡ºä» <span class="math inline">\(0\)</span> è¿˜æ˜¯ <span class="math inline">\(1\)</span> å¼€ç¼–å€</p></blockquote><ul><li><p><span class="math inline">\(\rm CHS\)</span> æ¨¡å¼ï¼š</p><ul><li>é‡‡ç”¨ 3D å‚æ•°ï¼š<ul><li>ç£æŸ±é¢æ•°ï¼ˆCylindersï¼‰</li><li>ç£å¤´æ•°ï¼ˆHeadsï¼‰ï¼Œå³ç›˜é¢æ•°</li><li>æ‰‡åŒºæ•°ï¼ˆSectors per trackï¼‰</li></ul></li><li>è¿™é‡Œæ‰‡åŒºå…¶å®æ˜¯ä» <span class="math inline">\(1\)</span>å¼€å§‹ç¼–å€çš„ï¼ˆå‡ºäºæŸäº›å†å²åŸå› ï¼‰ï¼Œç›˜é¢å’ŒæŸ±é¢åˆ™æ˜¯ä» <span class="math inline">\(0\)</span> å¼€å§‹ï¼Œå³ç¬¬ä¸€ä¸ªæ‰‡åŒºç¼–å·ä¸º <span class="math inline">\((0,0,1)\)</span>ã€‚</li></ul></li><li><p><span class="math inline">\(\rm LBA\)</span> ç¼–å·ï¼š</p><ul><li><p>æ˜¯é€»è¾‘ <span class="math inline">\(\rm CHS\)</span>å¯»å€çš„ç®€å•æ¢ç®—ï¼Œå˜ä¸ºçº¿æ€§å¯»å€ã€‚</p></li><li><p>å‡è®¾å½“å‰ <span class="math inline">\(\rm CHS\)</span> ç¼–å·ä¸º<span class="math inline">\((c,h,s)\)</span> å…¬å¼ä¸º <span class="math inline">\(\mathrm{LBA}=c\times \mathrm{H}\times\mathrm{S}+h\times \mathrm{S} + (s-1)\)</span></p><blockquote><p><span class="math inline">\(\rm S\)</span>ä¸ºä¸€ä¸ªç£é“æ‰€å«æ‰‡åŒºæ•°ï¼Œ<span class="math inline">\(\rm H\)</span>ä¸ºä¸€ä¸ªæŸ±é¢æ‰€å«ç›˜é¢æ•°</p></blockquote></li><li><p><a href="https://en.wikipedia.org/wiki/Logical_block_addressing">ç»´åŸºç™¾ç§‘ä¸ºè¯</a>ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207151622177.png"></div></li></ul></li></ul></li><li><p>ç£ç›˜å¾€å¾€ä¸æ˜¯ä¸¥æ ¼æŒ‰éœ€è¯»å–ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½ä¼šé¢„è¯»ï¼Œå³ä½¿åªéœ€è¦ä¸€ä¸ªå­—èŠ‚ï¼Œç£ç›˜ä¹Ÿä¼šä»è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œé¡ºåºå‘åè¯»å–<strong>ä¸€å®šæ‰‡åŒºé•¿åº¦</strong>çš„æ•°æ®æ”¾å…¥å†…å­˜ã€‚</p><blockquote><p>è¿™æ ·åšçš„ç†è®ºä¾æ®æ˜¯<strong>å±€éƒ¨æ€§åŸç†</strong>ï¼š</p><p>â€‹ å½“ä¸€ä¸ªæ•°æ®è¢«ç”¨åˆ°æ—¶ï¼Œå…¶é™„è¿‘çš„æ•°æ®ä¹Ÿé€šå¸¸ä¼šé©¬ä¸Šè¢«ä½¿ç”¨ã€‚</p></blockquote></li></ul><h4 id="ç£ç›˜å¸ƒå±€">ç£ç›˜å¸ƒå±€</h4><ul><li><p>ç‰©ç†ç›˜ä»¥æ‰‡åŒºä¸ºå•ä½è¿›è¡Œç¼–å€ï¼Œå®ƒæ˜¯<strong>ç¡¬ç›˜è¯»å†™</strong>çš„<strong>åŸºæœ¬å•ä½</strong>ã€‚</p></li><li><p>ä¸€å—<strong>ç¡¬ç›˜</strong>ä»é€»è¾‘ä¸Šå¯ä»¥ç†è§£ä¸ºè¿ç»­çš„<strong>ä¸€ç»´æ‰‡åŒº</strong>åºåˆ—ã€‚</p></li><li><p>æ•´ä¸ªç¡¬ç›˜çš„ç¬¬ <span class="math inline">\(1\)</span>ä¸ªæ‰‡åŒºå­˜å‚¨ç€<strong>ä¸»å¼•å¯¼è®°å½•</strong>ï¼ˆMBRï¼‰ï¼š</p><ul><li>å¼•å¯¼å¯æ‰§è¡Œä»£ç </li><li>ç¡¬ç›˜åŸºæœ¬åˆ†åŒºè¡¨ï¼Œæœ€å¤šåŒ…å« <span class="math inline">\(4\)</span>ä¸ª<strong>åŸºæœ¬åˆ†åŒº</strong>ä½ç½®ä¿¡æ¯</li></ul><blockquote><ul><li>è®¡ç®—æœºå¯åŠ¨æ—¶éœ€è¦è¿è¡Œä¸€ä¸ªåˆå§‹åŒ–ç¨‹åºï¼ˆ<strong>è‡ªä¸¾ç¨‹åº</strong>ï¼‰ï¼Œå®ƒåˆå§‹åŒ–CPUã€å¯„å­˜å™¨ã€è®¾å¤‡æ§åˆ¶å™¨å’Œå†…å­˜ç­‰ï¼Œæ¥ç€å¯åŠ¨æ“ä½œç³»ç»Ÿã€‚</li><li>ä¸ºæ­¤ï¼Œè¯¥è‡ªä¸¾ç¨‹åºåº”æ‰¾åˆ°ç£ç›˜ä¸Šçš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè£…å…¥å†…å­˜ï¼Œå¹¶è½¬åˆ°èµ·å§‹åœ°å€ï¼Œä»è€Œå¼€å§‹æ“ä½œç³»ç»Ÿçš„è¿è¡Œã€‚</li><li>è‡ªä¸¾ç¨‹åºé€šå¸¸ä¿å­˜åœ¨ ROM ä¸­ï¼Œä¸ºäº†é¿å…æ”¹å˜è‡ªä¸¾ä»£ç è€Œéœ€è¦æ”¹å˜ ROMç¡¬ä»¶çš„é—®é¢˜ï¼Œå› æ­¤åªåœ¨ ROMä¸­ä¿ç•™<strong>å¾ˆå°çš„è‡ªä¸¾è£…å…¥ç¨‹åº</strong>ï¼Œå°†å®Œæ•´åŠŸèƒ½çš„è‡ªä¸¾ç¨‹åºä¿å­˜åœ¨ç£ç›˜çš„<strong>å¯åŠ¨å—</strong>ï¼ˆå¯åŠ¨å—ä½äºç£ç›˜çš„MBR ä¸­ï¼‰ä¸Š</li></ul></blockquote></li><li><p>é™¤äº†ç¬¬ <span class="math inline">\(1\)</span>ä¸ªæ‰‡åŒºä¹‹å¤–ï¼Œå…¶ä½™æ‰‡åŒºå¯ä»¥åˆ’åˆ†ä¸ºè‡³å¤š <span class="math inline">\(4\)</span> ä¸ªåŸºæœ¬åˆ†åŒºã€‚</p></li><li><p>æ¯ä¸ªåˆ†åŒºçš„<strong>ç¬¬ <span class="math inline">\(1\)</span>ä¸ªæ‰‡åŒº</strong>é¢„ç•™ï¼Œå¯ä»¥ä½œä¸º<strong>å¼•å¯¼æ‰‡åŒº</strong>ã€‚</p></li><li><p>æ¯ä¸ªåˆ†åŒºé™¤ç¬¬ <span class="math inline">\(1\)</span>ä¸ªæ‰‡åŒºå¤–çš„å…¶ä»–éƒ¨åˆ†è¿˜å¯ä»¥çœ‹åšä¸€ä¸ª<strong>ç¡¬ç›˜</strong>ï¼ˆåŒæ ·å…·æœ‰ç±»ä¼¼ã€Œä¸»å¼•å¯¼è®°å½•ã€çš„<strong>å¯æ‰©å±•åˆ†åŒºå¼•å¯¼è®°å½•</strong>ï¼‰ï¼Œç»§ç»­é€’å½’åˆ†åŒº</p></li><li><p>å¯æ‰©å±•åˆ†åŒºï¼š</p><p>â€‹å¯ä»¥ç»§ç»­åˆ’åˆ†æˆã€Œåˆ†åŒºã€çš„ç¡¬ç›˜åˆ†åŒºï¼Œå…¶åˆ’åˆ†å¯ä»¥æ— é™åˆ¶è¿›è¡Œï¼Œç›´åˆ°ç¡¬ç›˜åˆ’åˆ†å®Œæˆä¸ºæ­¢ã€‚</p></li><li><p>å¯æ‰©å±•<strong>åˆ†åŒºå¼•å¯¼è®°å½•</strong>ï¼š</p><p>â€‹ å¯æ‰©å±•åˆ†åŒºä¸­ç¬¬ <span class="math inline">\(2\)</span>ä¸ªæ‰‡åŒºä¸­çš„å†…å®¹ï¼ˆç¬¬ <span class="math inline">\(1\)</span>ä¸ªä¸ºå¼•å¯¼æ‰‡åŒºï¼‰ã€‚</p></li><li><p>å¼•å¯¼åˆ†åŒºï¼š</p><p>â€‹æ ‡è®°æœ‰<strong>å¯å¼•å¯¼æ ‡è®°</strong>çš„ç¡¬ç›˜åˆ†åŒºï¼Œè¿™ç§åˆ†åŒºæœ‰å¼•å¯¼æ‰‡åŒºå’Œå¼•å¯¼æ–‡ä»¶ã€‚</p></li></ul><h4 id="ssd-å›ºæ€ç¡¬ç›˜">SSD å›ºæ€ç¡¬ç›˜</h4><blockquote><p>æ¥è‡ª PPTï¼Œæœ‰çš„ç­æ²¡è®²ï¼Œå¯ä»¥è·³è¿‡</p></blockquote><ul><li><p>ç”± NAND FLASH ä½œä¸º<strong>å­˜å‚¨ä»‹è´¨</strong>ï¼Œç‰¹ç‚¹æœ‰ï¼š</p><ul><li><strong>é¡ºåº</strong>è®¿é—®æ¯”éšæœºè®¿é—®å¿«</li><li>éšæœº<strong>å†™</strong>è¾ƒæ…¢ï¼ˆæ“¦é™¤å—éœ€è¦è¾ƒé•¿çš„æ—¶é—´ï¼Œä¿®æ”¹ä¸€é¡µéœ€è¦å°†å—ä¸­æ‰€æœ‰é¡µ<strong>å¤åˆ¶</strong>åˆ°æ–°çš„å—ä¸­ï¼‰</li></ul></li><li><p>ä¸æœºæ¢°ç¡¬ç›˜å¯¹æ¯”ï¼š</p><ul><li><p>ä¼˜ç‚¹ï¼š</p><p>â€‹ æ²¡æœ‰ç§»åŠ¨éƒ¨ä»¶ï¼Œè¯»å†™æ›´å¿«ã€èƒ½è€—æ›´ä½ã€æ›´ç»“å®ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li><p>ä¼šç£¨æŸ</p></li><li><p>åªèƒ½æŠŠå­˜å‚¨å•å…ƒä» <span class="math inline">\(1\)</span> å˜ä¸º<span class="math inline">\(0\)</span>ï¼Œå¯¼è‡´å†™æ•°æ®æ— æ³•ç›´æ¥è¦†ç›–ï¼Œå³ä¸èƒ½åœ¨å·²æœ‰æ•°æ®çš„å­˜å‚¨å•å…ƒä¸Šç›´æ¥ä¿®æ”¹ã€‚</p><blockquote><ul><li><p>å¯¹äº<strong>æœºæ¢°ç¡¬ç›˜</strong>æ¥è¯´ï¼Œå°±åƒæ˜¯å†™<strong>é“…ç¬”å­—</strong>ï¼Œå¯ä»¥è¯´æ˜¯<strong>æ— é™æ¬¡çš„å†™å…¥æ¬¡æ•°</strong></p></li><li><p>å¯¹äº<strong>å›ºæ€ç¡¬ç›˜</strong>æ¥è¯´ï¼Œå°±åƒæ˜¯å†™<strong>é’¢ç¬”å­—</strong>ï¼Œå›ºæ€ç¡¬ç›˜ä¸­éœ€è¦æŠŠæœ‰æ•ˆæ•°æ®æŠ„åˆ°è‰ç¨¿çº¸ï¼ˆç¼“å­˜ï¼‰ä¸Šï¼Œå°†åŸå…ˆçš„ä¸€æ•´é¡µæ’•æ‰ï¼ˆæ ‡è®°ä¸ºæ— æ•ˆï¼‰ï¼Œç„¶åå†æŠŠæ–°çš„æ•°æ®å’Œè‰ç¨¿ä¸Šçš„æœ‰æ•ˆæ•°æ®æ”¾å›å»ï¼ˆç©ºçš„æ–°é¡µï¼‰ã€‚</p></li></ul></blockquote></li></ul></li></ul></li><li><p>FTLï¼ŒFlash Translation Layer é—ªå­˜ç¿»è¯‘å±‚æ¨¡å—ï¼š</p><ul><li><p>SSDå†…éƒ¨è½¯ä»¶çš„ä¸€ä¸ªä¸»è¦æ¨¡å—ï¼Œç”¨äºå…¼å®¹è¿è¡Œåœ¨<strong>æœºæ¢°ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ</strong>ã€‚</p></li><li><p>FTLè¦å®ç°ä½œä¸ºä¸­é—´å±‚ï¼Œå¯¹å¤–æä¾›çš„æ˜¯å—æ¥å£çš„åŠŸèƒ½ã€‚ä½œä¸ºä¸»æœºç«¯ï¼Œæ‰€çœ‹åˆ°çš„ SSDæ˜¯ä¸€ä¸ªå’Œæœºæ¢°ç¡¬ç›˜ä¸€æ ·çš„<strong>å—è®¾å¤‡</strong>ã€‚</p></li><li><p>FTL ä»ä¸»æœºæ–‡ä»¶ç³»ç»Ÿæ¥æ”¶å—çº§è¯·æ±‚ï¼Œç»è¿‡ FTL çš„å¤„ç†ï¼Œäº§ç”Ÿ flashçš„å„ç§æ§åˆ¶å‘½ä»¤ã€‚</p></li><li><p>ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><p>åœ°å€æ˜ å°„ï¼š</p><p>â€‹ å¯¹äºæ–‡ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œå®ƒæ‰€çœ‹åˆ°çš„å­˜å‚¨ç©ºé—´æ˜¯ä¸€ä¸ªçº¿æ€§çš„è¿ç»­ç©ºé—´ï¼Œå¯¹ SSDçš„è¯·æ±‚æ˜¯<strong>é€»è¾‘æ‰‡åŒºå·</strong>ï¼ŒFTL è¦è½¬æ¢æˆ NAND FLASHä¸­çš„<strong>ç‰©ç†é¡µå·</strong>ã€‚</p></li><li><p>æŸè€—å¹³è¡¡ï¼š</p><ul><li><p>Flashä¸­æ¯ä¸ªå—éƒ½æœ‰ä¸€å®šçš„æ“¦å†™æ¬¡æ•°é™åˆ¶ã€‚æ•…ä¸èƒ½è®©æŸä¸€ä¸ªå—è¢«å†™æ¬¡æ•°è¾ƒå¤šï¼Œè€Œå…¶ä»–å—è¢«å†™çš„æ¬¡æ•°è¾ƒå°‘ï¼Œå³å°½é‡å¹³å‡ã€‚</p></li><li><p><strong>åŠ¨æ€</strong>æŸè€—å¹³è¡¡ï¼š</p><p>â€‹ åœ¨è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œé€‰å–æ“¦é™¤æ¬¡æ•°è¾ƒå°‘çš„å—ä½œä¸ºè¯·æ±‚çš„ç‰©ç†åœ°å€ã€‚</p></li><li><p><strong>é™æ€</strong>æŸè€—å¹³è¡¡ï¼š</p><ul><li>åœ¨è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œæœ‰äº›å—å­˜æ”¾çš„æ•°æ®ä¸€ç›´æ²¡æœ‰æ›´æ–°ï¼ˆ<strong>å†·æ•°æ®</strong>ï¼‰ï¼Œè€Œæœ‰äº›å—çš„æ•°æ®ç»å¸¸æ€§çš„æ›´æ–°ï¼ˆ<strong>çƒ­æ•°æ®</strong>ï¼‰ã€‚</li><li>é‚£äº›å­˜æ”¾å†·æ•°æ®çš„å—çš„æ“¦é™¤æ¬¡æ•°è¿œå°äºå­˜æ”¾çƒ­æ•°æ®çš„å—ã€‚</li><li>å°†<strong>å†·æ•°æ®</strong>ä»åŸå—å–å‡ºï¼Œ<strong>å­˜æ”¾</strong>åœ¨æ“¦é™¤æ¬¡æ•°è¿‡å¤šçš„å—ï¼›åŸæ¥å­˜æ”¾å†·æ•°æ®çš„å—è¢«é‡Šæ”¾å‡ºæ¥ï¼Œæ¥å—çƒ­æ•°æ®çš„æ“¦å†™ã€‚</li></ul></li></ul></li><li><p>åƒåœ¾å›æ”¶ï¼š</p><ul><li>SSDåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯¹æ–‡ä»¶æŒç»­åå¤çš„ä¿®æ”¹ï¼Œå—ä¸­ä¼šäº§ç”Ÿå¤§é‡å¤±æ•ˆé¡µï¼Œéœ€è¦æŠŠæœ‰æ•ˆçš„æ•°æ®ä»å—ä¸Šæ¬èµ°ï¼Œç„¶åæ“¦é™¤è¯¥å—ç”¨æ¥æ¥æ”¶æ–°çš„æ•°æ®ã€‚</li><li>åƒåœ¾å›æ”¶éœ€è¦è€ƒè™‘åˆ°å†·çƒ­æ•°æ®ã€ç£¨æŸå¹³è¡¡å’Œè¯»å†™å»¶è¿Ÿã€‚</li><li>çƒ­æ•°æ®ä¼šè¢«ç»å¸¸æ›´æ–°ï¼Œåœ¨åƒåœ¾å›æ”¶æµç¨‹ä¸­åº”è¯¥é¿å…å›æ”¶çƒ­æ•°æ®ã€‚</li><li>å¦‚æœåƒåœ¾å›æ”¶æµç¨‹æ§åˆ¶ä¸å¥½ï¼Œä¼šé€ æˆè¯»å†™å»¶è¿Ÿï¼Œæ—¶è€Œæµç•…ï¼Œæ—¶è€Œå¡é¡¿ã€‚</li></ul></li></ul></li></ul></li></ul><h2 id="æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</h2><blockquote><p>æ•´ç†è‡ªã€Šç‹é“ã€‹å’Œ PPTï¼Œæ‚ä¹±æ— ç« ï¼Œä½“ç°åœ¨ã€Šç‹é“ã€‹çš„é¢˜ç›®åŸºæœ¬å’Œ PPTä¸ç›¸å¹²ï¼Œç¬”è®°ä¹Ÿä¸å¤ªå¥½åš<span class="">ğŸ¤•</span></p><p>æ–‡ä»¶ç³»ç»Ÿçš„å®šä¹‰ï¼š</p><ul><li><p>æ“ä½œç³»ç»Ÿä¸­è´Ÿè´£ç®¡ç†å’Œå­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„è½¯ä»¶æœºæ„ç§°ä¸ºæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œç®€ç§°æ–‡ä»¶ç³»ç»Ÿã€‚</p></li><li><p>æ–‡ä»¶ç³»ç»Ÿç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><p>â€‹ä¸æ–‡ä»¶ç®¡ç†æœ‰å…³çš„è½¯ä»¶ã€è¢«ç®¡ç†æ–‡ä»¶åŠå®æ–½æ–‡ä»¶ç®¡ç†æ‰€éœ€çš„æ•°æ®ç»“æ„ã€‚</p></li></ul></blockquote><h3 id="æ–‡ä»¶çš„ç‰©ç†ç»“æ„">æ–‡ä»¶çš„ç‰©ç†ç»“æ„</h3><blockquote><p>é€»è¾‘ç»“æ„æ˜¯ç”¨æˆ·ç»„ç»‡æ•°æ®çš„ç»“æ„å½¢å¼ï¼Œç‰©ç†ç»“æ„æ˜¯æ“ä½œç³»ç»Ÿç»„ç»‡ç‰©ç†å­˜å‚¨å—çš„ç»“æ„å½¢å¼</p></blockquote><ul><li><p>ç‰©ç†ç›˜å—è¿ç»­åˆ†é…ï¼š</p><ul><li><p>è¿ç»­åˆ†é…è¦æ±‚<strong>æ¯ä¸ªæ–‡ä»¶</strong>åœ¨ç£ç›˜ä¸Šå æœ‰<strong>ä¸€ç»„è¿ç»­çš„å—</strong>ï¼Œéœ€è¦è®°å½•èµ·å§‹ç›˜å—å’Œæ‰€å ç›˜å—ä¸ªæ•°ã€‚</p></li><li><p>è¿ç»­çš„ç£ç›˜åœ°å€å®šä¹‰äº†ç£ç›˜ä¸Šçš„ä¸€ä¸ªçº¿æ€§æ’åºï¼Œä½¿è®¿é—®ç£ç›˜æ—¶éœ€è¦çš„<strong>å¯»é“æ•°å’Œå¯»é“æ—¶é—´</strong>æœ€å°ã€‚</p></li><li><p>ä¼˜ç‚¹ï¼š</p><p>â€‹ ç®€å•å¿«é€Ÿï¼Œæ”¯æŒé¡ºåºè®¿é—®å’Œç›´æ¥è®¿é—®ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>ç±»ä¼¼<strong>å†…å­˜ç®¡ç†</strong>çš„<strong>è¿ç»­åˆ†é…æ–¹å¼</strong>ä¸­çš„<strong>åŠ¨æ€åˆ†åŒºåˆ†é…</strong>ã€‚</li><li>æ–‡ä»¶é•¿åº¦ä¸å®œ<strong>åŠ¨æ€å¢åŠ </strong>ï¼Œå› ä¸ºä¸€ä¸ªæ–‡ä»¶<strong>æœ«å°¾åçš„ç›˜å—</strong>å¯èƒ½å·²åˆ†é…ç»™å…¶ä»–æ–‡ä»¶ï¼Œä¸€æ—¦éœ€è¦å¢åŠ ï¼Œå°±éœ€è¦<strong>å¤§é‡ç§»åŠ¨ç›˜å—ã€‚</strong></li><li>åå¤å¢åˆ æ–‡ä»¶äº§ç”Ÿå¤§é‡<strong>å¤–éƒ¨ç¢ç‰‡</strong>ã€‚</li></ul></li></ul></li><li><p>é“¾å¼ï¼ˆé“¾æ¥ï¼‰åˆ†é…ï¼š</p><ul><li><p>é‡‡å–ç¦»æ•£åˆ†é…çš„æ–¹å¼ï¼Œ<strong>æ¶ˆé™¤äº†å¤–éƒ¨ç¢ç‰‡</strong>ï¼Œå› æ­¤æ˜¾è‘—æé«˜äº†ç£ç›˜ç©ºé—´çš„åˆ©ç”¨ç‡ã€‚</p></li><li><p>æ— é¡»äº‹å…ˆçŸ¥é“æ–‡ä»¶çš„å¤§å°ï¼Œå¯<strong>åŠ¨æ€å¢é•¿</strong>ï¼Œå¯¹æ–‡ä»¶çš„<strong>å¢ã€åˆ ã€æ”¹</strong>ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚</p></li><li><p>åˆ†ç±»ï¼š</p><ul><li><p>éšå¼é“¾æ¥ï¼š</p><ul><li>æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªç£ç›˜å—çš„<strong>é“¾è¡¨</strong>ã€‚</li><li>ç£ç›˜å—åˆ†å¸ƒåœ¨ç£ç›˜çš„ä»»ä½•åœ°æ–¹ï¼Œé™¤æœ€åä¸€ä¸ªç›˜å—å¤–ï¼Œæ¯ä¸ªç›˜å—éƒ½æœ‰æŒ‡å‘<strong>ä¸‹ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆ</strong>ï¼Œè¿™äº›æŒ‡é’ˆå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ã€‚</li><li><strong>ç›®å½•</strong>åŒ…æ‹¬æ–‡ä»¶<strong>ç¬¬ä¸€å—çš„æŒ‡é’ˆ</strong>å’Œ<strong>æœ€åä¸€å—çš„æŒ‡é’ˆ</strong>ï¼ˆç”¨äºè¿½åŠ æ–‡ä»¶ï¼‰ã€‚</li><li>ç¼ºç‚¹ï¼š<ul><li>æ— æ³•<strong>ç›´æ¥è®¿é—®</strong>ç›˜å—ï¼Œåªèƒ½é€šè¿‡æŒ‡é’ˆé¡ºåºè®¿é—®æ–‡ä»¶ã€‚</li><li>ç›˜å—<strong>æŒ‡é’ˆ</strong>ä¼šæ¶ˆè€—ä¸€å®šçš„å­˜å‚¨<strong>ç©ºé—´</strong>ã€‚</li><li><strong>ç¨³å®šæ€§ä¸é«˜</strong>ï¼Œç³»ç»Ÿåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ç”±äºè½¯ä»¶æˆ–ç¡¬ä»¶é”™è¯¯å¯¼è‡´é“¾è¡¨ä¸­çš„æŒ‡é’ˆä¸¢å¤±æˆ–æŸåï¼Œä¼šå¯¼è‡´æ–‡ä»¶æ•°æ®çš„ä¸¢å¤±ã€‚</li></ul></li></ul></li><li><p>æ˜¾å¼é“¾æ¥ï¼š</p><ul><li><p>æŠŠç”¨äºé“¾æ¥æ–‡ä»¶å„ç‰©ç†å—çš„æŒ‡é’ˆï¼Œä»æ¯ä¸ªç‰©ç†å—çš„å—æœ«å°¾ä¸­æå–å‡ºæ¥ï¼Œ<strong>æ˜¾å¼</strong>åœ°å­˜æ”¾åœ¨å†…å­˜çš„ä¸€å¼ <strong>é“¾æ¥è¡¨</strong>ä¸­ã€‚</p></li><li><p>è¯¥è¡¨åœ¨æ•´ä¸ªç£ç›˜ä¸­ä»…è®¾ç½®ä¸€å¼ ï¼Œç§°ä¸º<strong>æ–‡ä»¶åˆ†é…è¡¨</strong>ï¼ˆFileAllocationTableï¼ŒFATï¼‰</p></li><li><p>æ¯ä¸ª<strong>è¡¨é¡¹</strong>ä¸­å­˜æ”¾å¯¹åº”å—çš„<strong>ä¸‹ä¸€å—é“¾æ¥æŒ‡é’ˆ</strong>ï¼Œå³ä¸‹ä¸€ä¸ªç›˜å—å·ã€‚</p></li><li><p>æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç›˜å—å·è®°å½•åœ¨<strong>ç›®å½•</strong>ä¸­ï¼Œåç»­çš„ç›˜å—å¯é€šè¿‡æŸ¥FAT æ‰¾åˆ°ã€‚</p></li><li><p>FAT è¡¨åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å°±ä¼šè¢«è¯»å…¥å†…å­˜ï¼Œå› æ­¤æŸ¥æ‰¾ FATçš„è¿‡ç¨‹æ˜¯åœ¨<strong>å†…å­˜</strong>ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤ä¸ä»…æ˜¾è‘—åœ°æé«˜äº†<strong>æ£€ç´¢é€Ÿåº¦</strong>ï¼Œè€Œä¸”æ˜æ˜¾å‡å°‘äº†<strong>è®¿é—®ç£ç›˜</strong>çš„æ¬¡æ•°ã€‚</p><blockquote><p><span class="">ğŸ””</span></p><p>â€‹æ®è¯´æ˜¾å¼é“¾æ¥æ˜¯å¯ä»¥å®ç°éšæœºè®¿é—®çš„ï¼Œå› ä¸ºè¦éšæœºè¯»ä¸€ä¸ªæ–‡ä»¶çš„ä¸€ä¸ªå—ï¼Œå…ˆåœ¨å†…å­˜ä¸­è¯»FATæ‰¾å—æ‰€åœ¨ä½ç½®ï¼Œä¸ç”¨æŒ‰ç…§éšå¼é“¾æ¥ä¸€æ ·å¤šæ¬¡è¯»ç£ç›˜ï¼Œåªéœ€è¯»ä¸€æ¬¡ç£ç›˜å°±è¡Œã€‚ä½†æ˜¯PPT æ²¡æœ‰è®²è¿™éƒ¨åˆ†å†…å®¹ï¼Œæ‰€ä»¥é‡åˆ°é¢˜ç›®é“¾å¼åˆ†é…é»˜è®¤æŒ‡éšå¼é“¾æ¥ã€‚</p></blockquote></li></ul></li></ul></li></ul></li><li><p>ç´¢å¼•åˆ†é…ï¼š</p><ul><li><p>æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å…¶<strong>ç´¢å¼•å—</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªç£ç›˜å—åœ°å€çš„æ•°ç»„ï¼Œç”±<strong>æ–‡ä»¶çš„æ‰€æœ‰çš„ç›˜å—å·</strong>æ„æˆã€‚</p></li><li><p>è¿ç»­å’Œé“¾å¼åˆ†é…çš„æœ‰æ•ˆæŠ˜è¡·ï¼Œæ”¯æŒ<strong>ç›´æ¥ï¼ˆéšæœºï¼‰è®¿é—®</strong>ï¼Œæ²¡æœ‰<strong>å¤–éƒ¨ç¢ç‰‡</strong>ã€‚</p></li><li><p>ç¼ºç‚¹æ˜¯ç”±äºç´¢å¼•å—çš„åˆ†é…ï¼Œå¢åŠ äº†ç³»ç»Ÿå­˜å‚¨ç©ºé—´çš„å¼€é”€ã€‚</p></li><li><p>é‡‡ç”¨å¤šç§æ–¹å¼è§£å†³é—®é¢˜ï¼š</p><ul><li><p>é“¾æ¥æ–¹æ¡ˆï¼š</p><p>â€‹ä¸€ä¸ªç´¢å¼•å—é€šå¸¸ä¸ºä¸€ä¸ªç£ç›˜å—ï¼Œå› æ­¤å®ƒæœ¬èº«èƒ½ç›´æ¥è¯»å†™ã€‚ä¸ºäº†å¤„ç†å¤§æ–‡ä»¶ï¼Œå¯ä»¥å°†å¤šä¸ªç´¢å¼•å—é“¾æ¥èµ·æ¥ã€‚</p></li><li><p>å¤šçº§ç´¢å¼•ï¼š</p><p>â€‹å¤šçº§ç´¢å¼•ä½¿ç¬¬ä¸€å±‚ç´¢å¼•å—æŒ‡å‘ç¬¬äºŒå±‚çš„ç´¢å¼•å—ï¼Œç¬¬äºŒå±‚ç´¢å¼•å—å†æŒ‡å‘æ–‡ä»¶å—ï¼Œä»¥æ­¤ç±»æ¨æ›´é«˜çº§çš„ç´¢å¼•ã€‚</p></li><li><p><strong>æ··åˆç´¢å¼•</strong>ï¼š</p><p>â€‹å°†å¤šç§ç´¢å¼•åˆ†é…æ–¹å¼ç›¸ç»“åˆçš„åˆ†é…æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿæ—¢é‡‡ç”¨ç›´æ¥åœ°å€ï¼Œåˆé‡‡ç”¨å•çº§ç´¢å¼•åˆ†é…æ–¹å¼æˆ–ä¸¤çº§ç´¢å¼•åˆ†é…æ–¹å¼ã€‚</p><blockquote><p><span class="">ğŸ’ƒ</span> ä½œä¸šæœ‰å‡ºï¼Œå¿…è€ƒï¼Œä¸‹é¢æ˜¯ã€Šç‹é“ã€‹ä¸­ä¸€ä¸ªä½¿ç”¨æ··åˆç´¢å¼•çš„ä¾‹å­ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207214656200.png"></div><ul><li>ç›´æ¥åœ°å€ï¼š<ul><li>ä¸ºäº†æé«˜å¯¹æ–‡ä»¶çš„æ£€ç´¢é€Ÿåº¦ï¼Œåœ¨ç´¢å¼•ç»“ç‚¹ä¸­å¯è®¾ç½® <span class="math inline">\(10\)</span>ä¸ªç›´æ¥åœ°å€é¡¹ï¼Œè¿™é‡Œæ¯é¡¹ä¸­æ‰€å­˜æ”¾çš„æ˜¯è¯¥æ–‡ä»¶æ•°æ®æ‰€åœ¨ç›˜å—çš„ç›˜å—å·ã€‚</li><li>å‡å¦‚æ¯ä¸ªç›˜å—çš„å¤§å°ä¸º <span class="math inline">\(4\rm~KB\)</span>ï¼Œå½“æ–‡ä»¶ä¸å¤§äº <span class="math inline">\(40\rm~KB\)</span>æ—¶ï¼Œä¾¿å¯ç›´æ¥ä»ç´¢å¼•ç»“ç‚¹ä¸­è¯»å‡ºè¯¥æ–‡ä»¶çš„å…¨éƒ¨ç›˜å—å·ã€‚</li></ul></li><li>ä¸€æ¬¡é—´æ¥åœ°å€ï¼š<ul><li>å¯¹äºå¤§ã€ä¸­å‹æ–‡ä»¶ï¼Œåªé‡‡ç”¨ç›´æ¥åœ°å€å¹¶ä¸ç°å®ã€‚å¯å†åˆ©ç”¨ç´¢å¼•ç»“ç‚¹ä¸­çš„åœ°å€é¡¹æ¥æä¾›ä¸€æ¬¡é—´æ¥åœ°å€ã€‚</li><li>ä¸€æ¬¡é—´å€å—ä¹Ÿå°±æ˜¯<strong>ç´¢å¼•å—</strong>ï¼Œç³»ç»Ÿå°†åˆ†é…ç»™æ–‡ä»¶çš„å¤šä¸ªç›˜å—å·è®°å…¥å…¶ä¸­ã€‚</li><li>åœ¨ä¸€æ¬¡é—´å€å—ä¸­å¯å­˜æ”¾ <span class="math inline">\(1024\)</span>ä¸ªç›˜å—å·ï¼Œå› è€Œå…è®¸æ–‡ä»¶é•¿è¾¾ <span class="math inline">\(1024\times4\rm~KB=4\rm~MB\)</span>ã€‚</li></ul></li><li>å¤šæ¬¡é—´æ¥åœ°å€ï¼š<ul><li>å½“æ–‡ä»¶é•¿åº¦å¤§äº <span class="math inline">\(\rm 4~MB + 40~KB\)</span>ï¼ˆä¸€æ¬¡é—´æ¥åœ°å€ä¸ <span class="math inline">\(10\)</span>ä¸ªç›´æ¥åœ°å€é¡¹)æ—¶ï¼Œç³»ç»Ÿè¿˜é¡»é‡‡ç”¨äºŒæ¬¡é—´æ¥åœ°å€åˆ†é…æ–¹å¼ã€‚</li><li>ç³»ç»Ÿæ­¤æ—¶åœ¨äºŒæ¬¡é—´æ¥åœ°å€å—ä¸­è®°å…¥æ‰€æœ‰ä¸€æ¬¡é—´æ¥åœ°å€å—çš„ç›˜å·ã€‚</li><li>åœ¨é‡‡ç”¨äºŒæ¬¡é—´æ¥åœ°å€æ–¹å¼æ—¶ï¼Œæ–‡ä»¶çš„æœ€å¤§é•¿åº¦å¯è¾¾ <span class="math inline">\(4\rm~GB\)</span>ã€‚</li><li>åŒç†ï¼Œä¸‰æ¬¡é—´æ¥åœ°å€å…è®¸çš„æ–‡ä»¶æœ€å¤§é•¿åº¦å¯è¾¾ <span class="math inline">\(4\rm~TB\)</span>ã€‚</li></ul></li></ul></blockquote></li></ul></li></ul><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207211730809.png"></div></li></ul><h3 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h3><ul><li><p>åœ¨<strong>æ£€ç´¢</strong>ç›®å½•æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œåªç”¨åˆ°äº†<strong>æ–‡ä»¶å</strong>ï¼Œä»…å½“æ‰¾åˆ°<strong>ä¸æŸ¥æ‰¾æ–‡ä»¶ååŒ¹é…</strong>çš„<strong>ç›®å½•é¡¹</strong>æ—¶ï¼Œæ‰éœ€è¦ä»è¯¥ç›®å½•é¡¹ä¸­è¯»å‡ºè¯¥æ–‡ä»¶çš„ç‰©ç†åœ°å€ã€‚</p></li><li><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ£€ç´¢ç›®å½•æ—¶ï¼Œæ–‡ä»¶çš„<strong>å…¶ä»–æè¿°ä¿¡æ¯</strong>ä¸ä¼šç”¨åˆ°ï¼Œä¹Ÿ<strong>ä¸éœ€è¦</strong>è°ƒå…¥å†…å­˜ã€‚</p></li><li><p>æœ‰çš„ç³»ç»Ÿï¼ˆå¦‚ UNIXï¼Œä»¥åŠå®éªŒè¦ç”¨çš„Ext2ï¼‰é‡‡ç”¨äº†<strong>æ–‡ä»¶åå’Œæ–‡ä»¶æè¿°ä¿¡æ¯</strong>åˆ†ç¦»çš„æ–¹æ³•ï¼Œæ–‡ä»¶æè¿°ä¿¡æ¯å•ç‹¬å½¢æˆä¸€ä¸ªç§°ä¸º<strong>ç´¢å¼•ç»“ç‚¹</strong>çš„æ•°æ®ç»“æ„ï¼Œç®€ç§°iç»“ç‚¹ã€‚åœ¨æ–‡ä»¶ç›®å½•ä¸­çš„æ¯ä¸ª<strong>ç›®å½•é¡¹</strong>ä»…ç”±æ–‡ä»¶åå’Œ<strong>æŒ‡å‘è¯¥æ–‡ä»¶æ‰€å¯¹åº”çš„i ç»“ç‚¹çš„æŒ‡é’ˆ</strong>æ„æˆã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207213405548.png"></div></li></ul><h3 id="æ–‡ä»¶ç³»ç»Ÿçš„å®ç°">æ–‡ä»¶ç³»ç»Ÿçš„å®ç°</h3><ul><li><p>æ–‡ä»¶ç³»ç»Ÿä½œç”¨ï¼š</p><ul><li>PPT ä¸­çš„æè¿°ï¼š<ul><li>å°†ç›˜å—è½¬æ¢æˆæ–‡ä»¶é›†ï¼Œæ–¹ä¾¿ç”¨æˆ·è®¿é—®ã€‚</li><li>ç±»æ¯”å°† CPU èµ„æºå’Œåœ°å€ç©ºé—´å°è£…æˆè¿›ç¨‹ã€‚</li></ul></li><li>ã€Šç‹é“ã€‹ä¸­çš„æè¿°ï¼š<ul><li>å¯¹äº<strong>ç”¨æˆ·</strong>è€Œè¨€ï¼Œæ–‡ä»¶ç³»ç»Ÿæœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯å®ç°å¯¹<strong>æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ</strong>ï¼Œè®©ç”¨æˆ·å¯ä»¥<strong>æŒ‰åå­˜å‚¨å’ŒæŸ¥æ‰¾æ–‡ä»¶</strong>ï¼Œç»„ç»‡æˆåˆé€‚çš„ç»“æ„ï¼Œå¹¶åº”å½“å…·æœ‰åŸºæœ¬çš„æ–‡ä»¶å…±äº«å’Œæ–‡ä»¶ä¿æŠ¤åŠŸèƒ½ã€‚</li><li>å¯¹äº<strong>æ“ä½œç³»ç»Ÿ</strong>æœ¬èº«è€Œè¨€ï¼Œæ–‡ä»¶ç³»ç»Ÿè¿˜éœ€è¦ç®¡ç†<strong>ä¸ç£ç›˜çš„ä¿¡æ¯äº¤æ¢</strong>ï¼Œå®Œæˆæ–‡ä»¶<strong>é€»è¾‘ç»“æ„å’Œç‰©ç†ç»“æ„</strong>ä¸Šçš„å˜æ¢ï¼Œç»„ç»‡æ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„å­˜æ”¾ï¼Œé‡‡å–å¥½çš„<strong>æ–‡ä»¶æ’æ”¾é¡ºåº</strong>å’Œ<strong>ç£ç›˜è°ƒåº¦æ–¹æ³•</strong>ä»¥æå‡æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ã€‚</li></ul></li></ul></li><li><p>æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ç»“æ„ï¼š</p><ul><li><p>æ–‡ä»¶æ§åˆ¶å—ï¼ˆFCBï¼‰ï¼š</p><ul><li>å­˜æ”¾æ§åˆ¶æ–‡ä»¶éœ€è¦çš„å„ç§ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œä»¥å®ç°ã€ŒæŒ‰åå­˜å–ã€ã€‚FCBçš„æœ‰åºé›†åˆç§°ä¸º<strong>æ–‡ä»¶ç›®å½•</strong>ï¼Œä¸€ä¸ª FCBå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶<strong>ç›®å½•é¡¹</strong>ã€‚</li><li>FCB ä¸»è¦åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š<ul><li>åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶åã€æ–‡ä»¶çš„ç‰©ç†ä½ç½®ã€æ–‡ä»¶çš„é€»è¾‘ç»“æ„ã€æ–‡ä»¶çš„ç‰©ç†ç»“æ„ç­‰ã€‚</li><li>å­˜å–æ§åˆ¶ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶å­˜å–æƒé™ç­‰ã€‚</li><li>ä½¿ç”¨ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶å»ºç«‹æ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰ã€‚</li></ul></li><li>UFSï¼ˆUNIX æ–‡ä»¶ç³»ç»Ÿï¼‰ç§°ä¹‹ä¸º<strong>ç´¢å¼•ç»“ç‚¹</strong>ï¼ˆinodeï¼‰ã€‚</li></ul></li><li><p>å¼•å¯¼æ§åˆ¶å—ï¼š</p><p>â€‹åŒ…æ‹¬ä»è¯¥å·å¼•å¯¼<strong>æ“ä½œç³»ç»Ÿ</strong>çš„ä¿¡æ¯ï¼ˆå¯ä¸ºç©ºï¼Œæ²¡æœ‰æ“ä½œç³»ç»Ÿï¼‰ï¼Œé€šå¸¸ä¸ºå·çš„ç¬¬ä¸€å—ï¼ŒUFSç§°ä¹‹ä¸º<strong>å¼•å¯¼å—</strong>ã€‚</p></li><li><p>å·æ§åˆ¶å—ï¼š</p><p>â€‹åŒ…æ‹¬å·ï¼ˆæˆ–åˆ†åŒºï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚åˆ†åŒºçš„å—æ•°ã€å—çš„å¤§å°ã€ç©ºé—²å—çš„æ•°é‡å’ŒæŒ‡é’ˆã€ç©ºé—²FCB çš„æ•°é‡å’ŒæŒ‡é’ˆã€‚UFSç§°ä¹‹ä¸º<strong>è¶…çº§å—</strong>ã€‚</p></li><li><p>æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼š</p><p>â€‹ ç”¨æ¥ç»„ç»‡æ–‡ä»¶ï¼ŒUFS ä¸­åŒ…å«æ–‡ä»¶åå’Œç›¸å…³çš„ç´¢å¼•ç»“ç‚¹ã€‚</p></li></ul></li><li><p>åˆ†åŒºç©ºé—²ç›˜å—çš„ç®¡ç†æ–¹æ³•ï¼š</p><ul><li><p><strong>ç©ºé—²ä½å›¾</strong>ï¼ˆä½å‘é‡ï¼‰ï¼š</p><p>â€‹ æ¯ä¸€ä½å¯¹åº”ä¸€ä¸ªç›˜å—æ˜¯å¦è¢«å ç”¨ï¼Œä½†å¯èƒ½å¾ˆå¤§ï¼Œæ”¾ä¸è¿›å†…å­˜ã€‚</p></li><li><p><strong>ç©ºé—²é“¾è¡¨</strong>ï¼š</p><p>â€‹ç©ºé—²å—é“¾æ¥æˆé“¾è¡¨ã€‚åˆ†é…<strong>ä¸€ä¸ªï¼ˆæˆ–å°‘é‡çš„ï¼‰</strong>ç©ºé—²ç›˜å—é€Ÿåº¦å¾ˆå¿«ï¼Œè™½ç„¶åˆ†é…å¤šä¸ªå—å¾ˆæ…¢ï¼Œä½†ä¸€èˆ¬æ¯æ¬¡ç”³è¯·éƒ½åªéœ€ä¸€ä¸ªæˆ–å‡ ä¸ªç©ºé—²å—ã€‚</p></li></ul></li><li><p>ç£ç›˜ç¼“å­˜ï¼š</p><p>â€‹ åœ¨å†…å­˜ä¸­ç¼“å­˜ç£ç›˜ä¸Šçš„å°‘éƒ¨åˆ†ç›˜å—ï¼Œä¸‹å›¾æ¥è‡ªPPTï¼Œå®åœ¨ä¸çŸ¥é“å’‹æ€»ç»“äº†<span class="">ğŸ˜¥</span>ã€‚</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211207220806012.png"></div></li></ul><h3 id="æ–‡ä»¶ç³»ç»Ÿçš„ä¿æŠ¤">æ–‡ä»¶ç³»ç»Ÿçš„ä¿æŠ¤</h3><ul><li><p>æ–‡ä»¶ç”¨æ¥å­˜æ”¾ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç”¨æˆ·åº”è¯¥èƒ½æ§åˆ¶å¯¹æ–‡ä»¶çš„è®¿é—®ï¼Œå¦‚åªå…è®¸è¯»ã€‚è¿™äº›è¯»/å†™/æ‰§è¡Œï¼ˆr/w/xï¼‰æƒé™æ”¾åœ¨æ–‡ä»¶å¤´ã€‚</p></li><li><p>RAID å†—ä½™ä¿æŠ¤ï¼š</p><ul><li><p>ä»å¤–éƒ¨çœ‹ï¼š</p><p>â€‹ RAID åƒä¸€ä¸ªç£ç›˜ã€‚</p></li><li><p>åœ¨å†…éƒ¨ï¼š</p><p>â€‹ RAIDç”±å¤šä¸ªç£ç›˜ã€å†…å­˜ï¼ˆåŒ…æ‹¬æ˜“å¤±æ€§å’Œéæ˜“å¤±æ€§ï¼‰ä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†å™¨æ¥ç®¡ç†ç³»ç»Ÿã€‚</p></li><li><p>æ€§èƒ½ï¼š</p><p>â€‹ å¯ä»¥å¹¶è¡Œä½¿ç”¨å¤šä¸ªç£ç›˜ï¼Œå¤§å¤§åŠ å¿« I/O æ—¶é—´ã€‚</p></li><li><p>RAID <span class="math inline">\(1\)</span>ï¼š</p><p>â€‹ ç›´æ¥ç£ç›˜é•œåƒã€‚</p><blockquote><p>æ•°æ®åˆ†æ•£ï¼š</p><p>â€‹åœ¨å¤šä¸ªç£ç›˜ä¸Šåˆ†æ•£æ•°æ®ï¼ˆä¹Ÿå«æ•°æ®æ¡å¸¦ï¼‰ï¼Œå­˜å–æ•°æ®æ—¶ï¼Œå¹¶è¡Œè¯»å–å¤šä¸ªç£ç›˜ï¼Œå¤§å¤§æé«˜ä¼ è¾“ç‡ã€‚</p><ul><li><p>ä½çº§åˆ†æ•£ï¼š</p><p>â€‹ åœ¨å¤šä¸ªç£ç›˜ä¸Šåˆ†æ•£<strong>æ¯ä¸ªå­—èŠ‚çš„å„ä¸ªä½</strong>ï¼Œå¦‚æœ‰ <span class="math inline">\(4\)</span> ä¸ªç£ç›˜ï¼Œæ¯ä¸ªå­—èŠ‚çš„ <span class="math inline">\(i\)</span> å’Œ <span class="math inline">\(4+i\)</span> ä½ï¼Œåˆ†æ•£åœ¨ç¬¬ <span class="math inline">\(i\)</span> ä¸ªç£ç›˜ä¸Šã€‚</p></li><li><p>å—çº§åˆ†æ•£ï¼š</p><p>â€‹ <strong>ä¸€ä¸ªæ–‡ä»¶çš„å—</strong>å¯åˆ†æ•£åœ¨å¤šä¸ªç£ç›˜ä¸Šï¼Œå¯¹äº <span class="math inline">\(n\)</span> ä¸ªç£ç›˜ï¼Œä¸€ä¸ªæ–‡ä»¶çš„å— <span class="math inline">\(i\)</span>ï¼Œå¯ä»¥å­˜åœ¨ç£ç›˜ <span class="math inline">\((i \% n) +1\)</span> ä¸Šã€‚</p></li></ul></blockquote></li><li><p>RAID <span class="math inline">\(0\)</span>ï¼š</p><p>â€‹é‡‡ç”¨æ•°æ®æ¡å¸¦ï¼ˆæ•°æ®åˆ†æ•£ï¼‰æŠ€æœ¯ï¼Œå¢åŠ ä¼ è¾“æ•ˆç‡ï¼Œä½†æ²¡æœ‰ä»»ä½•æ ¡éªŒä¿¡æ¯ã€‚</p></li><li><p>RAID <span class="math inline">\(2\)</span> å’Œ RAID <span class="math inline">\(3\)</span>ï¼š</p><ul><li>éƒ½æ˜¯å°†æ•°æ®åˆ†æ•£ï¼ˆæ¡å—åŒ–ï¼‰åˆ†å¸ƒäºä¸åŒçš„ç¡¬ç›˜ä¸Šï¼Œé‡‡ç”¨<strong>ä½çº§åˆ†æ•£</strong>ã€‚</li><li>RAID <span class="math inline">\(2\)</span>é‡‡ç”¨<strong>æ±‰æ˜ç </strong>æ£€éªŒå’Œçº é”™ï¼Œéœ€è¦é¢å¤–çš„å¤šä¸ªç¡¬ç›˜è¿›è¡Œå­˜å‚¨ã€‚</li><li>RAID <span class="math inline">\(3\)</span>ä½¿ç”¨ä¸“ç”¨æ ¡éªŒç›˜ï¼ˆä¸€ä¸ªï¼‰å­˜<strong>å¥‡å¶æ ¡éªŒå€¼</strong>ã€‚</li></ul></li><li><p>RAID <span class="math inline">\(4\)</span>ï¼š</p><ul><li>åŸç†åŒ RAID <span class="math inline">\(3\)</span>ï¼Œåªæ˜¯é‡‡ç”¨çš„æ˜¯<strong>å—çº§åˆ†æ•£</strong>ã€‚</li><li>å¯¹äºæ¯æ¬¡å†™æ“ä½œï¼Œéƒ½éœ€è¦é‡æ–°è®¡ç®—å¥‡å¶å˜åŒ–ï¼Œå› æ­¤ RAID <span class="math inline">\(4\)</span> è¦æ‰§è¡Œ<strong>å››æ¬¡ç£ç›˜</strong> I/Oï¼š<ul><li>ä¸¤æ¬¡è¯»å–ï¼ˆè¯»ç›®æ ‡ç£ç›˜å—ï¼Œè¯»å¥‡å¶æ ¡éªŒå—ï¼‰</li><li>ä¸¤æ¬¡å†™å…¥ï¼ˆå†™ç›®æ ‡ç£ç›˜å—ï¼Œå†™å¥‡å¶æ ¡éªŒå—ï¼‰</li></ul></li><li>æ•°æ®ç›˜å¯ä»¥å¹¶è¡Œè¯»å†™ï¼Œä½†å¥‡å¶æ£€éªŒç›˜åªæœ‰ä¸€ä¸ªï¼Œ<strong>ä¸èƒ½å¹¶è¡Œ</strong>æ“ä½œï¼Œå¯¼è‡´<strong>å¯¹ä¸åŒç›˜çš„å†™</strong>å—åˆ°æ£€éªŒç›˜çš„ç“¶é¢ˆé™åˆ¶ã€‚</li></ul></li><li><p>RAID <span class="math inline">\(5\)</span>ï¼š</p><ul><li>é‡‡ç”¨<strong>å—çº§åˆ†æ•£</strong>ï¼Œæ ¡éªŒå—åˆ†å¸ƒåœ¨å¤šä¸ªç›˜ä¸Šï¼Œ<strong>æ¶ˆé™¤</strong>æ ¡éªŒç›˜ç“¶é¢ˆã€‚</li><li>å†™æ“ä½œå¯ä»¥åŒæ—¶å‘ç”Ÿåœ¨å®Œå…¨ä¸åŒçš„ç£ç›˜ä¸Šï¼Œè€Œ RAID <span class="math inline">\(4\)</span> ä¸è¡Œã€‚</li><li>ä¸€å—ç›˜æ‰çº¿çš„æƒ…å†µä¸‹ï¼ŒRAID <span class="math inline">\(5\)</span>ç…§å¸¸å·¥ä½œã€‚</li></ul></li></ul></li></ul><h3 id="ext2-æ–‡ä»¶ç³»ç»Ÿ">EXT2 æ–‡ä»¶ç³»ç»Ÿ</h3><div data-align="center"><img src=" /img/blog/os-note-images/3790176-4ece675e15d09e8e.jpeg"></div><ul><li>æ•´ä¸ªç¡¬ç›˜çš„ç¬¬ <span class="math inline">\(1\)</span>ä¸ªæ‰‡åŒºå­˜å‚¨ç€<strong>ä¸»å¼•å¯¼è®°å½•</strong>ï¼ˆMBRï¼‰ï¼Œå…¶ä½™æ‰‡åŒºè¢«åˆ’åˆ†åˆ° <span class="math inline">\(4\)</span> ä¸ªåŸºæœ¬åˆ†åŒºã€‚</li><li>åˆ†åŒºä¸­ç¬¬ä¸€ä¸ªæ‰‡åŒºä¸º<strong>å¼•å¯¼æ‰‡åŒº</strong>ï¼ˆBootSectorï¼‰ï¼Œå¼•å¯¼æ‰‡åŒºçš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œç”¨æ¥å­˜å‚¨ç£ç›˜åˆ†åŒºä¿¡æ¯å’Œå¯åŠ¨ä¿¡æ¯ï¼Œä»»ä½•æ–‡ä»¶ç³»ç»Ÿéƒ½ä¸èƒ½ä½¿ç”¨å¼•å¯¼æ‰‡åŒºï¼Œå¼•å¯¼æ‰‡åŒºä¹‹åæ‰æ˜¯EXT2 æ–‡ä»¶ç³»ç»Ÿçš„å¼€å§‹ã€‚</li><li>é™¤äº†å¼•å¯¼æ‰‡åŒºä¹‹å¤–ï¼ŒEXT2ç£ç›˜åˆ†åŒºè¢«é¡ºåºåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ª<strong>ç£ç›˜å—ç»„</strong>ï¼ˆBlockGroupï¼‰ï¼Œå¹¶ä¸”ä» <span class="math inline">\(0\)</span> å¼€å§‹ç¼–å·ã€‚</li><li>æ¯ä¸ªå—ç»„æŒ‰ç…§ç›¸åŒçš„æ–¹å¼ç»„ç»‡ï¼Œæ¯ä¸ªå—ç»„åŒ…å«ç­‰é‡çš„ç‰©ç†å—ï¼ˆå³å—ç»„<strong>å¤§å°æ˜¯ç›¸åŒ</strong>çš„ï¼›ç‰©ç†åˆ†åŒºæœ€åä¸€ä¸ªå—ç»„å¯èƒ½å°äº›ï¼‰ï¼Œåœ¨å—ç»„çš„<strong>æ•°æ®å—</strong>ä¸­å­˜å‚¨æ–‡ä»¶æˆ–ç›®å½•ã€‚</li><li>ç£ç›˜<strong>å—ç»„</strong>ä¸­çš„ç£ç›˜å—æŒ‰é¡ºåºè¢«ç»„ç»‡æˆï¼š<ul><li>ä¸€ä¸ªç”¨ä½œ<strong>è¶…çº§å—</strong>ï¼ˆSuper Blockï¼‰çš„ç£ç›˜å—ï¼š<ul><li>å­˜æ”¾äº†æ–‡ä»¶ç³»ç»Ÿè¶…çº§å—çš„ä¸€ä¸ªæ‹·è´ï¼Œå¤šä¸ªå—ç»„ä¸­çš„è¶…çº§å—å½¢æˆ<strong>å†—ä½™</strong>ã€‚</li><li>åœ¨æŸä¸ªæˆ–å°‘æ•°å‡ ä¸ªè¶…çº§å—è¢«ç ´åæ—¶ï¼Œå¯ç”¨äº<strong>æ¢å¤</strong>è¢«ç ´åçš„è¶…çº§å—ä¿¡æ¯ã€‚</li><li>ç³»ç»Ÿè¿è¡ŒæœŸé—´ï¼ŒæŠŠè¶…çº§å—å¤åˆ¶åˆ°ç³»ç»Ÿç¼“å†²åŒºå†…ï¼Œåªéœ€æŠŠ<strong>å—ç»„ <span class="math inline">\(0\)</span>çš„è¶…çº§å—</strong>è¯»å…¥<strong>å†…å­˜</strong>ï¼Œå…¶å®ƒå—ç»„çš„è¶…çº§å—åšä¸º<strong>å¤‡ä»½</strong>ã€‚</li></ul></li><li>å¤šä¸ªè®°å½•<strong>å—ç»„æè¿°ç¬¦</strong>ï¼ˆGDTï¼‰çš„ç£ç›˜å—ï¼š<ul><li>å—ç»„æè¿°ç¬¦ç”¨æ¥æè¿°ä¸€ä¸ª<strong>ç£ç›˜å—ç»„</strong>çš„ç›¸å…³ä¿¡æ¯ï¼Œæ•´ä¸ªåˆ†åŒº<strong>åˆ†æˆå¤šå°‘ä¸ªå—ç»„</strong>å°±å¯¹åº”æœ‰å¤šå°‘ä¸ª<strong>å—ç»„æè¿°ç¬¦</strong>ã€‚</li><li>å­˜æ”¾äºè¶…çº§å—æ‰€åœ¨å—çš„ä¸‹ä¸€ä¸ªå—ä¸­ã€‚</li><li>ä¿å­˜åœ¨è¿™ä¸ªå—ç»„çš„ inode è¡¨èµ·å§‹ä½ç½®ï¼Œæ•°æ®å—èµ·å§‹ä½ç½®ï¼Œç©ºé—²çš„ inodeå’Œæ•°æ®å—ä¸ªæ•°ç­‰ä¿¡æ¯ã€‚</li><li>ç±»ä¼¼è¶…çº§å—æœ‰å¤šä»½æ‹·è´ã€‚</li></ul></li><li>ä¸€ä¸ªè®°å½•æ•°æ®å—ä½å›¾çš„ç£ç›˜å—</li><li>ä¸€ä¸ªè®°å½•ç´¢å¼•ç»“ç‚¹ä½å›¾çš„ç£ç›˜å—</li><li>å¤šä¸ªç”¨ä½œç´¢å¼•ç»“ç‚¹è¡¨çš„ç£ç›˜å—ï¼ˆé‡‡ç”¨<strong>æ··åˆç´¢å¼•</strong>ï¼‰</li><li>å¤šä¸ªç”¨ä½œæ•°æ®å—çš„ç£ç›˜å—</li></ul></li><li>å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ä¸ç”¨æˆ·æ‰€ã€Œçœ‹åˆ°ã€çš„æ–‡ä»¶æœ‰æ‰€ä¸åŒï¼š<ul><li>ç”¨æˆ·æ„Ÿè§‰ï¼Œæ–‡ä»¶åœ¨é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„</li><li>åœ¨ç£ç›˜ä¸Šï¼Œå­˜å‚¨æ–‡ä»¶æ•°æ®çš„ç£ç›˜å—å¯èƒ½åˆ†æ•£åœ¨ç£ç›˜å„å¤„</li></ul></li></ul><h3 id="windows-çš„-fat-æ–‡ä»¶ç³»ç»Ÿå®ç°">Windows çš„ FAT æ–‡ä»¶ç³»ç»Ÿå®ç°</h3><ul><li>FAT å·ç»“æ„ç¤ºæ„å›¾ï¼š</li></ul><table><thead><tr class="header"><th style="text-align: center;">å¼•å¯¼åŒº</th><th style="text-align: center;">æ–‡ä»¶åˆ†é…è¡¨ FAT <span class="math inline">\(1\)</span></th><th style="text-align: center;">æ–‡ä»¶åˆ†é…è¡¨ FAT <span class="math inline">\(2\)</span></th><th style="text-align: center;">æ ¹ç›®å½•</th><th style="text-align: center;">å…¶ä»–ç›®å½•å’Œæ–‡ä»¶</th></tr></thead><tbody></tbody></table><p>ç»´åŸºç™¾ç§‘å›¾ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211208111917437.png"></div><blockquote><p>ä¸‹é¢æ— æƒ…å¤åˆ¶ PPTï¼ŒæœªçŸ¥æ˜¯å¦ä¼šè€ƒåˆ° <span class="">ğŸ–</span></p></blockquote><ul><li><p>å¼•å¯¼åŒºï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211208112159457.png"></div></li><li><p>æ–‡ä»¶åˆ†é…è¡¨ FAT <span class="math inline">\(1\)</span>ï¼š</p><ul><li><p>åŠŸèƒ½ï¼š</p><p>â€‹ è®°å½•å’Œæè¿°æ•´ä¸ªå·ä½¿ç”¨æƒ…å†µã€‚</p></li><li><p>FAT æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ä¿¡æ¯ï¼š</p><ul><li>FAT <span class="math inline">\(12\)</span>/FAT <span class="math inline">\(16\)</span>/FAT <span class="math inline">\(32\)</span></li><li>æ•°å­—è¶Šå¤§ï¼ŒFAT å·å®¹é‡ä¸ç°‡å¤§å°çš„è¶Šå¤§</li></ul></li><li><p>å·ä¸Š<strong>æ¯ä¸€ç°‡</strong>å¯¹åº” FATä¸­<strong>ä¸€é¡¹</strong>ï¼Œè®°å½•<strong>è¯¥ç°‡ä½¿ç”¨æƒ…å†µ</strong>ï¼ŒåŒ…å«ç°‡åœ°å€å·å’Œä½¿ç”¨æ ‡å¿—ä¿¡æ¯ï¼Œä½¿ç”¨æ ‡å¿—ä¿¡æ¯ï¼ <span class="math inline">\(0\)</span>ï¼Œåˆ™è¯¥ç°‡ç©ºé—²æœªç”¨</p></li><li><p>æ¯ä¸ªç›®å½•/æ–‡ä»¶çš„æ–‡ä»¶åˆ†é…é“¾ï¼ˆç°‡é“¾ï¼‰ï¼š</p><p>â€‹ <strong>é“¾å°¾ï¼ˆç»“æŸï¼‰æ ‡å¿—ä¿¡æ¯</strong>ä¸º <span class="math inline">\(\rm0xFFF/0xFFFF/0xFFFFFFFF\)</span></p></li></ul></li><li><p>æ–‡ä»¶åˆ†é…è¡¨ FAT <span class="math inline">\(2\)</span>ï¼š</p><ul><li>æ˜¯ FAT <span class="math inline">\(1\)</span>çš„é•œåƒ<strong>å¤‡ä»½</strong>ã€‚</li><li>å› ä¸ºæ–‡ä»¶åˆ†é…è¡¨å¯¹å·éå¸¸é‡è¦ï¼Œå®ƒçš„å†…å®¹ç ´åä¼šå¯¼è‡´éƒ¨åˆ†æ–‡ä»¶æ— æ³•è®¿é—®ï¼Œç”šè‡³å¯¼è‡´æ•´å·ç˜«ç—ªã€‚</li></ul></li><li><p>åé¢ä¸¤ä¸ªéå¸¸æ¶å¿ƒï¼Œå°±ä¸åšç¬”è®°äº†<span class="">ğŸ™…</span>ï¼Œç›´æ¥è¿›å…¥<strong>æ–‡ä»¶è®¿é—®è¿‡ç¨‹</strong>ï¼š</p><div data-align="center"><img src=" /img/blog/os-note-images/image-20211208115014073.png"></div><p>ç›®çš„ï¼š</p><p>â€‹ è¯»å‡ºæ–‡ä»¶ <code>\aa\bb\ccc.dat</code>çš„å†…å®¹ï¼š</p><blockquote><p>æŸ¥æ‰¾ <code>aa</code>è¿‡ç¨‹ç”¨<font color="#549c05">ç»¿è‰²</font>æ¡†çº¿æ ‡å‡ºï¼ŒæŸ¥æ‰¾ <code>bb</code>ç”¨<font color="#0f4fad">è“è‰²</font>æ¡†çº¿æ ‡å‡ºï¼ŒæŸ¥æ‰¾ <code>ccc.dat</code>ç”¨<font color="#c1cc03">é»„è‰²</font>æ¡†çº¿æ ‡å‡ºã€‚</p></blockquote><ol type="1"><li>ã€Œæ ¹ç›®å½•ã€ä¸ç”¨é€šè¿‡ FATè¡¨æ‰¾åˆ°ï¼Œåº”è¯¥æ˜¯å¯ä»¥çŸ¥é“å…¶ç°‡ä½ç½®çš„ã€‚ç„¶åæŸ¥ç°‡ä¸­çš„ç›®å½•é¡¹ï¼Œæ‰¾åˆ°å«ç›®å½•å =<code>aa</code> çš„ç›®å½•é¡¹ã€‚</li><li><code>aa</code>ç›®å½•é¡¹ä¸­æŸ¥å‡ºè¯¥<strong>ç›®å½•æ–‡ä»¶</strong>çš„<strong>é¦–ç°‡å·</strong> = <span class="math inline">\(2\)</span>ã€‚</li><li>æŸ¥ FAT <span class="math inline">\(1\)</span> ä¸­ä»¥ç¬¬ <span class="math inline">\(2\)</span>ç°‡ä¸ºå¤´çš„æ–‡ä»¶åˆ†é…<strong>ç°‡é“¾</strong>ï¼ˆ<span class="math inline">\(2\to6\)</span>ï¼‰ï¼Œæ£€ç´¢ç°‡å·ä¸º <span class="math inline">\(2\)</span> å’Œ <span class="math inline">\(6\)</span> çš„ç°‡å†…å®¹ï¼Œæ‰¾å‡ºå«ç›®å½•å =<code>bb</code> çš„ç›®å½•é¡¹ã€‚</li><li>ä» <code>bb</code> ç›®å½•é¡¹ä¸­æŸ¥å‡ºè¯¥ç›®å½•æ–‡ä»¶çš„é¦–ç°‡å· = <span class="math inline">\(7\)</span>ã€‚</li><li>æŸ¥ FAT <span class="math inline">\(1\)</span> ä¸­ä»¥ç¬¬ <span class="math inline">\(7\)</span> ç°‡ä¸ºå¤´çš„æ–‡ä»¶åˆ†é…ç°‡é“¾ï¼ˆåªæœ‰ <span class="math inline">\(7\)</span>ï¼‰ï¼Œæ£€ç´¢ç°‡å·ä¸º <span class="math inline">\(7\)</span> çš„ç°‡å†…å®¹ï¼Œæ‰¾å‡ºå«æ–‡ä»¶å =<code>ccc.dat</code> çš„ç›®å½•é¡¹ã€‚</li><li>ä» <code>ccc.dat</code> ç›®å½•é¡¹ä¸­æŸ¥å‡ºè¯¥æ–‡ä»¶çš„é¦–ç°‡å· = <span class="math inline">\(4\)</span>ã€‚</li><li>æŸ¥ FAT <span class="math inline">\(1\)</span> ä¸­ä»¥ç¬¬ <span class="math inline">\(4\)</span> ç°‡ä¸ºå¤´çš„æ–‡ä»¶åˆ†é…ç°‡é“¾ï¼ˆ<span class="math inline">\(4\to8\to5\)</span>ï¼‰ï¼Œè¯»å‡ºç°‡å·ä¸º <span class="math inline">\(4\)</span>ï¼Œ<span class="math inline">\(8\)</span>å’Œ <span class="math inline">\(5\)</span> çš„ç°‡å†…å®¹ï¼Œå³å¾—åˆ°äº†æ–‡ä»¶<code>ccc.dat</code> çš„å†…å®¹ã€‚</li></ol></li></ul>]]></content>
    
    
    <categories>
      
      <category>è¯¾ç¨‹ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hitsz</tag>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
